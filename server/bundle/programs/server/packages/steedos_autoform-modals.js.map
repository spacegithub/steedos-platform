{"version":3,"sources":["meteor://ðŸ’»app/packages/steedos_autoform-modals/lib/server/core.coffee","meteor://ðŸ’»app/lib/server/core.coffee"],"names":["Meteor","methods","options","collection","doc","object","object_name","target_ids","check","Object","Array","String","Creator","getObject","Error","db","update","_id","$in","multi"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAAA,OAAOC,OAAP,CACC;AAAA,8BAA4B,UAACC,OAAD;AAC3B,QAAAC,UAAA,EAAAC,GAAA,EAAAC,MAAA,EAAAC,WAAA,EAAAC,UAAA;AAAAC,UAAMN,OAAN,EAAeO,MAAf;AACEF,iBAAAL,QAAAK,UAAA,EAAYH,MAAAF,QAAAE,GAAZ,EAAiBE,cAAAJ,QAAAI,WAAjB;AACFE,UAAMD,UAAN,EAAkBG,KAAlB;AACAF,UAAMJ,GAAN,EAAWK,MAAX;AACAD,UAAMF,WAAN,EAAmBK,MAAnB;AAEAN,aAASO,QAAQC,SAAR,CAAkBP,WAAlB,CAAT;;AACA,SAAOD,MAAP;AACC,YAAM,IAAIL,OAAOc,KAAX,CAAiB,GAAjB,EAAsB,SAAtB,CAAN;AACA,aAAO,KAAP;ACCE;;ADAHX,iBAAaE,OAAOU,EAApB;AACAZ,eAAWa,MAAX,CAAkB;AACjBC,WAAK;AAACC,aAAKX;AAAN;AADY,KAAlB,EAEGH,GAFH,EAEQ;AAACe,aAAM;AAAP,KAFR;AAGA,WAAO,IAAP;AAfD;AAAA,CADD,E","file":"/packages/steedos_autoform-modals.js","sourcesContent":["Meteor.methods\r\n\t\"af_modal_multiple_update\": (options)->\r\n\t\tcheck options, Object\r\n\t\t{ target_ids, doc, object_name} = options\r\n\t\tcheck target_ids, Array\r\n\t\tcheck doc, Object\r\n\t\tcheck object_name, String\r\n\r\n\t\tobject = Creator.getObject(object_name)\r\n\t\tunless object\r\n\t\t\tthrow new Meteor.Error(403, \"æœªæ‰¾åˆ°æŒ‡å®šå¯¹è±¡\")\r\n\t\t\treturn false\r\n\t\tcollection = object.db\r\n\t\tcollection.update {\r\n\t\t\t_id: {$in: target_ids}\r\n\t\t}, doc, {multi:true}\r\n\t\treturn true;","Meteor.methods({\n  \"af_modal_multiple_update\": function(options) {\n    var collection, doc, object, object_name, target_ids;\n    check(options, Object);\n    target_ids = options.target_ids, doc = options.doc, object_name = options.object_name;\n    check(target_ids, Array);\n    check(doc, Object);\n    check(object_name, String);\n    object = Creator.getObject(object_name);\n    if (!object) {\n      throw new Meteor.Error(403, \"æœªæ‰¾åˆ°æŒ‡å®šå¯¹è±¡\");\n      return false;\n    }\n    collection = object.db;\n    collection.update({\n      _id: {\n        $in: target_ids\n      }\n    }, doc, {\n      multi: true\n    });\n    return true;\n  }\n});\n"]}