(function () {

/* Imports */
var Meteor = Package.meteor.Meteor;
var global = Package.meteor.global;
var meteorEnv = Package.meteor.meteorEnv;
var ReactiveVar = Package['reactive-var'].ReactiveVar;
var ReactiveDict = Package['reactive-dict'].ReactiveDict;
var ECMAScript = Package.ecmascript.ECMAScript;
var Random = Package.random.Random;
var DDP = Package['ddp-client'].DDP;
var DDPServer = Package['ddp-server'].DDPServer;
var check = Package.check.check;
var Match = Package.check.Match;
var DDPRateLimiter = Package['ddp-rate-limiter'].DDPRateLimiter;
var _ = Package.underscore._;
var Tracker = Package.tracker.Tracker;
var Deps = Package.tracker.Deps;
var Blaze = Package.blaze.Blaze;
var UI = Package.blaze.UI;
var Handlebars = Package.blaze.Handlebars;
var JsonRoutes = Package['simple:json-routes'].JsonRoutes;
var RestMiddleware = Package['simple:json-routes'].RestMiddleware;
var Restivus = Package['nimble:restivus'].Restivus;
var SimpleSchema = Package['aldeed:simple-schema'].SimpleSchema;
var MongoObject = Package['aldeed:simple-schema'].MongoObject;
var Tabular = Package['aldeed:tabular'].Tabular;
var CollectionHooks = Package['matb33:collection-hooks'].CollectionHooks;
var BlazeLayout = Package['kadira:blaze-layout'].BlazeLayout;
var FlowRouter = Package['kadira:flow-router'].FlowRouter;
var WorkflowManager = Package['steedos:app-workflow'].WorkflowManager;
var uuflowManager = Package['steedos:app-workflow'].uuflowManager;
var pushManager = Package['steedos:app-workflow'].pushManager;
var steedosExport = Package['steedos:app-workflow'].steedosExport;
var steedosImport = Package['steedos:app-workflow'].steedosImport;
var Template = Package['meteorhacks:ssr'].Template;
var SSR = Package['meteorhacks:ssr'].SSR;
var SubsManager = Package['meteorhacks:subs-manager'].SubsManager;
var WebApp = Package.webapp.WebApp;
var WebAppInternals = Package.webapp.WebAppInternals;
var main = Package.webapp.main;
var moment = Package['momentjs:moment'].moment;
var CFDataManager = Package['steedos:autoform'].CFDataManager;
var Selector = Package['steedos:base'].Selector;
var Steedos = Package['steedos:base'].Steedos;
var AjaxCollection = Package['steedos:base'].AjaxCollection;
var SteedosDataManager = Package['steedos:base'].SteedosDataManager;
var SteedosOffice = Package['steedos:base'].SteedosOffice;
var billingManager = Package['steedos:base'].billingManager;
var MailQueue = Package['steedos:mailqueue'].MailQueue;
var WebhookQueue = Package['steedos:webhookqueue'].WebhookQueue;
var _i18n = Package['universe:i18n']._i18n;
var i18n = Package['universe:i18n'].i18n;
var meteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;
var Promise = Package.promise.Promise;
var meteorInstall = Package.modules.meteorInstall;
var HTML = Package.htmljs.HTML;
var Collection2 = Package['aldeed:collection2-core'].Collection2;
var FS = Package['steedos:cfs-base-package'].FS;
var MongoInternals = Package.mongo.MongoInternals;
var Mongo = Package.mongo.Mongo;

/* Package-scope variables */
var __coffeescriptShare, Workflow, InstanceReadOnlyTemplate, TemplateManager, SteedosTable, year, month, date, hours, seconds, locale, utcOffset, str, addItemTr, values_history, current_user_info, flow_id, userId, orgFieldUsers, formula_values, new_ins_id, instanceHtml, Form_formula, getHandlersManager, permissionManager, approveManager, flowManager, formManager, stepManager, workflowTemplate, InstanceManager, WorkflowManager_format, CoreForm, InstanceNumberRules;

var require = meteorInstall({"node_modules":{"meteor":{"steedos:workflow":{"checkNpm.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/checkNpm.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let checkNpmVersions;
module.link("meteor/tmeasday:check-npm-versions", {
  checkNpmVersions(v) {
    checkNpmVersions = v;
  }

}, 0);
checkNpmVersions({
  "node-schedule": "^1.3.1",
  cookies: "^0.6.2",
  "xml2js": "^0.4.19",
  mkdirp: "^0.3.5"
}, 'steedos:workflow');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"lib":{"URI.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/URI.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.17.0
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *   GPL v3 http://opensource.org/licenses/GPL-3.0
 *
 */
(function (root, factory) {
  'use strict'; // https://github.com/umdjs/umd/blob/master/returnExports.js
  // if (typeof exports === 'object') {
  //   // Node
  //   module.exports = factory(require('./punycode'), require('./IPv6'), require('./SecondLevelDomains'));
  // } else

  if (typeof define === 'function' && define.amd) {
    // AMD. Register as an anonymous module.
    define(['./punycode', './IPv6', './SecondLevelDomains'], factory);
  } else {
    // Browser globals (root is window)
    root.URI = factory(root.punycode, root.IPv6, root.SecondLevelDomains, root);
  }
})(this, function (punycode, IPv6, SLD, root) {
  'use strict';
  /*global location, escape, unescape */
  // FIXME: v2.0.0 renamce non-camelCase properties to uppercase

  /*jshint camelcase: false */
  // save current URI variable, if any

  var _URI = root && root.URI;

  function URI(url, base) {
    var _urlSupplied = arguments.length >= 1;

    var _baseSupplied = arguments.length >= 2; // Allow instantiation without the 'new' keyword


    if (!(this instanceof URI)) {
      if (_urlSupplied) {
        if (_baseSupplied) {
          return new URI(url, base);
        }

        return new URI(url);
      }

      return new URI();
    }

    if (url === undefined) {
      if (_urlSupplied) {
        throw new TypeError('undefined is not a valid argument for URI');
      }

      if (typeof location !== 'undefined') {
        url = location.href + '';
      } else {
        url = '';
      }
    }

    this.href(url); // resolve to base according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#constructor

    if (base !== undefined) {
      return this.absoluteTo(base);
    }

    return this;
  }

  URI.version = '1.17.0';
  var p = URI.prototype;
  var hasOwn = Object.prototype.hasOwnProperty;

  function escapeRegEx(string) {
    // https://github.com/medialize/URI.js/commit/85ac21783c11f8ccab06106dba9735a31a86924d#commitcomment-821963
    return string.replace(/([.*+?^=!:${}()|[\]\/\\])/g, '\\$1');
  }

  function getType(value) {
    // IE8 doesn't return [Object Undefined] but [Object Object] for undefined value
    if (value === undefined) {
      return 'Undefined';
    }

    return String(Object.prototype.toString.call(value)).slice(8, -1);
  }

  function isArray(obj) {
    return getType(obj) === 'Array';
  }

  function filterArrayValues(data, value) {
    var lookup = {};
    var i, length;

    if (getType(value) === 'RegExp') {
      lookup = null;
    } else if (isArray(value)) {
      for (i = 0, length = value.length; i < length; i++) {
        lookup[value[i]] = true;
      }
    } else {
      lookup[value] = true;
    }

    for (i = 0, length = data.length; i < length; i++) {
      /*jshint laxbreak: true */
      var _match = lookup && lookup[data[i]] !== undefined || !lookup && value.test(data[i]);
      /*jshint laxbreak: false */


      if (_match) {
        data.splice(i, 1);
        length--;
        i--;
      }
    }

    return data;
  }

  function arrayContains(list, value) {
    var i, length; // value may be string, number, array, regexp

    if (isArray(value)) {
      // Note: this can be optimized to O(n) (instead of current O(m * n))
      for (i = 0, length = value.length; i < length; i++) {
        if (!arrayContains(list, value[i])) {
          return false;
        }
      }

      return true;
    }

    var _type = getType(value);

    for (i = 0, length = list.length; i < length; i++) {
      if (_type === 'RegExp') {
        if (typeof list[i] === 'string' && list[i].match(value)) {
          return true;
        }
      } else if (list[i] === value) {
        return true;
      }
    }

    return false;
  }

  function arraysEqual(one, two) {
    if (!isArray(one) || !isArray(two)) {
      return false;
    } // arrays can't be equal if they have different amount of content


    if (one.length !== two.length) {
      return false;
    }

    one.sort();
    two.sort();

    for (var i = 0, l = one.length; i < l; i++) {
      if (one[i] !== two[i]) {
        return false;
      }
    }

    return true;
  }

  function trimSlashes(text) {
    var trim_expression = /^\/+|\/+$/g;
    return text.replace(trim_expression, '');
  }

  URI._parts = function () {
    return {
      protocol: null,
      username: null,
      password: null,
      hostname: null,
      urn: null,
      port: null,
      path: null,
      query: null,
      fragment: null,
      // state
      duplicateQueryParameters: URI.duplicateQueryParameters,
      escapeQuerySpace: URI.escapeQuerySpace
    };
  }; // state: allow duplicate query parameters (a=1&a=1)


  URI.duplicateQueryParameters = false; // state: replaces + with %20 (space in query strings)

  URI.escapeQuerySpace = true; // static properties

  URI.protocol_expression = /^[a-z][a-z0-9.+-]*$/i;
  URI.idn_expression = /[^a-z0-9\.-]/i;
  URI.punycode_expression = /(xn--)/i; // well, 333.444.555.666 matches, but it sure ain't no IPv4 - do we care?

  URI.ip4_expression = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/; // credits to Rich Brown
  // source: http://forums.intermapper.com/viewtopic.php?p=1096#1096
  // specification: http://www.ietf.org/rfc/rfc4291.txt

  URI.ip6_expression = /^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/; // expression used is "gruber revised" (@gruber v2) determined to be the
  // best solution in a regex-golf we did a couple of ages ago at
  // * http://mathiasbynens.be/demo/url-regex
  // * http://rodneyrehm.de/t/url-regex.html

  URI.find_uri_expression = /\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/ig;
  URI.findUri = {
    // valid "scheme://" or "www."
    start: /\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,
    // everything up to the next whitespace
    end: /[\s\r\n]|$/,
    // trim trailing punctuation captured by end RegExp
    trim: /[`!()\[\]{};:'".,<>?«»“”„‘’]+$/
  }; // http://www.iana.org/assignments/uri-schemes.html
  // http://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers#Well-known_ports

  URI.defaultPorts = {
    http: '80',
    https: '443',
    ftp: '21',
    gopher: '70',
    ws: '80',
    wss: '443'
  }; // allowed hostname characters according to RFC 3986
  // ALPHA DIGIT "-" "." "_" "~" "!" "$" "&" "'" "(" ")" "*" "+" "," ";" "=" %encoded
  // I've never seen a (non-IDN) hostname other than: ALPHA DIGIT . -

  URI.invalid_hostname_characters = /[^a-zA-Z0-9\.-]/; // map DOM Elements to their URI attribute

  URI.domAttributes = {
    'a': 'href',
    'blockquote': 'cite',
    'link': 'href',
    'base': 'href',
    'script': 'src',
    'form': 'action',
    'img': 'src',
    'area': 'href',
    'iframe': 'src',
    'embed': 'src',
    'source': 'src',
    'track': 'src',
    'input': 'src',
    // but only if type="image"
    'audio': 'src',
    'video': 'src'
  };

  URI.getDomAttribute = function (node) {
    if (!node || !node.nodeName) {
      return undefined;
    }

    var nodeName = node.nodeName.toLowerCase(); // <input> should only expose src for type="image"

    if (nodeName === 'input' && node.type !== 'image') {
      return undefined;
    }

    return URI.domAttributes[nodeName];
  };

  function escapeForDumbFirefox36(value) {
    // https://github.com/medialize/URI.js/issues/91
    return escape(value);
  } // encoding / decoding according to RFC3986


  function strictEncodeURIComponent(string) {
    // see https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/encodeURIComponent
    return encodeURIComponent(string).replace(/[!'()*]/g, escapeForDumbFirefox36).replace(/\*/g, '%2A');
  }

  URI.encode = strictEncodeURIComponent;
  URI.decode = decodeURIComponent;

  URI.iso8859 = function () {
    URI.encode = escape;
    URI.decode = unescape;
  };

  URI.unicode = function () {
    URI.encode = strictEncodeURIComponent;
    URI.decode = decodeURIComponent;
  };

  URI.characters = {
    pathname: {
      encode: {
        // RFC3986 2.1: For consistency, URI producers and normalizers should
        // use uppercase hexadecimal digits for all percent-encodings.
        expression: /%(24|26|2B|2C|3B|3D|3A|40)/ig,
        map: {
          // -._~!'()*
          '%24': '$',
          '%26': '&',
          '%2B': '+',
          '%2C': ',',
          '%3B': ';',
          '%3D': '=',
          '%3A': ':',
          '%40': '@'
        }
      },
      decode: {
        expression: /[\/\?#]/g,
        map: {
          '/': '%2F',
          '?': '%3F',
          '#': '%23'
        }
      }
    },
    reserved: {
      encode: {
        // RFC3986 2.1: For consistency, URI producers and normalizers should
        // use uppercase hexadecimal digits for all percent-encodings.
        expression: /%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,
        map: {
          // gen-delims
          '%3A': ':',
          '%2F': '/',
          '%3F': '?',
          '%23': '#',
          '%5B': '[',
          '%5D': ']',
          '%40': '@',
          // sub-delims
          '%21': '!',
          '%24': '$',
          '%26': '&',
          '%27': '\'',
          '%28': '(',
          '%29': ')',
          '%2A': '*',
          '%2B': '+',
          '%2C': ',',
          '%3B': ';',
          '%3D': '='
        }
      }
    },
    urnpath: {
      // The characters under `encode` are the characters called out by RFC 2141 as being acceptable
      // for usage in a URN. RFC2141 also calls out "-", ".", and "_" as acceptable characters, but
      // these aren't encoded by encodeURIComponent, so we don't have to call them out here. Also
      // note that the colon character is not featured in the encoding map; this is because URI.js
      // gives the colons in URNs semantic meaning as the delimiters of path segements, and so it
      // should not appear unencoded in a segment itself.
      // See also the note above about RFC3986 and capitalalized hex digits.
      encode: {
        expression: /%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/ig,
        map: {
          '%21': '!',
          '%24': '$',
          '%27': '\'',
          '%28': '(',
          '%29': ')',
          '%2A': '*',
          '%2B': '+',
          '%2C': ',',
          '%3B': ';',
          '%3D': '=',
          '%40': '@'
        }
      },
      // These characters are the characters called out by RFC2141 as "reserved" characters that
      // should never appear in a URN, plus the colon character (see note above).
      decode: {
        expression: /[\/\?#:]/g,
        map: {
          '/': '%2F',
          '?': '%3F',
          '#': '%23',
          ':': '%3A'
        }
      }
    }
  };

  URI.encodeQuery = function (string, escapeQuerySpace) {
    var escaped = URI.encode(string + '');

    if (escapeQuerySpace === undefined) {
      escapeQuerySpace = URI.escapeQuerySpace;
    }

    return escapeQuerySpace ? escaped.replace(/%20/g, '+') : escaped;
  };

  URI.decodeQuery = function (string, escapeQuerySpace) {
    string += '';

    if (escapeQuerySpace === undefined) {
      escapeQuerySpace = URI.escapeQuerySpace;
    }

    try {
      return URI.decode(escapeQuerySpace ? string.replace(/\+/g, '%20') : string);
    } catch (e) {
      // we're not going to mess with weird encodings,
      // give up and return the undecoded original string
      // see https://github.com/medialize/URI.js/issues/87
      // see https://github.com/medialize/URI.js/issues/92
      return string;
    }
  }; // generate encode/decode path functions


  var _parts = {
    'encode': 'encode',
    'decode': 'decode'
  };

  var _part;

  var generateAccessor = function (_group, _part) {
    return function (string) {
      try {
        return URI[_part](string + '').replace(URI.characters[_group][_part].expression, function (c) {
          return URI.characters[_group][_part].map[c];
        });
      } catch (e) {
        // we're not going to mess with weird encodings,
        // give up and return the undecoded original string
        // see https://github.com/medialize/URI.js/issues/87
        // see https://github.com/medialize/URI.js/issues/92
        return string;
      }
    };
  };

  for (_part in _parts) {
    URI[_part + 'PathSegment'] = generateAccessor('pathname', _parts[_part]);
    URI[_part + 'UrnPathSegment'] = generateAccessor('urnpath', _parts[_part]);
  }

  var generateSegmentedPathFunction = function (_sep, _codingFuncName, _innerCodingFuncName) {
    return function (string) {
      // Why pass in names of functions, rather than the function objects themselves? The
      // definitions of some functions (but in particular, URI.decode) will occasionally change due
      // to URI.js having ISO8859 and Unicode modes. Passing in the name and getting it will ensure
      // that the functions we use here are "fresh".
      var actualCodingFunc;

      if (!_innerCodingFuncName) {
        actualCodingFunc = URI[_codingFuncName];
      } else {
        actualCodingFunc = function (string) {
          return URI[_codingFuncName](URI[_innerCodingFuncName](string));
        };
      }

      var segments = (string + '').split(_sep);

      for (var i = 0, length = segments.length; i < length; i++) {
        segments[i] = actualCodingFunc(segments[i]);
      }

      return segments.join(_sep);
    };
  }; // This takes place outside the above loop because we don't want, e.g., encodeUrnPath functions.


  URI.decodePath = generateSegmentedPathFunction('/', 'decodePathSegment');
  URI.decodeUrnPath = generateSegmentedPathFunction(':', 'decodeUrnPathSegment');
  URI.recodePath = generateSegmentedPathFunction('/', 'encodePathSegment', 'decode');
  URI.recodeUrnPath = generateSegmentedPathFunction(':', 'encodeUrnPathSegment', 'decode');
  URI.encodeReserved = generateAccessor('reserved', 'encode');

  URI.parse = function (string, parts) {
    var pos;

    if (!parts) {
      parts = {};
    } // [protocol"://"[username[":"password]"@"]hostname[":"port]"/"?][path]["?"querystring]["#"fragment]
    // extract fragment


    pos = string.indexOf('#');

    if (pos > -1) {
      // escaping?
      parts.fragment = string.substring(pos + 1) || null;
      string = string.substring(0, pos);
    } // extract query


    pos = string.indexOf('?');

    if (pos > -1) {
      // escaping?
      parts.query = string.substring(pos + 1) || null;
      string = string.substring(0, pos);
    } // extract protocol


    if (string.substring(0, 2) === '//') {
      // relative-scheme
      parts.protocol = null;
      string = string.substring(2); // extract "user:pass@host:port"

      string = URI.parseAuthority(string, parts);
    } else {
      pos = string.indexOf(':');

      if (pos > -1) {
        parts.protocol = string.substring(0, pos) || null;

        if (parts.protocol && !parts.protocol.match(URI.protocol_expression)) {
          // : may be within the path
          parts.protocol = undefined;
        } else if (string.substring(pos + 1, pos + 3) === '//') {
          string = string.substring(pos + 3); // extract "user:pass@host:port"

          string = URI.parseAuthority(string, parts);
        } else {
          string = string.substring(pos + 1);
          parts.urn = true;
        }
      }
    } // what's left must be the path


    parts.path = string; // and we're done

    return parts;
  };

  URI.parseHost = function (string, parts) {
    // Copy chrome, IE, opera backslash-handling behavior.
    // Back slashes before the query string get converted to forward slashes
    // See: https://github.com/joyent/node/blob/386fd24f49b0e9d1a8a076592a404168faeecc34/lib/url.js#L115-L124
    // See: https://code.google.com/p/chromium/issues/detail?id=25916
    // https://github.com/medialize/URI.js/pull/233
    string = string.replace(/\\/g, '/'); // extract host:port

    var pos = string.indexOf('/');
    var bracketPos;
    var t;

    if (pos === -1) {
      pos = string.length;
    }

    if (string.charAt(0) === '[') {
      // IPv6 host - http://tools.ietf.org/html/draft-ietf-6man-text-addr-representation-04#section-6
      // I claim most client software breaks on IPv6 anyways. To simplify things, URI only accepts
      // IPv6+port in the format [2001:db8::1]:80 (for the time being)
      bracketPos = string.indexOf(']');
      parts.hostname = string.substring(1, bracketPos) || null;
      parts.port = string.substring(bracketPos + 2, pos) || null;

      if (parts.port === '/') {
        parts.port = null;
      }
    } else {
      var firstColon = string.indexOf(':');
      var firstSlash = string.indexOf('/');
      var nextColon = string.indexOf(':', firstColon + 1);

      if (nextColon !== -1 && (firstSlash === -1 || nextColon < firstSlash)) {
        // IPv6 host contains multiple colons - but no port
        // this notation is actually not allowed by RFC 3986, but we're a liberal parser
        parts.hostname = string.substring(0, pos) || null;
        parts.port = null;
      } else {
        t = string.substring(0, pos).split(':');
        parts.hostname = t[0] || null;
        parts.port = t[1] || null;
      }
    }

    if (parts.hostname && string.substring(pos).charAt(0) !== '/') {
      pos++;
      string = '/' + string;
    }

    return string.substring(pos) || '/';
  };

  URI.parseAuthority = function (string, parts) {
    string = URI.parseUserinfo(string, parts);
    return URI.parseHost(string, parts);
  };

  URI.parseUserinfo = function (string, parts) {
    // extract username:password
    var firstSlash = string.indexOf('/');
    var pos = string.lastIndexOf('@', firstSlash > -1 ? firstSlash : string.length - 1);
    var t; // authority@ must come before /path

    if (pos > -1 && (firstSlash === -1 || pos < firstSlash)) {
      t = string.substring(0, pos).split(':');
      parts.username = t[0] ? URI.decode(t[0]) : null;
      t.shift();
      parts.password = t[0] ? URI.decode(t.join(':')) : null;
      string = string.substring(pos + 1);
    } else {
      parts.username = null;
      parts.password = null;
    }

    return string;
  };

  URI.parseQuery = function (string, escapeQuerySpace) {
    if (!string) {
      return {};
    } // throw out the funky business - "?"[name"="value"&"]+


    string = string.replace(/&+/g, '&').replace(/^\?*&*|&+$/g, '');

    if (!string) {
      return {};
    }

    var items = {};
    var splits = string.split('&');
    var length = splits.length;
    var v, name, value;

    for (var i = 0; i < length; i++) {
      v = splits[i].split('=');
      name = URI.decodeQuery(v.shift(), escapeQuerySpace); // no "=" is null according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#collect-url-parameters

      value = v.length ? URI.decodeQuery(v.join('='), escapeQuerySpace) : null;

      if (hasOwn.call(items, name)) {
        if (typeof items[name] === 'string' || items[name] === null) {
          items[name] = [items[name]];
        }

        items[name].push(value);
      } else {
        items[name] = value;
      }
    }

    return items;
  };

  URI.build = function (parts) {
    var t = '';

    if (parts.protocol) {
      t += parts.protocol + ':';
    }

    if (!parts.urn && (t || parts.hostname)) {
      t += '//';
    }

    t += URI.buildAuthority(parts) || '';

    if (typeof parts.path === 'string') {
      if (parts.path.charAt(0) !== '/' && typeof parts.hostname === 'string') {
        t += '/';
      }

      t += parts.path;
    }

    if (typeof parts.query === 'string' && parts.query) {
      t += '?' + parts.query;
    }

    if (typeof parts.fragment === 'string' && parts.fragment) {
      t += '#' + parts.fragment;
    }

    return t;
  };

  URI.buildHost = function (parts) {
    var t = '';

    if (!parts.hostname) {
      return '';
    } else if (URI.ip6_expression.test(parts.hostname)) {
      t += '[' + parts.hostname + ']';
    } else {
      t += parts.hostname;
    }

    if (parts.port) {
      t += ':' + parts.port;
    }

    return t;
  };

  URI.buildAuthority = function (parts) {
    return URI.buildUserinfo(parts) + URI.buildHost(parts);
  };

  URI.buildUserinfo = function (parts) {
    var t = '';

    if (parts.username) {
      t += URI.encode(parts.username);

      if (parts.password) {
        t += ':' + URI.encode(parts.password);
      }

      t += '@';
    }

    return t;
  };

  URI.buildQuery = function (data, duplicateQueryParameters, escapeQuerySpace) {
    // according to http://tools.ietf.org/html/rfc3986 or http://labs.apache.org/webarch/uri/rfc/rfc3986.html
    // being »-._~!$&'()*+,;=:@/?« %HEX and alnum are allowed
    // the RFC explicitly states ?/foo being a valid use case, no mention of parameter syntax!
    // URI.js treats the query string as being application/x-www-form-urlencoded
    // see http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type
    var t = '';
    var unique, key, i, length;

    for (key in data) {
      if (hasOwn.call(data, key) && key) {
        if (isArray(data[key])) {
          unique = {};

          for (i = 0, length = data[key].length; i < length; i++) {
            if (data[key][i] !== undefined && unique[data[key][i] + ''] === undefined) {
              t += '&' + URI.buildQueryParameter(key, data[key][i], escapeQuerySpace);

              if (duplicateQueryParameters !== true) {
                unique[data[key][i] + ''] = true;
              }
            }
          }
        } else if (data[key] !== undefined) {
          t += '&' + URI.buildQueryParameter(key, data[key], escapeQuerySpace);
        }
      }
    }

    return t.substring(1);
  };

  URI.buildQueryParameter = function (name, value, escapeQuerySpace) {
    // http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type -- application/x-www-form-urlencoded
    // don't append "=" for null values, according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#url-parameter-serialization
    return URI.encodeQuery(name, escapeQuerySpace) + (value !== null ? '=' + URI.encodeQuery(value, escapeQuerySpace) : '');
  };

  URI.addQuery = function (data, name, value) {
    if (typeof name === 'object') {
      for (var key in name) {
        if (hasOwn.call(name, key)) {
          URI.addQuery(data, key, name[key]);
        }
      }
    } else if (typeof name === 'string') {
      if (data[name] === undefined) {
        data[name] = value;
        return;
      } else if (typeof data[name] === 'string') {
        data[name] = [data[name]];
      }

      if (!isArray(value)) {
        value = [value];
      }

      data[name] = (data[name] || []).concat(value);
    } else {
      throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');
    }
  };

  URI.removeQuery = function (data, name, value) {
    var i, length, key;

    if (isArray(name)) {
      for (i = 0, length = name.length; i < length; i++) {
        data[name[i]] = undefined;
      }
    } else if (getType(name) === 'RegExp') {
      for (key in data) {
        if (name.test(key)) {
          data[key] = undefined;
        }
      }
    } else if (typeof name === 'object') {
      for (key in name) {
        if (hasOwn.call(name, key)) {
          URI.removeQuery(data, key, name[key]);
        }
      }
    } else if (typeof name === 'string') {
      if (value !== undefined) {
        if (getType(value) === 'RegExp') {
          if (!isArray(data[name]) && value.test(data[name])) {
            data[name] = undefined;
          } else {
            data[name] = filterArrayValues(data[name], value);
          }
        } else if (data[name] === String(value) && (!isArray(value) || value.length === 1)) {
          data[name] = undefined;
        } else if (isArray(data[name])) {
          data[name] = filterArrayValues(data[name], value);
        }
      } else {
        data[name] = undefined;
      }
    } else {
      throw new TypeError('URI.removeQuery() accepts an object, string, RegExp as the first parameter');
    }
  };

  URI.hasQuery = function (data, name, value, withinArray) {
    if (typeof name === 'object') {
      for (var key in name) {
        if (hasOwn.call(name, key)) {
          if (!URI.hasQuery(data, key, name[key])) {
            return false;
          }
        }
      }

      return true;
    } else if (typeof name !== 'string') {
      throw new TypeError('URI.hasQuery() accepts an object, string as the name parameter');
    }

    switch (getType(value)) {
      case 'Undefined':
        // true if exists (but may be empty)
        return name in data;
      // data[name] !== undefined;

      case 'Boolean':
        // true if exists and non-empty
        var _booly = Boolean(isArray(data[name]) ? data[name].length : data[name]);

        return value === _booly;

      case 'Function':
        // allow complex comparison
        return !!value(data[name], name, data);

      case 'Array':
        if (!isArray(data[name])) {
          return false;
        }

        var op = withinArray ? arrayContains : arraysEqual;
        return op(data[name], value);

      case 'RegExp':
        if (!isArray(data[name])) {
          return Boolean(data[name] && data[name].match(value));
        }

        if (!withinArray) {
          return false;
        }

        return arrayContains(data[name], value);

      case 'Number':
        value = String(value);

      /* falls through */

      case 'String':
        if (!isArray(data[name])) {
          return data[name] === value;
        }

        if (!withinArray) {
          return false;
        }

        return arrayContains(data[name], value);

      default:
        throw new TypeError('URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter');
    }
  };

  URI.commonPath = function (one, two) {
    var length = Math.min(one.length, two.length);
    var pos; // find first non-matching character

    for (pos = 0; pos < length; pos++) {
      if (one.charAt(pos) !== two.charAt(pos)) {
        pos--;
        break;
      }
    }

    if (pos < 1) {
      return one.charAt(0) === two.charAt(0) && one.charAt(0) === '/' ? '/' : '';
    } // revert to last /


    if (one.charAt(pos) !== '/' || two.charAt(pos) !== '/') {
      pos = one.substring(0, pos).lastIndexOf('/');
    }

    return one.substring(0, pos + 1);
  };

  URI.withinString = function (string, callback, options) {
    options || (options = {});

    var _start = options.start || URI.findUri.start;

    var _end = options.end || URI.findUri.end;

    var _trim = options.trim || URI.findUri.trim;

    var _attributeOpen = /[a-z0-9-]=["']?$/i;
    _start.lastIndex = 0;

    while (true) {
      var match = _start.exec(string);

      if (!match) {
        break;
      }

      var start = match.index;

      if (options.ignoreHtml) {
        // attribut(e=["']?$)
        var attributeOpen = string.slice(Math.max(start - 3, 0), start);

        if (attributeOpen && _attributeOpen.test(attributeOpen)) {
          continue;
        }
      }

      var end = start + string.slice(start).search(_end);
      var slice = string.slice(start, end).replace(_trim, '');

      if (options.ignore && options.ignore.test(slice)) {
        continue;
      }

      end = start + slice.length;
      var result = callback(slice, start, end, string);
      string = string.slice(0, start) + result + string.slice(end);
      _start.lastIndex = start + result.length;
    }

    _start.lastIndex = 0;
    return string;
  };

  URI.ensureValidHostname = function (v) {
    // Theoretically URIs allow percent-encoding in Hostnames (according to RFC 3986)
    // they are not part of DNS and therefore ignored by URI.js
    if (v.match(URI.invalid_hostname_characters)) {
      // test punycode
      if (!punycode) {
        throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-] and Punycode.js is not available');
      }

      if (punycode.toASCII(v).match(URI.invalid_hostname_characters)) {
        throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
      }
    }
  }; // noConflict


  URI.noConflict = function (removeAll) {
    if (removeAll) {
      var unconflicted = {
        URI: this.noConflict()
      };

      if (root.URITemplate && typeof root.URITemplate.noConflict === 'function') {
        unconflicted.URITemplate = root.URITemplate.noConflict();
      }

      if (root.IPv6 && typeof root.IPv6.noConflict === 'function') {
        unconflicted.IPv6 = root.IPv6.noConflict();
      }

      if (root.SecondLevelDomains && typeof root.SecondLevelDomains.noConflict === 'function') {
        unconflicted.SecondLevelDomains = root.SecondLevelDomains.noConflict();
      }

      return unconflicted;
    } else if (root.URI === this) {
      root.URI = _URI;
    }

    return this;
  };

  p.build = function (deferBuild) {
    if (deferBuild === true) {
      this._deferred_build = true;
    } else if (deferBuild === undefined || this._deferred_build) {
      this._string = URI.build(this._parts);
      this._deferred_build = false;
    }

    return this;
  };

  p.clone = function () {
    return new URI(this);
  };

  p.valueOf = p.toString = function () {
    return this.build(false)._string;
  };

  function generateSimpleAccessor(_part) {
    return function (v, build) {
      if (v === undefined) {
        return this._parts[_part] || '';
      } else {
        this._parts[_part] = v || null;
        this.build(!build);
        return this;
      }
    };
  }

  function generatePrefixAccessor(_part, _key) {
    return function (v, build) {
      if (v === undefined) {
        return this._parts[_part] || '';
      } else {
        if (v !== null) {
          v = v + '';

          if (v.charAt(0) === _key) {
            v = v.substring(1);
          }
        }

        this._parts[_part] = v;
        this.build(!build);
        return this;
      }
    };
  }

  p.protocol = generateSimpleAccessor('protocol');
  p.username = generateSimpleAccessor('username');
  p.password = generateSimpleAccessor('password');
  p.hostname = generateSimpleAccessor('hostname');
  p.port = generateSimpleAccessor('port');
  p.query = generatePrefixAccessor('query', '?');
  p.fragment = generatePrefixAccessor('fragment', '#');

  p.search = function (v, build) {
    var t = this.query(v, build);
    return typeof t === 'string' && t.length ? '?' + t : t;
  };

  p.hash = function (v, build) {
    var t = this.fragment(v, build);
    return typeof t === 'string' && t.length ? '#' + t : t;
  };

  p.pathname = function (v, build) {
    if (v === undefined || v === true) {
      var res = this._parts.path || (this._parts.hostname ? '/' : '');
      return v ? (this._parts.urn ? URI.decodeUrnPath : URI.decodePath)(res) : res;
    } else {
      if (this._parts.urn) {
        this._parts.path = v ? URI.recodeUrnPath(v) : '';
      } else {
        this._parts.path = v ? URI.recodePath(v) : '/';
      }

      this.build(!build);
      return this;
    }
  };

  p.path = p.pathname;

  p.href = function (href, build) {
    var key;

    if (href === undefined) {
      return this.toString();
    }

    this._string = '';
    this._parts = URI._parts();

    var _URI = href instanceof URI;

    var _object = typeof href === 'object' && (href.hostname || href.path || href.pathname);

    if (href.nodeName) {
      var attribute = URI.getDomAttribute(href);
      href = href[attribute] || '';
      _object = false;
    } // window.location is reported to be an object, but it's not the sort
    // of object we're looking for:
    // * location.protocol ends with a colon
    // * location.query != object.search
    // * location.hash != object.fragment
    // simply serializing the unknown object should do the trick
    // (for location, not for everything...)


    if (!_URI && _object && href.pathname !== undefined) {
      href = href.toString();
    }

    if (typeof href === 'string' || href instanceof String) {
      this._parts = URI.parse(String(href), this._parts);
    } else if (_URI || _object) {
      var src = _URI ? href._parts : href;

      for (key in src) {
        if (hasOwn.call(this._parts, key)) {
          this._parts[key] = src[key];
        }
      }
    } else {
      throw new TypeError('invalid input');
    }

    this.build(!build);
    return this;
  }; // identification accessors


  p.is = function (what) {
    var ip = false;
    var ip4 = false;
    var ip6 = false;
    var name = false;
    var sld = false;
    var idn = false;
    var punycode = false;
    var relative = !this._parts.urn;

    if (this._parts.hostname) {
      relative = false;
      ip4 = URI.ip4_expression.test(this._parts.hostname);
      ip6 = URI.ip6_expression.test(this._parts.hostname);
      ip = ip4 || ip6;
      name = !ip;
      sld = name && SLD && SLD.has(this._parts.hostname);
      idn = name && URI.idn_expression.test(this._parts.hostname);
      punycode = name && URI.punycode_expression.test(this._parts.hostname);
    }

    switch (what.toLowerCase()) {
      case 'relative':
        return relative;

      case 'absolute':
        return !relative;
      // hostname identification

      case 'domain':
      case 'name':
        return name;

      case 'sld':
        return sld;

      case 'ip':
        return ip;

      case 'ip4':
      case 'ipv4':
      case 'inet4':
        return ip4;

      case 'ip6':
      case 'ipv6':
      case 'inet6':
        return ip6;

      case 'idn':
        return idn;

      case 'url':
        return !this._parts.urn;

      case 'urn':
        return !!this._parts.urn;

      case 'punycode':
        return punycode;
    }

    return null;
  }; // component specific input validation


  var _protocol = p.protocol;
  var _port = p.port;
  var _hostname = p.hostname;

  p.protocol = function (v, build) {
    if (v !== undefined) {
      if (v) {
        // accept trailing ://
        v = v.replace(/:(\/\/)?$/, '');

        if (!v.match(URI.protocol_expression)) {
          throw new TypeError('Protocol "' + v + '" contains characters other than [A-Z0-9.+-] or doesn\'t start with [A-Z]');
        }
      }
    }

    return _protocol.call(this, v, build);
  };

  p.scheme = p.protocol;

  p.port = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v !== undefined) {
      if (v === 0) {
        v = null;
      }

      if (v) {
        v += '';

        if (v.charAt(0) === ':') {
          v = v.substring(1);
        }

        if (v.match(/[^0-9]/)) {
          throw new TypeError('Port "' + v + '" contains characters other than [0-9]');
        }
      }
    }

    return _port.call(this, v, build);
  };

  p.hostname = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v !== undefined) {
      var x = {};
      var res = URI.parseHost(v, x);

      if (res !== '/') {
        throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
      }

      v = x.hostname;
    }

    return _hostname.call(this, v, build);
  }; // compound accessors


  p.origin = function (v, build) {
    var parts;

    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined) {
      var protocol = this.protocol();
      var authority = this.authority();
      if (!authority) return '';
      return (protocol ? protocol + '://' : '') + this.authority();
    } else {
      var origin = URI(v);
      this.protocol(origin.protocol()).authority(origin.authority()).build(!build);
      return this;
    }
  };

  p.host = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined) {
      return this._parts.hostname ? URI.buildHost(this._parts) : '';
    } else {
      var res = URI.parseHost(v, this._parts);

      if (res !== '/') {
        throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
      }

      this.build(!build);
      return this;
    }
  };

  p.authority = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined) {
      return this._parts.hostname ? URI.buildAuthority(this._parts) : '';
    } else {
      var res = URI.parseAuthority(v, this._parts);

      if (res !== '/') {
        throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
      }

      this.build(!build);
      return this;
    }
  };

  p.userinfo = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined) {
      if (!this._parts.username) {
        return '';
      }

      var t = URI.buildUserinfo(this._parts);
      return t.substring(0, t.length - 1);
    } else {
      if (v[v.length - 1] !== '@') {
        v += '@';
      }

      URI.parseUserinfo(v, this._parts);
      this.build(!build);
      return this;
    }
  };

  p.resource = function (v, build) {
    var parts;

    if (v === undefined) {
      return this.path() + this.search() + this.hash();
    }

    parts = URI.parse(v);
    this._parts.path = parts.path;
    this._parts.query = parts.query;
    this._parts.fragment = parts.fragment;
    this.build(!build);
    return this;
  }; // fraction accessors


  p.subdomain = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    } // convenience, return "www" from "www.example.org"


    if (v === undefined) {
      if (!this._parts.hostname || this.is('IP')) {
        return '';
      } // grab domain and add another segment


      var end = this._parts.hostname.length - this.domain().length - 1;
      return this._parts.hostname.substring(0, end) || '';
    } else {
      var e = this._parts.hostname.length - this.domain().length;

      var sub = this._parts.hostname.substring(0, e);

      var replace = new RegExp('^' + escapeRegEx(sub));

      if (v && v.charAt(v.length - 1) !== '.') {
        v += '.';
      }

      if (v) {
        URI.ensureValidHostname(v);
      }

      this._parts.hostname = this._parts.hostname.replace(replace, v);
      this.build(!build);
      return this;
    }
  };

  p.domain = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (typeof v === 'boolean') {
      build = v;
      v = undefined;
    } // convenience, return "example.org" from "www.example.org"


    if (v === undefined) {
      if (!this._parts.hostname || this.is('IP')) {
        return '';
      } // if hostname consists of 1 or 2 segments, it must be the domain


      var t = this._parts.hostname.match(/\./g);

      if (t && t.length < 2) {
        return this._parts.hostname;
      } // grab tld and add another segment


      var end = this._parts.hostname.length - this.tld(build).length - 1;
      end = this._parts.hostname.lastIndexOf('.', end - 1) + 1;
      return this._parts.hostname.substring(end) || '';
    } else {
      if (!v) {
        throw new TypeError('cannot set domain empty');
      }

      URI.ensureValidHostname(v);

      if (!this._parts.hostname || this.is('IP')) {
        this._parts.hostname = v;
      } else {
        var replace = new RegExp(escapeRegEx(this.domain()) + '$');
        this._parts.hostname = this._parts.hostname.replace(replace, v);
      }

      this.build(!build);
      return this;
    }
  };

  p.tld = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (typeof v === 'boolean') {
      build = v;
      v = undefined;
    } // return "org" from "www.example.org"


    if (v === undefined) {
      if (!this._parts.hostname || this.is('IP')) {
        return '';
      }

      var pos = this._parts.hostname.lastIndexOf('.');

      var tld = this._parts.hostname.substring(pos + 1);

      if (build !== true && SLD && SLD.list[tld.toLowerCase()]) {
        return SLD.get(this._parts.hostname) || tld;
      }

      return tld;
    } else {
      var replace;

      if (!v) {
        throw new TypeError('cannot set TLD empty');
      } else if (v.match(/[^a-zA-Z0-9-]/)) {
        if (SLD && SLD.is(v)) {
          replace = new RegExp(escapeRegEx(this.tld()) + '$');
          this._parts.hostname = this._parts.hostname.replace(replace, v);
        } else {
          throw new TypeError('TLD "' + v + '" contains characters other than [A-Z0-9]');
        }
      } else if (!this._parts.hostname || this.is('IP')) {
        throw new ReferenceError('cannot set TLD on non-domain host');
      } else {
        replace = new RegExp(escapeRegEx(this.tld()) + '$');
        this._parts.hostname = this._parts.hostname.replace(replace, v);
      }

      this.build(!build);
      return this;
    }
  };

  p.directory = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined || v === true) {
      if (!this._parts.path && !this._parts.hostname) {
        return '';
      }

      if (this._parts.path === '/') {
        return '/';
      }

      var end = this._parts.path.length - this.filename().length - 1;
      var res = this._parts.path.substring(0, end) || (this._parts.hostname ? '/' : '');
      return v ? URI.decodePath(res) : res;
    } else {
      var e = this._parts.path.length - this.filename().length;

      var directory = this._parts.path.substring(0, e);

      var replace = new RegExp('^' + escapeRegEx(directory)); // fully qualifier directories begin with a slash

      if (!this.is('relative')) {
        if (!v) {
          v = '/';
        }

        if (v.charAt(0) !== '/') {
          v = '/' + v;
        }
      } // directories always end with a slash


      if (v && v.charAt(v.length - 1) !== '/') {
        v += '/';
      }

      v = URI.recodePath(v);
      this._parts.path = this._parts.path.replace(replace, v);
      this.build(!build);
      return this;
    }
  };

  p.filename = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined || v === true) {
      if (!this._parts.path || this._parts.path === '/') {
        return '';
      }

      var pos = this._parts.path.lastIndexOf('/');

      var res = this._parts.path.substring(pos + 1);

      return v ? URI.decodePathSegment(res) : res;
    } else {
      var mutatedDirectory = false;

      if (v.charAt(0) === '/') {
        v = v.substring(1);
      }

      if (v.match(/\.?\//)) {
        mutatedDirectory = true;
      }

      var replace = new RegExp(escapeRegEx(this.filename()) + '$');
      v = URI.recodePath(v);
      this._parts.path = this._parts.path.replace(replace, v);

      if (mutatedDirectory) {
        this.normalizePath(build);
      } else {
        this.build(!build);
      }

      return this;
    }
  };

  p.suffix = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined || v === true) {
      if (!this._parts.path || this._parts.path === '/') {
        return '';
      }

      var filename = this.filename();
      var pos = filename.lastIndexOf('.');
      var s, res;

      if (pos === -1) {
        return '';
      } // suffix may only contain alnum characters (yup, I made this up.)


      s = filename.substring(pos + 1);
      res = /^[a-z0-9%]+$/i.test(s) ? s : '';
      return v ? URI.decodePathSegment(res) : res;
    } else {
      if (v.charAt(0) === '.') {
        v = v.substring(1);
      }

      var suffix = this.suffix();
      var replace;

      if (!suffix) {
        if (!v) {
          return this;
        }

        this._parts.path += '.' + URI.recodePath(v);
      } else if (!v) {
        replace = new RegExp(escapeRegEx('.' + suffix) + '$');
      } else {
        replace = new RegExp(escapeRegEx(suffix) + '$');
      }

      if (replace) {
        v = URI.recodePath(v);
        this._parts.path = this._parts.path.replace(replace, v);
      }

      this.build(!build);
      return this;
    }
  };

  p.segment = function (segment, v, build) {
    var separator = this._parts.urn ? ':' : '/';
    var path = this.path();
    var absolute = path.substring(0, 1) === '/';
    var segments = path.split(separator);

    if (segment !== undefined && typeof segment !== 'number') {
      build = v;
      v = segment;
      segment = undefined;
    }

    if (segment !== undefined && typeof segment !== 'number') {
      throw new Error('Bad segment "' + segment + '", must be 0-based integer');
    }

    if (absolute) {
      segments.shift();
    }

    if (segment < 0) {
      // allow negative indexes to address from the end
      segment = Math.max(segments.length + segment, 0);
    }

    if (v === undefined) {
      /*jshint laxbreak: true */
      return segment === undefined ? segments : segments[segment];
      /*jshint laxbreak: false */
    } else if (segment === null || segments[segment] === undefined) {
      if (isArray(v)) {
        segments = []; // collapse empty elements within array

        for (var i = 0, l = v.length; i < l; i++) {
          if (!v[i].length && (!segments.length || !segments[segments.length - 1].length)) {
            continue;
          }

          if (segments.length && !segments[segments.length - 1].length) {
            segments.pop();
          }

          segments.push(trimSlashes(v[i]));
        }
      } else if (v || typeof v === 'string') {
        v = trimSlashes(v);

        if (segments[segments.length - 1] === '') {
          // empty trailing elements have to be overwritten
          // to prevent results such as /foo//bar
          segments[segments.length - 1] = v;
        } else {
          segments.push(v);
        }
      }
    } else {
      if (v) {
        segments[segment] = trimSlashes(v);
      } else {
        segments.splice(segment, 1);
      }
    }

    if (absolute) {
      segments.unshift('');
    }

    return this.path(segments.join(separator), build);
  };

  p.segmentCoded = function (segment, v, build) {
    var segments, i, l;

    if (typeof segment !== 'number') {
      build = v;
      v = segment;
      segment = undefined;
    }

    if (v === undefined) {
      segments = this.segment(segment, v, build);

      if (!isArray(segments)) {
        segments = segments !== undefined ? URI.decode(segments) : undefined;
      } else {
        for (i = 0, l = segments.length; i < l; i++) {
          segments[i] = URI.decode(segments[i]);
        }
      }

      return segments;
    }

    if (!isArray(v)) {
      v = typeof v === 'string' || v instanceof String ? URI.encode(v) : v;
    } else {
      for (i = 0, l = v.length; i < l; i++) {
        v[i] = URI.encode(v[i]);
      }
    }

    return this.segment(segment, v, build);
  }; // mutating query string


  var q = p.query;

  p.query = function (v, build) {
    if (v === true) {
      return URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
    } else if (typeof v === 'function') {
      var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
      var result = v.call(this, data);
      this._parts.query = URI.buildQuery(result || data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);
      this.build(!build);
      return this;
    } else if (v !== undefined && typeof v !== 'string') {
      this._parts.query = URI.buildQuery(v, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);
      this.build(!build);
      return this;
    } else {
      return q.call(this, v, build);
    }
  };

  p.setQuery = function (name, value, build) {
    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);

    if (typeof name === 'string' || name instanceof String) {
      data[name] = value !== undefined ? value : null;
    } else if (typeof name === 'object') {
      for (var key in name) {
        if (hasOwn.call(name, key)) {
          data[key] = name[key];
        }
      }
    } else {
      throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');
    }

    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);

    if (typeof name !== 'string') {
      build = value;
    }

    this.build(!build);
    return this;
  };

  p.addQuery = function (name, value, build) {
    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
    URI.addQuery(data, name, value === undefined ? null : value);
    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);

    if (typeof name !== 'string') {
      build = value;
    }

    this.build(!build);
    return this;
  };

  p.removeQuery = function (name, value, build) {
    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
    URI.removeQuery(data, name, value);
    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);

    if (typeof name !== 'string') {
      build = value;
    }

    this.build(!build);
    return this;
  };

  p.hasQuery = function (name, value, withinArray) {
    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
    return URI.hasQuery(data, name, value, withinArray);
  };

  p.setSearch = p.setQuery;
  p.addSearch = p.addQuery;
  p.removeSearch = p.removeQuery;
  p.hasSearch = p.hasQuery; // sanitizing URLs

  p.normalize = function () {
    if (this._parts.urn) {
      return this.normalizeProtocol(false).normalizePath(false).normalizeQuery(false).normalizeFragment(false).build();
    }

    return this.normalizeProtocol(false).normalizeHostname(false).normalizePort(false).normalizePath(false).normalizeQuery(false).normalizeFragment(false).build();
  };

  p.normalizeProtocol = function (build) {
    if (typeof this._parts.protocol === 'string') {
      this._parts.protocol = this._parts.protocol.toLowerCase();
      this.build(!build);
    }

    return this;
  };

  p.normalizeHostname = function (build) {
    if (this._parts.hostname) {
      if (this.is('IDN') && punycode) {
        this._parts.hostname = punycode.toASCII(this._parts.hostname);
      } else if (this.is('IPv6') && IPv6) {
        this._parts.hostname = IPv6.best(this._parts.hostname);
      }

      this._parts.hostname = this._parts.hostname.toLowerCase();
      this.build(!build);
    }

    return this;
  };

  p.normalizePort = function (build) {
    // remove port of it's the protocol's default
    if (typeof this._parts.protocol === 'string' && this._parts.port === URI.defaultPorts[this._parts.protocol]) {
      this._parts.port = null;
      this.build(!build);
    }

    return this;
  };

  p.normalizePath = function (build) {
    var _path = this._parts.path;

    if (!_path) {
      return this;
    }

    if (this._parts.urn) {
      this._parts.path = URI.recodeUrnPath(this._parts.path);
      this.build(!build);
      return this;
    }

    if (this._parts.path === '/') {
      return this;
    }

    var _was_relative;

    var _leadingParents = '';

    var _parent, _pos; // handle relative paths


    if (_path.charAt(0) !== '/') {
      _was_relative = true;
      _path = '/' + _path;
    } // handle relative files (as opposed to directories)


    if (_path.slice(-3) === '/..' || _path.slice(-2) === '/.') {
      _path += '/';
    } // resolve simples


    _path = _path.replace(/(\/(\.\/)+)|(\/\.$)/g, '/').replace(/\/{2,}/g, '/'); // remember leading parents

    if (_was_relative) {
      _leadingParents = _path.substring(1).match(/^(\.\.\/)+/) || '';

      if (_leadingParents) {
        _leadingParents = _leadingParents[0];
      }
    } // resolve parents


    while (true) {
      _parent = _path.indexOf('/..');

      if (_parent === -1) {
        // no more ../ to resolve
        break;
      } else if (_parent === 0) {
        // top level cannot be relative, skip it
        _path = _path.substring(3);
        continue;
      }

      _pos = _path.substring(0, _parent).lastIndexOf('/');

      if (_pos === -1) {
        _pos = _parent;
      }

      _path = _path.substring(0, _pos) + _path.substring(_parent + 3);
    } // revert to relative


    if (_was_relative && this.is('relative')) {
      _path = _leadingParents + _path.substring(1);
    }

    _path = URI.recodePath(_path);
    this._parts.path = _path;
    this.build(!build);
    return this;
  };

  p.normalizePathname = p.normalizePath;

  p.normalizeQuery = function (build) {
    if (typeof this._parts.query === 'string') {
      if (!this._parts.query.length) {
        this._parts.query = null;
      } else {
        this.query(URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace));
      }

      this.build(!build);
    }

    return this;
  };

  p.normalizeFragment = function (build) {
    if (!this._parts.fragment) {
      this._parts.fragment = null;
      this.build(!build);
    }

    return this;
  };

  p.normalizeSearch = p.normalizeQuery;
  p.normalizeHash = p.normalizeFragment;

  p.iso8859 = function () {
    // expect unicode input, iso8859 output
    var e = URI.encode;
    var d = URI.decode;
    URI.encode = escape;
    URI.decode = decodeURIComponent;

    try {
      this.normalize();
    } finally {
      URI.encode = e;
      URI.decode = d;
    }

    return this;
  };

  p.unicode = function () {
    // expect iso8859 input, unicode output
    var e = URI.encode;
    var d = URI.decode;
    URI.encode = strictEncodeURIComponent;
    URI.decode = unescape;

    try {
      this.normalize();
    } finally {
      URI.encode = e;
      URI.decode = d;
    }

    return this;
  };

  p.readable = function () {
    var uri = this.clone(); // removing username, password, because they shouldn't be displayed according to RFC 3986

    uri.username('').password('').normalize();
    var t = '';

    if (uri._parts.protocol) {
      t += uri._parts.protocol + '://';
    }

    if (uri._parts.hostname) {
      if (uri.is('punycode') && punycode) {
        t += punycode.toUnicode(uri._parts.hostname);

        if (uri._parts.port) {
          t += ':' + uri._parts.port;
        }
      } else {
        t += uri.host();
      }
    }

    if (uri._parts.hostname && uri._parts.path && uri._parts.path.charAt(0) !== '/') {
      t += '/';
    }

    t += uri.path(true);

    if (uri._parts.query) {
      var q = '';

      for (var i = 0, qp = uri._parts.query.split('&'), l = qp.length; i < l; i++) {
        var kv = (qp[i] || '').split('=');
        q += '&' + URI.decodeQuery(kv[0], this._parts.escapeQuerySpace).replace(/&/g, '%26');

        if (kv[1] !== undefined) {
          q += '=' + URI.decodeQuery(kv[1], this._parts.escapeQuerySpace).replace(/&/g, '%26');
        }
      }

      t += '?' + q.substring(1);
    }

    t += URI.decodeQuery(uri.hash(), true);
    return t;
  }; // resolving relative and absolute URLs


  p.absoluteTo = function (base) {
    var resolved = this.clone();
    var properties = ['protocol', 'username', 'password', 'hostname', 'port'];
    var basedir, i, p;

    if (this._parts.urn) {
      throw new Error('URNs do not have any generally defined hierarchical components');
    }

    if (!(base instanceof URI)) {
      base = new URI(base);
    }

    if (!resolved._parts.protocol) {
      resolved._parts.protocol = base._parts.protocol;
    }

    if (this._parts.hostname) {
      return resolved;
    }

    for (i = 0; p = properties[i]; i++) {
      resolved._parts[p] = base._parts[p];
    }

    if (!resolved._parts.path) {
      resolved._parts.path = base._parts.path;

      if (!resolved._parts.query) {
        resolved._parts.query = base._parts.query;
      }
    } else if (resolved._parts.path.substring(-2) === '..') {
      resolved._parts.path += '/';
    }

    if (resolved.path().charAt(0) !== '/') {
      basedir = base.directory();
      basedir = basedir ? basedir : base.path().indexOf('/') === 0 ? '/' : '';
      resolved._parts.path = (basedir ? basedir + '/' : '') + resolved._parts.path;
      resolved.normalizePath();
    }

    resolved.build();
    return resolved;
  };

  p.relativeTo = function (base) {
    var relative = this.clone().normalize();
    var relativeParts, baseParts, common, relativePath, basePath;

    if (relative._parts.urn) {
      throw new Error('URNs do not have any generally defined hierarchical components');
    }

    base = new URI(base).normalize();
    relativeParts = relative._parts;
    baseParts = base._parts;
    relativePath = relative.path();
    basePath = base.path();

    if (relativePath.charAt(0) !== '/') {
      throw new Error('URI is already relative');
    }

    if (basePath.charAt(0) !== '/') {
      throw new Error('Cannot calculate a URI relative to another relative URI');
    }

    if (relativeParts.protocol === baseParts.protocol) {
      relativeParts.protocol = null;
    }

    if (relativeParts.username !== baseParts.username || relativeParts.password !== baseParts.password) {
      return relative.build();
    }

    if (relativeParts.protocol !== null || relativeParts.username !== null || relativeParts.password !== null) {
      return relative.build();
    }

    if (relativeParts.hostname === baseParts.hostname && relativeParts.port === baseParts.port) {
      relativeParts.hostname = null;
      relativeParts.port = null;
    } else {
      return relative.build();
    }

    if (relativePath === basePath) {
      relativeParts.path = '';
      return relative.build();
    } // determine common sub path


    common = URI.commonPath(relativePath, basePath); // If the paths have nothing in common, return a relative URL with the absolute path.

    if (!common) {
      return relative.build();
    }

    var parents = baseParts.path.substring(common.length).replace(/[^\/]*$/, '').replace(/.*?\//g, '../');
    relativeParts.path = parents + relativeParts.path.substring(common.length) || './';
    return relative.build();
  }; // comparing URIs


  p.equals = function (uri) {
    var one = this.clone();
    var two = new URI(uri);
    var one_map = {};
    var two_map = {};
    var checked = {};
    var one_query, two_query, key;
    one.normalize();
    two.normalize(); // exact match

    if (one.toString() === two.toString()) {
      return true;
    } // extract query string


    one_query = one.query();
    two_query = two.query();
    one.query('');
    two.query(''); // definitely not equal if not even non-query parts match

    if (one.toString() !== two.toString()) {
      return false;
    } // query parameters have the same length, even if they're permuted


    if (one_query.length !== two_query.length) {
      return false;
    }

    one_map = URI.parseQuery(one_query, this._parts.escapeQuerySpace);
    two_map = URI.parseQuery(two_query, this._parts.escapeQuerySpace);

    for (key in one_map) {
      if (hasOwn.call(one_map, key)) {
        if (!isArray(one_map[key])) {
          if (one_map[key] !== two_map[key]) {
            return false;
          }
        } else if (!arraysEqual(one_map[key], two_map[key])) {
          return false;
        }

        checked[key] = true;
      }
    }

    for (key in two_map) {
      if (hasOwn.call(two_map, key)) {
        if (!checked[key]) {
          // two contains a parameter not present in one
          return false;
        }
      }
    }

    return true;
  }; // state


  p.duplicateQueryParameters = function (v) {
    this._parts.duplicateQueryParameters = !!v;
    return this;
  };

  p.escapeQuerySpace = function (v) {
    this._parts.escapeQuerySpace = !!v;
    return this;
  };

  return URI;
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"collection_helpers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/collection_helpers.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tapi18n.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/tapi18n.coffee                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"core.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/core.coffee                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Workflow = {};
this.ImageSign = {};
this.TracesHandler = {};
this.TracesTemplate = {};
this.InstanceformTemplate = {};
this.InstanceAttachmentTemplate = {};
this.InstanceSignText = {};
this.RelatedInstances = {};
this.RelatedRecords = {};
this.InstanceMacro = {
  context: {}
};
this.TracesManager = {};

InstanceSignText.isOpinionField_from_string = function (field_formula) {
  return (field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{yijianlan:") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{\"yijianlan\":") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{'yijianlan':") : void 0) > -1;
};

InstanceSignText.includesOpinionField = function (form, form_version) {
  var _form_version, field_formulas, fields;

  field_formulas = new Array();
  _form_version = {};

  if (Meteor.isServer) {
    _form_version = uuflowManager.getFormVersion(db.forms.findOne({
      _id: form
    }), form_version);
  } else {
    _form_version = db.form_versions.findOne({
      _id: form_version,
      form: form
    });
  }

  fields = (_form_version != null ? _form_version.fields : void 0) || [];
  fields.forEach(function (f) {
    var ref;

    if (f.type === 'table') {
      return console.log('ignore opinion field in table');
    } else if (f.type === 'section') {
      return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
        return field_formulas.push(f1.formula);
      }) : void 0 : void 0;
    } else {
      return field_formulas.push(f.formula);
    }
  });
  return _.some(field_formulas, function (field_formula) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"models":{"forms.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/forms.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flows.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_roles.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_positions.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/instances.coffee                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"categories.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/categories.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"spaces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/spaces.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"deleted_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/deleted_instances.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"auth_tokens.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/auth_tokens.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
db.auth_tokens = new Meteor.Collection('auth_tokens');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webhooks.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/webhooks.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_user_signs.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_users.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_users.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"cfs":{"instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/cfs/instances.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"admin.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/admin.coffee                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"client":{"lib":{"instance_readonly_template.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/instance_readonly_template.coffee                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _getLocale, _getRequiredFields, _getStartStepEditableFields, _getStartStepRequiredFields, _getTemplateData, _getViewHtml, getLinkText;

InstanceReadOnlyTemplate = {};
InstanceReadOnlyTemplate.instance_attachment = "<tr>\n	<td class=\"ins-attach-view\">\n		<a href=\"{{ins_attach_download_url _id absolute}}\" class=\"ins_attach_href\" target=\"_parent\" data-name=\"{{this.name}}\" data-type=\"{{this.original.type}}\" data-id=\"{{_id}}\">{{this.name}}</a>\n	</td>\n</tr>";
InstanceReadOnlyTemplate.afSelectUserRead = "<div class='selectUser form-control ins_applicant'>{{value}}</div>";
InstanceReadOnlyTemplate.afFormGroupRead = "<div class='form-group'>\n	{{#with getField this.name}}\n		{{#if equals type 'section'}}\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if showLabel}}\n					<label>{{getLabel code}}</label>\n				{{/if}}\n				<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n			{{/if}}\n		{{/if}}\n	{{/with}}\n</div>";
InstanceReadOnlyTemplate.afFormGroup = "\n{{#with getField this.name}}\n		{{#if equals type 'section'}}\n			<div class=\"form-group\">\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n  				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if equals type 'input'}}\n					<div class=\"form-group\" data-required=\"{{#if is_required}}true{{/if}}\">\n						<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n						{{#if is_textarea}}\n							<textarea title=\"{{getLabel code}}\" name=\"{{code}}\" {{getPermissions code}} data-schema-key=\"{{getLabel code}}\" class=\"form-control\"></textarea>\n						{{/if}}\n						{{#unless is_textarea}}\n							<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" {{getPermissions code}} data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n						{{/unless}}\n					</div>\n				{{else}}\n					{{#if equals type 'number'}}\n						<div class=\"form-group\">\n							<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n							<input type=\"number\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n						</div>\n					{{else}}\n						{{#if equals type 'date'}}\n							<div class=\"form-group\">\n								<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n								<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type=\"date\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n							</div>\n						{{else}}\n							{{#if equals type 'dateTime'}}\n								<div class=\"form-group\">\n									<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n									<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type='datetime' data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n								</div>\n							{{else}}\n								{{#if equals type 'password'}}\n									<div class=\"form-group\">\n										<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n										<input type=\"password\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n									</div>\n								{{else}}\n									{{#if equals type 'select'}}\n										<div class=\"form-group\">\n											<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n											<select name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n												{{#each options this}}\n													<option value=\"{{value}}\">{{label}}</option>\n												{{/each}}\n											</select>\n										</div>\n									{{else}}\n										{{#if equals type 'radio'}}\n											<div class=\"form-group\">\n												<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n												<div class=\"af-radio-group\" data-schema-key=\"{{getLabel code}}\">\n													{{#each options this}}\n        												<label class=\"radio-inline fix-indent\"><input type=\"radio\" value=\"{{value}}\" name=\"{{../code}}\" class=\"radio-inline fix-indent\"> {{label}}</label>\n    													{{/each}}\n    												</div>\n											</div>\n										{{else}}\n											{{#if equals type 'multiSelect'}}\n												<div class=\"form-group\">\n													<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n													<div class=\"af-checkbox-group\" data-schema-key=\"{{getLabel code}}\">\n														{{#each options this}}\n														<label class=\"checkbox-inline fix-indent\"><input type=\"checkbox\" value=\"{{value}}\" name=\"{{../code}}\" class=\"checkbox-inline fix-indent\"> {{label}}</label>\n														{{/each}}\n													</div>\n												</div>\n											{{else}}\n												{{#if equals type 'url'}}\n													<div class=\"form-group\">\n														<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n														<input type=\"url\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n													</div>\n												{{else}}\n													{{#if equals type 'email'}}\n														<div class=\"form-group\">\n															<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n															<input type=\"email\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n														</div>\n													{{else}}\n														{{#if equals type 'checkbox'}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class=\"checkbox\" data-schema-key=\"{{getLabel code}}\">\n																	<label style=\"width: 100%;\"><input type=\"checkbox\" value=\"true\" name=\"{{code}}\" class=\"checkbox-inline fix-indent\"></label>\n																</div>\n															</div>\n														{{else}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n															</div>\n														{{/if}}\n													{{/if}}\n												{{/if}}\n											{{/if}}\n										{{/if}}\n									{{/if}}\n								{{/if}}\n							{{/if}}\n						{{/if}}\n					{{/if}}\n				{{/if}}\n			{{/if}}\n		{{/if}}\n	{{/with}}";

InstanceReadOnlyTemplate.create = function (tempalteName, steedosData) {
  var template, templateCompiled, templateRenderFunction;
  template = InstanceReadOnlyTemplate[tempalteName];
  templateCompiled = SpacebarsCompiler.compile(template, {
    isBody: true
  });
  templateRenderFunction = eval(templateCompiled);
  Template[tempalteName] = new Blaze.Template(tempalteName, templateRenderFunction);
  Template[tempalteName].steedosData = steedosData;
  return Template[tempalteName].helpers(InstanceformTemplate.helpers);
};

InstanceReadOnlyTemplate.createInstanceSignText = function (steedosData) {
  var instanceSignTextCompiled, instanceSignTextHtml, instanceSignTextRenderFunction;
  instanceSignTextHtml = _getViewHtml('client/views/instance/instance_sign_text.html');
  instanceSignTextCompiled = SpacebarsCompiler.compile(instanceSignTextHtml, {
    isBody: true
  });
  instanceSignTextRenderFunction = eval(instanceSignTextCompiled);
  Template.instanceSignText = new Blaze.Template("instanceSignText", instanceSignTextRenderFunction);
  Template.instanceSignText.steedosData = steedosData;
  return Template.instanceSignText.helpers(InstanceSignText.helpers);
};

InstanceReadOnlyTemplate.createImageSign = function (steedosData) {
  var imageSignCompiled, imageSignHtml, imageSignRenderFunction;
  imageSignHtml = _getViewHtml('client/views/instance/image_sign.html');
  imageSignCompiled = SpacebarsCompiler.compile(imageSignHtml, {
    isBody: true
  });
  imageSignRenderFunction = eval(imageSignCompiled);
  Template.imageSign = new Blaze.Template("imageSign", imageSignRenderFunction);
  Template.imageSign.steedosData = steedosData;
  return Template.imageSign.helpers(ImageSign.helpers);
};

InstanceReadOnlyTemplate.createTracesHanlder = function (steedosData) {
  var tracesHanlderCompiled, tracesHanlderHtml, tracesHanlderRenderFunction;
  tracesHanlderHtml = _getViewHtml('client/views/instance/traces_handler.html');
  tracesHanlderCompiled = SpacebarsCompiler.compile(tracesHanlderHtml, {
    isBody: true
  });
  tracesHanlderRenderFunction = eval(tracesHanlderCompiled);
  Template.instance_traces_handler = new Blaze.Template("instance_traces_handler", tracesHanlderRenderFunction);
  Template.instance_traces_handler.steedosData = steedosData;
  return Template.instance_traces_handler.helpers(TracesHandler.helpers);
};

InstanceReadOnlyTemplate.init = function (steedosData) {
  InstanceReadOnlyTemplate.create("afSelectUserRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("afFormGroup", steedosData);
  }

  InstanceReadOnlyTemplate.create("afFormGroupRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("instance_attachment", {
      absolute: steedosData.absolute
    });
    InstanceReadOnlyTemplate.createImageSign(steedosData);
    InstanceReadOnlyTemplate.createTracesHanlder(steedosData);
    return InstanceReadOnlyTemplate.createInstanceSignText(steedosData);
  }
};

getLinkText = function (item, label, detail_url) {
  if (detail_url) {
    detail_url = detail_url.replace("{_id}", item._id);

    if (!/^http(s?):\/\//.test(detail_url)) {
      detail_url = Steedos.absoluteUrl(detail_url);
    }

    return '<a href="' + detail_url + '" target="_blank">' + label + '</a>';
  } else {
    return label;
  }
};

InstanceReadOnlyTemplate.getValue = function (value, field, locale, utcOffset) {
  var date, detail_url, e, hours, month, seconds, t, t0, t1, year;

  if (!value && value !== false) {
    return '';
  }

  switch (field.type) {
    case 'email':
      value = value ? '<a href=\'mailto:' + value + '\'>' + value + '</a>' : '';
      break;

    case 'url':
      if (value) {
        if (value.indexOf("http") === 0) {
          try {
            value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
          } catch (error) {
            e = error;
            value = "<a href='' target='_blank'>" + value + "</a>";
          }
        } else {
          value = "<a href='http://" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
        }
      } else {
        value = '';
      }

      break;

    case 'group':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("fullname").toString() : void 0;
      } else {
        value = value != null ? value.fullname : void 0;
      }

      break;

    case 'user':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("name").toString() : void 0;
      } else {
        value = value != null ? value.name : void 0;
      }

      break;

    case 'password':
      value = '******';
      break;

    case 'checkbox':
      if (value && value !== 'false') {
        value = TAPi18n.__("form_field_checkbox_yes", {}, locale);
      } else {
        value = TAPi18n.__("form_field_checkbox_no", {}, locale);
      }

      break;

    case 'dateTime':
      if (value && value.length === 16) {
        t = value.split("T");
        t0 = t[0].split("-");
        t1 = t[1].split(":");
        year = t0[0];
        month = t0[1];
        date = t0[2];
        hours = t1[0];
        seconds = t1[1];
        value = new Date(year, month - 1, date, hours, seconds);
      } else {
        value = new Date(value);
      }

      value = InstanceReadOnlyTemplate.formatDate(value, utcOffset);
      break;

    case 'input':
      if (field.is_textarea) {
        value = Spacebars.SafeString(Markdown(value));
      }

      break;

    case 'number':
      if (value || value === 0) {
        value = Steedos.numberToString(value, field.digits);
      }

      break;

    case 'odata':
      detail_url = field.detail_url;

      if (field.is_multiselect) {
        value = _.map(value, function (item) {
          return getLinkText(item, item['@label'], detail_url);
        });
      } else {
        value = getLinkText(value, value['@label'], detail_url);
      }

      break;

    case 'html':
      value = value ? "<div class=\"steedos-html\">" + value + "</div>" : '';
  }

  return value;
};

InstanceReadOnlyTemplate.getLabel = function (fields, code) {
  var field;
  field = fields.findPropertyByPK("code", code);

  if (field) {
    if (field.name) {
      return field.name;
    } else {
      return field.code;
    }
  }
};

InstanceReadOnlyTemplate.getInstanceFormVersion = function (instance) {
  var form, form_fields, form_version;
  form = db.forms.findOne(instance.form);
  form_version = {};
  form_fields = [];

  if (form.current._id === instance.form_version) {
    form_version = form.current;
  } else {
    form_version = _.where(form.historys, {
      _id: instance.form_version
    })[0];
  }

  form_version.fields.forEach(function (field) {
    if (field.type === 'section') {
      form_fields.push(field);

      if (field.fields) {
        return field.fields.forEach(function (f) {
          return form_fields.push(f);
        });
      }
    } else if (field.type === 'table') {
      field['sfields'] = field['fields'];
      delete field['fields'];
      return form_fields.push(field);
    } else {
      return form_fields.push(field);
    }
  });
  form_version.fields = form_fields;
  return form_version;
};

InstanceReadOnlyTemplate.getFlowVersion = function (instance) {
  var flow, flow_version;
  flow = db.flows.findOne(instance.flow);
  flow_version = {};

  if (flow.current._id === instance.flow_version) {
    flow_version = flow.current;
  } else {
    flow_version = _.where(flow.historys, {
      _id: instance.flow_version
    })[0];
  }

  return flow_version;
};

_getViewHtml = function (path) {
  var viewHtml;
  viewHtml = Assets.getText(path);

  if (viewHtml) {
    viewHtml = viewHtml.replace(/<template[\w\s\"\=']+>/i, "").replace(/<\/template>/i, "");
  }

  return viewHtml;
};

_getLocale = function (user) {
  var locale, ref, ref1;

  if ((user != null ? (ref = user.locale) != null ? ref.toLocaleLowerCase() : void 0 : void 0) === 'zh-cn') {
    locale = "zh-CN";
  } else if ((user != null ? (ref1 = user.locale) != null ? ref1.toLocaleLowerCase() : void 0 : void 0) === 'en-us') {
    locale = "en";
  } else {
    locale = "zh-CN";
  }

  return locale;
};

_getRequiredFields = function (fields, rev) {
  if (!rev) {
    rev = [];
  }

  fields.forEach(function (field) {
    if (field.type === 'section') {
      return _getRequiredFields(field.fields, rev);
    } else if (field.type === 'table') {} else {
      if (field.is_required) {
        return rev.push(field.code);
      }
    }
  });
  return rev;
};

_getStartStepEditableFields = function (fields, steps) {
  var editableCode, startStep;
  startStep = steps.findPropertyByPK("step_type", "start");
  editableCode = [];

  _.keys(startStep.permissions).forEach(function (key) {
    if (startStep.permissions[key] === 'editable') {
      return editableCode.push(key);
    }
  });

  return editableCode;
};

_getStartStepRequiredFields = function (fields, steps) {
  var editableCode, requiredFields;
  requiredFields = _getRequiredFields(fields);
  editableCode = _getStartStepEditableFields(fields, steps);
  return _.intersection(requiredFields, editableCode);
};

_getTemplateData = function (user, space, instance, options) {
  var flow, form, form_version, locale, steedosData;

  if (Meteor.isServer) {
    form_version = InstanceReadOnlyTemplate.getInstanceFormVersion(instance);
  } else {
    form_version = WorkflowManager.getInstanceFormVersion(instance);
  }

  locale = _getLocale(user);
  steedosData = {};

  if (Meteor.isClient) {
    steedosData = _.clone(WorkflowManager_format.getAutoformSchemaValues());
    steedosData.insname = instance.name;
    steedosData.ins_state = instance.state;
    steedosData.ins_final_decision = instance.ins_final_decision;
    steedosData.ins_code = instance.code;
    steedosData.ins_is_archived = instance.is_archived;
    steedosData.ins_is_deleted = instance.ins_is_deleted;
    steedosData.applicant_name = instance.applicant_name;
    steedosData.applicantContext = instance.applicant_name;
  }

  steedosData.instance = instance;
  steedosData.form_version = form_version;
  steedosData.locale = locale;
  steedosData.utcOffset = user.utcOffset;
  steedosData.space = instance.space;
  steedosData.sessionUserId = user._id;

  if (Meteor.isServer) {
    if (options != null ? options.editable : void 0) {
      form = db.forms.findOne({
        _id: instance.form
      });
      flow = db.flows.findOne({
        _id: instance.flow
      });
      steedosData.startStepEditableFields = _getStartStepEditableFields(form.current.fields, flow.current.steps);
    }
  }

  return steedosData;
};

InstanceReadOnlyTemplate.formatDate = function (date, utcOffset) {
  var passing;

  if (Meteor.isServer) {
    passing = false;
  } else {
    passing = true;
  }

  if (!utcOffset && utcOffset !== 0) {
    utcOffset = 8;
  }

  return moment(date).utcOffset(utcOffset, passing).format("YYYY-MM-DD HH:mm");
};

InstanceReadOnlyTemplate.getInstanceView = function (user, space, instance, options) {
  var body, instanceCompiled, instanceRenderFunction, instanceTemplate, steedosData;
  steedosData = _getTemplateData(user, space, instance, options);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  instanceTemplate = TemplateManager.getTemplate(instance, options != null ? options.templateName : void 0);
  instanceTemplate = instanceTemplate.replace(/afSelectUser/g, "afSelectUserRead");

  if (!(options != null ? options.editable : void 0)) {
    instanceTemplate = instanceTemplate.replace(/afFormGroup/g, "afFormGroupRead");
  }

  instanceCompiled = SpacebarsCompiler.compile(instanceTemplate, {
    isBody: true
  });
  instanceRenderFunction = eval(instanceCompiled);
  Template.instance_readonly_view = new Blaze.Template("instance_readonly_view", instanceRenderFunction);
  Template.instance_readonly_view.steedosData = steedosData;
  Template.instance_readonly_view.helpers(InstanceformTemplate.helpers);
  InstanceReadOnlyTemplate.init(steedosData);
  body = Blaze.toHTMLWithData(Template.instance_readonly_view, steedosData);
  return "<div id='instanceform' >\n	" + body + "\n</div>";
};

InstanceReadOnlyTemplate.getTracesView = function (user, space, instance, options) {
  var body, form, steedosData, traceCompiled, traceRenderFunction, tracesHtml;
  steedosData = _getTemplateData(user, space, instance);
  form = db.forms.findOne(instance.form);

  if (form.instance_style === "table" || (options != null ? options.templateName : void 0) === "table") {
    tracesHtml = _getViewHtml('client/views/instance/traces_table.html');
  } else {
    tracesHtml = _getViewHtml('client/views/instance/traces.html');
  }

  traceCompiled = SpacebarsCompiler.compile(tracesHtml, {
    isBody: true
  });
  traceRenderFunction = eval(traceCompiled);
  Template.trace_readonly_view = new Blaze.Template("trace_readonly_view", traceRenderFunction);
  Template.trace_readonly_view.steedosData = steedosData;
  Template.trace_readonly_view.helpers(TracesTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.trace_readonly_view, instance.traces);
  return body;
};

InstanceReadOnlyTemplate.getAttachmentView = function (user, space, instance) {
  var attachmentCompiled, attachmentHtml, attachmentRenderFunction, body, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  attachmentHtml = _getViewHtml('client/views/instance/instance_attachments.html');
  attachmentCompiled = SpacebarsCompiler.compile(attachmentHtml, {
    isBody: true
  });
  attachmentRenderFunction = eval(attachmentCompiled);
  Template.attachments_readonly_view = new Blaze.Template("attachments_readonly_view", attachmentRenderFunction);
  Template.attachments_readonly_view.steedosData = steedosData;
  Template.attachments_readonly_view.helpers(InstanceAttachmentTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.attachments_readonly_view);
  return body;
};

InstanceReadOnlyTemplate.getRelatedInstancesView = function (user, space, instance, options) {
  var body, relatedInstancesCompiled, relatedInstancesHtml, relatedInstancesRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedInstancesHtml = _getViewHtml('client/views/instance/related_instances.html');
  relatedInstancesCompiled = SpacebarsCompiler.compile(relatedInstancesHtml, {
    isBody: true
  });
  relatedInstancesRenderFunction = eval(relatedInstancesCompiled);
  Template.related_instances_view = new Blaze.Template("related_instances_view", relatedInstancesRenderFunction);
  Template.related_instances_view.steedosData = steedosData;
  Template.related_instances_view.helpers(RelatedInstances.helpers);
  body = Blaze.toHTMLWithData(Template.related_instances_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getRelatedRecordsView = function (user, space, instance, options) {
  var body, relatedRecordsCompiled, relatedRecordsHtml, relatedRecordsRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedRecordsHtml = _getViewHtml('client/views/instance/related_records.html');
  relatedRecordsCompiled = SpacebarsCompiler.compile(relatedRecordsHtml, {
    isBody: true
  });
  relatedRecordsRenderFunction = eval(relatedRecordsCompiled);
  Template.related_records_view = new Blaze.Template("related_records_view", relatedRecordsRenderFunction);
  Template.related_records_view.steedosData = steedosData;
  Template.related_records_view.helpers(RelatedRecords.helpers);
  body = Blaze.toHTMLWithData(Template.related_records_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getOnLoadScript = function (instance) {
  var form_script, form_version;
  form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
  form_script = form_version.form_script;

  if (form_script && form_script.replace(/\n/g, "").replace(/\s/g, "").length > 0) {
    form_script = "CoreForm = {};CoreForm.instanceform = {};" + form_script;
    return form_script += ";if(CoreForm.form_OnLoad){window.onload = CoreForm.form_OnLoad();}";
  } else {
    return form_script = "";
  }
};

InstanceReadOnlyTemplate.getInstanceHtml = function (user, space, instance, options) {
  var allCssLink, attachment, body, creatorService, cssHref, form, formDescription, formDescriptionHtml, html, ins_record_ids, instanceBoxStyle, instance_style, locale, onLoadScript, openFileScript, ref, ref1, related_instances, related_records, showTracesBtn, showTracesScript, trace, traceCheck, width;
  body = InstanceReadOnlyTemplate.getInstanceView(user, space, instance, options);
  onLoadScript = InstanceReadOnlyTemplate.getOnLoadScript(instance);
  creatorService = (ref = Meteor.settings["public"].webservices) != null ? (ref1 = ref.creator) != null ? ref1.url : void 0 : void 0;
  ins_record_ids = instance.record_ids;
  locale = _getLocale(user);
  openFileScript = "if(window.isNode && isNode()){\n	attachs = document.getElementsByClassName(\"ins_attach_href\");\n	for(var i = 0; i < attachs.length; i++){\n		attach = attachs[i];\n		attach.addEventListener(\"click\", function(e){\n			if(isImage(this.dataset.type) || isHtml(this.dataset.type)){\n				e.preventDefault();\n				openWindow(\"/api/files/instances/\" + this.dataset.id);\n			}else if(nw_core.canOpenFile(this.dataset.name)){\n				e.preventDefault();\n				nw_core.openFile(this.href, this.dataset.name)\n			}\n		});\n	}\n}\n\nvar flow = \"" + instance.flow + "\";\nvar space = \"" + instance.space + "\";\n\nfunction getCookie(name){\n	let pattern = RegExp(name + \"=.[^;]*\")\n	let matched = document.cookie.match(pattern)\n	if(matched){\n		let cookie = matched[0].split('=')\n		return cookie[1]\n	}\n	return ''\n}\n\nvar records = document.getElementsByClassName(\"ins-related-records\");\nfor(var i = 0; i < records.length; i++){\n		var record = records[i];\n		record.addEventListener(\"click\", function(e){\n			var creatorService = \"" + creatorService + "\"\n			var ins_record_ids = " + JSON.stringify(ins_record_ids) + "\n			if(creatorService && ins_record_ids && ins_record_ids.length > 0){\n				var objcetName = ins_record_ids[0].o\n				var id = ins_record_ids[0].ids[0]\n				var uobj = {};\n				uobj[\"X-User-Id\"] = getCookie(\"X-User-Id\");\n				uobj[\"X-Auth-Token\"] = getCookie(\"X-Auth-Token\");\n				redirectUrl = creatorService + \"app/-/\" + objcetName + \"/view/\" + id + \"?\" + $.param(uobj);\n				openWindow(redirectUrl);\n			}\n		});\n	}\n";

  if (!Steedos.isMobile()) {
    form = db.forms.findOne(instance.form);

    if ((form != null ? form.instance_style : void 0) === 'table') {
      instance_style = "instance-table";
    }
  }

  if ((options != null ? options.templateName : void 0) === 'table') {
    instance_style = "instance-table";
  }

  if (options != null ? options.instance_style : void 0) {
    instance_style = options.instance_style;
  }

  if (!options || options.showTrace === true) {
    trace = InstanceReadOnlyTemplate.getTracesView(user, space, instance);
  } else {
    trace = "";
  }

  instanceBoxStyle = "";

  if (instance && instance.final_decision) {
    if (instance.final_decision === "approved") {
      instanceBoxStyle = "box-success";
    } else if (instance.final_decision === "rejected") {
      instanceBoxStyle = "box-danger";
    }
  }

  if (!options || options.showAttachments === true) {
    attachment = InstanceReadOnlyTemplate.getAttachmentView(user, space, instance);
    related_instances = InstanceReadOnlyTemplate.getRelatedInstancesView(user, space, instance, options);
    related_records = InstanceReadOnlyTemplate.getRelatedRecordsView(user, space, instance, options);
  } else {
    attachment = "";
    related_instances = "";
    related_records = "";
  }

  width = "960px";

  if (options != null ? options.width : void 0) {
    width = "";
  }

  cssHref = Meteor.absoluteUrl("steedos-css");
  allCssLink = "<link rel=\"stylesheet\" type=\"text/css\" class=\"__meteor-css__\" href=\"" + cssHref + "\">";
  traceCheck = "";

  if (!_.isEmpty(trace)) {
    traceCheck = "checked";
  }

  if ((options != null ? options.tagger : void 0) === 'email' || (options != null ? options.editable : void 0)) {
    showTracesBtn = "";
  } else {
    showTracesBtn = "<div class=\"navigation-bar btn-group no-print\" style=\"min-width: 600px; z-index: 999\">\n	<div class=\"print-tool\">\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-attachments\" id=\"cbx-print-attachments\" checked=\"checked\"><span>" + TAPi18n.__('instance_attachment', {}, locale) + "</span></label>\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-traces\" id=\"cbx-print-traces\" checked=\"" + traceCheck + "\"><span>" + TAPi18n.__('instance_approval_history', {}, locale) + "</span></label>\n	</div>\n</div>";
  }

  showTracesScript = "$( document ).ready(function(){\n	var b = document.getElementById('cbx-print-traces');\n	var t = document.getElementsByClassName('instance-traces')[0];\n	if (b && b.checked && t){\n		t.style = 'display: block;'\n	} else if(t){\n		t.style = 'display: none;'\n	}\n	if(b){\n		b.addEventListener('change', function(e){\n			if (e.target.checked){\n				t.style = 'display: block;'\n			} else {\n				t.style = 'display: none;'\n			}\n		});\n	}\n\n\n	var attachmentsCheckbox = document.getElementById('cbx-print-attachments');\n	var attachmentsView = document.getElementsByClassName('attachments-section')[0];\n	if (attachmentsCheckbox && attachmentsCheckbox.checked && attachmentsView){\n		attachmentsView.style = 'display: block;'\n	} else if(attachmentsView){\n		attachmentsView.style = 'display: none;'\n	}\n	if(attachmentsCheckbox){\n		attachmentsCheckbox.addEventListener('change', function(e){\n			if (e.target.checked){\n				attachmentsView.style = 'display: block;'\n			} else {\n				attachmentsView.style = 'display: none;'\n			}\n		});\n	}\n});\n";

  if (options != null ? options.styles : void 0) {
    allCssLink = "";
  }

  form = db.forms.findOne({
    _id: instance.form
  });
  formDescriptionHtml = "";

  if (form) {
    formDescription = form.description;

    if (formDescription) {
      formDescription = formDescription.replace(/\n/g, "<br/>");
      formDescriptionHtml = "<div class=\"box-header  with-border instance-header\">\n	<div>\n		" + formDescription + "\n	</div>\n</div>";
    }
  }

  html = "<!DOCTYPE html>\n<html>\n	<head>\n		<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/>\n		" + allCssLink + "\n		<script src=\"https://www.steedos.com/website/libs/jquery.min.js\" type=\"text/javascript\"></script>\n		<script src=\"/js/nw_core.js\" type=\"text/javascript\"></script>\n		" + (options.plugins || "") + "\n\n		<style>\n			.steedos{\n				width: " + width + ";\n				margin-left: auto;\n				margin-right: auto;\n			}\n\n			.instance-view .instance-name{\n				display: inline !important\n			}\n			.box-tools{\n				display: none;\n			}\n			.box.collapsed-box .box-body,.box.collapsed-box .box-footer {\n			  display: block;\n			}\n\n			body{\n				background: azure !important;\n			}\n\n			.instance-view .instance-traces{\n				padding-left: 15px;\n				padding-right: 15px;\n			}\n\n			" + ((options != null ? options.styles : void 0) || "") + "\n		</style>\n	</head>\n	<body>\n		<div class=\"steedos workflow instance-print\">\n			<div class=\"skin-green skin-admin-lte\">\n				<div class=\"wrapper\">\n					<div class=\"content-wrapper\">\n						" + showTracesBtn + "\n						<div class=\"instance-print\">\n							<div class=\"instance " + instance_style + "\">\n								<form name=\"instanceForm\">\n									<div class=\"instance-form box " + instanceBoxStyle + "\">\n										" + formDescriptionHtml + "\n										<div class=\"box-body\">\n											<div class=\"col-md-12\">\n												<div class='attachments-section'>\n													" + attachment + "\n													" + related_instances + "\n													" + related_records + "\n												</div>\n												" + body + "\n											</div>\n										</div>\n									</div>\n								</form>\n								" + trace + "\n							</div>\n\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</body>\n	<script>" + openFileScript + ";" + onLoadScript + ";" + showTracesScript + "</script>\n</html>";
  return html;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/template_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var formId;
TemplateManager = {};
formId = 'instanceform';

TemplateManager.instance_title = function () {
  var pageTitle, pageTitleTrClass, val;
  pageTitle = "{{instance.name}}";
  pageTitleTrClass = "instance-name";

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) {
    pageTitle = "{{> afFormGroup name=\"" + CoreForm.pageTitleFieldName + "\" label=false}}";
    pageTitleTrClass = "";
  }

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitle : void 0) {
    pageTitle = "" + CoreForm.pageTitle;
    pageTitleTrClass = "";
  }

  val = {
    pageTitle: pageTitle,
    pageTitleTrClass: pageTitleTrClass
  };
  return val;
};

TemplateManager.handleTableTemplate = function (instance, _export) {
  var table_fields, template;
  template = "<div class='instance-template'>\n	<table class=\"table-page-title form-table no-border text-align-center\" style=\"width: 100%;display: inline-table;\">\n		<tr class=\"" + this.instance_title().pageTitleTrClass + "\">\n			<td class=\"instance-table-name-td page-title\">\n				" + this.instance_title().pageTitle + "\n			</td>\n		</tr>\n\n	</table>\n	<table class=\"table-page-body form-table\">\n			<tr style=\"height:0px\">\n				<th style='width: 16%'></th>\n				<th></th>\n				<th style='width: 16%'></th>\n				<th></th>\n			</tr>";
  table_fields = InstanceformTemplate.helpers.table_fields(instance);
  table_fields.forEach(function (table_field) {
    var field_permission, pureCode, required, title_permission;
    required = "";

    if (!(typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) || (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) !== table_field.code) {
      if (table_field.is_required) {
        required = "is-required";
      }

      if (_export) {
        required = "";
      }

      pureCode = Steedos.removeSpecialCharacter(table_field.code);

      if (InstanceformTemplate.helpers.isOpinionField(table_field)) {
        template += table_field.tr_start;
        template += "<td class=\"td-title " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field opinion-field opinion-field-" + pureCode + " automatic\" colspan = \"" + table_field.td_colspan + "\">\n	{{> instanceSignText name=\"" + table_field.code + "\"}}\n</td>";
        return template += table_field.tr_end;
      } else {
        if (InstanceformTemplate.helpers.includes(table_field.type, 'section,table')) {
          template += table_field.tr_start;
          template += "<td class=\"td-childfield td-childfield-" + pureCode + "\" colspan = \"" + table_field.td_colspan + "\">\n   {{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        } else {
          template += table_field.tr_start;

          if (_export) {
            title_permission = "";
            field_permission = "";
          } else {
            title_permission = "title-" + table_field.permission;
            field_permission = "field-" + table_field.permission;
          }

          template += "<td class=\"td-title td-title-" + pureCode + " " + title_permission + " " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field td-field-" + pureCode + " " + field_permission + "\" colspan = \"" + table_field.td_colspan + "\">\n	{{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        }
      }
    }
  });
  template += "	</table>\n\n	<table class=\"table-page-footer form-table no-border\">\n		<tr class=\"applicant-wrapper\">\n			<td class=\"nowrap\">\n				<div class='inline-left'>\n					<label class=\"control-label\">{{_t \"instance_initiator\"}}：</label>\n				</div>\n				<div class='instance-table-wrapper-td inline-left'>\n					{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n				</div>\n			</td>\n			<td class=\"nowrap\">\n				<div class='pull-left'>\n					<div class='inline-left'>\n						<label>{{_t \"instance_submit_date\"}}：</label>\n					</div>\n					<div class='inline-right'>\n						<div class=\"form-group\">\n							{{formatDate instance.submit_date '{\"format\":\"YYYY-MM-DD\"}'}}\n						</div>\n					</div>\n				</div>\n			</td>\n		</tr>\n	</table>\n</div>";
  return template;
};

TemplateManager._template = {
  "default": function (instance) {
    var template;
    template = "<div class=\"with-border col-md-12\">\n	<div class=\"instance-name\">\n		<h3 class=\"box-title\">" + TemplateManager.instance_title().pageTitle + "</h3>\n		<span class=\"help-block\"></span>\n	</div>\n	<span class=\"help-block\"></span>\n</div>\n{{#each steedos_form.fields}}\n	{{#if isOpinionField this}}\n		<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			<div class=\"form-group automatic opinion-field-{{this.code}}\">\n				<label class=\"control-label\">{{afFieldLabelText name=this.code}}</label>\n\n				{{> instanceSignText name=this.code}}\n			</div>\n		</div>\n	{{else}}\n		{{#if includes this.type 'section,table'}}\n			<div class=\"col-md-12 field-{{this.code}}\">\n				{{> afFormGroup name=this.code label=false}}\n			</div>\n		{{else}}\n			<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			{{> afFormGroup name=this.code}}\n			</div>\n		{{/if}}\n	{{/if}}\n{{/each}}\n<div class=\"col-md-12\">\n	<div class=\"applicant-wrapper form-group form-horizontal\">\n	<div class=\"input-group\">\n		<div class=\"input-group-addon\">\n		  {{_t \"instance_initiator\"}}&nbsp;:\n		</div>\n		{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n	  </div>\n	</div>\n</div>";
    return template;
  },
  table: function (instance) {
    return TemplateManager.handleTableTemplate(instance);
  }
};
TemplateManager._templateHelps = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control',
        style: 'padding:6px 12px;width:140px;display:inline'
      }
    };
    data.atts.disabled = true;
    return data;
  }
};
({
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = formId;
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  }
});

TemplateManager.getTemplate = function (instance, templateName) {
  var flow, form;
  flow = db.flows.findOne(instance.flow);
  form = db.forms.findOne(instance.form);

  if (templateName) {
    if (templateName === 'table') {
      return TemplateManager._template.table(instance);
    }

    return TemplateManager._template["default"](instance);
  }

  if (typeof Session !== "undefined" && Session !== null ? Session.get("instancePrint") : void 0) {
    if (flow != null ? flow.print_template : void 0) {
      return "<div class='instance-template'>" + flow.print_template + "</div>";
    } else {
      if (flow != null ? flow.instance_template : void 0) {
        return "<div class='instance-template'>" + flow.instance_template + "</div>";
      } else {
        return TemplateManager._template.table(instance);
      }
    }
  } else {
    if (Steedos.isMobile()) {
      return TemplateManager._template["default"](instance);
    }

    if (flow != null ? flow.instance_template : void 0) {
      return "<div class='instance-template'>" + flow.instance_template + "</div>";
    }

    if (form != null ? form.instance_style : void 0) {
      if (form.instance_style === 'table') {
        return TemplateManager._template.table(instance);
      }

      return TemplateManager._template["default"](instance);
    } else {
      return TemplateManager._template["default"](instance);
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"coreform":{"inputTypes":{"coreform-table":{"steedos-table.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/coreform/inputTypes/coreform-table/steedos-table.js                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
SteedosTable = {};
SteedosTable.formId = "instanceform";

SteedosTable.checkItem = function (field, item_index) {
  var fieldObj = SteedosTable.getField(field);
  var fieldVal = SteedosTable.getItemModalValue(field, item_index);
  var sf_name = '';
  var rev = true;
  fieldObj.sfields.forEach(function (sf) {
    if (sf.permission == 'editable') {
      sf_name = fieldObj.code + "." + sf.code;

      if (!InstanceManager.checkFormFieldValue($("[name='" + sf_name + "']")[0], sf_name, fieldVal[sf.code])) {
        rev = false;
      }
    }
  });
  return rev;
};

SteedosTable.setTableItemValue = function (field, item_index, item_value) {
  var tableValue = SteedosTable.getTableValue(field);
  tableValue[item_index] = item_value;
};

SteedosTable.getTableItemValue = function (field, item_index) {
  return SteedosTable.getTableValue(field)[item_index];
};

SteedosTable.removeTableItem = function (field, item_index) {
  var item_value = SteedosTable.getTableItemValue(field, item_index);
  item_value.removed = true;
};

SteedosTable.setTableValue = function (field, value) {
  $("table[name='" + field + "']").val({
    val: value
  });
};

SteedosTable.getTableValue = function (field) {
  return $("table[name='" + field + "']").val().val;
};

SteedosTable.getValidValue = function (field) {
  var value = SteedosTable.getTableValue(field);

  if (!value) {
    return;
  }

  var validValue = [];
  value.forEach(function (v) {
    if (!v.removed) {
      validValue.push(v);
    }
  });
  return validValue;
};

SteedosTable.handleData = function (field, values) {
  if (!values || !(values instanceof Array)) {
    return values;
  }

  var fieldObj = SteedosTable.getField(field);
  values.forEach(function (v) {
    fieldObj.sfields.forEach(function (f) {
      if (f.type == 'user' || f.type == 'group') {
        var value = v[f.code];

        if (f.is_multiselect) {
          if (value && value.length > 0 && typeof value[0] == 'object') {
            v[f.code] = v[f.code].getProperty("id");
          }
        } else {
          if (value && typeof value == 'object') {
            v[f.code] = v[f.code].id;
          }
        }
      } else if (f.type == 'dateTime') {
        var value = v[f.code];

        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
            v[f.code] = value;
          }
        }
      }
    });
  });
  return values;
};

SteedosTable.getField = function (field) {
  var instanceFields = WorkflowManager.getInstanceFields();
  if (!instanceFields) return;
  var fieldObj = instanceFields.findPropertyByPK("code", field);
  return fieldObj;
};

SteedosTable.getModalData = function (field, index) {
  var data = {};
  var fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return;
  }

  data.field = fieldObj;
  data.field.formula = Form_formula.getFormulaFieldVariable("Form_formula.field_values", fieldObj.sfields);
  data.value = {};
  data.value[field] = SteedosTable.getTableItemValue(field, index);
  data.index = index;
  return data;
};

SteedosTable.getItemModalValue = function (field, item_index) {
  if (!AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index)) {
    return {};
  }

  var item_value = AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index).insertDoc[field];
  return item_value;
};

SteedosTable.addItem = function (field, index, _item_value) {
  var keys = SteedosTable.getKeys(field);

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  $("tbody[name='" + field + "Tbody']").append(SteedosTable.getTr(keys, item_value, index, field, true));
};

SteedosTable.updateItem = function (field, index, _item_value) {
  var item = $("tr[name='" + field + "_item_" + index + "']");

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  if (item && item.length > 0) {
    var keys = SteedosTable.getKeys(field);
    var tds = SteedosTable.getRemoveTd(field, index);
    var sfields = SteedosTable.getField(field).sfields;
    keys.forEach(function (key) {
      var sfield = sfields.findPropertyByPK("code", key);
      var value = item_value[key];
      tds = tds + SteedosTable.getTd(sfield, index, value);
    });
    item.empty();
    item.append(tds);
  } else {
    SteedosTable.addItem(field, index);
  }

  if (SteedosTable.getTableValue(field)) {
    SteedosTable.setTableItemValue(field, index, item_value); //SteedosTable.valueHash[field][index] = item_value;
  } else {
    //SteedosTable.valueHash[field] = [item_value];
    SteedosTable.setTableValue(field, [item_value]);
  } //执行主表公式计算


  InstanceManager.runFormula(field);
};

SteedosTable.removeItem = function (field, index) {
  $("tr[name='" + field + "_item_" + index + "']").hide();
  SteedosTable.removeTableItem(field, index);
  InstanceManager.runFormula(field);
};

SteedosTable.showModal = function (field, index, method) {
  var modalData = SteedosTable.getModalData(field, index);
  modalData.method = method;
  Modal.show("steedosTableModal", modalData);
};

SteedosTable.getKeys = function (field) {
  if (!AutoForm.getCurrentDataForForm(SteedosTable.formId)) {
    return [];
  }

  var ss = AutoForm.getFormSchema(SteedosTable.formId);
  var keys = [];

  if (ss.schema(field + ".$").type === Object) {
    keys = ss.objectKeys(SimpleSchema._makeGeneric(field) + '.$');
  }

  return keys;
};

SteedosTable.getThead = function (field, editable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return '';
  }

  var thead = '',
      trs = '',
      label = '',
      width = 100;

  if (editable) {
    // trs = "<th class='removed'></th>"
    trs = "";
  }

  var sfields = fieldObj.sfields;

  if (!sfields) {
    return thead;
  }

  var sf_length = sfields.length;

  if (sf_length > 0) {
    var wide_fields = sfields.filterProperty("is_wide", true);
    width = 100 / (sf_length + wide_fields.length);
  }

  sfields.forEach(function (sf, index) {
    label = sf.name != null && sf.name.length > 0 ? sf.name : sf.code;
    trs = trs + "<td "; // nowrap='nowrap'

    trs = trs + " class='title " + sf.type + "'";

    if (index != sf_length - 1) {
      if (sf.is_wide) {
        trs = trs + "style='width:" + width * 2 + "%'";
      } else {
        trs = trs + "style='width:" + width + "%'";
      }
    }

    trs = trs + ">" + label + "</td>";
  });
  thead = '<tr>' + trs + '</tr>';
  return thead;
};

SteedosTable.getTbody = function (keys, field, values, editable, sfieldsEditable) {
  var tbody = "";

  if (values instanceof Array) {
    values.forEach(function (value, index) {
      tbody = tbody + SteedosTable.getTr(keys, value, index, field, editable, sfieldsEditable);
    });
  }

  return tbody;
};

SteedosTable.getTr = function (keys, item_value, index, field, editable, sfieldsEditable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);
  var tr = "<tr id='" + fieldObj.code + "_item_" + index + "' name='" + fieldObj.code + "_item_" + index + "' data-index='" + index + "'";

  if (editable || sfieldsEditable) {
    tr = tr + "' class='item edit'";
  } else {
    if (Steedos.isMobile()) {
      tr = tr + " class='item item-readonly'";
    } else {
      tr = tr + " class='item '";
    }
  }

  if (item_value.removed) {
    tr = tr + " style='display:none' ";
  }

  tr = tr + "'>";
  var tds = "";

  if (editable) {
    tds = SteedosTable.getRemoveTd(fieldObj.code, index);
  }

  var sfields = fieldObj.sfields;
  keys.forEach(function (key) {
    var sfield = sfields.findPropertyByPK("code", key);
    var value = item_value[key];
    tds = tds + SteedosTable.getTd(sfield, index, value);
  });
  tr = tr + tds + "</tr>";
  return tr;
};

SteedosTable.getRemoveTd = function (field, index) {
  // return "<td class='steedosTable-item-remove removed' data-index='" + index + "'><i class='fa fa-times' aria-hidden='true'></td>";
  return "";
};

SteedosTable.getTd = function (field, index, value) {
  var td = "<td ";
  td = td + " class='steedosTable-item-field " + field.type + "' ";
  var td_value = "";

  if (Meteor.isClient) {
    td_value = SteedosTable.getTDValue(field, value);
  } else {
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    td_value = InstanceReadOnlyTemplate.getValue(value, field, locale, utcOffset);
  }

  td = td + " data-index='" + index + "'>" + td_value + "</td>";
  return td;
};

SteedosTable.getTDValue = function (field, value) {
  var td_value = "";

  if (!field) {
    return td_value;
  }

  try {
    switch (field.type) {
      case 'user':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaSpaceUsers(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var u = CFDataManager.getFormulaSpaceUsers(value);
              td_value = u ? u.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'group':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaOrganizations(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var o = CFDataManager.getFormulaOrganization(value);
              td_value = o ? o.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'checkbox':
        if (value === true || value == 'true') {
          td_value = TAPi18n.__("form_field_checkbox_yes");
        } else {
          td_value = TAPi18n.__("form_field_checkbox_no");
        }

        break;

      case 'email':
        td_value = value ? "<a href='mailto:" + value + "'>" + value + "</a>" : "";
        break;

      case 'url':
        if (value) {
          if (value.indexOf("http") == 0) {
            try {
              td_value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
            } catch (e) {
              td_value = "<a href='' target='_blank'>" + value + "</a>";
            }
          } else {
            td_value = "<a href='http://" + encodeURI(value) + "' target='_blank'>http://" + value + "</a>";
          }
        } else {
          td_value = "";
        }

        break;

      case 'password':
        td_value = '******';
        break;

      case 'date':
        if (value) {
          if (value.length == 10) {
            var t = value.split("-");
            year = t[0];
            month = t[1];
            date = t[2];
            value = new Date(year, month - 1, date);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd');
        }

        break;

      case 'dateTime':
        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd HH:mm');
        }

        break;

      case 'number':
        if (value || value == 0) {
          td_value = Steedos.numberToString(value, field.digits);
        }

        break;

      case 'odata':
        if (value) {
          if (field.is_multiselect) {
            td_value = _.pluck(value, '@label').toString();
          } else {
            td_value = value['@label'];
          }
        }

        break;

      default:
        td_value = value ? value : '';
        break;
    }
  } catch (e) {
    e;
    return '';
  }

  return td_value;
};

if (Meteor.isClient) {
  AutoForm.addInputType("table", {
    template: "afTable",
    valueOut: function () {
      var name = this.data("schemaKey");
      return SteedosTable.getValidValue(name);
    },
    valueConverters: {
      "stringArray": AutoForm.valueConverters.stringToStringArray,
      "number": AutoForm.valueConverters.stringToNumber,
      "numerArray": AutoForm.valueConverters.stringToNumberArray,
      "boolean": AutoForm.valueConverters.stringToBoolean,
      "booleanArray": AutoForm.valueConverters.stringToBooleanArray,
      "date": AutoForm.valueConverters.stringToDate,
      "dateArray": AutoForm.valueConverters.stringToDateArray
    },
    contextAdjust: function (context) {
      if (typeof context.atts.maxlength === 'undefined' && typeof context.max === 'number') {
        context.atts.maxlength = context.max;
      }

      return context;
    }
  });
  Template.afTable.events({
    'tap .steedos-table .steedosTable-item-add,.add-item-tr': function (event, template) {
      var name = template.data.name;
      var tableValue = SteedosTable.getTableValue(name);
      var new_item_index = tableValue ? tableValue.length : 0;
      SteedosTable.showModal(name, new_item_index, "add");
    },
    'tap .steedos-table .steedosTable-item-field': function (event, template) {
      if (template.data.atts.editable || template.data.atts.sfieldsEditable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "edit");
      }
    },
    'tap .steedos-table .steedosTable-item-remove': function (event, template) {
      var field = template.data.name;
      var item_index = event.currentTarget.dataset.index;
      Session.set("instance_change", true);
      SteedosTable.removeItem(field, item_index);
    },
    'tap .steedos-table .item-readonly': function (event, template) {
      if (!template.data.atts.editable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "read");
      }
    }
  });

  Template.afTable.rendered = function () {
    var field = this.data.name;
    var sfieldsEditable = this.data.atts.sfieldsEditable;
    var keys = SteedosTable.getKeys(field);
    var validValue = SteedosTable.handleData(field, this.data.value);
    SteedosTable.setTableValue(field, validValue);
    $("thead[name='" + field + "Thead']").html(SteedosTable.getThead(field, this.data.atts.editable));
    $("tbody[name='" + field + "Tbody']").html(SteedosTable.getTbody(keys, field, SteedosTable.getTableValue(field), this.data.atts.editable, sfieldsEditable));
    str = t("steedos_table_add_item");
    addItemTr = "<tr class='add-item-tr'><td colspan='" + keys.length + "'><i class='ion ion-plus-round'></i>" + str + "</td></tr>";

    if (this.data.atts.editable) {
      $("tfoot[name='" + field + "Tfoot']").append(addItemTr);
    }

    var c = InstanceManager.getCurrentStep();

    if (c.step_type == 'counterSign' || InstanceManager.ccHasEditPermission()) {
      this.autorun(function () {
        var data = Template.currentData();
        var field = data.name;
        var keys = SteedosTable.getKeys(field);
        var validValue = SteedosTable.handleData(field, data.value);
        SteedosTable.setTableValue(field, validValue);
        $("tbody[name='" + field + "Tbody']").html(SteedosTable.getTbody(keys, field, SteedosTable.getTableValue(field), data.atts.editable, sfieldsEditable));
      });
    }
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"views":{"instance":{"_image_sign.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_image_sign.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
ImageSign.helpers = {
  spaceUserSign: function (userId) {
    var space, spaceUserSign;
    space = "";

    if (Meteor.isServer) {
      space = Template.instance().view.template.steedosData.space;
    } else {
      space = Session.get("spaceId");
    }

    spaceUserSign = db.space_user_signs.findOne({
      space: space,
      user: userId
    });
    return spaceUserSign;
  },
  imageURL: function (userId) {
    var absolute, spaceUserSign;
    spaceUserSign = ImageSign.helpers.spaceUserSign(userId);
    absolute = false;

    if (Meteor.isServer) {
      absolute = Template.instance().view.template.steedosData.absolute;
    }

    if (spaceUserSign != null ? spaceUserSign.sign : void 0) {
      if (absolute) {
        return Meteor.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      } else {
        return Steedos.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_traces_handler.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_traces_handler.coffee                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
TracesHandler.helpers = {
  showSignImage: function (handler, is_finished, judge) {
    var spaceUserSign;

    if (!is_finished) {
      return false;
    }

    if (['returned', 'terminated', 'retrieved'].includes(judge)) {
      return false;
    }

    spaceUserSign = ImageSign.helpers.spaceUserSign(handler);

    if (spaceUserSign != null ? spaceUserSign.sign : void 0) {
      return true;
    } else {
      return false;
    }
  },
  objectUrl: function (object_name, record_id, app_id) {
    return Creator.getObjectUrl(object_name, record_id, app_id);
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_form.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_form.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceformTemplate.helpers = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: steedos_instance.applicant_name
    };

    if (!steedos_instance || steedos_instance.state !== "draft") {
      data.atts.disabled = true;
    }

    return data;
  },
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = "instanceform";
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  empty: function (val) {
    if (val) {
      return false;
    } else {
      return true;
    }
  },
  unempty: function (val) {
    if (val) {
      return true;
    } else {
      return false;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  unequals: function (a, b) {
    return !(a === b);
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  include: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  formatDate: function (date, options) {
    if (!date) {
      return "";
    }

    if (options && typeof options === 'string') {
      options = JSON.parse(options);
    }

    if (!options.format) {
      options = {
        format: "YYYY-MM-DD HH:mm"
      };
    }

    return moment(date).format(options.format);
  },
  traces: function () {
    var flow, instance, locale, ref, ref1, ref2, ref3, steedosData, steps, traces;

    if (Meteor.isServer) {
      steedosData = (ref = Template.instance()) != null ? (ref1 = ref.view) != null ? (ref2 = ref1.template) != null ? ref2.steedosData : void 0 : void 0 : void 0;
      instance = steedosData != null ? steedosData.instance : void 0;
      flow = InstanceReadOnlyTemplate.getFlowVersion(instance);
      locale = steedosData != null ? steedosData.locale : void 0;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      instance = WorkflowManager.getInstance();
      flow = WorkflowManager.getInstanceFlowVersion();
      locale = Session.get("TAPi18n::loaded_lang");
    }

    if (!instance || !flow) {
      return {};
    }

    steps = flow.steps;
    traces = {};

    if ((ref3 = instance.traces) != null) {
      ref3.forEach(function (trace) {
        var approves, ref4, step;
        step = steps.findPropertyByPK("_id", trace.step);
        approves = [];

        if ((ref4 = trace.approves) != null) {
          ref4.forEach(function (approve) {
            var judge_name;

            if (trace.is_finished === true) {
              if (approve.judge === 'approved') {
                judge_name = TAPi18n.__("Instance State approved", {}, locale);
              } else if (approve.judge === 'rejected') {
                judge_name = TAPi18n.__("Instance State rejected", {}, locale);
              } else if (approve.judge === 'terminated') {
                judge_name = TAPi18n.__("Instance State terminated", {}, locale);
              } else if (approve.judge === 'reassigned') {
                judge_name = TAPi18n.__("Instance State reassigned", {}, locale);
              } else if (approve.judge === 'relocated') {
                judge_name = TAPi18n.__("Instance State relocated", {}, locale);
              } else if (approve.judge === '') {
                judge_name = "";
              } else {
                judge_name = "";
              }
            } else {
              judge_name = TAPi18n.__("Instance State pending", {}, locale);
            }

            return approves.push({
              _id: approve._id,
              handler: approve.user,
              handler_name: approve.handler_name,
              handler_organization_name: approve.handler_organization_name,
              handler_organization_fullname: approve.handler_organization_fullname,
              finish_date: approve.finish_date,
              judge: approve.judge,
              judge_name: judge_name,
              description: approve.description,
              is_finished: approve.is_finished,
              type: approve.type,
              opinion_fields_code: approve.opinion_fields_code,
              sign_field_code: approve.sign_field_code,
              is_read: approve.is_read,
              sign_show: approve.sign_show
            });
          });
        }

        if (step) {
          if (step.name in traces) {
            return traces[step.name] = traces[step.name].concat(approves);
          } else {
            return traces[step.name] = approves;
          }
        }
      });
    }

    return traces;
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  },
  table_fields: function (instance) {
    var fields, form_version;

    if (Meteor.isClient) {
      form_version = WorkflowManager.getInstanceFormVersion();
    } else {
      form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
    }

    if (form_version) {
      fields = _.clone(form_version.fields);
      fields.forEach(function (field, index) {
        var after_field, before_field, pre_fields, pre_wide_fields, td_colspan, tr_end, tr_start;
        field.tr_start = "";
        field.tr_end = "";
        td_colspan = 1;

        if ((typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) === field.code) {
          field.is_wide = true;
        }

        if (field.formula && field.type !== 'odata') {
          field.permission = "readonly";
        }

        if (Steedos.isMobile()) {
          if (field.type === 'section' || field.type === 'table') {
            field.td_colspan = 4;
          } else {
            field.td_colspan = 3;
          }

          if (index !== 0) {
            field.tr_start = "<tr>";
            return field.tr_end = "</tr>";
          }
        } else {
          pre_fields = fields.slice(0, index);
          pre_wide_fields = pre_fields.filterProperty("is_wide", true);
          tr_start = "";
          tr_end = "";
          before_field = null;
          after_field = null;

          if (index > 0) {
            before_field = fields[index - 1];
          }

          if (index < fields.length - 1) {
            after_field = fields[index + 1];
          }

          if (field.type === 'section' || field.type === 'table') {
            td_colspan = 4;
          } else if (field.is_wide) {
            td_colspan = 3;
          } else {
            if (before_field && after_field && before_field.is_wide && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field === null) {
              field.is_wide = true;
              td_colspan = 3;
            }
          }

          field.td_colspan = td_colspan;

          if (index === 0) {
            tr_start = "<tr>";
          } else {
            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 || field.is_wide) {
              if (field.type === 'table') {
                tr_start = "<tr class = \"tr-child-table\">";
              } else {
                tr_start = "<tr>";
              }
            }
          }

          field.tr_start = tr_start;

          if (index + 1 === fields.length || field.type === 'section' || field.type === 'table' || field.is_wide) {
            tr_end = "</tr>";
          }

          if ((pre_fields.length + pre_wide_fields.length) % 2 !== 0) {
            tr_end = "</tr>";
          }

          return field.tr_end = tr_end;
        }
      });
      return fields;
    }
  },
  sort_approve: function (approves, order) {
    if (!approves) {
      return [];
    }

    if (!approves instanceof Array) {
      return [];
    } else {
      if (order === 'desc') {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p2 - _p1;
        });
      } else {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p1 - _p2;
        });
      }
    }

    return approves;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  getField: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;

    if (form_version) {
      return form_version.fields.findPropertyByPK("code", code);
    }
  },
  getValue: function (code) {
    var form_version, instance, locale, utcOffset, values;
    instance = Template.instance().view.template.steedosData.instance;
    form_version = Template.instance().view.template.steedosData.form_version;
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    values = instance.values || {};

    if (Meteor.isClient) {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    return InstanceReadOnlyTemplate.getValue(values[code], form_version.fields.findPropertyByPK("code", code), locale, utcOffset);
  },
  getLabel: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, code);
  },
  getCfClass: function (field) {
    if ((field != null ? field.type : void 0) === "input" && (field != null ? field.is_textarea : void 0)) {
      return "cfTextarea";
    }
  },
  getTableThead: function (field) {
    return SteedosTable.getThead(field, false);
  },
  getTableBody: function (field) {
    var instance, tableValue, values;

    if (Meteor.isServer) {
      instance = Template.instance().view.template.steedosData.instance;
      values = instance.values || {};
    } else {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    tableValue = values[field.code];
    return SteedosTable.getTbody(field.sfields.getProperty("code"), field, tableValue, false);
  },
  showLabel: function (field) {
    var templateData;
    templateData = Template.instance().data;

    if (templateData.label === false) {
      return false;
    }

    return true;
  },
  isOpinionField: function (field) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field.formula);
  },
  isOpinionField_from_string: function (field_formula) {
    return InstanceSignText.isOpinionField_from_string(field_formula);
  },
  includesOpinionField: function (form, form_version) {
    var field_formulas, fields, ref;
    field_formulas = new Array();
    fields = ((ref = db.form_versions.findOne({
      _id: form_version,
      form: form
    })) != null ? ref.fields : void 0) || [];
    fields.forEach(function (f) {
      var ref1;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref1 = f.fields) != null ? ref1.forEach(function (f1) {
          return field_formulas.push(f1.formula);
        }) : void 0 : void 0;
      } else {
        return field_formulas.push(f.formula);
      }
    });
    return _.some(field_formulas, function (field_formula) {
      return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
    });
  },
  getOpinionFieldStepsName: function (field_formula, top_keywords) {
    var foo1, opinionFields;
    opinionFields = new Array();

    if (InstanceformTemplate.helpers.isOpinionField_from_string(field_formula)) {
      if (field_formula) {
        foo1 = field_formula.split(";");
        foo1.forEach(function (foo) {
          var json_formula, ref, ref1, s1, sf;
          json_formula = {};

          try {
            json_formula = eval("(" + foo + ")");
          } catch (error1) {
            json_formula = {};
          }

          if (json_formula != null ? json_formula.yijianlan : void 0) {
            sf = {};
            sf.stepName = json_formula.yijianlan.step;
            sf.image_sign = json_formula.yijianlan.image_sign || false;
            sf.only_cc_opinion = json_formula.yijianlan.only_cc || false;
            sf.default_description = json_formula.yijianlan["default"];
            sf.only_handler = json_formula.yijianlan.only_handler;
            sf.top_keywords = json_formula.yijianlan.top_keywords || top_keywords;
            return opinionFields.push(sf);
          } else if ((field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1) {
            sf = {
              only_cc_opinion: false,
              image_sign: false,
              top_keywords: top_keywords
            };

            if (foo.indexOf("{signature.") > -1) {
              sf.image_sign = true;
              foo = foo.replace("{signature.", "");
            }

            s1 = foo.replace("{", "").replace("}", "");

            if (s1.split(".").length > 1) {
              sf.stepName = s1.split(".")[1];

              if (opinionFields.filterProperty("stepName", sf.stepName).length > 0) {
                if ((ref = opinionFields.findPropertyByPK("stepName", sf.stepName)) != null) {
                  ref.only_cc_opinion = true;
                }
              } else {
                if (s1.split(".").length > 2) {
                  if (((ref1 = s1.split(".")[2]) != null ? ref1.toLocaleLowerCase() : void 0) === 'cc') {
                    sf.only_cc_opinion = true;
                  }
                }
              }
            }

            return opinionFields.push(sf);
          }
        });
      }
    }

    return opinionFields;
  },
  showCCOpinion: function (field) {
    var ref, ref1, ref2, s1;

    if (((ref = field.formula) != null ? ref.indexOf("{traces.") : void 0) > -1 || ((ref1 = field.formula) != null ? ref1.indexOf("{signature.traces.") : void 0) > -1) {
      s1 = field.formula.replace("{signature.", "").replace("{", "").replace("}", "");

      if (s1.split(".").length > 2) {
        if (((ref2 = s1.split(".")[2]) != null ? ref2.toLocaleLowerCase() : void 0) === 'cc') {
          return true;
        }
      }
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  f_label: function (that) {
    return that.name || that.code;
  }
};

if (Meteor.isServer) {
  InstanceformTemplate.helpers.steedos_form = function () {
    return this.form_version;
  };

  InstanceformTemplate.helpers.isSection = function (code) {
    var form_version;
    form_version = this.form_version;
    return form_version.fields.findPropertyByPK("code", code).type === 'section';
  };

  InstanceformTemplate.helpers.doc_values = function () {
    var instance;
    instance = this.instance;
    return instance.values;
  };

  InstanceformTemplate.helpers.applicantContext = function () {
    var data, instance;
    instance = this.instance;
    return data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: instance.applicant_name
    };
  };

  InstanceformTemplate.helpers.instance = function () {
    return this.instance;
  };

  InstanceformTemplate.helpers.fields = function () {
    var form_version;
    form_version = this.form_version;

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  };

  InstanceformTemplate.helpers.form_types = function () {
    return "disabled";
  };

  Template.registerHelper("afFieldLabelText", function (op) {
    var form_version, ref;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, op != null ? (ref = op.hash) != null ? ref.name : void 0 : void 0);
  });

  InstanceformTemplate.helpers._t = function (key) {
    var locale;
    locale = this.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceformTemplate.helpers.ins_attach_download_url = function (_id, absolute) {
    if (absolute) {
      return Meteor.absoluteUrl("/api/files/instances/" + _id + "?download=true");
    } else {
      return "/api/files/instances/" + _id + "?download=true";
    }
  };

  InstanceformTemplate.helpers.options = function (field) {
    var options, ref, rev;
    options = field != null ? (ref = field.options) != null ? ref.split("\n") : void 0 : void 0;
    rev = [];

    if (options != null) {
      options.forEach(function (item) {
        return rev.push({
          label: item,
          value: item
        });
      });
    }

    return rev;
  };

  InstanceformTemplate.helpers.getPermissions = function (code) {
    var ref;

    if (!((ref = Template.instance().view.template.steedosData.startStepEditableFields) != null ? ref.includes(code) : void 0)) {
      return "readonly disabled";
    }

    return "";
  };
}

InstanceformTemplate.events = {
  'change .form-control,.checkbox input,.af-radio-group input,.af-checkbox-group input': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'typeahead:change .form-control': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'click .cfTextarea a': function (event) {
    event.preventDefault();
    return Steedos.openWindow(event.target.href);
  }
};

InstanceformTemplate.onCreated = function () {
  var compiled, e, instance, instanceCustomTemplate, instanceView, renderFunction, template;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  template = TemplateManager.getTemplate(instance);

  try {
    compiled = SpacebarsCompiler.compile(template, {
      isBody: true
    });
  } catch (error1) {
    e = error1;
    console.log("Instance Template Error", e);
    compiled = SpacebarsCompiler.compile("", {
      isBody: true
    });
  }

  renderFunction = eval(compiled);
  instanceView = new Blaze.View("custom_instance_template", renderFunction);
  instanceCustomTemplate = new Blaze.Template(instanceView.name, renderFunction);
  Template.instance_custom_template = instanceCustomTemplate;
  return Template.instance_custom_template.helpers(InstanceformTemplate.helpers);
};

InstanceformTemplate.onRendered = function () {
  var currentApprove, currentStep, form_version, formula_fields, instance, instanceNumberFields, judge, ref;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  if ((ref = $("input[name='ins_applicant']")[0]) != null) {
    ref.dataset.values = instance.applicant;
  }

  $("input[name='ins_applicant']").val(instance.applicant_name);
  ApproveManager.error = {
    nextSteps: '',
    nextStepUsers: ''
  };

  if (Session.get("box") === 'inbox' || Session.get("box") === 'draft') {
    InstanceEvent.initEvents(instance.flow);
  }

  if (!ApproveManager.isReadOnly()) {
    currentApprove = InstanceManager.getCurrentApprove();
    instanceNumberFields = $("[data-formula]", $("#instanceform"));
    instanceNumberFields.each(function () {
      var element, schemaKey;
      schemaKey = this.dataset.schemaKey;
      element = $(this);

      if (!$(this).val() && schemaKey && Session.get("instanceId")) {
        return Meteor.call('getInstanceValues', Session.get("instanceId"), function (error, result) {
          var key, ref1;

          if (error) {
            toastr.error(error.reason);
          }

          if (!result[schemaKey]) {
            key = (ref1 = element.data("formula")) != null ? ref1.replace("auto_number(", "").replace(")", "") : void 0;
            key = key.replace(/\"/g, "").replace(/\'/g, "");

            if (key.indexOf("{") > -1) {
              key = key.replace("{", "").replace("}", "");
              key = key.trim();
              key = AutoForm.getFieldValue(key, 'instanceform');
            }

            return InstanceNumberRules.instanceNumberBuilder(element, key);
          } else {
            return element != null ? element.val(result[schemaKey]).trigger("change") : void 0;
          }
        });
      }
    });
    judge = currentApprove.judge;
    currentStep = InstanceManager.getCurrentStep();
    form_version = WorkflowManager.getInstanceFormVersion();
    formula_fields = Form_formula.getFormulaFieldVariable("Form_formula.field_values", form_version.fields);
    Form_formula.run("", "", formula_fields, AutoForm.getFormValues("instanceform").insertDoc, form_version.fields);
    return Session.set("instance_form_values", {
      instanceId: instance._id,
      values: AutoForm.getFormValues("instanceform").insertDoc
    });
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_attachments.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_attachments.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
InstanceAttachmentTemplate.helpers = {
  showMainTitle: function () {
    return Template.instance().workflowMainAttachTitle.get();
  },
  enabled_add_main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    var current_step = InstanceManager.getCurrentStep();
    if (!current_step) return false; // 分发的正文或者附件不显示转为pdf按钮
    // 如果有正文权限则为正文，否则分发为附件
    // 分发的附件不允许修改 删除 新增版本

    var main_attach_count = cfs.instances.find({
      'metadata.instance': ins._id,
      'metadata.current': true,
      'metadata.main': true
    }).count();
    var distribute_main_attach_count = 0;

    if (ins.distribute_from_instance) {
      var start_step = InstanceManager.getStartStep();

      if (start_step.can_edit_main_attach) {
        var distribute_main_attach_count = cfs.instances.find({
          'metadata.instance': ins.distribute_from_instance,
          'metadata.current': true,
          'metadata.main': true
        }).count();
      }
    }

    if (current_step.can_edit_main_attach == true && main_attach_count < 1 && distribute_main_attach_count < 1) {
      return true;
    } // 正文最多只能有一个


    if (main_attach_count >= 1 || distribute_main_attach_count >= 1) {
      return false;
    } // 开始节点并且设置了可以上传正文才显示上传正文的按钮


    var current_step = InstanceManager.getCurrentStep();
    if (current_step && current_step.step_type == "start" && current_step.can_edit_main_attach == true) return true;
    return false;
  },
  enabled_edit_normal_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;
    var flow = WorkflowManager.getFlow(ins.flow);
    if (!flow) return false; // 分发后的 附件，不可以编辑/删除，也不让上传新的附件, 流程列表：添加属性 ‘被分发后是否允许上传附件’ #1837

    if (ins.distribute_from_instance && !flow.upload_after_being_distributed) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    if (InstanceManager.isCC(ins)) {
      var step = InstanceManager.getCCStep();
      if (step && (step.can_edit_normal_attach == true || step.can_edit_normal_attach == undefined)) return true;
    } else {
      var current_step = InstanceManager.getCurrentStep();
      if (current_step && (current_step.can_edit_normal_attach == true || current_step.can_edit_normal_attach == undefined)) return true;
    }

    return false;
  },
  main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var start_step = InstanceManager.getStartStep(); // 如果是被分发的申请单并且有修改正文的权限，则优先显示原申请单文件

    var main_attach = null;

    if (ins.distribute_from_instance && start_step.can_edit_main_attach == true) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins.distribute_from_instance,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    if (!main_attach) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins._id,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    return main_attach;
  },
  normal_attachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var selector = {
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      }
    };
    var atts = new Array();

    if (ins.distribute_from_instance) {
      // 如果是被分发的申请单，则显示原申请单文件, 如果选择了将原表单存储为附件也要显示, 同时也要显示新上传的附件
      var dfis = _.clone(ins.distribute_from_instances) || [];
      dfis.push(ins._id);
      selector['metadata.instance'] = {
        $in: dfis
      };
      selector["$or"] = [{
        "metadata.instance": ins._id
      }, {
        "metadata.instance": {
          $in: ins.distribute_from_instances
        },
        "metadata.is_private": {
          $ne: true
        }
      }]; // 如果原申请单有正文但是分发后没有正文权限，则原申请单正文显示在附件栏

      var start_step = InstanceManager.getStartStep();

      if (start_step && start_step.can_edit_main_attach != true) {
        var distribute_main = cfs.instances.findOne({
          'metadata.instance': {
            $in: ins.distribute_from_instances
          },
          'metadata.current': true,
          'metadata.main': true
        });

        if (distribute_main) {
          var firstVersionMain = cfs.instances.findOne(distribute_main.metadata.parent);
          distribute_main.attachmentUploadedAt = firstVersionMain ? firstVersionMain.uploadedAt : distribute_main.uploadedAt;
          atts.push(distribute_main);
        }
      }
    } else {
      selector['metadata.instance'] = ins._id;
    }

    cfs.instances.find(selector).forEach(function (c) {
      var firstVersion = cfs.instances.findOne(c.metadata.parent);
      c.attachmentUploadedAt = firstVersion ? firstVersion.uploadedAt : c.uploadedAt;
      atts.push(c);
    });
    return _.sortBy(atts, 'attachmentUploadedAt');
  },
  showAttachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false; // 如果是被分发的申请单，则显示原申请单文件 和分发后申请单文件

    var instanceIds = _.clone(ins.distribute_from_instances) || [];
    instanceIds.push(ins._id);
    var attachments_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).count();
    if (Session && Session.get("instancePrint") && attachments_count < 1) return false;
    if (Session.get("box") == "draft" || Session.get("box") == "inbox" || attachments_count > 0) return true;else return false;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  _: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  },
  flow_files: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    return cfs.files.find({
      'metadata.space': ins.space,
      'metadata.object_name': 'flows',
      'metadata.record_id': ins.flow
    });
  },
  isDraftAndFlowfilesExist: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    return Session.get('box') == 'draft' && !!cfs.files.find({
      'metadata.space': ins.space,
      'metadata.object_name': 'flows',
      'metadata.record_id': ins.flow
    }).count();
  }
};

if (Meteor.isServer) {
  InstanceAttachmentTemplate.helpers._t = function (key) {
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceAttachmentTemplate.helpers.enabled_add_main_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.enabled_edit_normal_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.main_attachment = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var attachment = cfs.instances.findOne({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    });
    return attachment;
  };

  InstanceAttachmentTemplate.helpers.normal_attachments = function () {
    var steedosData = Template.instance().view.template.steedosData;
    var instance = steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      },
      $or: [{
        'metadata.is_private': {
          $ne: true
        }
      }, {
        'metadata.is_private': true,
        "metadata.owner": steedosData.userId
      }]
    }).fetch();
    return attachments;
  };

  InstanceAttachmentTemplate.helpers.showAttachments = function () {
    var instance = Template.instance().view.template.steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).fetch();

    if (attachments && attachments.length > 0) {
      return true;
    }

    return false;
  };

  InstanceAttachmentTemplate.helpers.showMainTitle = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var main_attach_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    }).count();
    return main_attach_count > 0;
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_sign_text.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_sign_text.coffee                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceSignText.helpers = {
  show: function (stepName) {
    var instance, myApprove, myTrace, ref;

    if (Meteor.isClient) {
      if (Session.get('instancePrint')) {
        return false;
      }

      if (InstanceManager.isInbox()) {
        myApprove = InstanceManager.getCurrentApprove();

        if (myApprove) {
          instance = WorkflowManager.getInstance();
          myTrace = instance != null ? (ref = instance.traces) != null ? ref.findPropertyByPK("_id", myApprove.trace) : void 0 : void 0;
          return (myTrace != null ? myTrace.name : void 0) === stepName;
        }
      }
    }

    return false;
  },
  defaultDescription: function () {
    return Template.instance().data.default_description;
  },
  traces: function () {
    return InstanceformTemplate.helpers.traces();
  },
  trace: function (stepName, only_cc_opinion, image_sign, top_keywords) {
    var approve_sort, approves, approvesGroup, approves_sorted, completed_date, hasNext, haveDescriptionApprove, instance, is_completed, ref, ref1, ref2, traces;
    instance = InstanceformTemplate.helpers.instance();
    is_completed = (instance != null ? instance.state : void 0) === "completed";
    completed_date = is_completed ? (ref = _.last(instance.traces)) != null ? (ref1 = ref.finish_date) != null ? ref1.getTime() : void 0 : void 0 : 0;

    if (is_completed && instance.finish_date) {
      completed_date = (ref2 = instance.finish_date) != null ? ref2.getTime() : void 0;
    }

    traces = InstanceformTemplate.helpers.traces();
    approves = _.clone(traces[stepName]);

    approve_sort = function (approves, top_keywords) {
      var approves_sorted, top_approves;
      approves_sorted = _.sortBy(approves, function (approve) {
        return -(approve.finish_date || new Date()).getTime();
      });

      if (top_keywords) {
        top_approves = new Array();
        top_keywords.split(",").forEach(function (key) {
          return top_approves = _.union(top_approves, _.filter(approves_sorted, function (approve) {
            var ref3;
            return (approve != null ? (ref3 = approve.handler_name) != null ? ref3.indexOf(key) : void 0 : void 0) > -1;
          }));
        });
        top_approves = _.sortBy(top_approves, function (top_approve) {
          return -(top_approve.finish_date || new Date()).getTime();
        });
        approves_sorted = _.union(top_approves, approves_sorted);
      }

      return approves_sorted || [];
    };

    approves = _.filter(approves, function (a) {
      return a.type !== "forward" && a.type !== "distribute" && a.type !== "terminated";
    });

    if (only_cc_opinion) {
      approves = approves != null ? approves.filterProperty("type", "cc") : void 0;
    }

    approves_sorted = approve_sort(approves, top_keywords);
    approvesGroup = _.groupBy(approves, "handler");

    hasNext = function (approve, approvesGroup) {
      var handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      return _.indexOf(handlerApproves, approve) + 1 < handlerApproves.length;
    };

    haveDescriptionApprove = function (approve, approvesGroup) {
      var descriptionApproves, handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      descriptionApproves = _.filter(handlerApproves, function (a) {
        if (a.description) {
          return true;
        }

        return false;
      });

      if (descriptionApproves.length === 0) {
        return false;
      }

      return true;
    };

    approves_sorted.forEach(function (approve) {
      var ref3;

      if (approve.sign_show !== false && (approve.description || !approve.description && !hasNext(approve, approvesGroup) && !approve.is_finished || ((ref3 = Meteor.settings["public"].workflow) != null ? ref3.showBlankApproveDescription : void 0))) {
        if (approve.judge !== 'terminated') {
          return approve._display = true;
        }
      }
    });
    approves_sorted = _.filter(approves_sorted, function (a) {
      var ref3;

      if (is_completed) {
        return a._display === true && a.is_finished && ((ref3 = a.finish_date) != null ? ref3.getTime() : void 0) <= completed_date;
      } else {
        return a._display === true;
      }
    });
    return approves_sorted;
  },
  include: function (a, b) {
    return InstanceformTemplate.helpers.include(a, b);
  },
  unempty: function (val) {
    var ref;
    return InstanceformTemplate.helpers.unempty(val) || ((ref = Meteor.settings["public"].workflow) != null ? ref.showBlankApproveDescription : void 0);
  },
  formatDate: function (date, options) {
    if (!options) {
      options = {
        "format": "YYYY-MM-DD"
      };
    }

    return InstanceformTemplate.helpers.formatDate(date, options);
  },
  isMyApprove: function (approve, only_cc_opinion) {
    var currentApprove, ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
      currentApprove = InstanceManager.getCurrentApprove();

      if (!(approve != null ? approve._id : void 0)) {
        approve = currentApprove;
      }

      if (approve._id === (currentApprove != null ? currentApprove._id : void 0) && (currentApprove != null ? currentApprove.type : void 0) === 'cc' && Template.instance().data.name) {
        if (_.indexOf(currentApprove != null ? currentApprove.opinion_fields_code : void 0, Template.instance().data.name) > -1) {
          return true;
        } else {
          return false;
        }
      }

      if (!((currentApprove != null ? currentApprove.type : void 0) === 'cc') && only_cc_opinion) {
        return false;
      }

      if (currentApprove && approve._id === currentApprove._id) {
        return true;
      }
    }

    return false;
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1, ref2, ref3;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!myApprove.sign_field_code || myApprove.sign_field_code === ((ref2 = Template.instance()) != null ? (ref3 = ref2.data) != null ? ref3.name : void 0 : void 0)) {
            if (!Session.get("instance_my_approve_description")) {
              return (myApprove != null ? myApprove.description : void 0) || "";
            }

            return Session.get("instance_my_approve_description");
          }
        }
      }
    }
  },
  now: function () {
    return new Date();
  },
  isReadOnly: function () {
    if (Meteor.isClient) {
      return ApproveManager.isReadOnly();
    }

    return false;
  },
  isOpinionOfField: function (approve) {
    if (approve.type === "cc" && Template.instance().data.name) {
      if (Template.instance().data.name === approve.sign_field_code) {
        return true;
      } else {
        return false;
      }
    } else {
      return true;
    }
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  steps: function (field_formula, step, only_cc_opinion, image_sign) {
    var ref, ref1, ref2, steps;
    steps = [];

    if (!step) {
      if (!field_formula) {
        field_formula = (ref = WorkflowManager.getInstanceFormVersion()) != null ? (ref1 = ref.fields) != null ? ref1.findPropertyByPK("code", this.name).formula : void 0 : void 0;
      }

      steps = InstanceformTemplate.helpers.getOpinionFieldStepsName(field_formula, (ref2 = Template.instance()) != null ? ref2.data.top_keywords : void 0);
    } else {
      steps = [{
        stepName: step,
        only_cc_opinion: only_cc_opinion,
        image_sign: image_sign
      }];
    }

    return steps;
  },
  imageSignData: function (handler) {
    return {
      user: handler
    };
  },
  showSignImage: function (handler, image_sign, judge) {
    var spaceUserSign;

    if (['returned', 'terminated', 'retrieved'].includes(judge)) {
      return false;
    }

    spaceUserSign = ImageSign.helpers.spaceUserSign(handler);

    if ((spaceUserSign != null ? spaceUserSign.sign : void 0) && image_sign) {
      return true;
    } else {
      return false;
    }
  },
  getLastSignApprove: function () {
    var ins;
    ins = WorkflowManager.getInstance();
    return _.last(TracesManager.getHandlerSignShowApproves(ins, Meteor.userId()));
  },
  lastMyApproveDescription: function () {
    var approves, currentStep, ref, traces;
    traces = InstanceformTemplate.helpers.traces();
    currentStep = InstanceManager.getCurrentStep();
    approves = _.clone(traces[currentStep.name]);
    approves = approves.filterProperty("handler", Meteor.userId());

    if (approves.length > 1) {
      return (ref = approves[approves.length - 2]) != null ? ref.description : void 0;
    }

    return "";
  },
  showApprove: function (approve) {
    var ref, ref1;

    if (!approve.sign_field_code || approve.sign_field_code === ((ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0)) {
      if (approve != null ? approve.is_read : void 0) {
        if (approve.is_finished) {
          return ["approved", "rejected", "submitted", "readed"].includes(approve.judge);
        }
      }
    }

    return false;
  },
  judge_description: function (judge) {
    return t(judge + "_description");
  },
  is_approved: function (judge) {
    return "approved" === judge;
  },
  is_rejected: function (judge) {
    return "rejected" === judge;
  },
  is_readed: function (judge) {
    return ["approved", "rejected", "submitted", "readed"].includes(judge);
  },
  addClass: function () {
    var name, ref, ref1;
    name = (ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0;
    setTimeout(function () {
      var e, element;

      try {
        element = $(".automatic.opinion-field-" + name);

        if (element.length > 0) {
          if (element != null ? element.is("td") : void 0) {
            return element.addClass('field-editable');
          } else {
            return $(".instance-sign", element).addClass('field-editable');
          }
        }
      } catch (error) {
        e = error;
        return console.log(e);
      }
    }, 1);
    return '';
  }
};

if (Meteor.isServer) {
  InstanceSignText.helpers.defaultDescription = function () {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return Template.instance().data.default_description || TAPi18n.__("instance_default_opinion", {}, locale);
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_traces_help.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_traces_help.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
TracesTemplate.helpers = {
  equals: function (a, b) {
    return a === b;
  },
  empty: function (a) {
    if (a) {
      return a.toString().trim().length < 1;
    } else {
      return true;
    }
  },
  unempty: function (a) {
    if (a) {
      return a.toString().trim().length > 0;
    } else {
      return false;
    }
  },
  append: function (a, b) {
    return a + b;
  },
  dateFormat: function (date) {
    if (Steedos.isMobile() && (date != null ? date.getFullYear() : void 0) === new Date().getFullYear()) {
      return $.format.date(new Date(date), "MM-dd HH:mm");
    } else {
      return $.format.date(new Date(date), "yyyy-MM-dd HH:mm");
    }
  },
  getStepName: function (stepId) {
    var step;
    step = WorkflowManager.getInstanceStep(stepId);

    if (step) {
      return step.name;
    }

    return null;
  },
  showDeleteButton: function (approved) {
    if (approved && approved.type === 'cc' && approved.from_user === Meteor.userId() && approved.is_finished !== true && !Session.get("instancePrint")) {
      return true;
    }

    return false;
  },
  isShowModificationButton: function (approved) {
    var approve_admins, isShow, ref, ref1, ref2;
    approve_admins = (ref = Meteor.settings) != null ? (ref1 = ref["public"]) != null ? (ref2 = ref1.workflow) != null ? ref2.approve_admins : void 0 : void 0 : void 0;

    if (approve_admins != null ? approve_admins.length : void 0) {
      isShow = approve_admins != null ? approve_admins.contains(Meteor.userId()) : void 0;
    }

    if (!isShow) {
      return false;
    }

    return approved.handler === Meteor.userId();
  },
  isEditing: function () {
    var ref;
    return (ref = Template.instance().is_editing) != null ? ref.get() : void 0;
  },
  isShowDescription: function (approved) {
    var ref;

    if (TracesTemplate.helpers.isShowModificationButton(approved)) {
      return true;
    }

    return ((ref = approved.description) != null ? ref.toString().trim().length : void 0) > 0;
  },
  isCC: function (approved) {
    if (approved && approved.type === 'cc') {
      return true;
    }

    return false;
  },
  getApproveStatusIcon: function (approveJudge, autoSubmitted) {
    var approveStatusIcon;

    if (autoSubmitted === true) {
      return 'ion ion-android-alarm-clock';
    }

    approveStatusIcon = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusIcon = 'ion ion-checkmark-round';
        break;

      case 'rejected':
        approveStatusIcon = 'ion ion-close-round';
        break;

      case 'terminated':
        approveStatusIcon = 'fa fa-ban';
        break;

      case 'reassigned':
        approveStatusIcon = 'ion ion-android-contact';
        break;

      case 'relocated':
        approveStatusIcon = 'ion ion-arrow-shrink';
        break;

      case 'retrieved':
        approveStatusIcon = 'fa fa-undo';
        break;

      default:
        approveStatusIcon = '';
        break;
    }

    return approveStatusIcon;
  },
  getApproveStatusText: function (approveJudge, autoSubmitted) {
    var approveStatusText, locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    if (autoSubmitted === true) {
      return TAPi18n.__('instance_approve_timeout_auto_submitted', {}, locale);
    }

    approveStatusText = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusText = TAPi18n.__('Instance State approved', {}, locale);
        break;

      case 'rejected':
        approveStatusText = TAPi18n.__('Instance State rejected', {}, locale);
        break;

      case 'terminated':
        approveStatusText = TAPi18n.__('Instance State terminated', {}, locale);
        break;

      case 'reassigned':
        approveStatusText = TAPi18n.__('Instance State reassigned', {}, locale);
        break;

      case 'relocated':
        approveStatusText = TAPi18n.__('Instance State relocated', {}, locale);
        break;

      case 'retrieved':
        approveStatusText = TAPi18n.__('Instance State retrieved', {}, locale);
        break;

      case 'returned':
        approveStatusText = TAPi18n.__('Instance State returned', {}, locale);
        break;

      case 'readed':
        approveStatusText = TAPi18n.__('Instance State readed', {}, locale);
        break;

      default:
        approveStatusText = '';
        break;
    }

    return approveStatusText;
  },
  getApproveJudgeClass: function (approveJudge, autoSubmitted) {
    if (autoSubmitted === true) {
      return 'autoSubmitted';
    }

    return approveJudge;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!Session.get("instance_my_approve_description")) {
            return (myApprove != null ? myApprove.description : void 0) || "";
          }

          return Session.get("instance_my_approve_description");
        }
      }
    }
  },
  isForward: function (approved) {
    if (approved && approved.type === 'forward') {
      return true;
    }

    return false;
  },
  showForwardDeleteButton: function (approve) {
    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'forward' && approve.from_user === Meteor.userId() && !Session.get("instancePrint") && approve.judge !== 'terminated') {
      return true;
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  isDistribute: function (approve) {
    if (approve && approve.type === 'distribute') {
      return true;
    }

    return false;
  },
  showDistributeDeleteButton: function (approve) {
    var ins;

    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'distribute' && !Session.get("instancePrint") && approve.judge !== 'terminated' && Steedos.hasFeature('file_distribution', Steedos.getSpaceId())) {
      ins = db.instances.findOne({
        _id: approve.instance
      }, {
        fields: {
          flow: 1,
          space: 1
        }
      });

      if (ins && ins.flow && ins.space) {
        if (WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, Meteor.userId())) {
          return true;
        }
      }

      if (approve.from_user === Meteor.userId()) {
        return true;
      }
    }

    return false;
  },
  finishDateSchema: function () {
    if (Steedos.isAndroidOrIOS()) {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "datetime-local"
          },
          optional: false,
          type: Date
        }
      });
    } else {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "bootstrap-datetimepicker",
            readonly: true,
            dateTimePickerOptions: {
              format: "YYYY-MM-DD HH:mm",
              ignoreReadonly: true,
              locale: Session.get("TAPi18n::loaded_lang"),
              widgetPositioning: {
                horizontal: 'right'
              }
            }
          },
          optional: false,
          type: Date
        }
      });
    }
  },
  finishDateValues: function () {
    return {
      finish_date: this.finish_date
    };
  },
  /*
     	此函数用于控制是否显示traces view
     	true: 显示traces view,签核历程按钮点击后是直接定位到traces view
     	false: 不显示traces view，签核历程按钮点击后,以Modal 方式显示traces view
   */showTracesView: function (form, form_version) {
    var ref, show_modal_traces_list;
    show_modal_traces_list = ((ref = db.space_settings.findOne({
      space: Session.get("spaceId"),
      key: "show_modal_traces_list"
    })) != null ? ref.values : void 0) || false;
    return !show_modal_traces_list;
  },
  getInstanceStateText: function (instance_id) {
    var ins, locale, text;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return TAPi18n.__('instance_deleted', {}, locale);
    }

    text = '';

    if (ins.state === 'completed') {
      text = TAPi18n.__('completed', {}, locale);
    } else if (ins.state === 'pending') {
      text = TAPi18n.__('pending', {}, locale);
    } else if (ins.state === 'draft') {
      if (ins.is_read) {
        text = TAPi18n.__('instance_approve_read', {}, locale);
      } else {
        text = TAPi18n.__('instance_approve_not_yet_handled', {}, locale);
      }
    }

    return text;
  },
  getInstanceStateColor: function (instance_id) {
    var cla, ins;
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return "";
    }

    cla = '';

    if (ins.state === 'draft') {
      if (ins.is_read) {
        cla = 'blue';
      } else {
        cla = 'red';
      }
    }

    return cla;
  },
  firstTrace: function (index) {
    return index === 0;
  },
  last_distribute_from: function (instance_id) {
    var dis_info, ins, user;
    ins = db.instances.findOne({
      _id: instance_id,
      distribute_from_instance: {
        $exists: true
      }
    }, {
      fields: {
        created: 1,
        created_by: 1
      }
    });

    if (ins) {
      dis_info = {};
      user = {};

      if (Meteor.isClient) {
        user = UUflow_api.getNameForUser(ins.created_by);
      } else if (Meteor.isServer) {
        user = db.users.findOne({
          _id: ins.created_by
        }, {
          fields: {
            name: 1
          }
        });
      }

      if (user.name) {
        dis_info.from_user = user._id;
        dis_info.from_user_name = user.name;
        dis_info.created = ins.created;
      }

      if (!_.isEmpty(dis_info)) {
        return dis_info;
      }
    }
  },
  isCCOrDistributeOrForwardTerminated: function (approve) {
    if ((approve.type === 'cc' || approve.type === 'distribute' || approve.type === 'forward') && approve.judge === 'terminated') {
      return true;
    }

    return false;
  },
  judgeTerminated: function (judge) {
    return judge === 'terminated';
  },
  instanceExists: function (instance_id) {
    return !!db.instances.find(instance_id).count();
  },
  agentDescription: function (userName) {
    var locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    return TAPi18n.__('process_delegation_rules_description', {
      userName: userName
    }, locale);
  },
  traceName: function (instance_id, traceId) {
    var ref, ref1;
    return (ref = _.find((ref1 = db.instances.findOne(instance_id, {
      fields: {
        traces: 1
      }
    })) != null ? ref1.traces : void 0, function (trace) {
      return trace._id === traceId;
    })) != null ? ref.name : void 0;
  },
  objectUrl: function (object_name, record_id, app_id) {
    return Creator.getObjectUrl(object_name, record_id, app_id);
  }
};

if (Meteor.isServer) {
  TracesTemplate.helpers.dateFormat = function (date) {
    var utcOffset;

    if (date) {
      utcOffset = Template.instance().view.template.steedosData.utcOffset;
      return InstanceReadOnlyTemplate.formatDate(date, utcOffset);
    }
  };

  TracesTemplate.helpers._t = function (key) {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  TracesTemplate.helpers.showDeleteButton = function (approved) {
    return false;
  };
}

TracesTemplate.events = {
  'click .cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    event.stopPropagation();

    if (event.currentTarget.dataset.calling * 1 !== 1) {
      event.currentTarget.dataset.calling = 1;
      $("i", event.currentTarget).addClass("fa-spin");
      instanceId = Session.get('instanceId');
      approveId = event.target.dataset.approve;
      $("body").addClass("loading");
      Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
        $("body").removeClass("loading");

        if (err) {
          toastr.error(err);
          event.currentTarget.dataset.calling = 0;
          $("i", event.currentTarget).removeClass("fa-spin");
        }

        if (result === true) {
          toastr.success(TAPi18n.__("remove_cc_approve"));

          if ($(".instance-trace-detail-modal").length) {
            Modal.hide("instance_trace_detail_modal");
          }
        }
      });
    }
  },
  'click .instance-trace-detail-modal .btn-cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    $("body").addClass("loading");
    Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(err);
      }

      if (result === true) {
        toastr.success(TAPi18n.__("remove_cc_approve"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .approve-item,.approve-description': function (event, template) {
    if (!$(event.target).closest("a.btn-link").length) {
      return Modal.show("instance_trace_detail_modal", this);
    }
  },
  'taphold .approve-item,.approve-description': function (event, template) {
    if (!$(event.target).closest("a.btn-link").length) {
      return Modal.show("instance_trace_detail_modal", this);
    }
  },
  'click .approve-item a.btn-link,.approve-description a.btn-link,.approve-item-distribute a.btn-link': function (event, template) {
    var ref, userId;

    if (Steedos.isMobile()) {
      userId = (ref = event.target.dataset) != null ? ref.target_user_id : void 0;
      return Creator.openSafeObjectUrl('users', userId);
    }
  },
  'tapend .approve-item,.approve-description': function (event, template) {
    if (!$(event.target).closest("a.btn-link").length) {
      event.stopPropagation();
      event.preventDefault();
      return false;
    }
  },
  'click .instance-trace-detail-modal .btn-forward-approve-remove': function (event, template) {
    var approveId, instanceId, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    $("body").addClass("loading");
    Meteor.call('forward_remove', instanceId, traceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(TAPi18n.__("instance_approve_forward_remove_success"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-forward-instance-look': function (event, template) {
    var forward_instance, forward_space;
    forward_space = event.target.dataset.forwardspace;
    forward_instance = event.target.dataset.forwardinstance;
    return Steedos.openWindow(Steedos.absoluteUrl("workflow/space/" + forward_space + "/view/readonly/" + forward_instance));
  },
  'click .btn-modification': function (event, template) {
    template.is_editing.set(!template.is_editing.get());

    if (!Steedos.isAndroidOrIOS()) {
      return Tracker.afterFlush(function () {
        return $("#instance_trace_detail_modal #finish_input").on("dp.show", function () {
          return $(".modal-body").scrollTop(100);
        });
      });
    }
  },
  'click .btn-cancelBut': function (event, template) {
    return template.is_editing.set(!template.is_editing.get());
  },
  'click .btn-saveBut': function (event, template) {
    var approveId, finish_input, instanceId, opinion_input, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    opinion_input = $('#opinion_input').val();
    finish_input = AutoForm.getFieldValue("finish_date", "finishDateAutoForm");
    $("body").addClass("loading");
    return Meteor.call('change_approve_info', instanceId, traceId, approveId, opinion_input, finish_input, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(t("instance_approve_modal_modificationsave"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-distribute-approve-remove': function (event, template) {
    Modal.allowMultiple = true;
    return Modal.show('cancel_distribute_modal');
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_instances.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedInstances.helpers = {
  showRelatedInstaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      if (db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).count() > 0) {
        return true;
      }

      return false;
    } else {
      return false;
    }
  },
  related_instaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      return db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).fetch();
    }
  },
  related_instace_url: function (ins) {
    var absolute;

    if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
      return '';
    }

    absolute = false;

    if (Meteor.isServer) {
      absolute = this.absolute;
    }

    if (absolute) {
      return Meteor.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    } else {
      return Steedos.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    }
  },
  _t: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  },
  show_delete: function () {
    var current_step;

    if (!Meteor.isClient) {
      return false;
    } else {
      if (Session.get("box") === "draft" || Session.get("box") === 'inbox') {
        current_step = InstanceManager.getCurrentStep();

        if (current_step) {
          if (current_step.can_edit_main_attach || current_step.can_edit_normal_attach === true || current_step.can_edit_normal_attach === void 0) {
            return true;
          }
        }
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_records.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_records.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedRecords.helpers = {
  showRelatedRecords: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if (!ins) {
      return false;
    }

    return !_.isEmpty(ins.record_ids);
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"routes":{"designer.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/designer.coffee                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var DesignerAPI;
DesignerAPI = {
  getAbsoluteUrl: function (url) {
    var rootUrl;
    rootUrl = __meteor_runtime_config__ ? __meteor_runtime_config__.ROOT_URL_PATH_PREFIX : "";

    if (rootUrl) {
      url = rootUrl + url;
    }

    return url;
  },
  writeResponse: function (res, httpCode, body) {
    res.statusCode = httpCode;
    return res.end(body);
  },
  sendInvalidURLResponse: function (res) {
    return this.writeResponse(res, 404, "the param 'url' is required as querys.");
  },
  sendAuthTokenExpiredResponse: function (res) {
    return this.writeResponse(res, 401, "the auth_token has expired.");
  },
  sendHtmlResponse: function (req, res, type) {
    var error_msg, query, title, url;
    query = req.query;
    url = query.url;

    if (url) {
      url = decodeURIComponent(url);
    } else {
      DesignerAPI.sendInvalidURLResponse(res);
    }

    title = query.title;

    if (title) {
      title = decodeURIComponent(title);
    } else {
      title = "Steedos Designer";
    }

    error_msg = "";
    return this.writeResponse(res, 200, "<html>\n	<head>\n		<style>\n			html,body{\n				margin: 0;\n				padding: 0;\n				height: 100%;\n			}\n			body { \n				font-family: 'Source Sans Pro', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n				text-align: center;\n				background-color: #fff;\n			}\n			.loading{\n				position: absolute;\n				left: 0px;\n				right: 0px;\n				top: 50%;\n				z-index: -1;/*设置为-1，可以在iframe加载出来后自动消失*/\n				text-align: center;\n				margin-top: -30px;\n				font-size: 36px;\n				color: #dfdfdf;\n			}\n			.error-msg{\n				position: absolute;\n				left: 0px;\n				right: 0px;\n				bottom: 20px;\n				z-index: 1100;\n				text-align: center;\n				font-size: 20px;\n				color: #a94442;\n			}\n		</style>\n		<meta charset=\"utf-8\">\n		<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\">\n		<title>" + title + "</title>\n		<link rel=\"icon\" type=\"image/png\" sizes=\"192x192\" href=\"" + this.getAbsoluteUrl("/favicons/android-chrome-192x192.png") + "\">\n		<link rel=\"manifest\" href=\"" + this.getAbsoluteUrl("/favicons/manifest.json") + "\">\n		<meta name=\"mobile-web-app-capable\" content=\"yes\">\n		<meta name=\"theme-color\" content=\"#000\">\n		<meta name=\"application-name\">\n		<link rel=\"apple-touch-icon\" sizes=\"57x57\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-57x57.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"60x60\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-60x60.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"72x72\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-72x72.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-76x76.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"114x114\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-114x114.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"120x120\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-120x120.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"144x144\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-144x144.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"152x152\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-152x152.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-180x180.png") + "\">\n		<meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\n		<meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\">\n		<meta name=\"apple-mobile-web-app-title\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"228x228\" href=\"" + this.getAbsoluteUrl("/favicons/coast-228x228.png") + "\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"" + this.getAbsoluteUrl("/favicons/favicon-16x16.png") + "\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"" + this.getAbsoluteUrl("/favicons/favicon-32x32.png") + "\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"96x96\" href=\"" + this.getAbsoluteUrl("/favicons/favicon-96x96.png") + "\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"230x230\" href=\"" + this.getAbsoluteUrl("/favicons/favicon-230x230.png") + "\">\n		<link rel=\"shortcut icon\" href=\"" + this.getAbsoluteUrl("/favicons/favicon.ico") + "\">\n		<link rel=\"yandex-tableau-widget\" href=\"" + this.getAbsoluteUrl("/favicons/yandex-browser-manifest.json") + "\">\n		<meta name=\"msapplication-TileColor\" content=\"#fff\">\n		<meta name=\"msapplication-TileImage\" content=\"" + this.getAbsoluteUrl("/favicons/mstile-144x144.png") + "\">\n		<meta name=\"msapplication-config\" content=\"" + this.getAbsoluteUrl("/favicons/browserconfig.xml") + "\">\n		<meta property=\"twitter:image\" content=\"" + this.getAbsoluteUrl("/favicons/twitter.png") + "\">\n		<meta property=\"og:image\" content=\"" + this.getAbsoluteUrl("/favicons/open-graph.png") + "\">\n	</head>\n	<body>\n		<div class = \"loading\">Loading...</div>\n		<div class = \"error-msg\">" + error_msg + "</div>\n		<iframe id=\"ifrDesigner\" src=\"\" width=\"100%\" height=\"100%\" nwdisable=\"true\" frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\" allowtransparency=\"yes\"></iframe>\n		<script type=\"text/javascript\" src=\"" + this.getAbsoluteUrl("/lib/jquery/jquery-1.11.2.min.js") + "\"></script>\n		<script type=\"text/javascript\">\n			var designer = {\n				urlQuery:function(name){\n					var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\n					var r = window.location.search.substr(1).match(reg);\n					if (r != null) return unescape(r[2]);\n					return null;\n				},\n				run:function(){\n					var url = this.urlQuery(\"url\");\n					url = decodeURIComponent(url);\n					\n					if(url){\n						$(\"#ifrDesigner\").attr(\"src\",url);\n					}\n					var Steedos = window.opener.Steedos || null;\n					if (Steedos) {\n						Steedos.forbidNodeContextmenu(window);\n					}\n				}\n			};\n			$(function(){\n				designer.run();\n			});\n		</script>\n	<body>\n</html>");
  }
};
JsonRoutes.add('get', '/api/workflow/designer?url=:url', function (req, res, next) {
  return DesignerAPI.sendHtmlResponse(req, res);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"nextStepUsers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/nextStepUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/nextStepUsers", function (req, res, next) {
  var deal_type = req.query.deal_type,
      spaceId = req.query.spaceId,
      error = "";

  if (!deal_type || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  var body = req.body,
      nextStepUsers = [];

  switch (deal_type) {
    case 'specifyUser':
      var specifyUserIds = body.specifyUserIds;
      nextStepUsers = WorkflowManager.getUsers(spaceId, specifyUserIds);
      break;

    case 'applicantRole':
      var applicantId = body.applicantId,
          approveRoleIds = body.approveRoleIds;
      var applicant = WorkflowManager.getUser(spaceId, applicantId);
      if (applicant) nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, applicant.organizations, approveRoleIds);
      break;

    case 'hrRole':
      var approveHrRoleIds = body.approveHrRoleIds;
      if (approveHrRoleIds) nextStepUsers = WorkflowManager.getHrRolesUsers(spaceId, approveHrRoleIds);
      break;

    case 'applicantSuperior':
      var applicantId = body.applicantId;
      var applicant = WorkflowManager.getUser(spaceId, applicantId);

      if (applicant.manager) {
        nextStepUsers = WorkflowManager.getUsers(spaceId, applicant.manager);
      }

      break;

    case 'applicant':
      var applicantId = body.applicantId;
      nextStepUsers = WorkflowManager.getUsers(spaceId, applicantId);
      break;

    case 'userField':
      var userField = body.userField,
          userFieldValue = body.userFieldValue;

      if (userField.is_multiselect) {
        //如果多选，以userFieldValue值为Array
        nextStepUsers = WorkflowManager.getUsers(spaceId, userFieldValue);
      } else {
        nextStepUsers.push(WorkflowManager.getUser(spaceId, userFieldValue));
      }

      break;

    case 'orgField':
      var orgs,
          orgChildrens,
          orgField = body.orgField,
          orgFieldValue = body.orgFieldValue;

      if (orgFieldValue) {
        if (orgField.is_multiselect) {
          //如果多选，以orgFieldValue值为Array
          orgs = WorkflowManager.getOrganizations(orgFieldValue);
          orgChildrens = WorkflowManager.getOrganizationsChildrens(spaceId, orgFieldValue);
        } else {
          orgs = [WorkflowManager.getOrganization(orgFieldValue)];
          orgChildrens = WorkflowManager.getOrganizationChildrens(spaceId, orgFieldValue);
        }

        nextStepUsers = WorkflowManager.getOrganizationsUsers(spaceId, orgChildrens);
        orgFieldUsers = WorkflowManager.getOrganizationsUsers(spaceId, orgs);
        nextStepUsers = nextStepUsers.concat(orgFieldUsers);

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ORG_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    case 'specifyOrg':
      var specifyOrgIds = body.specifyOrgIds;
      var specifyOrgs = WorkflowManager.getOrganizations(specifyOrgIds);
      var specifyOrgChildrens = WorkflowManager.getOrganizationsChildrens(spaceId, specifyOrgIds);
      nextStepUsers = WorkflowManager.getOrganizationsUsers(spaceId, specifyOrgs);
      nextStepUsers = nextStepUsers.concat(WorkflowManager.getOrganizationsUsers(spaceId, specifyOrgChildrens));
      break;

    case 'userFieldRole':
      var userField = body.userField,
          userFieldValue = body.userFieldValue,
          approverRoleIds = body.approverRoleIds;

      if (userFieldValue) {
        if (userField.is_multiselect) {
          //如果多选，以userFieldValue值为Array
          nextStepUsers = WorkflowManager.getRoleUsersByUsersAndRoles(spaceId, userFieldValue, approverRoleIds);
        } else {
          nextStepUsers = WorkflowManager.getRoleUsersByUsersAndRoles(spaceId, [userFieldValue], approverRoleIds);
        }

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ROLE_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    case 'orgFieldRole':
      var orgField = body.orgField,
          orgFieldValue = body.orgFieldValue,
          approverRoleIds = body.approverRoleIds;

      if (orgFieldValue) {
        if (orgField.is_multiselect) {
          //如果多选，以orgFieldValue值为Array
          nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, orgFieldValue, approverRoleIds);
        } else {
          nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, [orgFieldValue], approverRoleIds);
        }

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ROLE_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    default:
      break;
  }

  var result = [];
  nextStepUsers.forEach(function (su) {
    if (su.user_accepted) {
      var o = {
        id: su.id,
        name: su.name
      };
      result.push(o);
    }
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'nextStepUsers': WorkflowManager.uniqUsers(result),
      'error': error
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getSpaceUsers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getSpaceUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getSpaceUsers", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getUsers(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getFormulaUserObjects.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getFormulaUserObjects.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getFormulaUserObjects", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  var users = WorkflowManager.getFormulaUserObject(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': users
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"init_formula_values.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/init_formula_values.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/init_formula_values", function (req, res, next) {
  var fields = req.body.fields,
      autoFormDoc = req.body.autoFormDoc,
      approver = req.body.approver,
      applicant = req.body.applicant,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!fields || !spaceId || !autoFormDoc || !approver || !applicant) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
    return;
  }

  formula_values = Form_formula.init_formula_values(fields, autoFormDoc, approver, applicant, spaceId);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'formula_values': formula_values
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getNameForUser.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getNameForUser.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/getNameForUser", function (req, res, next) {
  var e, user, userId;

  try {
    userId = req.body.userId;

    if (!userId) {
      JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'errors': '缺少参数'
        }
      });
    }

    user = WorkflowManager.getNameForUser(userId);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        user: user
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_designer_startup.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_designer_startup.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/designer/startup', function (req, res, next) {
  var categories, companyId, current_user, current_user_info, e, flows, forms, org, organizations, positions, query, ref, result, roles, spaceIds, spaceUsers, spaces, spacesQuery, userIds, users;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    companyId = ((ref = req.query) != null ? ref.companyId : void 0) || '';
    spacesQuery = {
      admins: current_user
    };

    if (companyId) {
      org = db.organizations.findOne(companyId, {
        fields: {
          space: 1
        }
      });

      if (!org) {
        throw new Meteor.Error('error', 'companyId is invalid');
      }

      spacesQuery = {
        _id: org.space
      };
    }

    spaces = db.spaces.find(spacesQuery).fetch();
    spaceIds = _.pluck(spaces, '_id');
    query = {
      space: {
        $in: spaceIds
      }
    };

    if (companyId) {
      query.company_id = companyId;
    }

    spaceUsers = db.space_users.find(query).fetch();
    forms = db.forms.find(query, {
      fields: {
        name: 1,
        state: 1,
        is_deleted: 1,
        is_valid: 1,
        space: 1,
        description: 1,
        help_text: 1,
        created: 1,
        created_by: 1,
        current: 1,
        category: 1,
        instance_style: 1,
        company_id: 1
      }
    }).fetch();
    flows = db.flows.find(query, {
      fields: {
        name: 1,
        name_formula: 1,
        code_formula: 1,
        space: 1,
        description: 1,
        is_valid: 1,
        form: 1,
        flowtype: 1,
        state: 1,
        is_deleted: 1,
        created: 1,
        created_by: 1,
        help_text: 1,
        current_no: 1,
        current: 1,
        perms: 1,
        error_message: 1,
        distribute_optional_users: 1,
        company_id: 1
      }
    }).fetch();
    roles = db.flow_roles.find(query).fetch();
    organizations = db.organizations.find(query).fetch();
    positions = db.flow_positions.find(query).fetch();
    categories = db.categories.find({
      space: {
        $in: spaceIds
      }
    }).fetch();
    userIds = _.pluck(spaceUsers, 'user');
    users = db.users.find({
      _id: {
        $in: userIds
      }
    }, {
      fields: {
        name: 1
      }
    }).fetch();
    result = {};
    result.SpaceUsers = spaceUsers;
    result.Users = users;
    result.Forms = forms;
    result.Flows = flows;
    result.Organizations = organizations;
    result.Positions = positions;
    result.Roles = roles;
    result.Categories = categories;
    result.Spaces = spaces;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: result
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_engine.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_engine.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/engine', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Approvals'], function (approve_from_client) {
      return uuflowManager.workflow_engine(approve_from_client, current_user_info, current_user);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_drafts.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_drafts.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/drafts', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var new_ins, new_ins_id;
      new_ins_id = uuflowManager.create_instance(instance_from_client, current_user_info);
      new_ins = db.instances.findOne({
        _id: new_ins_id
      }, {
        fields: {
          space: 1,
          flow: 1,
          flow_version: 1,
          form: 1,
          form_version: 1
        }
      });
      return inserted_instances.push(new_ins);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_remove.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_remove.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/remove', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, delete_obj, flow, inbox_users, instance, space, spaceUserOrganizations, space_id, space_user, user_ids;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      flow = db.flows.findOne({
        _id: instance.flow
      });
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: space_user.organizations
        }
      }).fetch();

      if (instance.submitter !== current_user && !space.admins.includes(current_user) && !WorkflowManager.canAdmin(flow, space_user, spaceUserOrganizations)) {
        throw new Meteor.Error('error!', "您不能删除此申请单。");
      }

      delete_obj = db.instances.findOne(instance_from_client["_id"]);
      delete_obj.deleted = new Date();
      delete_obj.deleted_by = current_user;
      db.deleted_instances.insert(delete_obj);
      db.instances.remove(instance_from_client["_id"]);

      if (delete_obj.state !== "draft") {
        inbox_users = delete_obj.inbox_users ? delete_obj.inbox_users : [];
        cc_users = delete_obj.cc_users ? delete_obj.cc_users : [];
        user_ids = _.uniq(inbox_users.concat(cc_users));

        _.each(user_ids, function (u_id) {
          return pushManager.send_message_to_specifyUser("terminate_approval", u_id);
        });

        return pushManager.send_instance_notification("monitor_delete_applicant", delete_obj, "", current_user_info);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_submit.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_submit.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/submit', function (req, res, next) {
  var current_user, current_user_info, e, hashData, result;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    result = [];

    _.each(hashData['Instances'], function (instance_from_client) {
      var current_approve, flow_id, instance, r;
      r = uuflowManager.submit_instance(instance_from_client, current_user_info);

      if (r.alerts) {
        result.push(r);
      }

      if (!_.isEmpty(instance_from_client['inbox_users'])) {
        pushManager.send_message_to_specifyUser("current_user", current_user);
      }

      if (_.isEmpty(r.alerts)) {
        instance = db.instances.findOne(instance_from_client._id);
        flow_id = instance.flow;
        current_approve = instance_from_client.traces[0].approves[0];
        pushManager.triggerWebhook(flow_id, instance, current_approve, 'draft_submit', current_user, instance.inbox_users);
      }

      return uuflowManager.distributedInstancesRemind(instance_from_client);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        result: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_terminate.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_terminate.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/terminate', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var flow, flow_id, flow_ver_end_step, flow_vers, h, i, ins, instance, instance_flow_ver, instance_id, instance_trace, newApprove, newTrace, now, old_cc_users, old_inbox_users, old_outbox_users, permissions, r, setObj, space, space_id, space_user, space_user_org_info, tempUsers, terminate_reason, traces;
      terminate_reason = instance_from_client["terminate_reason"];
      instance_id = instance_from_client["_id"];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      flow_id = instance.flow;
      space = uuflowManager.getSpace(space_id);
      flow = uuflowManager.getFlow(flow_id);
      uuflowManager.isInstancePending(instance);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      space_user_org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
      instance_flow_ver = null;
      flow_ver_end_step = null;
      flow_vers = new Array();
      flow_vers.push(flow.current);
      flow_vers = flow_vers.concat(flow.historys);
      instance_flow_ver = _.find(flow_vers, function (f_ver) {
        return f_ver._id === instance.flow_version;
      });

      if (!instance_flow_ver) {
        throw new Meteor.Error('error!', "未找到申请单对应流程版本");
      }

      flow_ver_end_step = _.find(instance_flow_ver.steps, function (f_step) {
        return f_step.step_type === "end";
      });
      permissions = permissionManager.getFlowPermissions(flow_id, current_user);
      now = new Date();
      setObj = new Object();

      if (permissions.includes("admin") || space.admins.includes(current_user) || instance.submitter === current_user || instance.applicant === current_user) {
        if (!terminate_reason) {
          throw new Meteor.Error('error!', "还未填写强制结束申请单的理由，操作失败");
        }

        instance_trace = _.find(instance.traces, function (trace) {
          return trace.is_finished === false;
        });
        traces = instance.traces;
        i = 0;

        while (i < traces.length) {
          if (traces[i].is_finished === false) {
            traces[i].is_finished = true;
            traces[i].finish_date = now;
            h = 0;

            while (h < traces[i].approves.length) {
              if (traces[i].approves[h].is_finished === false) {
                traces[i].approves[h].is_finished = true;
                traces[i].approves[h].finish_date = now;
                traces[i].approves[h].judge = null;
                traces[i].approves[h].description = null;
              }

              h++;
            }

            newApprove = new Object();
            newApprove._id = new Mongo.ObjectID()._str;
            newApprove.instance = instance_id;
            newApprove.trace = instance_trace._id;
            newApprove.is_finished = true;
            newApprove.user = current_user;
            newApprove.user_name = current_user_info.name;
            newApprove.handler = current_user;
            newApprove.handler_name = current_user_info.name;
            newApprove.handler_organization = space_user_org_info["organization"];
            newApprove.handler_organization_name = space_user_org_info["organization_name"];
            newApprove.handler_organization_fullname = space_user_org_info["organization_fullname"];
            newApprove.start_date = now;
            newApprove.finish_date = now;
            newApprove.due_date = instance_trace.due_date;
            newApprove.read_date = now;
            newApprove.judge = "terminated";
            newApprove.is_read = true;
            newApprove.description = terminate_reason;
            newApprove.is_error = false;
            newApprove.values = new Object();
            newApprove.cost_time = newApprove.finish_date - newApprove.start_date;
            traces[i].approves.push(newApprove);
          }

          i++;
        }

        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [instance_trace._id];
        newTrace.is_finished = true;
        newTrace.step = flow_ver_end_step._id;
        newTrace.name = flow_ver_end_step.name;
        newTrace.start_date = now;
        newTrace.finish_date = now;
        newTrace.judge = "terminated";
        setObj.state = "completed";
        setObj.final_decision = "terminated";
        old_inbox_users = instance.inbox_users;
        old_cc_users = instance.cc_users || [];
        old_outbox_users = instance.outbox_users;
        tempUsers = new Array();

        _.each(instance_trace.approves, function (nft_approve) {
          tempUsers.push(nft_approve.user);
          return tempUsers.push(nft_approve.handler);
        });

        setObj.outbox_users = _.uniq(instance.outbox_users.concat(tempUsers));
        setObj.inbox_users = new Array();
        setObj.cc_users = new Array();
        setObj.modified = now;
        setObj.modified_by = current_user;
        traces.push(newTrace);
        setObj.traces = traces;
        setObj.current_step_name = flow_ver_end_step.name;
        setObj.current_step_auto_submit = false;
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });

        if (r) {
          ins = uuflowManager.getInstance(instance_id);
          pushManager.send_instance_notification("submit_terminate_applicant", ins, terminate_reason, current_user_info);

          if (old_inbox_users) {
            _.each(_.uniq(old_inbox_users.concat(old_cc_users)), function (user_id) {
              return pushManager.send_message_to_specifyUser("terminate_approval", user_id);
            });
          }

          return pushManager.triggerWebhook(ins.flow, ins, {}, 'terminate', current_user, []);
        }
      }
    });

    pushManager.send_message_current_user(current_user_info);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_reassign.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_reassign.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/reassign', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var _users, approve_users_handlers, assignee_appr, current_space_user, current_user_organization, i, inbox_users, inbox_users_from_client, ins, instance, instance_id, last_trace, last_trace_from_client, new_inbox_users, not_in_inbox_users, now, permissions, r, reassign_reason, setObj, space, space_id;

      instance_id = instance_from_client['_id'];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      uuflowManager.isInstancePending(instance);
      last_trace_from_client = _.last(instance_from_client["traces"]);
      last_trace = _.find(instance.traces, function (t) {
        return t._id === last_trace_from_client["_id"];
      });

      if (last_trace.is_finished === true) {
        return;
      }

      permissions = permissionManager.getFlowPermissions(instance.flow, current_user);
      space = db.spaces.findOne({
        _id: space_id
      }, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user)) {
        throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
      }

      inbox_users = instance.inbox_users;
      inbox_users_from_client = instance_from_client["inbox_users"];
      reassign_reason = instance_from_client["reassign_reason"];
      not_in_inbox_users = _.difference(inbox_users, inbox_users_from_client);
      new_inbox_users = _.difference(inbox_users_from_client, inbox_users);

      if (not_in_inbox_users.length === 0 && new_inbox_users.length === 0) {
        return;
      }

      setObj = new Object();
      now = new Date();
      i = 0;
      approve_users_handlers = [];

      while (i < last_trace.approves.length) {
        if (not_in_inbox_users.includes(last_trace.approves[i].handler)) {
          if (last_trace.approves[i].is_finished === false && last_trace.approves[i].type !== "cc" && last_trace.approves[i].type !== "distribute") {
            last_trace.approves[i].is_finished = true;
            last_trace.approves[i].finish_date = now;
            last_trace.approves[i].judge = "terminated";
            last_trace.approves[i].description = "";
            last_trace.approves[i].cost_time = last_trace.approves[i].finish_date - last_trace.approves[i].start_date;
            approve_users_handlers.push(last_trace.approves[i].user);
            approve_users_handlers.push(last_trace.approves[i].handler);
          }
        }

        i++;
      }

      current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
      current_user_organization = db.organizations.findOne({
        _id: current_space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      assignee_appr = new Object();
      assignee_appr._id = new Mongo.ObjectID()._str;
      assignee_appr.instance = last_trace.instance;
      assignee_appr.trace = last_trace._id;
      assignee_appr.is_finished = true;
      assignee_appr.user = current_user;
      assignee_appr.user_name = current_user_info.name;
      assignee_appr.handler = current_user;
      assignee_appr.handler_name = current_user_info.name;
      assignee_appr.handler_organization = current_space_user.organization;
      assignee_appr.handler_organization_name = current_user_organization.name;
      assignee_appr.handler_organization_fullname = current_user_organization.fullname;
      assignee_appr.start_date = now;
      assignee_appr.finish_date = now;
      assignee_appr.due_date = last_trace.due_date;
      assignee_appr.read_date = now;
      assignee_appr.judge = "reassigned";
      assignee_appr.is_read = true;
      assignee_appr.description = reassign_reason;
      assignee_appr.is_error = false;
      assignee_appr.values = new Object();
      assignee_appr.cost_time = assignee_appr.finish_date - assignee_appr.start_date;
      last_trace.approves.push(assignee_appr);

      _.each(new_inbox_users, function (user_id) {
        var agent, handler_id, handler_info, new_appr, new_user, space_user, user_organization;
        new_user = db.users.findOne(user_id, {
          fields: {
            name: 1
          }
        });
        space_user = uuflowManager.getSpaceUser(space_id, user_id);
        user_organization = db.organizations.findOne(space_user.organization, {
          fields: {
            name: 1,
            fullname: 1
          }
        });
        new_appr = new Object();
        new_appr._id = new Mongo.ObjectID()._str;
        new_appr.instance = last_trace.instance;
        new_appr.trace = last_trace._id;
        new_appr.is_finished = false;
        new_appr.user = user_id;
        new_appr.user_name = new_user.name;
        handler_id = user_id;
        handler_info = new_user;
        agent = uuflowManager.getAgent(space_id, user_id);

        if (agent) {
          inbox_users_from_client[inbox_users_from_client.indexOf(user_id)] = agent;
          handler_id = agent;
          handler_info = db.users.findOne({
            _id: agent
          }, {
            fields: {
              name: 1
            }
          });
          new_appr.agent = agent;
        }

        new_appr.handler = handler_id;
        new_appr.handler_name = handler_info.name;
        new_appr.handler_organization = space_user.organization;
        new_appr.handler_organization_name = user_organization.name;
        new_appr.handler_organization_fullname = user_organization.fullname;
        new_appr.from_user = current_user;
        new_appr.from_user_name = current_user_info.name;
        new_appr.type = "reassign";
        new_appr.start_date = now;
        new_appr.due_date = last_trace.due_date;
        new_appr.is_read = false;
        new_appr.is_error = false;
        new_appr.values = new Object();
        uuflowManager.setRemindInfo(instance.values, new_appr);
        return last_trace.approves.push(new_appr);
      });

      instance.outbox_users.push(current_user);
      instance.outbox_users = instance.outbox_users.concat(approve_users_handlers);
      setObj.outbox_users = _.uniq(instance.outbox_users);
      setObj.inbox_users = inbox_users_from_client;
      setObj.modified = now;
      setObj.modified_by = current_user;
      setObj["traces.$.approves"] = last_trace.approves;
      r = db.instances.update({
        _id: instance_id,
        "traces._id": last_trace._id
      }, {
        $set: setObj
      });

      if (r) {
        ins = uuflowManager.getInstance(instance_id);
        pushManager.send_message_current_user(current_user_info);

        _.each(not_in_inbox_users, function (user_id) {
          if (user_id !== current_user) {
            return pushManager.send_message_to_specifyUser("current_user", user_id);
          }
        });

        _users = new Array();

        _users.push(ins.applicant);

        _users.push(ins.submitter);

        _users = _.uniq(_users.concat(ins.outbox_users));

        _.each(_users, function (user_id) {
          return pushManager.send_message_to_specifyUser("current_user", user_id);
        });

        pushManager.send_instance_notification("reassign_new_inbox_users", ins, reassign_reason, current_user_info);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'reassign', current_user, ins.inbox_users);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_relocate.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_relocate.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/relocate', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var _users, ah, approve_users, current_setp, current_setp_type, current_space_user, current_user_organization, flow, h, i, inbox_users, ins, instance, instance_id, l, last_trace, newTrace, new_inbox_users, next_step, next_step_name, next_step_type, not_in_inbox_users, now, permissions, r, relocate_appr, relocate_comment, relocate_inbox_users, relocate_next_step, sameTraces, setObj, signShowApproveId, space, space_id, ta, ti, traces;

      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      last_trace = _.last(instance.traces);
      permissions = permissionManager.getFlowPermissions(instance.flow, current_user);
      space = db.spaces.findOne(instance.space, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user)) {
        throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
      }

      space_id = instance.space;
      instance_id = last_trace.instance;
      inbox_users = instance.inbox_users;
      relocate_inbox_users = instance_from_client["relocate_inbox_users"];
      relocate_comment = instance_from_client["relocate_comment"];
      relocate_next_step = instance_from_client["relocate_next_step"];
      not_in_inbox_users = _.difference(inbox_users, relocate_inbox_users);
      new_inbox_users = _.difference(relocate_inbox_users, inbox_users);
      approve_users = [];
      flow = uuflowManager.getFlow(instance.flow);
      next_step = uuflowManager.getStep(instance, flow, relocate_next_step);
      next_step_type = next_step.step_type;
      next_step_name = next_step.name;
      current_setp = uuflowManager.getStep(instance, flow, last_trace.step);
      current_setp_type = current_setp.step_type;
      traces = instance.traces;
      setObj = new Object();
      setObj.values = uuflowManager.getUpdatedValues(instance);
      now = new Date();
      i = 0;

      while (i < traces.length) {
        if (traces[i]._id === last_trace._id) {
          if (!traces[i].approves) {
            traces[i].approves = new Array();
          }

          h = 0;

          while (h < traces[i].approves.length) {
            if (traces[i].approves[h].is_finished === false && traces[i].approves[h].type !== "cc" && traces[i].approves[h].type !== "distribute") {
              traces[i].approves[h].start_date = now;
              traces[i].approves[h].finish_date = now;
              traces[i].approves[h].read_date = now;
              traces[i].approves[h].is_error = false;
              traces[i].approves[h].is_read = true;
              traces[i].approves[h].is_finished = true;
              traces[i].approves[h].judge = "terminated";
              traces[i].approves[h].cost_time = traces[i].approves[h].finish_date - traces[i].approves[h].start_date;
              approve_users.push(traces[i].approves[h].user);

              if (traces[i].approves[h].sign_show === true) {
                ta = traces[i].approves[h];
                sameTraces = _.filter(traces, function (t) {
                  return t.step === traces[i].step;
                });
                l = sameTraces.length - 1;
                signShowApproveId = null;

                while (l > -1) {
                  _.each(sameTraces[l].approves, function (a) {
                    if (a.user === ta.user && a.judge !== "terminated" && a.description && !signShowApproveId) {
                      return signShowApproveId = a._id;
                    }
                  });

                  l--;
                }

                if (signShowApproveId) {
                  ti = 0;

                  while (ti < traces.length) {
                    ah = 0;

                    while (ah < traces[ti].approves.length) {
                      if (traces[ti].approves[ah]._id === signShowApproveId) {
                        traces[ti].approves[ah].sign_show = true;
                        traces[i].approves[h].sign_show = false;
                      }

                      ah++;
                    }

                    ti++;
                  }
                }
              }
            }

            h++;
          }

          current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
          current_user_organization = db.organizations.findOne(current_space_user.organization, {
            fields: {
              name: 1,
              fullname: 1
            }
          });
          relocate_appr = new Object();
          relocate_appr._id = new Mongo.ObjectID()._str;
          relocate_appr.instance = instance_id;
          relocate_appr.trace = traces[i]._id;
          relocate_appr.is_finished = true;
          relocate_appr.user = current_user;
          relocate_appr.user_name = current_user_info.name;
          relocate_appr.handler = current_user;
          relocate_appr.handler_name = current_user_info.name;
          relocate_appr.handler_organization = current_space_user.organization;
          relocate_appr.handler_organization_name = current_user_organization.name;
          relocate_appr.handler_organization_fullname = current_user_organization.fullname;
          relocate_appr.start_date = now;
          relocate_appr.finish_date = now;
          relocate_appr.due_date = traces[i].due_date;
          relocate_appr.read_date = now;
          relocate_appr.judge = "relocated";
          relocate_appr.is_read = true;
          relocate_appr.description = relocate_comment;
          relocate_appr.is_error = false;
          relocate_appr.values = new Object();
          relocate_appr.cost_time = relocate_appr.finish_date - relocate_appr.start_date;
          traces[i].approves.push(relocate_appr);
          traces[i].is_finished = true;
          traces[i].finish_date = now;
          traces[i].judge = "relocated";
        }

        i++;
      }

      if (next_step_type === "end") {
        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace._id];
        newTrace.is_finished = true;
        newTrace.step = relocate_next_step;
        newTrace.name = next_step_name;
        newTrace.start_date = now;
        newTrace.finish_date = now;
        newTrace.approves = [];
        setObj.state = "completed";
        setObj.inbox_users = [];
        setObj.final_decision = "terminated";
        setObj.finish_date = new Date();
        setObj.current_step_name = next_step_name;
        setObj.current_step_auto_submit = false;
      } else {
        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace._id];
        newTrace.is_finished = false;
        newTrace.step = relocate_next_step;
        newTrace.name = next_step_name;
        newTrace.start_date = now;
        newTrace.due_date = uuflowManager.getDueDate(next_step.timeout_hours, space_id);
        newTrace.approves = [];

        _.each(relocate_inbox_users, function (next_step_user_id, idx) {
          var agent, handler_id, handler_info, newApprove, next_step_space_user, next_step_user_org_info, user_info;
          newApprove = new Object();
          newApprove._id = new Mongo.ObjectID()._str;
          newApprove.instance = instance_id;
          newApprove.trace = newTrace._id;
          newApprove.is_finished = false;
          newApprove.user = next_step_user_id;
          user_info = db.users.findOne(next_step_user_id, {
            fields: {
              name: 1
            }
          });
          newApprove.user_name = user_info.name;
          handler_id = next_step_user_id;
          handler_info = user_info;
          agent = uuflowManager.getAgent(space_id, next_step_user_id);

          if (agent) {
            relocate_inbox_users[idx] = agent;
            handler_id = agent;
            handler_info = db.users.findOne({
              _id: agent
            }, {
              fields: {
                name: 1
              }
            });
            newApprove.agent = agent;
          }

          newApprove.handler = handler_id;
          newApprove.handler_name = handler_info.name;
          next_step_space_user = uuflowManager.getSpaceUser(space_id, handler_id);
          next_step_user_org_info = uuflowManager.getSpaceUserOrgInfo(next_step_space_user);
          newApprove.handler_organization = next_step_user_org_info["organization"];
          newApprove.handler_organization_name = next_step_user_org_info["organization_name"];
          newApprove.handler_organization_fullname = next_step_user_org_info["organization_fullname"];
          newApprove.start_date = now;
          newApprove.due_date = newTrace.due_date;
          newApprove.is_read = false;
          newApprove.is_error = false;
          newApprove.values = new Object();
          uuflowManager.setRemindInfo(instance.values, newApprove);
          return newTrace.approves.push(newApprove);
        });

        setObj.inbox_users = relocate_inbox_users;
        setObj.state = "pending";
        setObj.current_step_name = next_step_name;
        setObj.current_step_auto_submit = uuflowManager.getCurrentStepAutoSubmit(flow.timeout_auto_submit, next_step.lines);
      }

      instance.outbox_users.push(current_user);
      instance.outbox_users = instance.outbox_users.concat(inbox_users).concat(approve_users);
      setObj.outbox_users = _.uniq(instance.outbox_users);
      setObj.modified = now;
      setObj.modified_by = current_user;
      setObj.is_archived = false;
      traces.push(newTrace);
      setObj.traces = traces;

      if (setObj.state === 'completed') {
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });
      } else {
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj,
          $unset: {
            finish_date: 1
          }
        });
      }

      if (r) {
        ins = uuflowManager.getInstance(instance_id);
        pushManager.send_message_current_user(current_user_info);

        _.each(not_in_inbox_users, function (user_id) {
          if (user_id !== current_user) {
            return pushManager.send_message_to_specifyUser("current_user", user_id);
          }
        });

        _users = new Array();

        _users.push(ins.applicant);

        _users.push(ins.submitter);

        _users = _.uniq(_users.concat(ins.outbox_users));

        _.each(_users, function (user_id) {
          return pushManager.send_message_to_specifyUser("current_user", user_id);
        });

        pushManager.send_instance_notification("reassign_new_inbox_users", ins, relocate_comment, current_user_info);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'relocate', current_user, ins.inbox_users);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_archive.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_archive.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/archive', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var instance, instance_id, setObj, space, space_id, space_user;
      instance_id = instance_from_client["_id"];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      uuflowManager.isInstanceFinishedAndNotArchieved(instance);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      uuflowManager.isInstanceSubmitterOrApplicantOrSpaceAdmin(instance, current_user, space);
      setObj = new Object();
      setObj.is_archived = true;
      setObj.modified = new Date();
      setObj.modified_by = current_user;
      return db.instances.update({
        _id: instance_id
      }, {
        $set: setObj
      });
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_export.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_export.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/instances", function (req, res, next) {
    var current_user_info, e, ejs, ejsLint, end_date, error_obj, fields, fileName, flow, flow_id, flow_ids, form, form_name, formatDate, ins_to_xls, lang, last_month_date, now, query, ret, selector, space, space_id, start_date, str, table_fields, template, timezoneoffset, type, uid, utcOffset;

    try {
      current_user_info = uuflowManager.check_authorization(req);
      query = req.query;
      space_id = query.space_id;
      flow_id = query.flow_id;
      type = parseInt(query.type);
      timezoneoffset = parseInt(query.timezoneoffset);
      flow = db.flows.findOne({
        _id: flow_id
      }, {
        fields: {
          form: 1
        }
      });
      form = db.forms.findOne({
        _id: flow.form
      }, {
        fields: {
          name: 1,
          'current.fields': 1
        }
      });
      form_name = form.name;
      fields = form.current.fields;
      table_fields = new Array();

      _.each(form.current.fields, function (field) {
        if (field.type === "table") {
          return table_fields.push(field);
        }
      });

      ins_to_xls = new Array();
      start_date = null;
      end_date = null;
      now = new Date();
      selector = {
        space: space_id,
        flow: flow_id
      };
      selector.state = {
        $in: ["pending", "completed"]
      };
      uid = current_user_info._id;
      space = db.spaces.findOne(space_id);

      if (!space) {
        selector.state = "none";
      }

      if (!space.admins.includes(uid)) {
        flow_ids = WorkflowManager.getMyAdminOrMonitorFlows(space_id, uid);

        if (!flow_ids.includes(selector.flow)) {
          selector.$or = [{
            submitter: uid
          }, {
            applicant: uid
          }, {
            inbox_users: uid
          }, {
            outbox_users: uid
          }];
        }
      }

      if (type === 0) {
        start_date = new Date(now.getFullYear(), now.getMonth(), 1);
        selector.submit_date = {
          $gte: start_date
        };
        ins_to_xls = db.instances.find(selector, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 1) {
        last_month_date = new Date(new Date(now.getFullYear(), now.getMonth(), 1) - 1000 * 60 * 60 * 24);
        start_date = new Date(last_month_date.getFullYear(), last_month_date.getMonth(), 1);
        end_date = new Date(now.getFullYear(), now.getMonth(), 1);
        selector.submit_date = {
          $gte: start_date,
          $lte: end_date
        };
        ins_to_xls = db.instances.find(selector, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 2) {
        start_date = new Date(now.getFullYear(), 0, 1);
        selector.submit_date = {
          $gte: start_date
        };
        ins_to_xls = db.instances.find(selector, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 3) {
        ins_to_xls = db.instances.find(selector, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      }

      ejs = require('ejs');
      str = Assets.getText('server/ejs/export_instances.ejs');
      ejsLint = require('ejs-lint');
      error_obj = ejsLint.lint(str, {});

      if (error_obj) {
        console.error("===/api/workflow/export:");
        console.error(error_obj);
      }

      template = ejs.compile(str);
      lang = 'en';

      if (current_user_info.locale === 'zh-cn') {
        lang = 'zh-CN';
      }

      utcOffset = timezoneoffset / -60;

      formatDate = function (date, formater) {
        return moment(date).utcOffset(utcOffset).format(formater);
      };

      ret = template({
        lang: lang,
        formatDate: formatDate,
        form_name: form_name,
        fields: fields,
        table_fields: table_fields,
        ins_to_xls: ins_to_xls
      });
      fileName = "SteedOSWorkflow_" + moment().format('YYYYMMDDHHmm') + ".xls";
      res.setHeader("Content-type", "application/octet-stream");
      res.setHeader("Content-Disposition", "attachment;filename=" + encodeURI(fileName));
      return res.end(ret);
    } catch (error) {
      e = error;
      console.error(e.stack);
      return res.end(e.message);
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_space_changeset.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_space_changeset.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/uf/space/changeset', function (req, res, next) {
  var auth_token, data, e, formids, is_admin, query, sync_token;

  try {
    query = req.query;
    auth_token = db.auth_tokens.findOne({
      auth_token: query.auth_token
    });

    if (!auth_token || !auth_token.enabled) {
      throw new Meteor.Error(401, 'Unauthorized');
    }

    sync_token = query["sync_token"];
    formids = query["formids"];
    is_admin = query["is_admin"];
    data = uuflowManager.get_SpaceChangeSet(formids, is_admin, sync_token);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: data
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_retrieve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_retrieve.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/retrieve', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, flow, handler_info, i, ins, instance, instance_id, last_trace, last_trace_id, newApprove, newTrace, now, old_inbox_users, org_info, previous_step, previous_trace, previous_trace_approves, previous_trace_id, previous_trace_name, previous_trace_step_id, r, retrieve_approve, retrieve_comment, retrieve_type, setObj, space_id, space_user, the_trace, traces;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      retrieve_comment = instance_from_client['retrieve_comment'];

      if (!instance.outbox_users.includes(current_user) && instance.submitter !== current_user && instance.applicant !== current_user) {
        throw new Meteor.Error('error', '当前用户不符合取回条件');
      }

      retrieve_type = "";
      traces = instance.traces;
      last_trace = _.last(traces);
      last_trace_id = last_trace._id;
      previous_trace_id = last_trace.previous_trace_ids[0];
      previous_trace = _.find(traces, function (t) {
        return t._id === previous_trace_id;
      });
      previous_trace_step_id = previous_trace.step;
      previous_trace_name = previous_trace.name;
      flow = uuflowManager.getFlow(instance.flow);
      previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);

      if (previous_step.step_type === "counterSign") {
        throw new Meteor.Error('error', '会签不能取回');
      }

      previous_trace_approves = _.filter(previous_trace.approves, function (a) {
        return a.type !== 'cc' && a.type !== 'distribute' && a.type !== 'forward' && ['approved', 'submitted', 'rejected'].includes(a.judge);
      });

      if (previous_trace_approves.length === 1 && (previous_trace_approves[0].user === current_user || previous_trace_approves[0].handler === current_user)) {
        retrieve_type = 'normal';
      }

      i = traces.length;
      retrieve_approve = {};

      while (i > 0) {
        _.each(traces[i - 1].approves, function (a) {
          if (a.type === 'cc' && a.is_finished === true && a.user === current_user) {
            retrieve_type = 'cc';
            return retrieve_approve = a;
          }
        });

        if (retrieve_type === 'cc') {
          break;
        }

        i--;
      }

      if (retrieve_type === 'normal') {
        flow = uuflowManager.getFlow(instance.flow);
        previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);
        space_id = instance.space;
        instance_id = instance._id;
        old_inbox_users = instance.inbox_users;
        setObj = new Object();
        now = new Date();

        _.each(traces, function (t) {
          var current_space_user, current_user_organization, retrieve_appr;

          if (t._id === last_trace_id) {
            if (!t.approves) {
              t.approves = new Array();
            }

            _.each(t.approves, function (appr) {
              if (appr.is_finished === false && appr.type !== "cc") {
                appr.start_date = now;
                appr.finish_date = now;
                appr.read_date = now;
                appr.is_error = false;
                appr.is_read = true;
                appr.is_finished = true;
                appr.judge = "terminated";
                return appr.cost_time = appr.finish_date - appr.start_date;
              }
            });

            current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
            current_user_organization = db.organizations.findOne(current_space_user.organization, {
              fields: {
                name: 1,
                fullname: 1
              }
            });
            retrieve_appr = new Object();
            retrieve_appr._id = new Mongo.ObjectID()._str;
            retrieve_appr.instance = instance_id;
            retrieve_appr.trace = t._id;
            retrieve_appr.is_finished = true;
            retrieve_appr.user = current_user;
            retrieve_appr.user_name = current_user_info.name;
            retrieve_appr.handler = current_user;
            retrieve_appr.handler_name = current_user_info.name;
            retrieve_appr.handler_organization = current_space_user.organization;
            retrieve_appr.handler_organization_name = current_user_organization.name;
            retrieve_appr.handler_organization_fullname = current_user_organization.fullname;
            retrieve_appr.start_date = now;
            retrieve_appr.finish_date = now;
            retrieve_appr.due_date = t.due_date;
            retrieve_appr.read_date = now;
            retrieve_appr.judge = "retrieved";
            retrieve_appr.is_read = true;
            retrieve_appr.description = retrieve_comment;
            retrieve_appr.is_error = false;
            retrieve_appr.values = new Object();
            retrieve_appr.cost_time = retrieve_appr.finish_date - retrieve_appr.start_date;
            t.approves.push(retrieve_appr);
            t.is_finished = true;
            t.finish_date = now;
            return t.judge = "retrieved";
          }
        });

        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace_id];
        newTrace.is_finished = false;
        newTrace.step = previous_trace_step_id;
        newTrace.name = previous_trace_name;
        newTrace.start_date = now;
        newTrace.due_date = uuflowManager.getDueDate(previous_step.timeout_hours, space_id);
        newTrace.approves = [];
        newApprove = new Object();
        newApprove._id = new Mongo.ObjectID()._str;
        newApprove.instance = instance_id;
        newApprove.trace = newTrace._id;
        newApprove.is_finished = false;
        newApprove.user = current_user;
        handler_info = db.users.findOne(current_user, {
          fields: {
            name: 1
          }
        });
        newApprove.user_name = handler_info.name;
        newApprove.handler = current_user;
        newApprove.handler_name = handler_info.name;
        space_user = uuflowManager.getSpaceUser(space_id, current_user);
        org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
        newApprove.handler_organization = org_info["organization"];
        newApprove.handler_organization_name = org_info["organization_name"];
        newApprove.handler_organization_fullname = org_info["organization_fullname"];
        newApprove.start_date = now;
        newApprove.due_date = newTrace.due_date;
        newApprove.is_read = false;
        newApprove.is_error = false;
        newApprove.values = new Object();
        uuflowManager.setRemindInfo(instance.values, newApprove);
        newTrace.approves.push(newApprove);
        setObj.inbox_users = [current_user];
        setObj.modified = now;
        setObj.modified_by = current_user;
        traces.push(newTrace);
        setObj.traces = traces;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.current_step_name = previous_trace_name;
        setObj.current_step_auto_submit = uuflowManager.getCurrentStepAutoSubmit(flow.timeout_auto_submit, previous_step.lines);
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);

          _.each(old_inbox_users, function (user_id) {
            if (user_id !== current_user) {
              return pushManager.send_message_to_specifyUser("current_user", user_id);
            }
          });

          ins = uuflowManager.getInstance(instance_id);
          return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, ins.inbox_users);
        }
      } else if (retrieve_type === 'cc') {
        setObj = new Object();
        now = new Date();
        instance_id = instance._id;
        the_trace = _.find(traces, function (t) {
          return t._id === retrieve_approve.trace;
        });

        _.each(the_trace.approves, function (a) {
          if (a._id === retrieve_approve._id) {
            a.is_finished = false;
            a.finish_date = void 0;
            a.judge = void 0;
            return a.cost_time = void 0;
          }
        });

        cc_users = instance.cc_users;
        cc_users.push(current_user);
        setObj.modified = now;
        setObj.modified_by = current_user;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.cc_users = cc_users;
        setObj['traces.$.approves'] = the_trace.approves;
        r = db.instances.update({
          _id: instance_id,
          'traces._id': retrieve_approve.trace
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);
        }

        ins = uuflowManager.getInstance(instance_id);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, [current_user]);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add('post', '/api/workflow/forward', function (req, res, next) {
  try {
    var current_user_info = uuflowManager.check_authorization(req);
    var current_user_id = current_user_info._id;
    var hashData = req.body;
    var instance_id = hashData.instance_id;
    var space_id = hashData.space_id;
    var flow_id = hashData.flow_id;
    var hasSaveInstanceToAttachment = hashData.hasSaveInstanceToAttachment;
    var description = hashData.description;
    var isForwardAttachments = hashData.isForwardAttachments;
    var selectedUsers = hashData.selectedUsers;
    var action_type = hashData.action_type;
    var related = hashData.related;
    var from_approve_id = hashData.from_approve_id;
    check(instance_id, String);
    check(space_id, String);
    check(flow_id, String);
    check(hasSaveInstanceToAttachment, Boolean);
    check(description, String);
    check(isForwardAttachments, Boolean);
    check(selectedUsers, Array);
    check(action_type, Match.OneOf('forward', 'distribute'));
    if (action_type == "distribute") check(from_approve_id, String);
    var ins = db.instances.findOne(instance_id);
    var old_space_id = ins.space;
    var flow = db.flows.findOne(flow_id);
    var space = db.spaces.findOne(space_id);

    if (!ins || !flow || !space) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var forward_users = new Array();

    if (_.isEmpty(selectedUsers)) {
      forward_users = [current_user_id];
    } else {
      forward_users = selectedUsers;
    } // 校验分发对象是否有分发流程的提交权限


    var no_permission_user_ids = new Array();

    _.each(forward_users, function (uid) {
      var permissions = permissionManager.getFlowPermissions(flow_id, uid);

      if (!permissions.includes("add")) {
        // throw new Meteor.Error('error!', "该申请人没有提交此申请单的权限。")
        no_permission_user_ids.push(uid);
      }
    });

    if (!_.isEmpty(no_permission_user_ids)) {
      var no_permission_users_name = new Array();
      db.users.find({
        _id: {
          $in: no_permission_user_ids
        }
      }, {
        fields: {
          name: 1
        }
      }).forEach(function (u) {
        no_permission_users_name.push(u.name);
      });
      throw new Meteor.Error('no_permission', "该提交人没有提交此申请单的权限。", no_permission_users_name.join(','));
    }

    var new_ins_ids = new Array();
    var current_trace = null;

    if (action_type == "distribute") {
      _.each(ins.traces, function (t) {
        if (!current_trace) {
          _.each(t.approves, function (a) {
            if (!current_trace) {
              if (a._id == from_approve_id) current_trace = t;
            }
          });
        }
      });
    } else {
      current_trace = _.last(ins.traces);
    }

    var current_trace_id = current_trace._id;
    var forward_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    var set_obj = new Object(); // 计算values

    var old_values = ins.values,
        new_values = {};
    var form = db.forms.findOne(flow.form);
    var fields = form.current.fields || [];
    var old_form = db.forms.findOne(ins.form);
    var old_form_version = ins.form_version,
        old_fields = [],
        common_fields = [];
    var select_to_input_fields = [];

    if (old_form.current._id == old_form_version) {
      old_fields = old_form.current.fields;
    } else {
      if (old_form.historys) {
        old_form.historys.forEach(function (h) {
          if (h._id == old_form_version) old_fields = h.fields;
        });
      }
    }

    fields.forEach(function (field) {
      var exists_field = _.find(old_fields, function (f) {
        return f.type == field.type && f.code == field.code;
      });

      if (exists_field) common_fields.push(field);

      var select_input_field = _.find(old_fields, function (f) {
        return f.type == 'select' && field.type == 'input' && f.code == field.code;
      });

      if (select_input_field) select_to_input_fields.push(select_input_field);
    });
    select_to_input_fields.forEach(function (field) {
      if (old_values[field.code]) {
        new_values[field.code] = old_values[field.code];
      }
    });
    common_fields.forEach(function (field) {
      if (field.type == 'section') {
        if (field.fields) {
          field.fields.forEach(function (f) {
            // 跨工作区转发不复制选人选组
            if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
              return;
            }

            var key = f.code;
            var old_v = old_values[key];

            if (old_v) {
              // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
              if (f.type == 'select' || f.type == 'radio') {
                var options = f.options.split('\n');
                if (!options.includes(old_v)) return;
              }

              if (f.type == 'multiSelect') {
                var options = f.options.split('\n');
                var old_multiSelected = old_v.split(',');

                var new_multiSelected = _.intersection(options, old_multiSelected);

                old_v = new_multiSelected.join(',');
              }

              new_values[key] = old_v;
            }
          });
        }
      } else if (field.type == 'table') {
        if (!_.isEmpty(old_values[field.code])) {
          new_values[field.code] = new Array();
          old_values[field.code].forEach(function (old_table_row_values) {
            var new_table_row_values = {};

            if (!_.isEmpty(field.fields)) {
              field.fields.forEach(function (f) {
                // 跨工作区转发不复制选人选组
                if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
                  return;
                }

                var key = f.code;
                var old_v = old_table_row_values[key];

                if (old_v) {
                  // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
                  if (f.type == 'select' || f.type == 'radio') {
                    var options = f.options.split('\n');
                    if (!options.includes(old_v)) return;
                  }

                  if (f.type == 'multiSelect') {
                    var options = f.options.split('\n');
                    var old_multiSelected = old_v.split(',');

                    var new_multiSelected = _.intersection(options, old_multiSelected);

                    old_v = new_multiSelected.join(',');
                  }

                  new_table_row_values[key] = old_v;
                }
              });
            }

            if (old_table_row_values._id) {
              new_table_row_values._id = new Mongo.ObjectID()._str;
            }

            if (!_.isEmpty(new_table_row_values)) {
              new_values[field.code].push(new_table_row_values);
            }
          });
        }
      } else {
        // 跨工作区转发不复制选人选组
        if (['group', 'user'].includes(field.type) && old_space_id != space_id) {
          return;
        }

        var key = field.code;
        var old_v = old_values[key];

        if (old_v) {
          // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
          if (field.type == 'select' || field.type == 'radio') {
            var options = field.options.split('\n');
            if (!options.includes(old_v)) return;
          }

          if (field.type == 'multiSelect') {
            var options = field.options.split('\n');
            var old_multiSelected = old_v.split(',');

            var new_multiSelected = _.intersection(options, old_multiSelected);

            old_v = new_multiSelected.join(',');
          }

          new_values[key] = old_v;
        }
      }
    }); //如果是分发，则value中的record_need、FONDSID不需要分发到新申请单中

    if (action_type === 'distribute') {
      delete new_values.record_need;
      delete new_values.FONDSID;
    } // 计算申请单标题


    var instance_name = "";
    var name_forumla = form.current.name_forumla;

    if (name_forumla) {
      try {
        var iscript = name_forumla.replace(/\{/g, "(new_values['").replace(/\}/g, "'] || '')");
        var rev = eval(iscript);
        instance_name = rev || flow.name;
      } catch (error) {
        throw new Meteor.Error('caculate_instance_name', "计算申请单标题出错请检查表单标题脚本。");
      }
    } else {
      instance_name = flow.name;
    } // instance中记录当前步骤名称 #1314


    var start_step = _.find(flow.current.steps, function (step) {
      return step.step_type == 'start';
    }); // 新建申请单时，instances记录流程名称、流程分类名称 #1313


    var category_name = "";

    if (form.category) {
      var category = uuflowManager.getCategory(form.category);
      if (category) category_name = category.name;
    }

    _.each(forward_users, function (user_id) {
      var user_info = db.users.findOne(user_id);
      var space_user = db.space_users.findOne({
        space: space_id,
        user: user_id
      }, {
        fields: {
          organization: 1
        }
      });
      var space_user_org_info = db.organizations.findOne({
        _id: space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var now = new Date();
      var ins_obj = {};
      var agent = uuflowManager.getAgent(space_id, user_id);
      var handler_id = user_id;
      var handler_info = user_info;
      var handler_space_user = space_user;
      var handler_org_info = space_user_org_info;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent);
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
      }

      ins_obj._id = db.instances._makeNewID();
      ins_obj.space = space_id;
      ins_obj.flow = flow_id;
      ins_obj.flow_version = flow.current._id;
      ins_obj.form = flow.form;
      ins_obj.form_version = flow.current.form_version;
      ins_obj.name = instance_name;
      ins_obj.submitter = handler_id;
      ins_obj.submitter_name = handler_info.name;
      ins_obj.applicant = user_id;
      ins_obj.applicant_name = user_info.name;
      ins_obj.applicant_organization = space_user.organization;
      ins_obj.applicant_organization_name = space_user_org_info.name;
      ins_obj.applicant_organization_fullname = space_user_org_info.fullname;
      ins_obj.state = "draft";
      ins_obj.code = "";
      ins_obj.is_archived = false;
      ins_obj.is_deleted = false;
      ins_obj.created = now;
      ins_obj.created_by = current_user_id;
      ins_obj.modified = now;
      ins_obj.modified_by = current_user_id;
      ins_obj.inbox_users = [handler_id];
      ins_obj.values = new_values;

      if (action_type == 'distribute') {
        // 解决多次分发看不到正文、附件问题
        if (ins.distribute_from_instance) {
          ins_obj.distribute_from_instance = ins.distribute_from_instance;
        } else {
          ins_obj.distribute_from_instance = instance_id;
        }

        ins_obj.distribute_from_instances = _.clone(ins.distribute_from_instances) || [];
        ins_obj.distribute_from_instances.push(instance_id);

        if (related) {
          ins_obj.related_instances = [instance_id];
        }
      } else if (action_type == 'forward') {
        ins_obj.forward_from_instance = instance_id;
      } // 新建Trace


      var trace_obj = {};
      trace_obj._id = new Mongo.ObjectID()._str;
      trace_obj.instance = ins_obj._id;
      trace_obj.is_finished = false; // 当前最新版flow中开始节点的step_id

      var step_id, step_name, can_edit_main_attach, can_edit_normal_attach;
      flow.current.steps.forEach(function (step) {
        if (step.step_type == "start") {
          step_id = step._id;
          step_name = step.name;
          can_edit_main_attach = step.can_edit_main_attach;
          can_edit_normal_attach = step.can_edit_normal_attach;
        }
      });
      trace_obj.step = step_id;
      trace_obj.start_date = now;
      trace_obj.name = step_name; // 新建Approve

      var appr_obj = {};
      appr_obj._id = new Mongo.ObjectID()._str;
      appr_obj.instance = ins_obj._id;
      appr_obj.trace = trace_obj._id;
      appr_obj.is_finished = false;
      appr_obj.user = user_id;
      appr_obj.user_name = user_info.name;
      appr_obj.handler = handler_id;
      appr_obj.handler_name = handler_info.name;
      appr_obj.handler_organization = handler_space_user.organization;
      appr_obj.handler_organization_name = handler_org_info.name;
      appr_obj.handler_organization_fullname = handler_org_info.fullname;
      appr_obj.type = "draft";
      appr_obj.start_date = now;
      appr_obj.read_date = now;
      appr_obj.is_read = false;
      appr_obj.is_error = false;
      appr_obj.values = new_values;

      if (agent) {
        appr_obj.agent = agent;
      }

      trace_obj.approves = [appr_obj];
      ins_obj.traces = [trace_obj];
      if (flow.auto_remind == true) ins_obj.auto_remind = true;
      ins_obj.current_step_name = start_step.name;
      ins_obj.flow_name = flow.name;

      if (category_name) {
        ins_obj.category_name = category.name;
        ins_obj.category = category._id;
      }

      new_ins_id = db.instances.insert(ins_obj); // 复制附件

      var collection = cfs.instances; //将原表单内容存储为第一个附件

      if (hasSaveInstanceToAttachment) {
        // try {
        instanceHtml = InstanceReadOnlyTemplate.getInstanceHtml(user_info, space_id, ins, {
          absolute: true,
          showTrace: true
        });
        var instanceFile = new FS.File();
        instanceFile.attachData(Buffer.from(instanceHtml, "utf-8"), {
          type: "text/html"
        }, function (error) {
          if (error) {
            throw new Meteor.Error(error.error, error.reason);
          }

          instanceFile.name(ins.name + ".html");
          instanceFile.size(instanceHtml.length);
          var metadata = {
            owner: user_id,
            owner_name: user_info.name,
            space: space_id,
            instance: new_ins_id,
            approve: appr_obj._id,
            current: true
          };
          instanceFile.metadata = metadata;
          var fileObj = collection.insert(instanceFile);
          fileObj.update({
            $set: {
              'metadata.parent': fileObj._id
            }
          });
        }); // } catch (e) {
        //     console.error(e);
        // }
      }

      if (isForwardAttachments && action_type == 'forward') {
        var files = collection.find({
          'metadata.instance': instance_id,
          'metadata.current': true
        });
        files.forEach(function (f) {
          // 判断新的流程开始节点是否有编辑正文和编辑附件权限
          if (f.metadata.main == true) {
            if (can_edit_main_attach != true && can_edit_normal_attach != true) return;
          } else {
            if (can_edit_normal_attach != true) return;
          }

          var newFile = new FS.File();
          newFile.attachData(f.createReadStream('instances'), {
            type: f.original.type
          }, function (err) {
            if (err) {
              throw new Meteor.Error(err.error, err.reason);
            }

            newFile.name(f.name());
            newFile.size(f.size());
            var metadata = {
              owner: user_id,
              owner_name: user_info.name,
              space: space_id,
              instance: new_ins_id,
              approve: appr_obj._id,
              current: true
            };

            if (f.metadata.main == true && can_edit_main_attach == true) {
              metadata.main = true;
            }

            newFile.metadata = metadata;
            var fileObj = collection.insert(newFile);
            fileObj.update({
              $set: {
                'metadata.parent': fileObj._id
              }
            });
          });
        });
      }

      if (action_type === 'distribute') {
        // 给当前的申请单增加分发记录
        var appr = {
          '_id': new Mongo.ObjectID()._str,
          'instance': instance_id,
          'trace': current_trace_id,
          'is_finished': true,
          'user': user_id,
          'user_name': user_info.name,
          'handler': user_id,
          'handler_name': user_info.name,
          'handler_organization': space_user.organization,
          'handler_organization_name': space_user_org_info.name,
          'handler_organization_fullname': space_user_org_info.fullname,
          'type': action_type,
          'start_date': new Date(),
          'finish_date': new Date(),
          'is_read': false,
          'judge': 'submitted',
          'from_user': current_user_id,
          'from_user_name': from_user_name,
          'forward_space': space_id,
          'forward_instance': new_ins_id,
          'description': description,
          'from_approve_id': from_approve_id
        };
        forward_approves.push(appr);
      }

      new_ins_ids.push(new_ins_id);
      pushManager.send_message_to_specifyUser("current_user", user_id);
    });

    if (!_.isEmpty(forward_approves)) {
      set_obj.modified = new Date();
      set_obj.modified_by = current_user_id;
      var r = db.instances.update({
        _id: instance_id,
        "traces._id": current_trace_id
      }, {
        $set: set_obj,
        $addToSet: {
          'traces.$.approves': {
            $each: forward_approves
          }
        }
      });
    }

    if (r) {
      _.each(current_trace.approves, function (a, idx) {
        if (a._id == from_approve_id) {
          var update_read = {};
          update_read["traces.$.approves." + idx + ".read_date"] = new Date();
          db.instances.update({
            _id: instance_id,
            "traces._id": current_trace_id
          }, {
            $set: update_read
          });
        }
      });
    }

    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        new_ins_ids: new_ins_ids
      }
    });
  } catch (e) {
    console.error(e.stack);
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/workflow/instance/:instanceId', function (req, res, next) {
  var box, current_user_id, current_user_info, e, flowId, ins, insId, permissions, redirectTo, redirectToUrl, ref, ref1, ref2, req_async, space, spaceId;

  try {
    current_user_info = uuflowManager.check_authorization(req, res);
    current_user_id = current_user_info._id;
    req_async = _.has(req.query, 'async');
    insId = req.params.instanceId;
    ins = db.instances.findOne(insId, {
      fields: {
        space: 1,
        flow: 1,
        state: 1,
        inbox_users: 1,
        cc_users: 1,
        outbox_users: 1,
        submitter: 1,
        applicant: 1
      }
    });

    if (!ins) {
      throw new Meteor.Error('error', 'instanceId is wrong or instance not exists.');
    }

    spaceId = ins.space;
    flowId = ins.flow;

    if (db.space_users.find({
      space: spaceId,
      user: current_user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'user is not belong to this space.');
    }

    box = '';

    if (((ref = ins.inbox_users) != null ? ref.includes(current_user_id) : void 0) || ((ref1 = ins.cc_users) != null ? ref1.includes(current_user_id) : void 0)) {
      box = 'inbox';
    } else if ((ref2 = ins.outbox_users) != null ? ref2.includes(current_user_id) : void 0) {
      box = 'outbox';
    } else if (ins.state === 'draft' && ins.submitter === current_user_id) {
      box = 'draft';
    } else if (ins.state === 'pending' && (ins.submitter === current_user_id || ins.applicant === current_user_id)) {
      box = 'pending';
    } else if (ins.state === 'completed' && ins.submitter === current_user_id) {
      box = 'completed';
    } else {
      permissions = permissionManager.getFlowPermissions(flowId, current_user_id);
      space = db.spaces.findOne(spaceId, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user_id)) {
        throw new Meteor.Error('error', "no permission.");
      }

      box = 'monitor';
    }

    redirectTo = "workflow/space/" + spaceId + "/" + box + "/" + insId;
    redirectToUrl = Meteor.absoluteUrl(redirectTo);

    if (req_async) {
      return res.status(200).send({
        "status": 302,
        "redirect": redirectTo
      });
    } else {
      res.setHeader("Location", redirectToUrl);
      res.writeHead(302);
      res.end();
    }
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_pending.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_pending.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/pending 获取待办文件

@apiDescription 获取当前用户的待办事项列表

@apiName getInbox

@apiGroup Workflow

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
	{
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
	{
		"status": "success",
		"data": [
			{
				"id": "g7wokXNkR9yxHvA4D",
				"start_date": "2017-11-23T02:28:53.164Z",
				"flow_name": "正文流程",
				"space_name": "审批王",
				"name": "正文流程 1",
				"applicant_name": null,
				"applicant_organization_name": "审批王",
				"submit_date": "2017-07-25T06:36:48.492Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-11-23T02:28:53.164Z",
				"is_read": false,
				"values": {}
			},
			{
				"id": "WqKSrWQoywgJaMp9k",
				"start_date": "2017-08-17T07:38:35.420Z",
				"flow_name": "正文\n",
				"space_name": "审批王",
				"name": "正文\n 1",
				"applicant_name": "殷亮辉",
				"applicant_organization_name": "审批王",
				"submit_date": "2017-06-27T10:26:19.468Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-08-17T07:38:35.421Z",
				"is_read": true,
				"values": {}
			}
		]
	}
 */JsonRoutes.add('get', '/api/workflow/open/pending', function (req, res, next) {
  var attach, e, is_read, limit, no_limit_count, query, ref, ref1, ref2, ref3, ref4, ref5, result_instances, space, space_id, space_names, special_user_id, start_date, u, uid, user_id, userid, username, workflow_categories;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    space_id = req.headers['x-space-id'] || ((ref = req.query) != null ? ref.spaceId : void 0);

    if (!space_id) {
      throw new Meteor.Error('error', 'need space_id');
    }

    user_id = req.userId;

    if (!user_id) {
      throw new Meteor.Error('error', 'Not logged in');
    }

    if (db.users.find({
      _id: user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'can not find user');
    }

    limit = ((ref1 = req.query) != null ? ref1.limit : void 0) || 500;
    limit = parseInt(limit);
    username = (ref2 = req.query) != null ? ref2.username : void 0;
    userid = (ref3 = req.query) != null ? ref3.userid : void 0;
    attach = (ref4 = req.query) != null ? ref4.attach : void 0;
    workflow_categories = (ref5 = req.query) != null ? ref5.workflow_categories : void 0;
    space = uuflowManager.getSpace(space_id);
    special_user_id;

    if (space.admins.includes(user_id)) {
      if (userid) {
        if (db.users.find({
          _id: userid
        }).count() < 1) {
          throw new Meteor.Error('error', "can not find user by userid: " + userid);
        }

        special_user_id = userid;
      } else if (username) {
        u = db.users.findOne({
          username: username
        }, {
          fields: {
            _id: 1
          }
        });

        if (_.isEmpty(u)) {
          throw new Meteor.Error('error', "can not find user by username: " + username);
        }

        special_user_id = u._id;
      }
    }

    result_instances = new Array();
    is_read = false;
    start_date = '';
    uid = user_id;
    query = {
      $or: [{
        inbox_users: user_id
      }, {
        cc_users: user_id
      }]
    };

    if (special_user_id) {
      uid = special_user_id;
      query = {
        space: space_id,
        $or: [{
          inbox_users: special_user_id
        }, {
          cc_users: special_user_id
        }]
      };
    }

    if (workflow_categories) {
      query.category = {
        $in: workflow_categories.split(',')
      };
    }

    space_names = {};
    space_names[space._id] = space.name;

    if (limit > 0) {
      db.instances.find(query, {
        sort: {
          modified: -1
        },
        limit: limit
      }).forEach(function (i) {
        var h, ref6, ref7;

        if ((ref6 = i.inbox_users) != null ? ref6.includes(uid) : void 0) {
          _.each(i.traces, function (t) {
            if (t.is_finished === false) {
              return _.each(t.approves, function (a) {
                if (a.user === uid && a.type !== 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        } else {
          _.each(i.traces, function (t) {
            if (!start_date && t.approves) {
              return _.each(t.approves, function (a) {
                if (!start_date && a.user === uid && a.type === 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        }

        if (!space_names[i.space]) {
          space_names[i.space] = (ref7 = db.spaces.findOne(i.space, {
            fields: {
              name: 1
            }
          })) != null ? ref7.name : void 0;
        }

        h = new Object();
        h["id"] = i["_id"];
        h["start_date"] = start_date;
        h["flow_name"] = i.flow_name;
        h["space_name"] = space_names[i.space];
        h["name"] = i["name"];
        h["applicant_name"] = i["applicant_name"];
        h["applicant_organization_name"] = i["applicant_organization_name"];
        h["submit_date"] = i["submit_date"];
        h["step_name"] = i.current_step_name;
        h["space_id"] = i.space;
        h["modified"] = i["modified"];
        h["is_read"] = is_read;
        h["values"] = i["values"];

        if (attach === 'true') {
          h.attachments = cfs.instances.find({
            'metadata.instance': i._id,
            'metadata.current': true,
            "metadata.is_private": {
              $ne: true
            }
          }, {
            fields: {
              copies: 0
            }
          }).fetch();
        }

        return result_instances.push(h);
      });
    }

    no_limit_count = db.instances.find(query).count();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result_instances,
        count: no_limit_count
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.reason
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"export_table_template.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/export_table_template.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies;
Cookies = require("cookies");
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/talbe_template", function (req, res, next) {
    var authToken, cookies, data, fileName, flow, flowId, form, ref, ref1, space, userId;
    cookies = new Cookies(req, res);

    if (req.body) {
      userId = req.body["X-User-Id"];
      authToken = req.body["X-Auth-Token"];
    }

    if (!userId || !authToken) {
      userId = cookies.get("X-User-Id");
      authToken = cookies.get("X-Auth-Token");
    }

    if (!(userId && authToken)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Missing X-Auth-Token",
        "success": false
      }));
      return;
    }

    flowId = (ref = req.query) != null ? ref.flow : void 0;
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        space: 1,
        form: 1,
        name: 1
      }
    });
    form = db.forms.findOne({
      _id: flow.form
    }, {
      fields: {
        space: 1,
        "current._id": 1
      }
    });

    if (_.isEmpty(flow)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Invalid formId",
        "success": false
      }));
      return;
    } else {
      if (!Steedos.isSpaceAdmin(flow.space, userId)) {
        res.writeHead(401);
        res.end(JSON.stringify({
          "error": "Validate Request -- No permission",
          "success": false
        }));
        return;
      }

      space = db.spaces.findOne(flow.space, {
        fields: {
          is_paid: 1
        }
      });

      if (!space || !Steedos.hasFeature('paid', space._id)) {
        JsonRoutes.sendResult(res, {
          code: 404,
          data: {
            "error": "Validate Request -- Non-paid space.",
            "success": false
          }
        });
        return;
      }
    }

    data = TemplateManager.handleTableTemplate({
      form: flow.form,
      form_version: form != null ? (ref1 = form.current) != null ? ref1._id : void 0 : void 0
    }, true);
    fileName = flow.name;
    res.setHeader('Content-type', 'application/x-msdownload');
    res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(fileName) + '.html');
    return res.end(data);
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_drafts.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_drafts.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/drafts 新建申请单

@apiName createInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "applicant": 申请人Id,
    "values": {
        "fields1" : 字段值,
        "fields2" : 字段值,
        ...
    }
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}

@apiErrorExample {json} error-Response:
{
    "status": "error",
    "data": {...}
}
 */JsonRoutes.add('post', '/api/workflow/open/drafts', function (req, res, next) {
  var applicant, applicantInfo, applicant_id, applicant_username, approve, approves, current_user_info, e, flow, flow_id, hashData, instance_from_client, new_ins, new_ins_id, space_id, space_user, space_user_org_info, trace, traces, user_id;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    user_id = req.userId;
    current_user_info = db.users.findOne({
      _id: user_id
    });
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header x_space_id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user_info._id);
    hashData = req.body;

    if (!hashData["flow"]) {
      throw new Meteor.Error('error', 'flow is null');
    }

    flow_id = hashData["flow"];
    applicant_id = hashData["applicant"];
    applicant_username = hashData["applicant_username"];
    instance_from_client = new Object();
    flow = db.flows.findOne({
      _id: flow_id
    }, {
      fields: {
        space: 1,
        'current._id': 1
      }
    });

    if (!flow) {
      throw new Meteor.Error('error', 'flow is not exists');
    }

    if (space_id !== flow.space) {
      throw new Meteor.Error('error', 'flow is not belong to this space');
    }

    if (db.space_users.find({
      space: space_id,
      user: current_user_info._id
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is not a member of this space');
    }

    instance_from_client["space"] = space_id;
    instance_from_client["flow"] = flow_id;
    instance_from_client["flow_version"] = flow.current._id;
    applicant = null;

    if (applicant_id || applicant_username) {
      if (applicant_id) {
        applicant = db.users.findOne({
          _id: applicant_id
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant is wrong');
        }
      } else if (applicant_username) {
        applicant = db.users.findOne({
          username: applicant_username
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant_username is wrong');
        }
      }

      space_user = db.space_users.findOne({
        space: space_id,
        user: applicant._id
      });

      if (!space_user) {
        throw new Meteor.Error('error', 'applicant is not a member of this space');
      }

      if (space_user.user_accepted !== true) {
        throw new Meteor.Error('error', 'applicant is disabled in this space');
      }

      space_user_org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
      instance_from_client["applicant"] = applicant._id;
      instance_from_client["applicant_name"] = applicant.name;
      instance_from_client["applicant_organization"] = space_user_org_info["organization"];
      instance_from_client["applicant_organization_fullname"] = space_user_org_info["organization_fullname"];
      instance_from_client["applicant_organization_name"] = space_user_org_info["organization_name"];
    }

    applicantInfo = applicant || current_user_info;
    traces = [];
    trace = new Object();
    approves = [];
    approve = new Object();
    approve["values"] = hashData["values"];
    approves.push(approve);
    trace["approves"] = approves;
    traces.push(trace);
    instance_from_client["traces"] = traces;
    instance_from_client["inbox_users"] = [applicantInfo._id];
    new_ins_id = uuflowManager.create_instance(instance_from_client, applicantInfo);
    new_ins = db.instances.findOne(new_ins_id);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: new_ins
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/get/:ins_id 查看申请单详情

@apiName getInstance

@apiGroup Workflow

@apiPermission 工作区的管理员

@apiParam {String} ins_id 申请单Id
@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}
 */JsonRoutes.add('get', '/api/workflow/open/get/:ins_id', function (req, res, next) {
  var current_user, e, ins_id, instance, perm_users, permissions, space, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = db.instances.findOne(ins_id);

    if (!instance) {
      throw new Meteor.Error('error', 'can not find instance');
    }

    if (db.space_users.find({
      space: instance.space,
      user: current_user
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is wrong');
    }

    perm_users = new Array();
    perm_users.push(instance.submitter);
    perm_users.push(instance.applicant);

    if (instance.outbox_users) {
      perm_users = perm_users.concat(instance.outbox_users);
    }

    if (instance.inbox_users) {
      perm_users = perm_users.concat(instance.inbox_users);
    }

    space = db.spaces.findOne({
      _id: instance.space
    }, {
      fields: {
        admins: 1
      }
    });
    perm_users = perm_users.concat(space.admins);
    permissions = permissionManager.getFlowPermissions(instance.flow, current_user);

    if (!perm_users.includes(current_user) && !permissions.includes("monitor") && !permissions.includes("admin")) {
      throw new Meteor.Error('error', 'no permission');
    }

    instance.attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instance
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_submit.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_submit.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/submit/:ins_id 提交申请单

@apiDescription 暂不支持开始节点下一节点为条件的情况

@apiName submitInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/submit/:ins_id', function (req, res, next) {
  var current_user, current_user_info, e, flow, form, ins_id, instance, nextSteps, next_step_id, next_user_ids, r, require_but_empty_fields, result, space_id, step, submitter, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = uuflowManager.getInstance(ins_id);
    uuflowManager.isInstanceDraft(instance);

    if (space_id !== instance["space"]) {
      throw new Meteor.Error('error', 'instance is not belong to this space');
    }

    values = instance["traces"][0]["approves"][0].values;
    form = uuflowManager.getForm(instance.form);
    require_but_empty_fields = uuflowManager.checkValueFieldsRequire(values, form, instance.form_version);

    if (require_but_empty_fields.length > 0) {
      if (require_but_empty_fields.length > 1) {
        throw new Meteor.Error('error', 'fields <' + require_but_empty_fields.join(",") + '> are required');
      } else if (require_but_empty_fields.length = 1) {
        throw new Meteor.Error('error', 'field <' + require_but_empty_fields.join(",") + '> is required');
      }
    }

    flow = uuflowManager.getFlow(instance.flow);
    step = uuflowManager.getStep(instance, flow, instance["traces"][0].step);
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, "submitted");

    if (nextSteps.length < 1) {
      throw new Meteor.Error('error', 'can not find next steps');
    }

    if (nextSteps.length > 1) {
      throw new Meteor.Error('error', 'next step not uniq');
    }

    next_step_id = nextSteps[0];
    next_user_ids = getHandlersManager.getHandlers(ins_id, next_step_id) || [];

    if (next_user_ids.length > 1) {
      throw new Meteor.Error('error', 'next step handler not uniq');
    }

    instance["traces"][0]["approves"][0]["next_steps"] = [{
      'step': next_step_id,
      'users': next_user_ids
    }];
    result = new Object();
    submitter = db.users.findOne(instance.submitter);

    if (!submitter) {
      throw new Meteor.Error('error', 'can not find submitter');
    }

    r = uuflowManager.submit_instance(instance, submitter);

    if (r.alerts) {
      result = r;
    } else {
      result = db.instances.findOne(ins_id);

      if (result) {
        result.attachments = cfs.instances.find({
          'metadata.instance': ins_id,
          'metadata.current': true,
          "metadata.is_private": {
            $ne: true
          }
        }, {
          fields: {
            copies: 0
          }
        }).fetch();
      }
    }

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_save.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_save.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/save/:ins_id 暂存申请单

@apiName saveInstances

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/save/:ins_id', function (req, res, next) {
  var current_step, current_trace, current_user, current_user_info, e, flow, ins_id, instance, result, setObj, space_id, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    values = req.body;

    if (!values) {
      throw new Meteor.Error('error', 'need values');
    }

    current_trace = null;
    setObj = new Object();
    instance = uuflowManager.getInstance(ins_id);
    flow = uuflowManager.getFlow(instance.flow);

    _.each(instance.traces, function (t) {
      if (t.is_finished !== true) {
        return current_trace = t;
      }
    });

    current_step = uuflowManager.getStep(instance, flow, current_trace.step);

    if (current_step.step_type === "counterSign") {
      throw new Meteor.Error('error', '会签步骤不能修改表单值');
    }

    _.each(current_trace.approves, function (a) {
      if (a.is_finished !== true && a.type !== "cc") {
        return a.values = values;
      }
    });

    setObj.modified = new Date();
    setObj["traces.$.approves"] = current_trace.approves;
    db.instances.update({
      _id: ins_id,
      'traces._id': current_trace._id
    }, {
      $set: setObj
    });
    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get_by_stepname.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get_by_stepname.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/getbystepname 根据步骤名称获取申请单

@apiName getInstanceByStepName

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "stepname": 步骤名称
}

@apiSuccessExample {json} Success-Response:
{
	"status": "success",
	"data": [
		{
			instance
		},
		{
			instance
		}
	]
}
 */JsonRoutes.add('post', '/api/workflow/open/getbystepname', function (req, res, next) {
  var current_user, current_user_info, e, flow, hashData, instances, space_id, stepname;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body;
    stepname = hashData["stepname"];
    flow = hashData["flow"];

    if (!stepname) {
      throw new Meteor.Error('error', 'need stepname');
    }

    if (!flow) {
      throw new Meteor.Error('error', 'need flow');
    }

    instances = db.instances.find({
      space: space_id,
      flow: flow,
      state: 'pending',
      traces: {
        $elemMatch: {
          is_finished: false,
          name: stepname
        }
      }
    }, {
      fields: {
        inbox_uers: 0,
        cc_users: 0,
        outbox_users: 0,
        attachments: 0,
        traces: 0
      }
    }).fetch();
    instances.forEach(function (instance) {
      return instance.attachments = cfs.instances.find({
        'metadata.instance': instance._id,
        'metadata.current': true,
        "metadata.is_private": {
          $ne: true
        }
      }, {
        fields: {
          copies: 0
        }
      }).fetch();
    });
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_cfs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_cfs.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Content-Type：application/json
form-data 格式:
fd = new FormData;
fd.append("file", file);

fd.append("is_private", false);

if (isAddVersion) {
	fd.append("isAddVersion", isAddVersion);
	fd.append("parent", attach_parent_id);
}

if (isMainAttach) {
	fd.append("main", true);
}
 */JsonRoutes.add('post', '/api/workflow/open/cfs/:ins_id', function (req, res, next) {
  var approve_id, current_user, current_user_info, e, ins_id, instance, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能上传');
    }

    approve_id = instance.traces[0].approves[0]._id;
    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    return JsonRoutes.parseFiles(req, res, function () {
      var collection, newFile;
      collection = cfs.instances;

      if (req.files && req.files[0]) {
        if (req.files[0].data.length > 100 * 1024 * 1024) {
          JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              errors: [{
                errorMessage: "超过上传附件大小限制(100M)"
              }]
            }
          });
          return;
        }

        newFile = new FS.File();
        return newFile.attachData(req.files[0].data, {
          type: req.files[0].mimeType
        }, function (err) {
          var body, e, fileObj, filename, metadata, parent, r, result, size;
          filename = req.files[0].filename;

          if (["image.jpg", "image.gif", "image.jpeg", "image.png"].includes(filename.toLowerCase())) {
            filename = "image-" + moment(new Date()).format('YYYYMMDDHHmmss') + "." + filename.split('.').pop();
          }

          body = req.body;
          body['owner'] = instance.submitter;
          body['owner_name'] = instance.submitter_name;
          body['space'] = space_id;
          body['instance'] = ins_id;
          body['approve'] = approve_id;

          try {
            if (body && (body['upload_from'] === "IE" || body['upload_from'] === "node")) {
              filename = decodeURIComponent(filename);
            }
          } catch (error) {
            e = error;
            console.error(filename);
            console.error(e);
            filename = filename.replace(/%/g, "-");
          }

          newFile.name(filename);

          if (body && body['owner'] && body['owner_name'] && body['space'] && body['instance'] && body['approve']) {
            parent = '';
            metadata = {
              owner: body['owner'],
              owner_name: body['owner_name'],
              space: body['space'],
              instance: body['instance'],
              approve: body['approve'],
              current: true
            };

            if (body["is_private"] && body["is_private"].toLocaleLowerCase() === "true") {
              metadata.is_private = true;
            } else {
              metadata.is_private = false;
            }

            if (body['main'] === "true") {
              metadata.main = true;
            }

            if (body['isAddVersion'] && body['parent']) {
              parent = body['parent'];
            }

            if (parent) {
              r = collection.update({
                'metadata.parent': parent,
                'metadata.current': true
              }, {
                $unset: {
                  'metadata.current': ''
                }
              });

              if (r) {
                metadata.parent = parent;

                if (body['locked_by'] && body['locked_by_name']) {
                  metadata.locked_by = body['locked_by'];
                  metadata.locked_by_name = body['locked_by_name'];
                }

                newFile.metadata = metadata;
                fileObj = collection.insert(newFile);

                if (body["overwrite"] && body["overwrite"].toLocaleLowerCase() === "true") {
                  collection.remove({
                    'metadata.instance': body['instance'],
                    'metadata.parent': parent,
                    'metadata.owner': body['owner'],
                    'metadata.approve': body['approve'],
                    'metadata.current': {
                      $ne: true
                    }
                  });
                }
              }
            } else {
              newFile.metadata = metadata;
              fileObj = collection.insert(newFile);
              fileObj.update({
                $set: {
                  'metadata.parent': fileObj._id
                }
              });
            }
          } else {
            fileObj = collection.insert(newFile);
          }

          size = fileObj.original.size;

          if (!size) {
            size = 1024;
          }

          result = new Object();
          result = {
            attach_id: fileObj._id,
            size: size
          };
          res.setHeader("x-amz-version-id", fileObj._id);
          return JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              status: "success",
              data: result
            }
          });
        });
      } else {
        JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            errors: [{
              errorMessage: "need file"
            }]
          }
        });
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("delete", "/api/workflow/open/cfs/:ins_id", function (req, res, next) {
  var attach_id, collection, current_user, current_user_info, e, file, hashData, ins_id, instance, result, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能删除附件');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body || {};
    attach_id = hashData["attach_id"];

    if (!attach_id) {
      throw new Meteor.Error('error', 'can not find attach_id');
    }

    collection = cfs.instances;
    file = collection.findOne({
      _id: attach_id,
      'metadata.instance': ins_id
    });

    if (file) {
      file.remove();
    } else {
      throw new Meteor.Error('error', '此附件不属于此申请单，或已被删除');
    }

    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("get", "/api/workflow/open/cfs/:attach_id", function (req, res, next) {
  var attach_id, current_user, current_user_info, e, space_id;

  try {
    attach_id = req.params.attach_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    res.statusCode = 302;
    res.setHeader("Location", Steedos.absoluteUrl("api/files/instances/") + attach_id + "?download=true");
    return res.end();
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_refill.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_refill.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_refill", function (req, res, next) {
  var approve, columns, forward_ins, forward_ins_values, original_ins, original_ins_fields, original_ins_form, original_ins_id, original_subtable_fields, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, row_data, subTable, table_data, trace, traces;
  console.log("=========回填子表==========");
  console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
  console.log("=========分发回填的列==========");
  console.log("req?.query?.column", req != null ? (ref1 = req.query) != null ? ref1.column : void 0 : void 0);
  columns = req != null ? (ref2 = req.query) != null ? ref2.column.split(';') : void 0 : void 0;
  console.log("columns", columns);
  forward_ins = req != null ? (ref3 = req.body) != null ? ref3.instance : void 0 : void 0;
  subTable = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

  if ((forward_ins != null ? forward_ins.state : void 0) === "completed" && (forward_ins != null ? (ref5 = forward_ins.distribute_from_instances) != null ? ref5.length : void 0 : void 0) > 0 && subTable && columns) {
    forward_ins_values = forward_ins != null ? forward_ins.values : void 0;
    original_ins_id = _.last(forward_ins != null ? forward_ins.distribute_from_instances : void 0);
    original_ins = db.instances.findOne(original_ins_id);
    original_ins_form = db.forms.findOne(original_ins != null ? original_ins.form : void 0);
    original_ins_fields = [];
    original_subtable_fields = [];
    console.log("original_ins_form?.current?._id", original_ins_form != null ? (ref6 = original_ins_form.current) != null ? ref6._id : void 0 : void 0);
    console.log("original_ins?.form_version", original_ins != null ? original_ins.form_version : void 0);

    if ((original_ins != null ? original_ins.form_version : void 0) === (original_ins_form != null ? (ref7 = original_ins_form.current) != null ? ref7._id : void 0 : void 0)) {
      original_ins_fields = (ref8 = original_ins_form.current) != null ? ref8.fields : void 0;
      original_ins_fields.forEach(function (original_ins_field) {
        console.log("original_ins_field", original_ins_field != null ? original_ins_field.code : void 0);

        if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
          return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
        }
      });
    } else {
      if ((original_ins_form != null ? (ref9 = original_ins_form.historys) != null ? ref9.length : void 0 : void 0) > 0) {
        original_ins_form.historys.forEach(function (oh) {
          if ((original_ins != null ? original_ins.form_version : void 0) === oh._id) {
            original_ins_fields = oh != null ? oh.fields : void 0;
            return original_ins_fields.forEach(function (original_ins_field) {
              if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
                return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
              }
            });
          }
        });
      }
    }

    console.log("original_subtable_fields", original_subtable_fields != null ? original_subtable_fields.length : void 0);

    if (original_subtable_fields) {
      traces = original_ins != null ? original_ins.traces : void 0;
      trace = traces[traces.length - 1];
      approve = trace != null ? trace.approves[0] : void 0;
      table_data = (approve != null ? approve.values[subTable] : void 0) || [];
      row_data = {};
      columns.forEach(function (column) {
        return row_data[column] = forward_ins_values[column] || "";
      });

      if (row_data && row_data !== {}) {
        table_data.push(row_data);
        traces[traces.length - 1].approves[0].values[subTable] = table_data;
        console.log(traces[traces.length - 1].approves[0].values[subTable]);
        db.instances.update(original_ins_id, {
          $set: {
            'traces': traces
          }
        });
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'success': '回填成功'
          }
        });
      } else {
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'info': '回填数据为空'
          }
        });
      }
    } else {
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'error': '原申请单无相关子表'
        }
      });
    }
  } else {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'success': '申请单未结束'
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_table_refill.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_table_refill.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_table_refill", function (req, res, next) {
  var a_table, a_table_values, approve, column_list, columns, d_ins, d_ins_fields, d_ins_form, d_ins_values, d_match_col, d_match_col_field, d_match_col_fields, d_subtable_fields, d_table, d_table_values, e, o_ins, o_ins_fields, o_ins_form, o_ins_id, o_match_col, o_match_col_field, o_match_col_fields, o_subtable_fields, o_table, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref15, ref16, ref17, ref18, ref19, ref2, ref20, ref21, ref22, ref3, ref4, ref5, ref6, ref7, ref8, ref9, table_data, trace, traces;

  try {
    console.log("=========原表子表==========");
    console.log("req?.query?.oTable", req != null ? (ref = req.query) != null ? ref.oTable : void 0 : void 0);
    console.log("=========现表子表==========");
    console.log("req?.query?.dTable", req != null ? (ref1 = req.query) != null ? ref1.dTable : void 0 : void 0);
    console.log("=========原表单的子表匹配列==========");
    console.log("req?.query?.oMatchCol", req != null ? (ref2 = req.query) != null ? ref2.oMatchCol : void 0 : void 0);
    console.log("=========现表单的子表匹配列==========");
    console.log("req?.query?.dMatchCol", req != null ? (ref3 = req.query) != null ? ref3.dMatchCol : void 0 : void 0);
    console.log("=========需要回填的列==========");
    console.log("req?.query?.refillCol", req != null ? (ref4 = req.query) != null ? ref4.refillCol : void 0 : void 0);
    d_ins = req != null ? (ref5 = req.body) != null ? ref5.instance : void 0 : void 0;

    if ((d_ins != null ? d_ins.state : void 0) === "completed") {
      if (req != null ? (ref6 = req.query) != null ? ref6.oTable : void 0 : void 0) {
        o_table = req != null ? (ref7 = req.query) != null ? ref7.oTable : void 0 : void 0;

        if (req != null ? (ref8 = req.query) != null ? ref8.dTable : void 0 : void 0) {
          d_table = req != null ? (ref9 = req.query) != null ? ref9.dTable : void 0 : void 0;
        } else {
          d_table = o_table;
        }

        if (req != null ? (ref10 = req.query) != null ? ref10.aTable : void 0 : void 0) {
          a_table = req != null ? (ref11 = req.query) != null ? ref11.aTable : void 0 : void 0;
        }

        if (req != null ? (ref12 = req.query) != null ? ref12.oMatchCol : void 0 : void 0) {
          o_match_col = req != null ? (ref13 = req.query) != null ? ref13.oMatchCol : void 0 : void 0;

          if (req != null ? (ref14 = req.query) != null ? ref14.dMatchCol : void 0 : void 0) {
            d_match_col = req != null ? (ref15 = req.query) != null ? ref15.dMatchCol : void 0 : void 0;
          } else {
            d_match_col = o_match_col;
          }

          columns = (req != null ? (ref16 = req.query) != null ? ref16.refillCol.split(';') : void 0 : void 0) || [];
          console.log("columns", columns);

          if (columns || columns.length < 1) {
            console.log("======================");
            console.log(d_table, o_match_col, columns);
            d_ins_values = d_ins != null ? d_ins.values : void 0;
            o_ins_id = _.last(d_ins != null ? d_ins.distribute_from_instances : void 0);
            o_ins = db.instances.findOne(o_ins_id);
            o_ins_form = db.forms.findOne(o_ins != null ? o_ins.form : void 0);
            d_ins_form = db.forms.findOne(d_ins != null ? d_ins.form : void 0);
            o_ins_fields = [];
            o_subtable_fields = [];
            d_ins_fields = [];
            d_subtable_fields = [];
            column_list = [];
            d_table_values = [];

            if ((o_ins != null ? o_ins.form_version : void 0) === (o_ins_form != null ? (ref17 = o_ins_form.current) != null ? ref17._id : void 0 : void 0)) {
              o_ins_fields = o_ins_form != null ? (ref18 = o_ins_form.current) != null ? ref18.fields : void 0 : void 0;
              o_ins_fields.forEach(function (o_ins_field) {
                if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                  return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                }
              });
            } else {
              if ((o_ins_form != null ? (ref19 = o_ins_form.historys) != null ? ref19.length : void 0 : void 0) > 0) {
                o_ins_form.historys.forEach(function (oh) {
                  if ((o_ins != null ? o_ins.form_version : void 0) === oh._id) {
                    o_ins_fields = oh != null ? oh.fields : void 0;
                    return o_ins_fields.forEach(function (o_ins_field) {
                      if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                        return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                      }
                    });
                  }
                });
              }
            }

            if ((d_ins != null ? d_ins.form_version : void 0) === (d_ins_form != null ? (ref20 = d_ins_form.current) != null ? ref20._id : void 0 : void 0)) {
              d_ins_fields = d_ins_form != null ? (ref21 = d_ins_form.current) != null ? ref21.fields : void 0 : void 0;
              d_ins_fields.forEach(function (d_ins_field) {
                if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                  return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                }
              });
            } else {
              if ((d_ins_form != null ? (ref22 = d_ins_form.historys) != null ? ref22.length : void 0 : void 0) > 0) {
                d_ins_form.historys.forEach(function (dh) {
                  if ((d_ins != null ? d_ins.form_version : void 0) === dh._id) {
                    d_ins_fields = dh != null ? dh.fields : void 0;
                    return d_ins_fields.forEach(function (d_ins_field) {
                      if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                        return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                      }
                    });
                  }
                });
              }
            }

            if (o_subtable_fields.length === 0) {
              console.log("o_subtable_fields", o_subtable_fields);
              throw new Meteor.Error('forward table refill error!', '原申请单无对应子表');
            }

            if (d_subtable_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单无对应子表');
            }

            d_table_values = (d_ins != null ? d_ins.values[d_table] : void 0) || [];

            if (a_table) {
              a_table_values = (d_ins != null ? d_ins.values[a_table] : void 0) || [];

              if (a_table_values && (a_table_values != null ? a_table_values.length : void 0) === (d_table_values != null ? d_table_values.length : void 0)) {
                a_table_values.forEach(function (a_row, index) {
                  var key, results, value;
                  results = [];

                  for (key in meteorBabelHelpers.sanitizeForInObject(a_row)) {
                    value = a_row[key];
                    results.push(d_table_values[index][key] = value);
                  }

                  return results;
                });
              }
            }

            if (d_table_values.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表数据为空');
            }

            o_match_col_fields = o_subtable_fields.filter(function (m) {
              return m.code === o_match_col;
            });
            d_match_col_fields = d_subtable_fields.filter(function (m) {
              return m.code === d_match_col;
            });

            if (o_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '原申请单子表无对应匹配列');
            }

            if (d_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应匹配列');
            }

            o_match_col_field = o_match_col_fields[0];
            d_match_col_field = d_match_col_fields[0];

            if ((o_match_col_field != null ? o_match_col_field.type : void 0) !== (d_match_col_field != null ? d_match_col_field.type : void 0)) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单和原申请单子表的匹配列字段不一致');
            }

            columns.forEach(function (column) {
              var col, cols, d_col, d_col_fields, o_col, o_col_fields;
              cols = column.split('-') || [];

              if (cols.length === 2) {
                o_col = cols[0];
                d_col = cols[1];
                o_col_fields = o_subtable_fields.filter(function (m) {
                  return m.code === o_col;
                });
                d_col_fields = d_subtable_fields.filter(function (m) {
                  return m.code === d_col;
                });

                if (o_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '原申请单子表无对应回填列');
                }

                if (d_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应回填列');
                }

                if ((o_col_fields != null ? o_col_fields.type : void 0) !== (d_col_fields != null ? d_col_fields.type : void 0)) {
                  throw new Meteor.Error('forward table refill error!', '回填列字段类型不一致');
                }

                col = {
                  o_col: o_col,
                  d_col: d_col
                };
                return column_list.push(col);
              } else {
                throw new Meteor.Error('forward table refill error!', '回填列不匹配');
              }
            });
            traces = o_ins != null ? o_ins.traces : void 0;
            trace = traces[traces.length - 1];
            approve = trace != null ? trace.approves[0] : void 0;
            table_data = (approve != null ? approve.values[o_table] : void 0) || [];
            d_table_values.forEach(function (d_row) {
              var count, has_obj, row_data;
              has_obj = false;
              count = -1;
              table_data.forEach(function (o_row, index) {
                if (o_row[o_match_col] === d_row[d_match_col]) {
                  has_obj = true;
                  return count = index;
                }
              });

              if (has_obj === true) {
                return column_list.forEach(function (col) {
                  return table_data[count][col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
              } else {
                row_data = {};
                row_data[o_match_col] = d_row[d_match_col];
                column_list.forEach(function (col) {
                  return row_data[col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
                return table_data.push(row_data);
              }
            });
            traces[traces.length - 1].approves[0].values = o_ins != null ? o_ins.values : void 0;
            traces[traces.length - 1].approves[0].values[o_table] = table_data;
            db.instances.update(o_ins_id, {
              $set: {
                'traces': traces
              }
            });
            JsonRoutes.sendResult(res, {
              code: 200,
              data: {
                'success': '回填成功'
              }
            });
          } else {
            throw new Meteor.Error('forward table refill error!', 'webhook未配置子表回填列字段 columns 值');
          }
        } else {
          throw new Meteor.Error('forward table refill error!', 'webhook未配置匹配列字段 oMatchCol 值');
        }
      } else {
        throw new Meteor.Error('forward table refill error!', 'webhook未配置原表单子表 oTable 值');
      }
    } else {
      throw new Meteor.Error('forward table refill error!', '申请单未结束');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_sub_table_sort.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_sub_table_sort.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/sub_table_sort", function (req, res, next) {
  var e, ins, new_table_values, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, sort_col, sub_table, sub_table_values, sum_col;

  try {
    console.log("=========子表==========");
    console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
    console.log("=========子表总分列==========");
    console.log("req?.query?.sumCol", req != null ? (ref1 = req.query) != null ? ref1.sumCol : void 0 : void 0);
    console.log("=========子表排序列==========");
    console.log("req?.query?.sortCol", req != null ? (ref2 = req.query) != null ? ref2.sortCol : void 0 : void 0);
    console.log("=========子表单列需要计算的和==========");
    console.log("req?.query?.singleCols", req != null ? (ref3 = req.query) != null ? ref3.singleCols : void 0 : void 0);
    sub_table = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

    if (!sub_table) {
      console.log("=====sub_table======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 subTable 字段');
    }

    sum_col = req != null ? (ref5 = req.query) != null ? ref5.sumCol : void 0 : void 0;

    if (!sum_col) {
      console.log("=====sum_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sumCol 字段');
    }

    sort_col = req != null ? (ref6 = req.query) != null ? ref6.sortCol : void 0 : void 0;

    if (!sort_col) {
      console.log("=====sort_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sortCol 字段');
    }

    ins = req != null ? (ref7 = req.body) != null ? ref7.instance : void 0 : void 0;
    sub_table_values = ins.values[sub_table];

    if ((sub_table_values != null ? sub_table_values.length : void 0) > 0) {
      var JsonSort = function (jsonArr, key, asc) {
        for (var j = 1, jl = jsonArr.length; j < jl; j++) {
          var temp = jsonArr[j],
              val = Number(temp[key]),
              i = j - 1;

          if (asc == true) {
            while (i >= 0 && Number(jsonArr[i][key]) > val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          } else {
            while (i >= 0 && Number(jsonArr[i][key]) < val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          }

          jsonArr[i + 1] = temp;
        }

        return jsonArr;
      };

      ;
      new_table_values = JsonSort(sub_table_values, sum_col, false);
      console.log("new_table_values", new_table_values);
      new_table_values.forEach(function (obj, index) {
        if (sort_col && obj[sum_col]) {
          return obj[sort_col] = (index + 1).toString();
        }
      });
      console.log("new_table_values", new_table_values);
      ins.values[sub_table] = new_table_values;
      db.instances.update(ins._id, {
        $set: {
          'values': ins.values
        }
      });
      console.log("success");
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'success': '计算排序成功'
        }
      });
    } else {
      throw new Meteor.Error('table sort error!', '子表数据为空');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"test_webhook.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/test_webhook.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (Meteor.isDevelopment) {
  JsonRoutes.add('post', '/test/webhook', function (req, res, next) {
    var e, hashData;

    try {
      hashData = req.body;
      console.log('action: ', hashData.action);
      console.log('from_user: ', hashData.from_user);
      console.log('to_users: ', hashData.to_users);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {}
      });
    } catch (error) {
      e = error;
      console.error(e.stack);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          errors: [{
            errorMessage: e.message
          }]
        }
      });
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_users.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_users.coffee                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/users", function (req, res, next) {
  var current_user, current_user_info, spaceId, spaceUsers, space_user, userIds;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  userIds = req.body.userIds;
  spaceId = req.body.spaceId;
  spaceUsers = [];
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!userIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getFormulaUserObjects(spaceId, userIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_organizations.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_organizations.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/orgs", function (req, res, next) {
  var current_user, current_user_info, orgIds, orgs, spaceId, space_user;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  orgIds = req.body.orgIds;
  spaceId = req.body.spaceId;
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!orgIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  orgs = WorkflowManager.getFormulaOrgObjects(orgIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'orgs': orgs
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"server":{"methods":{"set_instance_step_approve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/set_instance_step_approve.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_instance_step_approve: function (ins_id, step_approve, stepsApprovesOptions) {
    var _keys1, _keys2, ins, keys, stepsApproves;

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        state: 1
      }
    });

    if (ins.state !== 'draft') {
      return;
    }

    _keys1 = _.keys(step_approve);
    _keys2 = _.keys(stepsApprovesOptions);
    keys = _.compact(_.union(_keys1, _keys2));
    stepsApproves = {};

    _.each(keys, function (stepId) {
      var stepApproves, stepsApproveOptions;
      stepApproves = step_approve[stepId];
      stepsApproveOptions = stepsApprovesOptions[stepId];

      if (stepApproves) {
        stepsApproves[stepId] = stepApproves;

        if (stepsApproveOptions) {
          if (_.isArray(stepApproves)) {
            stepsApproveOptions = stepApproves.concat(stepsApproveOptions);
          } else {
            stepsApproveOptions.push(stepApproves);
          }
        }
      }

      if (stepsApproveOptions) {
        return stepsApproves[stepId + '_options'] = _.uniq(stepsApproveOptions);
      }
    });

    return db.instances.update({
      _id: ins_id
    }, {
      $set: {
        step_approve: stepsApproves
      }
    });
  },
  set_instance_skip_steps: function (ins_id, stepId, action) {
    if (action === 'pull') {
      return db.instances.update({
        _id: ins_id
      }, {
        $pull: {
          skip_steps: stepId
        }
      });
    } else if (action === 'push') {
      return db.instances.update({
        _id: ins_id
      }, {
        $push: {
          skip_steps: stepId
        }
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_instance_data.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/get_instance_data.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  get_instance_data: function (instance_id, formCached, flowCached) {
    check(instance_id, String);
    check(formCached, Boolean);
    check(flowCached, Boolean);
    var instance = db.instances.findOne(instance_id);
    if (!instance) return {
      instance: null
    };
    if (formCached && flowCached) return {
      instance: instance
    };

    if (!formCached) {
      var form = db.forms.findOne(instance.form);
      var form_version = {};

      if (form.current._id == instance.form_version) {
        form_version = form.current;
      } else {
        form_version = _.where(form.historys, {
          _id: instance.form_version
        })[0];
      }
    }

    if (!flowCached) {
      var flow = db.flows.findOne(instance.flow);
      var flow_version = {};

      if (flow.current._id == instance.flow_version) {
        flow_version = flow.current;
      } else {
        flow_version = _.where(flow.historys, {
          _id: instance.flow_version
        })[0];
      }
    }

    return {
      instance: instance,
      form_version: form_version,
      flow_version: flow_version
    };
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"save_instance.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/save_instance.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  draft_save_instance: function (ins) {
    if (!this.userId) return;
    var result = true;
    var setObj = {};
    var index = 0;
    var ins_id = ins._id;
    var trace_id = ins.traces[0]._id;
    var approve_id = ins.traces[0].approves[0]._id;
    var description = ins.traces[0].approves[0].description;
    var next_steps = ins.traces[0].approves[0].next_steps;
    var values = ins.traces[0].approves[0].values || {};
    var applicant_id = ins.applicant;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        applicant: 1,
        state: 1,
        submitter: 1,
        traces: 1,
        form: 1,
        flow_version: 1,
        space: 1,
        flow: 1
      }
    });
    var space_id = instance.space;
    var flow_id = instance.flow;
    var form_id = instance.form;
    var traces = instance.traces;

    var current_trace = _.find(traces, function (t) {
      return t._id == trace_id;
    });

    current_trace.approves.forEach(function (a, idx) {
      if (a._id == approve_id) {
        index = idx;
      }
    });
    var key_str = 'traces.$.approves.' + index + '.'; // 判断一个instance是否为拟稿状态

    var current_user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    var lang = current_user.locale == 'zh-cn' ? 'zh-CN' : 'en';
    uuflowManager.isInstanceDraft(instance, lang); // 判断一个用户是否是一个instance的提交者

    uuflowManager.isInstanceSubmitter(instance, this.userId);
    var flow = db.flows.findOne(flow_id, {
      fields: {
        "current._id": 1,
        "current.form_version": 1,
        "name": 1,
        "current.steps": 1
      }
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;

    if (flow.current._id != instance.flow_version) {
      result = "upgraded";

      var start_step = _.find(flow.current.steps, function (s) {
        return s.step_type == "start";
      }); // 流程已升级


      setObj.flow_version = flow.current._id;
      setObj.form_version = flow.current.form_version; // 存入当前最新版flow中开始节点的step_id

      setObj["traces.$.step"] = start_step._id;
      setObj["traces.$.name"] = start_step.name;
    }

    if (instance.applicant != applicant_id) {
      // 申请人已变换
      var user = db.users.findOne(applicant_id, {
        fields: {
          name: 1
        }
      });
      var applicant = db.space_users.find({
        space: space_id,
        user: applicant_id
      }, {
        fields: {
          organization: 1
        }
      });
      var org_id = applicant.fetch()[0].organization;
      var organization = db.organizations.findOne(org_id, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      setObj.applicant = applicant_id;
      setObj.applicant_name = user.name;
      setObj.applicant_organization = org_id;
      setObj.applicant_organization_name = organization.name;
      setObj.applicant_organization_fullname = organization.fullname;
      setObj[key_str + 'user'] = applicant_id;
      setObj[key_str + 'user_name'] = user.name;
    }

    setObj[key_str + 'values'] = values;
    setObj[key_str + 'description'] = description;
    setObj[key_str + 'judge'] = 'submitted';
    setObj[key_str + 'read_date'] = new Date();

    if (result != "upgraded" && next_steps) {
      setObj[key_str + 'next_steps'] = next_steps;
    } // 计算申请单标题


    var form = db.forms.findOne({
      _id: form_id
    }, {
      fields: {
        "current.name_forumla": 1
      }
    });
    var name_forumla = form.current.name_forumla;

    if (name_forumla) {
      // var iscript = name_forumla.replace(/\{/g, "(values['").replace(/\}/g, "'] || '')");
      // var rev = eval(iscript);
      setObj.name = uuflowManager.getInstanceName(ins, values);
    }

    db.instances.update({
      _id: ins_id,
      "traces._id": trace_id
    }, {
      $set: setObj
    });
    return result;
  },
  inbox_save_instance: function (approve) {
    if (!this.userId) return;
    var setObj = {};
    var index = 0;
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve.id;
    var values = approve.values;
    var next_steps = approve.next_steps;
    var description = approve.description;
    var judge = approve.judge;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1,
        flow_version: 1,
        flow: 1,
        state: 1,
        form: 1,
        form_version: 1,
        values: 1,
        code: 1
      }
    });
    var traces = instance.traces;

    var current_trace = _.find(traces, function (t) {
      return t._id == trace_id;
    });

    var current_approve = _.find(current_trace.approves, function (a) {
      return a._id == approve_id;
    }); // 判断一个instance是否为审核中状态


    var current_user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    var lang = current_user.locale == 'zh-cn' ? 'zh-CN' : 'en';

    try {
      uuflowManager.isInstancePending(instance, lang); // 判断一个trace是否为未完成状态

      uuflowManager.isTraceNotFinished(current_trace); // 判断一个approve是否为未完成状态

      uuflowManager.isApproveNotFinished(current_approve); // 判断当前用户是否approve 对应的处理人或代理人

      uuflowManager.isHandlerOrAgent(current_approve, this.userId);
    } catch (e) {
      console.log(e.stack);
      return true;
    }

    var flow_version = instance.flow_version;
    var flow_id = instance.flow;
    var step_id = "";
    step_id = current_trace.step;
    var flow = db.flows.findOne(flow_id, {
      fields: {
        current: 1,
        historys: 1
      }
    });
    var step = null;

    if (flow.current._id == flow_version) {
      flow.current.steps.forEach(function (s) {
        if (s._id == step_id) step = s;
      });
    } else {
      flow.historys.forEach(function (h) {
        h.steps.forEach(function (s) {
          if (s._id == step_id) step = s;
        });
      });
    }

    if (!step) return false;
    var step_type = step.step_type;
    current_trace.approves.forEach(function (a, idx) {
      if (a._id == approve_id) {
        index = idx;
      }
    });
    var key_str = 'traces.$.approves.' + index + '.';
    var permissions_values = uuflowManager.getApproveValues(approve.values, step.permissions, instance.form, instance.form_version);
    var change_values = approveManager.getChangeValues(instance.values, permissions_values);
    setObj.values = _.extend(instance.values || {}, permissions_values);

    if (!_.isEmpty(change_values)) {
      values_history = current_approve.values_history || [];
      values_history.push({
        values: change_values,
        create: new Date()
      });
      setObj[key_str + 'values_history'] = values_history;
    }

    setObj[key_str + 'is_read'] = true;
    setObj[key_str + 'read_date'] = new Date();
    setObj[key_str + 'values'] = setObj.values;
    setObj[key_str + 'description'] = description;
    setObj[key_str + 'next_steps'] = next_steps;

    if (step_type == "submit" || step_type == "start") {
      setObj[key_str + 'judge'] = "submitted";
    } else {
      setObj[key_str + 'judge'] = judge;
    }

    setObj.modified = new Date();
    setObj.modified_by = this.userId; // 计算申请单标题

    var form = db.forms.findOne(instance.form);
    var form_v = uuflowManager.getFormVersion(form, instance.form_version);
    var name_forumla = form_v.name_forumla;

    if (name_forumla) {
      setObj.name = uuflowManager.getInstanceName(instance, setObj.values);
    }

    db.instances.update({
      _id: ins_id,
      "traces._id": trace_id
    }, {
      $set: setObj
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"trace_approve_cc.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/trace_approve_cc.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  cc_do: function (approve, cc_user_ids, description) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve._id;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        space: 1,
        traces: 1,
        cc_users: 1,
        values: 1
      }
    });
    var current_user_id = this.userId;
    var space_id = instance.space;
    var new_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    cc_user_ids.forEach(function (userId, idx) {
      var user = db.users.findOne(userId, {
        fields: {
          name: 1
        }
      });
      var space_user = db.space_users.findOne({
        space: space_id,
        user: userId
      }, {
        fields: {
          organization: 1
        }
      });
      var org_id = space_user.organization;
      var organization = db.organizations.findOne(org_id, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var agent = uuflowManager.getAgent(space_id, userId);
      var handler_id = userId;
      var handler_info = user;
      var handler_space_user = space_user;
      var handler_org_info = organization;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent, {
          fileds: {
            name: 1
          }
        });
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
        cc_user_ids[idx] = agent;
      }

      var appr = {
        '_id': new Mongo.ObjectID()._str,
        'instance': ins_id,
        'trace': trace_id,
        'is_finished': false,
        'user': userId,
        'user_name': user.name,
        'handler': handler_id,
        'handler_name': handler_info.name,
        'handler_organization': handler_space_user.organization,
        'handler_organization_name': handler_org_info.name,
        'handler_organization_fullname': handler_org_info.fullname,
        'type': 'cc',
        'start_date': new Date(),
        'is_read': false,
        'from_user': current_user_id,
        'from_user_name': from_user_name,
        'opinion_fields_code': approve.opinion_fields_code,
        'sign_field_code': approve.opinion_fields_code && approve.opinion_fields_code.length == 1 ? approve.opinion_fields_code[0] : "",
        'from_approve_id': approve_id,
        'cc_description': description
      };

      if (agent) {
        appr.agent = agent;
      }

      uuflowManager.setRemindInfo(instance.values, appr);
      new_approves.push(appr);
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj,
      $addToSet: {
        'traces.$.approves': {
          $each: new_approves
        }
      },
      $push: {
        cc_users: {
          $each: cc_user_ids
        }
      }
    });
    instance = db.instances.findOne(ins_id);
    current_user_info = db.users.findOne(current_user_id);
    pushManager.send_instance_notification("trace_approve_cc", instance, "", current_user_info, cc_user_ids);
    flow_id = instance.flow;
    approve.cc_user_ids = cc_user_ids; // 记录下本次传阅的人员ID作为hook接口中的参数
    // 如果已经配置webhook并已激活则触发

    pushManager.triggerWebhook(flow_id, instance, approve, 'cc_do', current_user_id, cc_user_ids);
    return true;
  },
  cc_read: function (approve) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1
      }
    });
    var current_user_id = this.userId;

    var current_trace = _.find(instance.traces, function (t) {
      return t._id == trace_id;
    });

    var index = 0;
    current_trace.approves.forEach(function (a, idx) {
      if (a.type == 'cc' && a.handler == current_user_id && !a.is_read) {
        index = idx;
      }
    });
    setObj['traces.$.approves.' + index + '.is_read'] = true;
    setObj['traces.$.approves.' + index + '.read_date'] = new Date();
    setObj.traces = traces;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj
    });
    return true;
  },
  cc_submit: function (ins_id, description, myApprove, ccHasEditPermission) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id);
    var traces = instance.traces;
    var current_user_id = this.userId;
    var flow = uuflowManager.getFlow(instance.flow);
    var values = myApprove.values || {};
    var approve_id = myApprove._id;
    var myTrace;

    for (let tidx = 0; tidx < traces.length; tidx++) {
      const t = traces[tidx];

      if (t.approves) {
        for (let aidx = 0; aidx < t.approves.length; aidx++) {
          const a = t.approves[aidx];

          if (a.type == 'cc' && a.handler == current_user_id && a.is_finished == false) {
            var upobj = {};
            var key_str = 'traces.$.approves.' + aidx + '.';
            upobj[key_str + 'is_finished'] = true;
            upobj[key_str + 'is_read'] = true;
            upobj[key_str + 'finish_date'] = new Date();
            upobj[key_str + 'judge'] = "submitted";
            upobj[key_str + 'cost_time'] = new Date() - a.start_date;

            if (approve_id == a._id && !t.is_finished && ccHasEditPermission) {
              myTrace = t;
              var step = uuflowManager.getStep(instance, flow, t.step);
              upobj[key_str + "values"] = uuflowManager.getApproveValues(values, step["permissions"], instance.form, instance.form_version);
            } //设置意见，意见只添加到最后一条approve中


            if (approve_id == a._id) {
              upobj[key_str + 'description'] = description;
            }

            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        }
      }
    }

    if (myApprove) {
      setObj.modified = new Date();
      setObj.modified_by = this.userId;

      if (ccHasEditPermission && myApprove && !myTrace.is_finished) {
        var ins = uuflowManager.getInstance(ins_id);
        var updated_values = uuflowManager.getUpdatedValues(ins, approve_id);
        setObj.values = updated_values;
        setObj.name = uuflowManager.getInstanceName(instance);
      }

      db.instances.update({
        _id: ins_id,
        'traces._id': myApprove.trace
      }, {
        $set: setObj,
        $pull: {
          cc_users: current_user_id
        },
        $addToSet: {
          outbox_users: {
            $each: [current_user_id, myApprove.user]
          }
        }
      });
      instance = db.instances.findOne(ins_id);
      current_user_info = db.users.findOne(current_user_id); //传阅提交不通知传阅者

      if (false && description && myApprove && myApprove.from_user) {
        pushManager.send_instance_notification("trace_approve_cc_submit", instance, "", current_user_info, [myApprove.from_user]);
      }

      pushManager.send_message_to_specifyUser("current_user", current_user_id);
      flow_id = instance.flow; // 如果已经配置webhook并已激活则触发

      pushManager.triggerWebhook(flow_id, instance, myApprove, 'cc_submit', current_user_id, []);
    }

    return true;
  },
  cc_remove: function (instanceId, approveId) {
    var setObj = {};
    var instance = db.instances.findOne(instanceId, {
      fields: {
        traces: 1,
        cc_users: 1
      }
    });
    var traces = instance.traces;
    var trace_id,
        remove_user_id,
        multi = false;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a._id == approveId) {
            trace_id = a.trace;
            remove_user_id = a.handler;
            setObj['traces.$.approves.' + idx + '.judge'] = 'terminated';
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.finish_date'] = new Date();
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.read_date'] = new Date();
          }
        });
      }
    });
    if (!trace_id || !remove_user_id) return;
    var multi = 0;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a) {
          if (a.handler == remove_user_id && a.type == 'cc' && a.is_finished == false) {
            multi++;
          }
        });
      }
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;

    if (multi > 1) {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj
      });
    } else {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj,
        $pull: {
          cc_users: remove_user_id
        }
      });
    }

    pushManager.send_message_to_specifyUser("current_user", remove_user_id);
    return true;
  },
  cc_save: function (ins_id, description, myApprove, ccHasEditPermission) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id);
    var traces = instance.traces;
    var current_user_id = this.userId;
    var myTrace;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a.handler == current_user_id && a.type == 'cc' && a.is_finished == false) {
            var upobj = {};
            upobj['traces.$.approves.' + idx + '.judge'] = "submitted";
            upobj['traces.$.approves.' + idx + '.read_date'] = new Date();
            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        });
      }
    });
    var index = 0;
    var currentStepId; //设置意见，意见只添加到最后一条approve中

    traces.forEach(function (t) {
      if (myApprove && t._id === myApprove.trace) {
        currentStepId = t.step;
        myTrace = t;

        if (t.approves) {
          t.approves.forEach(function (a, idx) {
            if (a._id === myApprove._id) {
              index = idx;
            }
          });
        }
      }
    });
    setObj['traces.$.approves.' + index + '.description'] = description;
    var updateObj = {};

    if (ccHasEditPermission && myApprove && !myTrace.is_finished) {
      var key_str = 'traces.$.approves.' + index + '.';
      var flow = uuflowManager.getFlow(instance.flow);
      var step = uuflowManager.getStep(instance, flow, currentStepId);
      var permissions_values = uuflowManager.getApproveValues(myApprove.values, step.permissions, instance.form, instance.form_version);
      var change_values = approveManager.getChangeValues(instance.values, permissions_values);
      setObj.values = _.extend(instance.values || {}, permissions_values);

      if (!_.isEmpty(change_values)) {
        var pushObj = {};
        pushObj[key_str + 'values_history'] = {
          values: change_values,
          create: new Date()
        };
        updateObj.$push = pushObj;
      }

      setObj.name = uuflowManager.getInstanceName(instance);
    }

    updateObj.$set = setObj;
    db.instances.update({
      _id: ins_id,
      'traces._id': myApprove.trace
    }, updateObj);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forward_instance.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/forward_instance.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  // 改为通过api调用
  forward_instance: function (instance_id, space_id, flow_id, hasSaveInstanceToAttachment, description, isForwardAttachments, selectedUsers, action_type, related, from_approve_id) {
    if (!this.userId) throw new Meteor.Error('not-authorized');
    return;
  },
  forward_remove: function (instance_id, trace_id, approve_id) {
    check(instance_id, String);
    check(trace_id, String);
    check(approve_id, String);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var trace = _.find(ins.traces, function (t) {
      return t._id == trace_id;
    });

    var approve = _.find(trace.approves, function (appr) {
      return appr._id == approve_id;
    });

    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, this.userId);

    if (!approve || !['forward', 'distribute'].includes(approve.type) || !approve.forward_instance) {
      if (!hasAdminPermission) {
        if (approve.from_user != this.userId) throw new Meteor.Error('error!', 'instance_forward_cannot_cancel');
      }
    }

    var forward_instance_id = approve.forward_instance;
    var forward_instance = db.instances.findOne(forward_instance_id);

    if (forward_instance) {
      if (forward_instance.state != "draft") {
        if (!hasAdminPermission) throw new Meteor.Error('error!', 'instance_forward_instance_state_changed');
      }

      var inbox_users = forward_instance.inbox_users || [];
      forward_instance.deleted = new Date();
      forward_instance.deleted_by = this.userId;
      var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

      if (deleted_forward_instance_id) {
        db.instances.remove({
          _id: forward_instance_id
        }); // 删除申请单后重新计算inbox_users的badge

        _.each(inbox_users, function (u_id) {
          pushManager.send_message_to_specifyUser("current_user", u_id);
        });
      }
    }

    var set_obj = new Object();
    set_obj.modified = new Date();
    set_obj.modified_by = this.userId;

    _.each(trace.approves, function (appr, idx) {
      if (appr._id == approve_id) {
        set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
        set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
        set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
        set_obj['traces.$.approves.' + idx + '.is_read'] = true;
        set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
      }
    });

    db.instances.update({
      _id: instance_id,
      "traces._id": trace_id
    }, {
      $set: set_obj
    });
    return true;
  },
  cancelDistribute: function (instance_id, approve_ids) {
    check(instance_id, String);
    check(approve_ids, Array);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    userId = this.userId;
    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, userId);

    _.each(ins.traces, function (t) {
      if (t.approves) {
        var exists = false;
        var set_obj = new Object();

        _.each(t.approves, function (a, idx) {
          if (approve_ids.includes(a._id) && (a.from_user == userId || hasAdminPermission) && 'distribute' == a.type && a.forward_instance) {
            var forward_instance_id = a.forward_instance;
            var forward_instance = db.instances.findOne(forward_instance_id);

            if (forward_instance) {
              if (forward_instance.state != "draft") {
                return;
              }

              var inbox_users = forward_instance.inbox_users || [];
              forward_instance.deleted = new Date();
              forward_instance.deleted_by = userId;
              var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

              if (deleted_forward_instance_id) {
                db.instances.remove({
                  _id: forward_instance_id
                }); // 删除申请单后重新计算inbox_users的badge

                _.each(inbox_users, function (u_id) {
                  pushManager.send_message_to_specifyUser("current_user", u_id);
                });
              }

              set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
              set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
              set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
              set_obj['traces.$.approves.' + idx + '.is_read'] = true;
              set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
            }

            exists = true;
          }
        });

        if (!exists) return;
        set_obj.modified = new Date();
        set_obj.modified_by = userId;
        db.instances.update({
          _id: instance_id,
          "traces._id": t._id
        }, {
          $set: set_obj
        });
      }
    });

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.js":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/cfs_instances.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  cfs_instances_remove: function (file_id) {
    check(file_id, String);
    cfs.instances.remove(file_id);
    return true;
  },
  cfs_instances_set_current: function (file_id) {
    check(file_id, String);
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.current': true
      }
    });
    return true;
  },
  cfs_instances_lock: function (file_id, user_id, user_name) {
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.locked_by': user_id,
        'metadata.locked_by_name': user_name,
        'metadata.locked_time': new Date()
      }
    });
    return true;
  },
  cfs_instances_unlock: function (file_id) {
    cfs.instances.update({
      _id: file_id
    }, {
      $unset: {
        'metadata.locked_by': '',
        'metadata.locked_by_name': '',
        'metadata.locked_time': ''
      }
    });
    return true;
  },
  download_space_instance_attachments_to_disk: function (spaceId, cfsRecordIds) {
    if (!this.userId) return "不符合执行条件";
    if (Meteor.users.find({
      _id: this.userId,
      is_cloudadmin: true
    }).count() < 1) return "不符合执行条件";
    check(spaceId, String);
    var store = "instances";

    var fs = require('fs');

    var path = require('path');

    var mkdirp = require('mkdirp');

    var pathname = path.join(__meteor_bootstrap__.serverDir, '../../../cfs/spaceInstanceAttachments'); // Set absolute path

    var absolutePath = path.resolve(pathname); // Ensure the path exists

    mkdirp.sync(absolutePath);
    console.log('absolutePath: ', absolutePath);
    console.time('download_space_instance_attachments_to_disk');
    var query = {
      'metadata.space': spaceId
    };

    if (cfsRecordIds) {
      query._id = {
        $in: cfsRecordIds
      };
    }

    var downloadFailedRecordIds = [];
    cfs.instances.find(query).forEach(function (c) {
      try {
        var fileName = store + '-' + c._id + '-' + c.name();
        var filePath = path.join(absolutePath, fileName);
        Meteor.wrapAsync(function (callback) {
          try {
            var writer = fs.createWriteStream(filePath);
            writer.on('finish', function () {
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            var reader = c.createReadStream(store);
            reader.on('error', function (error) {
              downloadFailedRecordIds.push(c._id);
              console.error('download_space_instance_attachments_to_disk: ', c._id);
              console.error(error.stack);
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            reader.pipe(writer);
          } catch (error) {
            console.error('download_space_instance_attachments_to_disk: ', c._id);
            console.error(error.stack);
            if (callback && _.isFunction(callback)) callback();
            return;
          }
        })();
      } catch (error) {
        console.error('download_space_instance_attachments_to_disk: ', c._id);
        console.error(error.stack);
      }
    });

    if (downloadFailedRecordIds.length > 0) {
      console.error('downloadFailedRecordIds: ');
      console.error(downloadFailedRecordIds);
    }

    console.timeEnd('download_space_instance_attachments_to_disk');
    return downloadFailedRecordIds;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_approve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_approve.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_approve_have_read: function (instanceId, traceId, approveId) {
    var instance, ref, self, setObj, trace;

    if (!this.userId) {
      return;
    }

    self = this;
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {
        modified: new Date(),
        modified_by: self.userId
      };
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId && !approve.is_read) {
          setObj["traces.$.approves." + idx + ".is_read"] = true;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  change_approve_info: function (instanceId, traceId, approveId, description, finish_date) {
    var instance, ref, setObj, trace;

    if (!this.userId) {
      return;
    }

    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(description, String);
    check(finish_date, Date);
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {};
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          setObj["traces.$.approves." + idx + ".description"] = description;
          setObj["traces.$.approves." + idx + ".finish_date"] = finish_date;
          setObj["traces.$.approves." + idx + ".cost_time"] = new Date() - approve.start_date;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  update_approve_sign: function (instanceId, traceId, approveId, sign_field_code, description, sign_type, lastSignApprove) {
    var currentApproveDescription, currentStep, currentTrace, ins, instance, ref, ref1, ref2, ref3, session_userId, showBlankApproveDescription, trace, traces, trimDescription, upObj;
    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(sign_field_code, String);
    check(description, String);

    if (!this.userId) {
      return;
    }

    trimDescription = description.trim();
    showBlankApproveDescription = (ref = Meteor.settings["public"].workflow) != null ? ref.showBlankApproveDescription : void 0;
    session_userId = this.userId;

    if (lastSignApprove) {
      if (((ref1 = Meteor.settings["public"].workflow) != null ? ref1.keepLastSignApproveDescription : void 0) !== false) {
        if (lastSignApprove.custom_sign_show) {
          return;
        }
      }
    }

    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref2 = instance.traces) != null ? ref2.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      upObj = {};
      currentApproveDescription = '';
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          currentApproveDescription = approve.description;

          if (sign_field_code) {
            upObj["traces.$.approves." + idx + ".sign_field_code"] = sign_field_code;
          }

          upObj["traces.$.approves." + idx + ".description"] = description;
          upObj["traces.$.approves." + idx + ".sign_show"] = trimDescription || showBlankApproveDescription ? true : false;
          upObj["traces.$.approves." + idx + ".modified"] = new Date();
          upObj["traces.$.approves." + idx + ".modified_by"] = session_userId;
          return upObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (((ref3 = Meteor.settings["public"].workflow) != null ? ref3.keepLastSignApproveDescription : void 0) === false && (!!currentApproveDescription !== !!trimDescription || showBlankApproveDescription)) {
        ins = db.instances.findOne({
          _id: instanceId
        }, {
          fields: {
            "traces": 1
          }
        });
        traces = ins.traces;
        currentTrace = _.find(traces, function (t) {
          return t._id === traceId;
        });
        currentStep = currentTrace.step;
        traces.forEach(function (t, tIdx) {
          if (t.step === currentStep) {
            return t != null ? t.approves.forEach(function (appr, aIdx) {
              if (appr.handler === session_userId && appr.is_finished && appr._id !== approveId && !_.has(appr, 'custom_sign_show')) {
                if (trimDescription && appr.sign_show === true && (sign_field_code === "" || !appr.sign_field_code || sign_field_code === appr.sign_field_code) || showBlankApproveDescription) {
                  upObj["traces." + tIdx + ".approves." + aIdx + ".sign_show"] = false;
                  return upObj["traces." + tIdx + ".approves." + aIdx + ".keepLastSignApproveDescription"] = approveId;
                } else if (appr.keepLastSignApproveDescription === approveId) {
                  upObj["traces." + tIdx + ".approves." + aIdx + ".sign_show"] = true;
                  return upObj["traces." + tIdx + ".approves." + aIdx + ".keepLastSignApproveDescription"] = null;
                }
              }
            }) : void 0;
          }
        });
      }

      if (!_.isEmpty(upObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: upObj
        });
      }

      return true;
    }
  },
  update_sign_show: function (objs, myApprove_id) {
    objs.forEach(function (obj, index) {
      var instance, ref, setObj, trace;
      instance = db.instances.findOne({
        _id: obj.instance,
        "traces._id": obj.trace
      }, {
        fields: {
          "traces.$": 1
        }
      });

      if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
        trace = instance.traces[0];
        setObj = {};
        trace.approves.forEach(function (approve, idx) {
          if (approve._id === obj._id) {
            setObj["traces.$.approves." + idx + ".sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".custom_sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }

          if (approve._id === myApprove_id) {
            return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }
        });

        if (!_.isEmpty(setObj)) {
          return db.instances.update({
            _id: obj.instance,
            "traces._id": obj.trace
          }, {
            $set: setObj
          });
        }
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_return.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_return.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_return: function (approve, reason) {
    var approve_values, b, current_step, current_user, current_user_info, flow, ins, instance, instance_id, last_trace, newTrace, new_inbox_users, now, pre_step, pre_trace, r, rest_counter_users, setObj, space_id, traces;
    check(approve, Object);
    current_user = this.userId;
    instance_id = approve.instance;
    ins = uuflowManager.getInstance(instance_id);
    space_id = ins.space;

    if (ins.state !== "pending" || !ins.inbox_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.type === "cc" && ins.cc_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (ins.traces.length < 2) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    flow = uuflowManager.getFlow(ins.flow);
    pre_trace = ins.traces[ins.traces.length - 2];
    pre_step = uuflowManager.getStep(ins, flow, pre_trace.step);

    if (pre_step.step_type === "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    last_trace = _.last(ins.traces);
    current_step = uuflowManager.getStep(ins, flow, last_trace.step);

    if (current_step.step_type !== "submit" && current_step.step_type !== "sign" && current_step.step_type !== "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.trace !== last_trace._id) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    new_inbox_users = new Array();

    _.each(pre_trace.approves, function (a) {
      if ((!a.type || a.type === "draft" || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected")) {
        return new_inbox_users.push(a.user);
      }
    });

    if (_.isEmpty(new_inbox_users)) {
      throw new Meteor.Error('error!', "未找到下一步处理人，退回失败");
    }

    traces = ins.traces;
    approve_values = uuflowManager.getApproveValues(approve.values || {}, current_step.permissions, ins.form, ins.form_version);
    setObj = new Object();
    now = new Date();
    rest_counter_users = new Array();

    _.each(traces, function (t) {
      if (t._id === last_trace._id) {
        if (!t.approves) {
          t.approves = new Array();
        }

        _.each(t.approves, function (a, idx) {
          if ((!a.type || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected" || a.judge === "readed") && a.is_finished !== true) {
            setObj['traces.$.approves.' + idx + '.finish_date'] = now;
            setObj['traces.$.approves.' + idx + '.read_date'] = now;
            setObj['traces.$.approves.' + idx + '.is_error'] = false;
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.cost_time'] = now - a.start_date;
            setObj['traces.$.approves.' + idx + '.values'] = approve_values;

            if (a.handler === current_user) {
              setObj['traces.$.approves.' + idx + '.judge'] = "returned";
              return setObj['traces.$.approves.' + idx + '.description'] = reason;
            } else {
              return rest_counter_users.push(a.handler);
            }
          }
        });

        setObj['traces.$.is_finished'] = true;
        setObj['traces.$.finish_date'] = true;
        return setObj['traces.$.judge'] = "returned";
      }
    });

    ins.values = _.extend(ins.values || {}, approve_values);
    newTrace = new Object();
    newTrace._id = new Mongo.ObjectID()._str;
    newTrace.instance = instance_id;
    newTrace.previous_trace_ids = [last_trace._id];
    newTrace.is_finished = false;
    newTrace.step = pre_trace.step;
    newTrace.name = pre_trace.name;
    newTrace.start_date = now;
    newTrace.due_date = uuflowManager.getDueDate(pre_step.timeout_hours, space_id);
    newTrace.approves = [];

    _.each(new_inbox_users, function (next_step_user_id, idx) {
      var agent, handler_id, handler_info, newApprove, next_step_space_user, next_step_user_org_info, user_info;
      newApprove = new Object();
      newApprove._id = new Mongo.ObjectID()._str;
      newApprove.instance = instance_id;
      newApprove.trace = newTrace._id;
      newApprove.is_finished = false;
      newApprove.user = next_step_user_id;
      user_info = db.users.findOne(next_step_user_id, {
        fields: {
          name: 1
        }
      });
      newApprove.user_name = user_info.name;
      handler_id = next_step_user_id;
      handler_info = user_info;
      agent = uuflowManager.getAgent(space_id, next_step_user_id);

      if (agent) {
        new_inbox_users[idx] = agent;
        handler_id = agent;
        handler_info = db.users.findOne({
          _id: agent
        }, {
          fields: {
            name: 1
          }
        });
        newApprove.agent = agent;
      }

      newApprove.handler = handler_id;
      newApprove.handler_name = handler_info.name;
      next_step_space_user = uuflowManager.getSpaceUser(space_id, handler_id);
      next_step_user_org_info = uuflowManager.getSpaceUserOrgInfo(next_step_space_user);
      newApprove.handler_organization = next_step_user_org_info["organization"];
      newApprove.handler_organization_name = next_step_user_org_info["organization_name"];
      newApprove.handler_organization_fullname = next_step_user_org_info["organization_fullname"];
      newApprove.start_date = now;
      newApprove.is_read = false;
      newApprove.is_error = false;
      newApprove.values = new Object();
      uuflowManager.setRemindInfo(ins.values, newApprove);
      return newTrace.approves.push(newApprove);
    });

    setObj.inbox_users = new_inbox_users;
    setObj.state = "pending";
    ins.outbox_users.push(current_user);
    setObj.outbox_users = _.uniq(ins.outbox_users);
    setObj.modified = now;
    setObj.modified_by = current_user;
    setObj.values = ins.values;
    setObj.current_step_name = pre_trace.name;
    r = db.instances.update({
      _id: instance_id,
      'traces._id': last_trace._id
    }, {
      $set: setObj
    });
    b = db.instances.update({
      _id: instance_id
    }, {
      $push: {
        traces: newTrace
      }
    });

    if (r && b) {
      pushManager.send_message_to_specifyUser("current_user", current_user);
      instance = uuflowManager.getInstance(instance_id);
      current_user_info = db.users.findOne(current_user);
      pushManager.send_instance_notification("return_pending_inbox", instance, reason, current_user_info);

      _.each(rest_counter_users, function (user_id) {
        return pushManager.send_message_to_specifyUser("current_user", user_id);
      });
    }

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_remind.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_remind.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_remind: function (remind_users, remind_count, remind_deadline, instance_id, action_types, trace_id) {
    var current_user_id, ins, last_remind_users, now, priority, trace;
    check(remind_users, Array);
    check(remind_count, Match.OneOf('single', 'multi'));
    check(remind_deadline, Date);
    check(instance_id, String);
    check(action_types, Array);
    check(trace_id, String);
    current_user_id = this.userId;
    last_remind_users = new Array();
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        name: 1,
        traces: 1,
        values: 1,
        space: 1
      }
    });

    if (action_types.includes('admin')) {
      if (remind_count === 'single') {
        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              return last_remind_users.push(ap.user);
            }
          });
        });
      } else if (remind_count === 'multi') {
        now = new Date();
        priority = ins.values.priority;

        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            var caculate_date;

            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              last_remind_users.push(ap.user);
              ap.manual_deadline = remind_deadline;

              if (priority === "普通" || !priority) {} else if (priority === "办文") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "紧急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "特急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              }
            }
          });
        });

        if (!_.isEmpty(last_remind_users)) {
          db.instances.update({
            _id: instance_id
          }, {
            $set: {
              'traces': ins.traces
            }
          });
        }
      }
    } else if (action_types.includes('applicant')) {
      trace = _.find(ins.traces, function (t) {
        return t._id === trace_id;
      });

      _.each(trace.approves, function (ap) {
        if (remind_users.includes(ap.user) && ap.is_finished !== true) {
          return last_remind_users.push(ap.user);
        }
      });
    } else if (action_types.includes('cc')) {
      _.each(ins.traces, function (t) {
        return _.each(t.approves, function (ap) {
          if (remind_users.includes(ap.user) && ap.is_finished !== true && ap.type === 'cc' && ap.from_user === current_user_id) {
            return last_remind_users.push(ap.user);
          }
        });
      });
    }

    uuflowManager.sendRemindSMS(ins.name, remind_deadline, last_remind_users, ins.space, ins._id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"next_step_users_not_found.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/next_step_users_not_found.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  next_step_users_not_found: function (deal_type, step_name, params) {
    var approver_roles, lang, roles, roles_name, str, user;
    check(deal_type, String);
    check(step_name, String);
    check(params, Object);
    str = "";
    user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    lang = 'en';

    if (user.locale === 'zh-cn') {
      lang = 'zh-CN';
    }

    if (deal_type === 'applicantRole') {
      approver_roles = params.approver_roles;
      roles = db.flow_roles.find({
        _id: {
          $in: approver_roles
        }
      }, {
        fields: {
          name: 1
        }
      }).fetch();
      roles_name = _.pluck(roles, 'name').toString();
      str = TAPi18n.__('next_step_users_not_found.applicant_role', {
        step_name: step_name,
        role_name: roles_name
      }, lang);
    }

    return str;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_number_rules.coffee":function(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_number_rules.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval;

_eval = require('eval');
Meteor.methods({
  instanceNumberBuilder: function (spaceId, name) {
    var _NUMBER, _YYYY, context, date, e, numberRules, res, rules, script;

    numberRules = db.instance_number_rules.findOne({
      space: spaceId,
      name: name
    });

    if (!numberRules) {
      throw new Meteor.Error('error!', "" + name);
    }

    date = new Date();
    context = {};
    context._ = _;
    _YYYY = date.getFullYear();
    _NUMBER = (numberRules.number || 0) + 1;
    context.YYYY = _.clone(_YYYY);
    context.MM = date.getMonth() + 1;
    context.mm = date.getMonth() + 1;

    if (context.MM < 10) {
      context.MM = "0" + context.MM;
    }

    context.DD = date.getDate();
    context.dd = date.getDate();

    if (context.DD < 10) {
      context.DD = "0" + context.DD;
    }

    if (context.YYYY !== numberRules.year) {
      _NUMBER = numberRules.first_number || 1;
    }

    context.NUMBER = _.clone(_NUMBER);
    rules = numberRules.rules.replace("{YYYY}", "' + YYYY + '").replace("{MM}", "' + MM + '").replace("{NUMBER}", "' + NUMBER + '");
    script = "var newNo = '" + rules + "'; exports.newNo = newNo";

    try {
      res = _eval(script, "newNo", context, false).newNo;
      db.instance_number_rules.update({
        _id: numberRules._id
      }, {
        $set: {
          year: _YYYY,
          number: _NUMBER
        }
      });
      console.log(this.userId, res);
    } catch (error) {
      e = error;
      res = {
        _error: e
      };
    }

    return res;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"check_main_attach.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/check_main_attach.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  check_main_attach: function (ins_id, name) {
    check(ins_id, String);
    uuflowManager.checkMainAttach(ins_id, name);
    return 'success';
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/related_instances.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  remove_related: function (ins_id, re_ins_id) {
    var index, ins, res, set_obj;
    check(ins_id, String);
    check(re_ins_id, String);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        related_instances: 1
      }
    });

    if (ins) {
      res = ins.related_instances || [];
      index = res.indexOf(re_ins_id);

      if (index > -1) {
        res.remove(index);
      }

      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = res;
      return db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }
  },
  update_instance_related: function (ins_id, related_instances) {
    var ins, set_obj;
    check(ins_id, String);
    check(related_instances, Array);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id,
      $or: [{
        submitter: this.userId
      }, {
        applicant: this.userId
      }, {
        inbox_users: this.userId
      }, {
        cc_users: this.userId
      }]
    }, {
      fields: {
        state: 1
      }
    });

    if (ins) {
      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = related_instances;
      db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }

    return db.instances.find({
      _id: {
        $in: related_instances
      }
    }, {
      fields: {
        _id: 1,
        values: 1
      }
    }).fetch();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"edit_flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/edit_flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  updateFlowPosition: function (data) {
    return db.flow_positions.update({
      _id: data._id
    }, {
      $set: {
        role: data.role,
        users: data.users,
        org: data.org
      }
    });
  },
  updateFlowRole: function (data) {
    console.log(data._id);
    console.log(data.name);
    return db.flow_roles.update({
      _id: data._id
    }, {
      $set: {
        name: data.name
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"start_flow.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/start_flow.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  start_flow: function (space, flowId, start) {
    var keyValue, start_flows;
    keyValue = db.steedos_keyvalues.findOne({
      space: space,
      user: this.userId,
      key: 'start_flows'
    }, {
      fields: {
        value: 1
      }
    });
    start_flows = (keyValue != null ? keyValue.value : void 0) || [];

    if (start) {
      start_flows.push(flowId);
      start_flows = _.uniq(start_flows);
    } else {
      start_flows.remove(start_flows.indexOf(flowId));
    }

    if (keyValue) {
      return db.steedos_keyvalues.update({
        _id: keyValue._id
      }, {
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    } else {
      return db.steedos_keyvalues.insert({
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_traces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_traces.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  get_instance_traces: function (ins_id) {
    var ins, miniApproveFields;

    if (!this.userId) {
      return;
    }

    miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description'];
    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        "traces._id": 1,
        "traces.is_finished": 1,
        "traces.step": 1,
        "traces.start_date": 1,
        "traces.name": 1,
        "traces.finish_date": 1,
        "traces.judge": 1,
        "traces.approves._id": 1,
        "traces.approves.is_finished": 1,
        "traces.approves.user": 1,
        "traces.approves.handler": 1,
        "traces.approves.handler_name": 1,
        "traces.approves.handler_organization_fullname": 1,
        "traces.approves.type": 1,
        "traces.approves.start_date": 1,
        "traces.approves.description": 1,
        "traces.approves.is_read": 1,
        "traces.approves.judge": 1,
        "traces.approves.finish_date": 1,
        "traces.approves.from_user_name": 1,
        "traces.approves.from_user": 1,
        "traces.approves.cc_description": 1,
        "traces.approves.trace": 1,
        "traces.approves.forward_space": 1,
        "traces.approves.forward_instance": 1
      }
    });

    if (!ins) {
      return;
    }

    return ins != null ? ins.traces : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_batch.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_batch.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  'get_batch_instances': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return _batch_instances;
  },
  'get_batch_instances_count': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return (_batch_instances != null ? _batch_instances.length : void 0) || 0;
  },
  'get_my_approves': function (instanceIds) {
    var myApproves, that;
    that = this;

    if (!that.userId) {
      return;
    }

    myApproves = new Array();
    instanceIds.forEach(function (insId) {
      var my_approve;
      my_approve = InstanceManager.getMyApprove(insId, that.userId);

      if (my_approve) {
        return myApproves.push(my_approve);
      }
    });
    return myApproves;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/flow.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  change_flow_state: function (flows) {
    var _userId;

    check(flows, Array);
    _userId = this.userId;

    if (!_userId) {
      return;
    }

    return flows.forEach(function (flow) {
      var _flows, _flows_state, flowId, form, formId, form_current_fields_code, now, spaceId, state;

      spaceId = flow.space;
      formId = flow.form;
      flowId = flow.id;
      state = flow.state;

      if (!Steedos.isSpaceAdmin(spaceId, _userId)) {
        throw Meteor.Error(401, "No permission");
      }

      form = db.forms.findOne({
        _id: formId
      }, {
        fields: {
          historys: 0
        }
      });
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          historys: 0
        }
      });

      if (state !== 'enabled' && state !== 'disabled') {
        throw new Meteor.Error(500, "state无效");
      }

      if (!form) {
        throw new Meteor.Error(500, "form无效");
      }

      if (!flow) {
        throw new Meteor.Error(500, "flow无效");
      }

      if (!form.is_valid) {
        throw new Meteor.Error(500, "流程引用的表单[" + form.name + "]验证未通过，请打开流程设计器检查表单设置");
      }

      if (!flow.is_valid) {
        throw new Meteor.Error(500, "流程验证未通过，请打开流程设计器检查流程设置");
      }

      if (!['new', 'modify', 'delete'].includes(flow.flowtype)) {
        throw new Meteor.Error(500, "流程验证未通过，flowtype值必须是new、modify、delete其中之一");
      }

      if (!_.isArray(flow.current.steps)) {
        throw new Meteor.Error(500, "流程验证未通过，流程的步骤不能为空");
      }

      if (_.uniq(flow.current.steps, 'name').length !== flow.current.steps.length) {
        throw new Meteor.Error(500, "流程验证未通过，同一个流程下的步骤的名称不能重复");
      }

      now = new Date();

      if (state === 'enabled') {
        flow.current.steps.forEach(function (step) {
          var specifyStep;

          if (['specifyStepUser', 'specifyStepRole'].includes(step.deal_type)) {
            if (!step.approver_step) {
              throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
            } else {
              specifyStep = _.find(flow.current.steps, function (_step) {
                return step.approver_step === _step._id;
              });

              if (!specifyStep) {
                throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
              }
            }
          }
        });
        form_current_fields_code = form.current.fields.getProperty("code");
        flow.current.steps.forEach(function (step) {
          return step.fields_modifiable = _.intersection(step.fields_modifiable, form_current_fields_code);
        });

        if (form.state === 'disabled') {
          db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "enabled",
              "current.start_date": now,
              "current.modified": now,
              "current.modified_by": _userId
            }
          });
        }

        flow.current.modified = now;
        flow.current.start_date = now;
        flow.current.modified_by = _userId;
        return db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "enabled",
            "current": flow.current
          }
        });
      } else {
        db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "disabled",
            "current.modified": now,
            "current.start_date": now,
            "current.modified_by": _userId
          }
        });
        _flows = db.flows.find({
          form: form._id
        }, {
          fields: {
            _id: 1,
            state: 1
          }
        }).fetch();
        _flows_state = _flows.getProperty("state");

        if (!_flows_state.includes('enabled')) {
          return db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "disabled",
              "current.modified": now,
              "current.start_date": now,
              "current.modified_by": _userId
            }
          });
        }
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distribute.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/distribute.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"hide_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/hide_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  hide_instance: function (insId, is_hidden) {
    var instance, permissions, space, userId;

    if (!this.userId) {
      return;
    }

    check(insId, String);
    check(is_hidden, Boolean);
    userId = this.userId;
    instance = db.instances.findOne(insId, {
      fields: {
        state: 1,
        flow: 1,
        space: 1
      }
    });

    if (!instance) {
      throw new Meteor.Error('error!', "未找到申请单");
    }

    if (instance.state !== 'completed') {
      throw new Meteor.Error('error!', "申请单状态不是已结束");
    }

    permissions = permissionManager.getFlowPermissions(instance.flow, userId);
    space = db.spaces.findOne(instance.space, {
      fields: {
        admins: 1
      }
    });

    if (!permissions.includes("admin") && !space.admins.includes(userId)) {
      throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
    }

    db.instances.update(insId, {
      $set: {
        is_hidden: is_hidden
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_value.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_value.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  getInstanceValues: function (insId) {
    var ref;

    if (!this.userId) {
      return;
    }

    return (ref = db.instances.findOne({
      _id: insId
    }, {
      fields: {
        values: 1
      }
    })) != null ? ref.values : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"routes":{"instance.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies, getInstanceReadOnly;
Cookies = require("cookies");

getInstanceReadOnly = function (req, res, next, options) {
  var _hasPermission, _locale, _parent_instances, dataBuf, error, hide_traces, html, instance, instanceId, ref, ref1, space, spaceId, spaceUserCount, user, userId;

  user = Steedos.getAPILoginUser(req, res);

  if (req != null ? (ref = req.query) != null ? ref.access_token : void 0 : void 0) {
    userId = Steedos.getUserIdFromAccessToken(req.query.access_token);

    if (userId) {
      user = Meteor.users.findOne({
        _id: userId
      });
    }
  }

  spaceId = req.params.space;
  instanceId = req.params.instance_id;
  instance = db.instances.findOne({
    _id: instanceId
  });
  space = db.spaces.findOne({
    _id: spaceId
  });
  hide_traces = (ref1 = req.query) != null ? ref1.hide_traces : void 0;

  if (!options) {
    options = {
      showTrace: true
    };
  } else {
    options.showTrace = true;
  }

  if (hide_traces === "1") {
    if (options) {
      options.showTrace = false;
    } else {
      options = {
        showTrace: false
      };
    }
  }

  if (!options.showAttachments) {
    options.showAttachments = true;
  }

  if (!space) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space",
        "success": false
      }
    });
    return;
  }

  if (!instance) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing instance",
        "success": false
      }
    });
    return;
  }

  if (!user) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Auth-Token,X-User-Id",
        "success": false
      }
    });
    return;
  }

  if (instance.space !== spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space or instance",
        "success": false
      }
    });
    return;
  }

  spaceUserCount = db.space_users.find({
    user: user._id,
    space: spaceId
  }).count();

  if (spaceUserCount === 0) {
    if (!space) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- Missing sapceUser",
          "success": false
        }
      });
      return;
    }
  }

  _hasPermission = WorkflowManager.hasInstancePermissions(user, instance);

  if (!_hasPermission && instance.distribute_from_instance) {
    _parent_instances = _.union([instance.distribute_from_instance], instance.distribute_from_instances || []);
    _hasPermission = _.find(_parent_instances, function (_parent_id) {
      var _parent_ins;

      _parent_ins = db.instances.findOne({
        _id: _parent_id
      }, {
        fields: {
          traces: 0
        }
      });
      return WorkflowManager.hasInstancePermissions(user, _parent_ins);
    });
  }

  if (!_hasPermission) {
    _locale = Steedos.locale(user._id, true);
    error = TAPi18n.__("instance_permissions_error", {}, _locale);
    res.charset = "utf-8";
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": error,
        "success": false
      }
    });
    return;
  }

  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
};

JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id", getInstanceReadOnly);
JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id/:instance_name", function (req, res, next) {
  var options;
  res.setHeader('Content-type', 'application/x-msdownload');
  res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(req.params.instance_name));
  res.setHeader('Transfer-Encoding', '');
  options = {
    absolute: true
  };
  return getInstanceReadOnly(req, res, next, options);
}); /*
    	获取申请单列表：
        final_decision：审批结果
        state: 申请单状态
     */
JsonRoutes.add("get", "/api/workflow/instances", function (req, res, next) {
  var f, flowId, flowIds, flows, i, instances, query, ref, ref1, ref2, ref3, ret_sync_token, spaceId, spaceUser, spaceUserOrganizations, sync_token, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  spaceId = req.headers["x-space-id"];

  if (!spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Space-Id",
        "success": false
      }
    });
    return;
  }

  flowId = (ref = req.query) != null ? ref.flowId : void 0;

  if (!flowId) {
    JsonRoutes.sendResult(res, {
      code: 400,
      data: {
        "error": "Validate Request -- Missing flowId",
        "success": false
      }
    });
    return;
  }

  query = {};
  ret_sync_token = new Date().getTime();
  flowIds = flowId.split(",");
  flows = db.flows.find({
    _id: {
      $in: flowIds
    }
  }).fetch();
  i = 0;

  while (i < flows.length) {
    f = flows[i];
    spaceUser = db.space_users.findOne({
      space: f.space,
      user: user_id
    });

    if (!spaceUser) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- No permission, flow is " + f._id,
          "success": false
        }
      });
      return;
    } else {}

    if (!Steedos.isSpaceAdmin(spaceId, user_id)) {
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: spaceUser.organizations
        }
      }).fetch();

      if (!WorkflowManager.canMonitor(f, spaceUser, spaceUserOrganizations) && !WorkflowManager.canAdmin(f, spaceUser, spaceUserOrganizations)) {
        JsonRoutes.sendResult(res, {
          code: 401,
          data: {
            "error": "Validate Request -- No permission, flow is " + f._id,
            "success": false
          }
        });
        return;
      }
    }

    i++;
  }

  query.flow = {
    $in: flowIds
  };
  query.space = spaceId;

  if ((ref1 = req.query) != null ? ref1.sync_token : void 0) {
    sync_token = new Date(Number(req.query.sync_token));
    query.modified = {
      $gt: sync_token
    };
  }

  if ((ref2 = req.query) != null ? ref2.final_decision : void 0) {
    query.final_decision = {
      $in: req.query.final_decision.split(",")
    };
  } else {
    query.final_decision = {
      $nin: ["terminated", "rejected"]
    };
  }

  if ((ref3 = req.query) != null ? ref3.state : void 0) {
    query.state = {
      $in: req.query.state.split(",")
    };
  } else {
    query.state = "completed";
  }

  instances = db.instances.find(query, {
    fields: {
      inbox_uers: 0,
      cc_users: 0,
      outbox_users: 0,
      traces: 0,
      attachments: 0
    },
    skip: 0,
    limit: 500
  }).fetch();
  instances.forEach(function (instance) {
    var attachments;
    attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return instance.attachments = attachments;
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      "status": "success",
      "sync_token": ret_sync_token,
      "data": instances
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"steedos_css.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/steedos_css.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/steedos-css", function (req, res, next) {
  var allCss, allCssLink;
  allCss = WebApp.getRefreshableAssets();
  allCssLink = "";
  allCss.forEach(function (css) {
    var cssHref, rootUrl;

    if (__meteor_runtime_config__.ROOT_URL_PATH_PREFIX) {
      rootUrl = __meteor_runtime_config__.ROOT_URL;

      if (rootUrl.endsWith("/")) {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX + "/", "") + css.url;
      } else {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX, "") + css.url;
      }
    } else {
      cssHref = Meteor.absoluteUrl(css.url);
    }

    return allCssLink += "@import url(" + cssHref + ");";
  });
  res.statusCode = 200;
  return res.end(allCssLink);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft_view.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance_draft_view.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/api/workflow/space/:space/view/draft/:flow", function (req, res, next) {
  var dataBuf, flow, flowId, form, html, instance, options, space, spaceId, user, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  user = db.users.findOne({
    _id: user_id
  });
  spaceId = req.params.space;
  flowId = req.params.flow;
  space = db.spaces.findOne({
    _id: spaceId
  });
  flow = db.flows.findOne({
    _id: flowId
  }, {
    fields: {
      name: 1,
      'current._id': 1,
      form: 1
    }
  });
  form = db.forms.findOne({
    _id: flow.form
  }, {
    fields: {
      'current._id': 1
    }
  });
  options = {
    showTrace: false,
    showAttachments: false,
    templateName: "default",
    editable: true,
    width: "100%",
    instance_style: "instance-default",
    plugins: "\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n<meta name=\"format-detection\" content=\"telephone=no\">\n<meta http-equiv=\"x-rim-auto-match\" content=\"none\">\n<title>" + flow.name + "</title>\n<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />\n<meta name=\"viewport\" content=\"width=device-width\" />\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css\">\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js\" type=\"text/javascript\"></script>\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.zh-CN.js\" type=\"text/javascript\" charset=\"UTF-8\"></script>\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/toastr/toastr.min.css\">\n<script src=\"/plugins/toastr/toastr.min.js\" type=\"text/javascript\"></script>\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/js/workflow_client.css\">\n<script src=\"/js/workflow_client.js\" type=\"text/javascript\"></script>"
  };
  instance = {
    flow: flow._id,
    flow_version: flow.current._id,
    form: form._id,
    form_version: form.current._id,
    values: {},
    name: flow.name,
    space: spaceId
  };
  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"lib":{"1_form_formula.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/1_form_formula.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Array.prototype.filterProperty = function (h, l) {
  var g = [];
  this.forEach(function (t) {
    var m = t ? t[h] : null;
    var d = false;

    if (m instanceof Array) {
      d = m.includes(l);
    } else {
      d = l === undefined ? false : m == l;
    }

    if (d) {
      g.push(t);
    }
  });
  return g;
};

Array.prototype.getProperty = function (k) {
  var v = new Array();
  this.forEach(function (t) {
    var m = t ? t[k] : null;
    v.push(m);
  });
  return v;
};

Array.prototype.getEach = function (code) {
  var rev = [];

  for (var i = 0; i < this.length; i++) {
    rev.push(this[i][code]);
  }

  return rev;
};

Array.prototype.uniq = function () {
  var a = [];
  this.forEach(function (b) {
    if (a.indexOf(b) < 0) {
      a[a.length] = b;
    }
  });
  return a;
};

Form_formula = {};

Form_formula.mixin = function (dest, src) {
  for (var key in src) {
    dest[key] = src[key];
  }

  return dest;
};

Form_formula.handerUserObject = function (u) {
  if (u instanceof Array) {
    var user = {};
    user.name = u.getProperty("name");
    user.organization = {};
    user.organization.name = u.getProperty("organization").getProperty("name");
    user.organization.fullname = u.getProperty("organization").getProperty("fullname");
    user.hr = u.getProperty("hr");
    user.sort_no = u.getProperty("sort_no");
    user.mobile = u.getProperty("mobile");
    user.work_phone = u.getProperty("work_phone");
    user.position = u.getProperty("position");
    var userRoles = u.getProperty("roles");
    var roles = new Array();
    userRoles.forEach(function (i) {
      roles = roles.concat(i);
    });
    roles.uniq();
    user.roles = roles;
    return user;
  } else {
    return u;
  }
};

Form_formula.handerOrgObject = function (o) {
  if (o instanceof Array) {
    var org = {};
    org.id = o.getProperty("_id");
    org.name = o.getProperty("name");
    org.fullname = o.getProperty("fullname");
    return org;
  } else {
    return o;
  }
};
/**
    * 获得公式需要用到的初始值
    * 输入：fields, values, applicant
    * 输出：__values
**/


Form_formula.init_formula_values = function (fields, autoFormDoc, approver, applicant, spaceId) {
  var __values = {}; //申请单中填的值处理

  if (fields && fields.length && autoFormDoc) {
    //debugger;
    fields.forEach(function (field) {
      var type = field.type;

      if (type) {
        if (type === 'table') {
          /*
          * 将表格字段的值进行转换后传入__values中
          * values中表格的值格式为
          * [{"a":1,"b":4},{"a":2,"b":5},{"a":3,"b":6}]
          * __values需要转化为下面格式且和主表的值一样放到第一层
          * {"a":[1,2,3],"b":[4,5,6]}
          **/
          var tableFields = field.sfields,
              tableValues = autoFormDoc[field.code],
              formulaTableValues = [],
              __tableValues = {}; //按公式的格式转换值为__tableValues

          if (tableFields && tableFields.length && tableValues && tableValues instanceof Array) {
            tableValues.forEach(function (tableValue) {
              formulaTableValues.push(Form_formula.init_formula_values(tableFields, tableValue));
            }, this); //按主表的格式转换__tableValues加到

            tableFields.forEach(function (tablefield) {
              __tableValues[tablefield.code] = formulaTableValues.getEach(tablefield.code);
            });
            __values = Form_formula.mixin(__values, __tableValues);
          }
        } else if (type == 'user') {
          __values[field.code] = Form_formula.handerUserObject(WorkflowManager.getFormulaUserObjects(spaceId, autoFormDoc[field.code]));
        } else if (type == 'group') {
          __values[field.code] = Form_formula.handerOrgObject(WorkflowManager.getFormulaOrgObjects(autoFormDoc[field.code]));
        } else if (type == 'odata') {
          __values[field.code] = autoFormDoc[field.code] || {};
        } else {
          //此处传spaceId给选人控件的旧数据计算roles和organization
          __values[field.code] = autoFormDoc[field.code];
        }
      }
    }, this);
  } //当前处理人


  __values["approver"] = WorkflowManager.getFormulaUserObject(spaceId, approver); //申请人

  __values["applicant"] = WorkflowManager.getFormulaUserObject(spaceId, applicant);
  return __values;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_handlers_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/get_handlers_manager.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
getHandlersManager = {};

getHandlersManager.getHandlersByUsersAndRoles = function (user_ids, role_ids, space_id) {
  var approve_users;
  approve_users = new Array();

  _.each(user_ids, function (user_id) {
    var users;

    if (db.users.find({
      _id: user_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRoles(user_id, role_ids, space_id);

      if (users.length > 0) {
        return approve_users = approve_users.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "user_id不合法不合法");
    }
  });

  approve_users = _.uniq(approve_users);
  return approve_users;
};

getHandlersManager.getHandlersByUserAndRoles = function (user_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;

    if (db.flow_roles.find({
      _id: role_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRole(user_id, role_id, space_id);

      if (users.length > 0) {
        return user_ids = user_ids.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "role_id已经被删除");
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据user_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByUserAndRole = function (user_id, role_id, space_id) {
  var orgs, user_ids;
  orgs = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      _id: 1
    }
  }).fetch();
  user_ids = new Array();

  _.each(orgs, function (org) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org._id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgsAndRoles = function (org_ids, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(org_ids, function (org_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRoles(org_id, role_ids, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgAndRoles = function (org_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org_id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据org_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByOrgAndRole = function (org_id, role_id, space_id) {
  var org, parents, positions, user_ids;
  org = db.organizations.findOne({
    _id: org_id
  }, {
    fields: {
      parents: 1
    }
  });
  user_ids = new Array();
  positions = db.flow_positions.find({
    space: space_id,
    org: org_id,
    role: role_id
  }, {
    fields: {
      users: 1
    }
  }).fetch();

  _.each(positions, function (position) {
    return user_ids = user_ids.concat(position.users);
  });

  if (user_ids.length === 0) {
    parents = org.parents;

    _.each(parents, function (parent_id) {
      positions = db.flow_positions.find({
        space: space_id,
        org: parent_id,
        role: role_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();

      if (positions.length > 0) {
        return _.each(positions, function (position) {
          return user_ids = user_ids.concat(position.users);
        });
      }
    });
  }

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlers = function (instance_id, step_id) {
  var _approve, _space_user, _trace, applicant, applicantSuperiors, approveHrRoleIds, approve_users, approver_org_field, approver_org_ids, approver_step, approver_user_field, approver_user_ids, current, current_flow, current_flow_version, current_form, current_step, current_steps, deal_type, field_code, finished_traces, flow_id, flow_rev, form, form_fields, form_id, form_rev, handlers, instance, max_startDate_trace, new_approver_user_ids, new_org_user_ids, newest_values, next_step_users, org_ids, org_ids_names, org_user_ids, space_id, space_user_count, submitter, submitter_user_count, unfinished_trace, user_ids, user_ids_names, users, valid_approver_org_ids;

  instance = db.instances.findOne(instance_id);

  if (instance.step_approve && !_.isEmpty(instance.step_approve[step_id + "_options"])) {
    return instance.step_approve[step_id + "_options"];
  }

  approve_users = new Array();
  space_id = instance.space;
  flow_id = instance.flow;
  flow_rev = instance.flow_version;
  current_flow = db.flows.findOne(flow_id);
  current_step = null;
  current_steps = new Array();

  if (current_flow.current._id === flow_rev) {
    current_steps = current_flow.current.steps;
  } else {
    current = _.find(current_flow.historys, function (history) {
      return history._id === flow_rev;
    });
    current_steps = current.steps;
  }

  current_step = _.find(current_steps, function (step) {
    return step._id === step_id;
  });

  if (current_step.step_type === "condition") {
    unfinished_trace = _.find(instance.traces, function (trace) {
      return trace.is_finished === false;
    });
    return new Array(unfinished_trace.approves[0].user);
  }

  if (current_step.step_type === "start") {
    handlers = new Array();
    handlers.push(instance.applicant);
    handlers.push(instance.submitter);
    handlers = _.uniq(handlers);
    return handlers;
  }

  deal_type = current_step.deal_type;
  users = new Array();

  if (deal_type === "applicantRole") {
    applicant = instance.applicant;

    if (applicant) {
      space_user_count = db.space_users.find({
        space: space_id,
        user: applicant
      }).count();

      if (space_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
      }

      if (current_step.approver_roles && current_step.approver_roles.length > 0) {
        _.each(current_step.approver_roles, function (approver_role) {
          var role_count;
          role_count = db.flow_roles.find({
            _id: approver_role
          }).count();

          if (role_count === 0) {
            throw new Meteor.Error('error!', "角色已经被删除");
          }
        });

        return getHandlersManager.getHandlersByUserAndRoles(applicant, current_step.approver_roles, space_id);
      } else {
        throw new Meteor.Error('error!', "审批岗位未指定");
      }
    } else {
      throw new Meteor.Error('error!', "Instance的提交人为空");
    }
  } else if (deal_type === "hrRole") {
    approveHrRoleIds = current_step.approver_hr_roles;

    if (approveHrRoleIds) {
      return _.pluck(WorkflowManager.getHrRolesUsers(space_id, approveHrRoleIds), 'user');
    } else {
      throw new Meteor.Error('error!', "角色未指定");
    }
  } else if (deal_type === "applicant") {
    applicant = instance.applicant;
    space_user_count = db.space_users.find({
      space: space_id,
      user: applicant
    }).count();

    if (space_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
    } else {
      return new Array(applicant);
    }
  } else if (deal_type === "orgFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      return getHandlersManager.getHandlersByOrgsAndRoles(org_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "orgField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    user_ids = new Array();

    _.each(org_ids, function (org_id) {
      var check_orgs, org, org_children, org_users;
      org = db.organizations.findOne({
        _id: org_id
      }, {
        fields: {
          users: 1
        }
      });
      org_children = db.organizations.find({
        space: space_id,
        parents: org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      org_children.unshift(org);
      check_orgs = org_children;
      org_users = new Array();

      _.each(check_orgs, function (check_org_user) {
        if (check_org_user.users) {
          _.each(check_org_user.users, function (org_user) {
            if (db.space_users.find({
              space: space_id,
              user: org_user
            }).count() === 0) {
              throw new Meteor.Error('error!', "space下不存在此user");
            }
          });
        }

        user_ids = user_ids.concat(check_org_user.users);
        return org_users = org_users.concat(check_org_user.users);
      });

      if (org_users.length === 0) {
        throw new Meteor.Error('error!', "组织" + org_id + "不存在处理人");
      }
    });

    user_ids = _.uniq(user_ids);
    return user_ids;
  } else if (deal_type === "userFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    user_ids = _.uniq(user_ids);

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      return getHandlersManager.getHandlersByUsersAndRoles(user_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "userField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    user_ids = _.uniq(user_ids);
    return user_ids;
  } else if (deal_type === "specifyStepRole") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    if (current_step.approver_roles) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', "角色已经被删除");
        }
      });
    }

    _.each(approve_users, function (approve_user) {
      if (db.space_users.find({
        space: space_id,
        user: approve_user
      }).count() === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    return getHandlersManager.getHandlersByUsersAndRoles(approve_users, current_step.approver_roles, space_id);
  } else if (deal_type === "specifyStepUser") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    _.each(approve_users, function (approve_user) {
      var check_approve_user_count;
      check_approve_user_count = db.space_users.find({
        space: space_id,
        user: approve_user
      }).count();

      if (check_approve_user_count === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    approve_users = _.uniq(approve_users);
    return approve_users;
  } else if (deal_type === "submitterRole") {
    submitter = instance.submitter;

    if (!submitter) {
      submitter_user_count = db.space_users.find({
        space: space_id,
        user: submitter
      }).count();

      if (submitter_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
      } else {
        if (current_step.approver_roles && current_step.approver_roles.length > 0) {
          _.each(current_step.approver_roles, function (approver_role) {
            var role_count;
            role_count = db.flow_roles.find({
              _id: approver_role
            }).count();

            if (role_count === 0) {
              throw new Meteor.Error('error!', approver_role + "已经被删除");
            }
          });

          return getHandlersManager.getHandlersByUserAndRoles(submitter, current_step.approver_roles, space_id);
        } else {
          throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
        }
      }
    } else {
      throw new Meteor.Error('error!', "申请单的提交人为空");
    }
  } else if (deal_type === "submitter") {
    submitter = instance.submitter;
    submitter_user_count = db.space_users.find({
      space: space_id,
      user: submitter
    }).count();

    if (submitter_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
    } else {
      return new Array(submitter);
    }
  } else if (deal_type === "specifyOrg") {
    approver_org_ids = current_step.approver_orgs;

    if (!approver_org_ids || approver_org_ids.length === 0) {
      throw new Meteor.Error('error!', "未定义用于查找下一步处理人的部门，请联系管理员调查流程图的配置是否正确");
    }

    valid_approver_org_ids = new Array();

    _.each(approver_org_ids, function (approver_org_id) {
      if (db.organizations.find({
        _id: approver_org_id
      }).count() > 0) {
        return valid_approver_org_ids.unshift(approver_org_id);
      }
    });

    org_user_ids = new Array();

    _.each(valid_approver_org_ids, function (valid_approver_org_id) {
      var child_orgs, valid_approver_org;
      valid_approver_org = db.organizations.findOne({
        _id: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      });

      if (valid_approver_org.users) {
        org_user_ids = org_user_ids.concat(valid_approver_org.users);
      }

      child_orgs = db.organizations.find({
        space: space_id,
        parents: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      return _.each(child_orgs, function (child_org) {
        if (child_org.users) {
          return org_user_ids = org_user_ids.concat(child_org.users);
        }
      });
    });

    org_user_ids = _.uniq(org_user_ids);
    new_org_user_ids = new Array();

    _.each(org_user_ids, function (org_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: org_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_org_user_ids.push(org_user_id);
      }
    });

    return new_org_user_ids;
  } else if (deal_type === "specifyUser") {
    approver_user_ids = current_step.approver_users;
    approver_user_ids = _.uniq(approver_user_ids);
    new_approver_user_ids = new Array();

    _.each(approver_user_ids, function (approver_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: approver_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_approver_user_ids.push(approver_user_id);
      }
    });

    return new_approver_user_ids;
  } else if (deal_type === "pickupAtRuntime") {
    next_step_users = new Array();
    _trace = _.find(instance.traces, function (_tr) {
      return _tr.is_finished === false;
    });
    _approve = _.find(_trace.approves, function (_app) {
      return _app.is_finished === false && _app.type !== 'cc';
    });

    if (_approve.next_steps) {
      if (_approve.next_steps[0]["users"]) {
        next_step_users = _approve.next_steps[0]["users"];
      }
    }

    return next_step_users;
  } else if (deal_type === "applicantSuperior") {
    applicantSuperiors = new Array();
    _space_user = db.space_users.findOne({
      space: space_id,
      user: instance.applicant
    }, {
      fields: {
        manager: 1
      }
    });

    if (_space_user.manager) {
      applicantSuperiors.push(_space_user.manager);
    }

    return applicantSuperiors;
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"permission_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/permission_manager.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
permissionManager = {};

permissionManager.getFlowPermissions = function (flow_id, user_id) {
  var flow, my_permissions, org_ids, organizations, orgs_can_add, orgs_can_admin, orgs_can_monitor, space_id, users_can_add, users_can_admin, users_can_monitor;
  flow = uuflowManager.getFlow(flow_id);
  space_id = flow.space;
  org_ids = new Array();
  organizations = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      parents: 1
    }
  }).fetch();

  _.each(organizations, function (org) {
    org_ids.push(org._id);

    if (org.parents) {
      return _.each(org.parents, function (parent_id) {
        return org_ids.push(parent_id);
      });
    }
  });

  org_ids = _.uniq(org_ids);
  my_permissions = new Array();

  if (flow.perms) {
    if (flow.perms.users_can_add) {
      users_can_add = flow.perms.users_can_add;

      if (users_can_add.includes(user_id)) {
        my_permissions.push("add");
      }
    }

    if (flow.perms.orgs_can_add) {
      orgs_can_add = flow.perms.orgs_can_add;

      _.each(org_ids, function (org_id) {
        if (orgs_can_add.includes(org_id)) {
          return my_permissions.push("add");
        }
      });
    }

    if (flow.perms.users_can_monitor) {
      users_can_monitor = flow.perms.users_can_monitor;

      if (users_can_monitor.includes(user_id)) {
        my_permissions.push("monitor");
      }
    }

    if (flow.perms.orgs_can_monitor) {
      orgs_can_monitor = flow.perms.orgs_can_monitor;

      _.each(org_ids, function (org_id) {
        if (orgs_can_monitor.includes(org_id)) {
          return my_permissions.push("monitor");
        }
      });
    }

    if (flow.perms.users_can_admin) {
      users_can_admin = flow.perms.users_can_admin;

      if (users_can_admin.includes(user_id)) {
        my_permissions.push("admin");
      }
    }

    if (flow.perms.orgs_can_admin) {
      orgs_can_admin = flow.perms.orgs_can_admin;

      _.each(org_ids, function (org_id) {
        if (orgs_can_admin.includes(org_id)) {
          return my_permissions.push("admin");
        }
      });
    }
  }

  my_permissions = _.uniq(my_permissions);
  return my_permissions;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"approve_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/approve_manager.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
approveManager = {}; /*
                         对比approve_values与last_values 对象， 返回approve_values比last_values多出的或者改变的部分
                      */

approveManager.getChangeValues = function (last_values, approve_values) {
  var approve_values_keys, changeValues, last_values_keys;
  changeValues = {};
  last_values_keys = _.keys(last_values);
  approve_values_keys = _.keys(approve_values);
  approve_values_keys.forEach(function (key) {
    if (_.contains(last_values_keys, key)) {
      if (!_.isEqual(last_values[key], approve_values[key])) {
        return changeValues[key] = approve_values[key];
      }
    } else {
      if (approve_values[key] !== '') {
        return changeValues[key] = approve_values[key];
      }
    }
  });
  return changeValues;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/flow_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
flowManager = {};

flowManager.getCategoriesFlows = function (spaceId, categorieId, fields) {
  var categoriesForms;
  categoriesForms = formManager.getCategoriesForms(spaceId, categorieId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: categoriesForms.getProperty("_id")
    }
  });
};

flowManager.getUnCategoriesFlows = function (spaceId, fields) {
  var unCategoriesForms;
  unCategoriesForms = formManager.getUnCategoriesForms(spaceId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: unCategoriesForms.getProperty("_id")
    }
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"form_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/form_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
formManager = {};

formManager.getCategoriesForms = function (spaceId, categorieId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: categorieId,
    state: "enabled"
  }, _fields);
};

formManager.getUnCategoriesForms = function (spaceId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: {
      $in: [null, ""]
    },
    state: "enabled"
  }, _fields);
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"step_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/step_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
stepManager = {};

stepManager.allowBatch = function (step) {
  return step.allowBatch;
};

stepManager.getStep = function (instance, flow, step_id) {
  var flow_rev, isExistStep;
  flow_rev = instance.flow_version;
  isExistStep = null;

  if (flow.current._id === flow_rev) {
    isExistStep = _.find(flow.current.steps, function (step) {
      return step._id === step_id;
    });
  } else {
    _.each(flow.historys, function (history) {
      if (history._id === flow_rev) {
        return isExistStep = _.find(history.steps, function (step) {
          return step._id === step_id;
        });
      }
    });
  }

  if (!isExistStep) {
    throw new Meteor.Error('error!', "不能获取step");
  }

  return isExistStep;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_manager.coffee":function(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/instance_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval, logger;

_eval = require('eval');
InstanceManager = {};
logger = new Logger('Workflow -> InstanceManager');

InstanceManager.handlerInstanceByFieldMap = function (ins, field_map) {
  var context, e, flow, res, script;
  res = ins;

  if (ins) {
    if (!field_map) {
      flow = db.flows.findOne({
        _id: ins.flow
      }, {
        fields: {
          field_map: 1
        }
      });

      if (flow != null ? flow.field_map : void 0) {
        field_map = flow.field_map;
      }
    }

    if (field_map) {
      context = _.clone(ins);
      context._ = _;
      script = "var instances = " + field_map + "; exports.instances = instances";

      try {
        res = _eval(script, "handlerInstanceByFieldMap", context, false).instances;
      } catch (error) {
        e = error;
        res = {
          _error: e
        };
        logger.error(e);
      }
    }
  }

  return res;
};

InstanceManager.getCurrentApprove = function (instance, handler) {
  var currentApprove, currentApproves, currentTraces;

  if (!instance || !instance.traces || instance.traces.length < 1) {
    return;
  }

  currentTraces = instance.traces.filterProperty('is_finished', false);

  if (currentTraces.length) {
    currentApproves = currentTraces[0].approves.filterProperty('is_finished', false).filterProperty('handler', handler);
    currentApprove = currentApproves.length > 0 ? currentApproves[0] : null;
  }

  if (!currentApprove || currentApprove.type === 'cc') {
    _.each(instance.traces, function (t) {
      _.each(t.approves, function (a) {
        if (a.type === 'cc' && a.user === handler && a.is_finished === false) {
          currentApprove = a;
        }
      });
    });
  }

  if (!currentApprove) {
    return;
  }

  return currentApprove;
};

InstanceManager.getCurrentTrace = function (instance, traceId) {
  return instance.traces.findPropertyByPK("_id", traceId);
};

InstanceManager.getMyApprove = function (instanceId, userId) {
  var flow, instance, judge, my_approve, nextSteps, next_user_ids, step, step_type, trace;
  instance = db.instances.findOne({
    _id: instanceId
  });
  flow = uuflowManager.getFlow(instance.flow);
  my_approve = InstanceManager.getCurrentApprove(instance, userId);

  if (my_approve) {
    trace = InstanceManager.getCurrentTrace(instance, my_approve.trace);
    step = uuflowManager.getStep(instance, flow, trace.step);
    step_type = step.step_type;
    judge = step_type === "sign" ? "approved" : "";
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, judge);

    if (nextSteps.length === 1) {
      if (step_type === "sign" || step_type === "counterSign") {
        my_approve.judge = 'approved';
      }

      next_user_ids = getHandlersManager.getHandlers(instance._id, nextSteps[0]);

      if (!next_user_ids) {
        my_approve.next_steps = [{
          step: nextSteps[0],
          users: []
        }];
        return my_approve;
      }

      if (next_user_ids.length === 1) {
        my_approve.next_steps = [{
          step: nextSteps[0],
          users: next_user_ids
        }];
        return my_approve;
      }
    }
  }
};

InstanceManager.getBatchInstances = function (space, categoryId, flowIds, inbox_user) {
  var FIELDS, _batch_instances, categoryFlows, inbox_instances, query, unCategoryFlows;

  _batch_instances = new Array();
  query = {
    space: space,
    inbox_users: inbox_user
  };
  FIELDS = {
    name: 1,
    applicant_name: 1,
    submit_date: 1,
    flow_version: 1,
    "traces.step": 1,
    flow: 1,
    current_step_name: 1,
    flow_name: 1
  };

  if (categoryId) {
    if (categoryId === '-1') {
      unCategoryFlows = flowManager.getUnCategoriesFlows(space, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: unCategoryFlows
      };
    } else {
      categoryFlows = flowManager.getCategoriesFlows(space, categoryId, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: categoryFlows
      };
    }
  }

  if (flowIds) {
    query.flow = {
      $in: flowIds
    };
  }

  inbox_instances = db.instances.find(query, {
    fields: FIELDS,
    skip: 0,
    limit: 100
  });
  inbox_instances.forEach(function (ins) {
    var currentStep, currentStepId, flow, myApprove;
    currentStepId = _.last(ins.traces).step;
    flow = db.flows.findOne({
      _id: ins.flow
    });
    currentStep = stepManager.getStep(ins, flow, currentStepId);
    myApprove = InstanceManager.getMyApprove(ins._id, inbox_user);

    if (stepManager.allowBatch(currentStep) && myApprove) {
      delete ins.flow_version;
      delete ins.traces;
      delete ins.flow;
      ins.approve_start_date = myApprove.start_date;
      return _batch_instances.push(ins);
    }
  });
  return _batch_instances;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"publications":{"categories.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/categories.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('categories', function (spaceId) {
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.categories.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      space: 1,
      sort_no: 1,
      app: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/cfs_instances.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('cfs_instances', function (instanceIds) {
  check(instanceIds, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceIds) {
    return this.ready();
  }

  return cfs.instances.find({
    'metadata.instance': {
      $in: instanceIds
    },
    $or: [{
      'metadata.is_private': {
        $ne: true
      }
    }, {
      'metadata.is_private': true,
      "metadata.owner": this.userId
    }]
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_positions', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_positions.find({
    space: spaceId
  }, {
    fields: {
      role: 1,
      users: 1,
      org: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions_tabular.coffee                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publishComposite('flow_positions_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flow_positions.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (position) {
        this.unblock();
        return db.flow_roles.find({
          _id: position.role
        }, {
          fields: {
            name: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.organizations.find({
          _id: position.org
        }, {
          fields: {
            fullname: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.space_users.find({
          space: position.space,
          user: {
            $in: position.users
          }
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_roles.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_roles', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_roles.find({
    space: spaceId
  }, {
    fields: {
      name: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flows.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flows', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (db.flows.find({
    space: spaceId
  }).count() === 0) {
    db.spaces.createTemplateFormAndFlow(spaceId);
  }

  return db.flows.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      company_id: 1,
      sort_no: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1
    }
  });
});
Meteor.publish('flow_version', function (spaceId, flowId, versionId) {
  var getFlowVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFlowVersion = function (id, versionId) {
    var flow, flow_version;
    flow = db.flows.findOne({
      _id: id
    });

    if (flow) {
      flow_version = flow.current;
      flow_version.latest = true;

      if (flow_version._id !== versionId) {
        flow_version = flow.historys.findPropertyByPK("_id", versionId);
        flow_version.latest = false;
      }

      return flow_version;
    }
  };

  handle = db.flows.find({
    _id: flowId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("flow_versions", versionId, getFlowVersion(id, versionId));
    }
  });
  self.added("flow_versions", versionId, getFlowVersion(flowId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('distribute_optional_flows', function (flow_ids) {
  if (!this.userId) {
    return this.ready();
  }

  if (!flow_ids) {
    return this.ready();
  }

  return db.flows.find({
    _id: {
      $in: flow_ids
    }
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      distribute_end_notification: 1,
      company_id: 1
    }
  });
});
Meteor.publish('flow', function (spaceId, flowId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  return db.flows.find({
    _id: flowId,
    space: spaceId
  }, {
    fields: {
      print_template: 1,
      instance_template: 1,
      events: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      upload_after_being_distributed: 1,
      distribute_end_notification: 1,
      company_id: 1,
      allow_select_step: 1
    }
  });
});
Meteor.publish('flow_files', function (spaceId, flowId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  return cfs.files.find({
    'metadata.space': spaceId,
    'metadata.object_name': 'flows',
    'metadata.record_id': flowId
  });
});
Meteor.publishComposite('flows_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flows.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (flow) {
        this.unblock();
        return db.space_users.find({
          space: flow.space,
          user: flow.current.modified_by
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.forms.find({
          space: flow.space,
          _id: flow.form
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1,
            category: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.categories.find({
          space: flow.space
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forms.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/forms.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('forms', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.forms.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      category: 1,
      state: 1,
      description: 1,
      instance_style: 1
    }
  });
});
Meteor.publish('form_version', function (spaceId, formId, versionId) {
  var getFormVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!formId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFormVersion = function (id, versionId) {
    var form, form_version;
    form = db.forms.findOne({
      _id: id
    });

    if (!form) {
      return {};
    }

    form_version = form.current;
    form_version.latest = true;

    if (form_version._id !== versionId) {
      form_version = form.historys.findPropertyByPK("_id", versionId);
      form_version.latest = false;
    }

    return form_version;
  };

  handle = db.forms.find({
    _id: formId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("form_versions", versionId, getFormVersion(id, versionId));
    }
  });
  self.added("form_versions", versionId, getFormVersion(formId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_data.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_data.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instance_data', function (instanceId, box) {
  var getMiniInstance, getMyapproveModified, handle, instance, instance_fields_0, miniApproveFields, needChange, self, triggerChangeFields, triggerChangeFieldsValues;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  self = this;
  miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description', 'auto_submitted'];
  triggerChangeFields = ['form_version', 'flow_version', 'related_instances', '_my_approve_read_dates', 'values'];
  triggerChangeFieldsValues = {};
  instance_fields_0 = {
    "record_synced": 0,
    "traces.approves.handler_organization_name": 0,
    "traces.approves.handler_organization": 0,
    "traces.approves.cost_time": 0,
    "traces.approves.is_error": 0,
    "traces.approves.deadline": 0,
    "traces.approves.remind_date": 0,
    "traces.approves.reminded_count": 0,
    "traces.approves.modified_by": 0,
    "traces.approves.modified": 0,
    "traces.approves.geolocation": 0,
    "traces.approves.cc_users": 0,
    "traces.approves.from_approve_id": 0,
    "traces.approves.values_history": 0
  };

  getMyapproveModified = function (traces) {
    var myApproveModifieds;
    myApproveModifieds = new Array();

    if (traces != null) {
      traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.user === self.userId || approve.handler === self.userId) {
            return myApproveModifieds.push(approve.read_date);
          }
        }) : void 0 : void 0;
      });
    }

    return myApproveModifieds;
  };

  getMiniInstance = function (_instanceId) {
    var instance, ref, ref1, show_modal_traces_list, traces;
    instance = db.instances.findOne({
      _id: _instanceId
    }, {
      fields: instance_fields_0
    });

    if (instance) {
      triggerChangeFields.forEach(function (key) {
        if (key === '_my_approve_read_dates') {
          return triggerChangeFieldsValues[key] = getMyapproveModified(instance.traces);
        } else {
          return triggerChangeFieldsValues[key] = instance[key];
        }
      });
      show_modal_traces_list = ((ref = db.space_settings.findOne({
        space: instance.space,
        key: "show_modal_traces_list"
      }, {
        fields: {
          values: 1
        }
      })) != null ? ref.values : void 0) || false;

      if (show_modal_traces_list) {
        traces = new Array();

        if (instance != null) {
          if ((ref1 = instance.traces) != null) {
            ref1.forEach(function (trace) {
              var _trace, approves, ref2;

              _trace = _.clone(trace);
              approves = new Array();

              if (trace != null) {
                if ((ref2 = trace.approves) != null) {
                  ref2.forEach(function (approve) {
                    if (approve.type !== 'cc' || approve.user === self.userId || approve.handler === self.userId || !_.isEmpty(approve.sign_field_code)) {
                      return approves.push(approve);
                    }
                  });
                }
              }

              _trace.approves = approves;
              return traces.push(_trace);
            });
          }
        }

        instance.traces = traces;
      }
    }

    return instance;
  };

  needChange = function (changeFields) {
    var _change, _rev;

    if (changeFields) {
      _change = false;
      _rev = _.find(triggerChangeFields, function (key) {
        var _key, _my_approve_modifieds;

        _key = key;

        if (key === '_my_approve_read_dates') {
          _key = 'traces';
        }

        if (_.has(changeFields, _key)) {
          if (key === '_my_approve_read_dates') {
            _my_approve_modifieds = getMyapproveModified(changeFields.traces);
            return !_.isEqual(triggerChangeFieldsValues[key], _my_approve_modifieds);
          } else {
            return !_.isEqual(triggerChangeFieldsValues[key], changeFields[key]);
          }
        }
      });

      if (_rev) {
        _change = true;
      }

      return _change;
    }

    return true;
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id, fields) {
      if (box !== 'inbox' || needChange(fields)) {
        return self.changed("instances", id, getMiniInstance(id));
      }
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  instance = getMiniInstance(instanceId);
  self.added("instances", instance != null ? instance._id : void 0, instance);
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('instance_traces', function (instanceId) {
  var getInstanceTraces, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  self = this;

  getInstanceTraces = function (_insId) {
    return db.instances.findOne({
      _id: _insId
    }, {
      fields: {
        _id: 1,
        traces: 1
      }
    });
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id) {
      return self.changed("instance_traces", instanceId, getInstanceTraces(instanceId));
    }
  });
  self.added("instance_traces", instanceId, getInstanceTraces(instanceId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_list.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_list.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_list', function (spaceId, box, flowId) {
  var query;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  query = {
    space: spaceId
  };

  if (box === "inbox") {
    query.inbox_users = this.userId;
  } else if (box === "outbox") {
    query.outbox_users = this.userId;
  } else if (box === "draft") {
    query.submitter = this.userId;
    query.state = "draft";
  } else if (box === "pending") {
    query.submitter = this.userId;
    query.state = "pending";
  } else if (box === "completed") {
    query.submitter = this.userId;
    query.state = "completed";
  } else if (box === "monitor") {
    query.flow = flowId;
    query.state = {
      $in: ["pending", "completed"]
    };
  } else {
    query.state = "none";
  }

  return db.instances.find(query, {
    fields: {
      name: 1,
      created: 1,
      form: 1,
      flow: 1,
      space: 1,
      modified: 1,
      applicant: 1,
      is_archived: 1,
      form_version: 1,
      flow_version: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_tabular.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var asyncLastFinishedApprove, lastFinishedApproveAggregate;

lastFinishedApproveAggregate = function (instanceid, userId, dataMap, callback) {
  var operation;
  operation = [{
    "$match": {
      "_id": instanceid
    }
  }, {
    "$project": {
      "name": 1,
      "_approve": "$traces.approves"
    }
  }, {
    "$unwind": "$_approve"
  }, {
    "$unwind": "$_approve"
  }, {
    "$match": {
      "_approve.is_finished": true,
      $or: [{
        "_approve.handler": userId
      }, {
        "_approve.user": userId
      }]
    }
  }, {
    "$group": {
      "_id": "$_id",
      "finish_date": {
        "$last": "$_approve.finish_date"
      }
    }
  }];
  return db.instances.rawCollection().aggregate(operation).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return dataMap.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

asyncLastFinishedApprove = Meteor.wrapAsync(lastFinishedApproveAggregate);
Meteor.publish("instance_tabular", function (tableName, ids, fields) {
  var getMyApprove, getMyLastFinishedApprove, getStepCurrentName, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));
  fields.cc_users = 1;
  self = this;

  getMyLastFinishedApprove = function (userId, instanceId) {
    var data;
    data = [];
    asyncLastFinishedApprove(instanceId, userId, data);

    if (data.length > 0) {
      return data[0];
    }
  };

  getMyApprove = function (userId, instanceId) {
    var approve, approves, instance, is_read, myApprove, notFinishedTraces;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        traces: 1
      }
    });
    myApprove = null;

    if (!instance) {
      return;
    }

    if (!instance.traces || instance.traces.length < 1) {
      return;
    }

    notFinishedTraces = instance.traces.filterProperty("is_finished", false);

    if (notFinishedTraces.length > 0) {
      approves = notFinishedTraces[0].approves.filterProperty("is_finished", false).filterProperty("handler", userId);

      if (approves.length > 0) {
        approve = approves[0];
        myApprove = {
          id: approve._id,
          instance: approve.instance,
          trace: approve.trace,
          is_read: approve.is_read,
          start_date: approve.start_date,
          agent: approve.agent,
          user_name: approve.user_name
        };
      }
    }

    if (!myApprove) {
      is_read = false;
      instance.traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.type === 'cc' && approve.user === userId && approve.is_finished === false) {
            if (approve.is_read) {
              is_read = true;
            }

            return myApprove = {
              id: approve._id,
              is_read: is_read,
              start_date: approve.start_date,
              agent: approve.agent,
              user_name: approve.user_name
            };
          }
        }) : void 0 : void 0;
      });
    }

    return myApprove;
  };

  getStepCurrentName = function (instanceId) {
    var instance, ref, ref1, stepCurrentName;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        "traces.name": 1,
        "traces": {
          $slice: -1
        }
      }
    });

    if (instance) {
      stepCurrentName = (ref = instance.traces) != null ? (ref1 = ref[0]) != null ? ref1.name : void 0 : void 0;
    }

    return stepCurrentName;
  };

  handle = db.instances.find({
    _id: {
      $in: ids
    }
  }, {
    fields: {
      traces: 0
    }
  }).observeChanges({
    changed: function (id) {
      var error, instance, myApprove, myLastFinishedApprove, ref, ref1;
      instance = db.instances.findOne({
        _id: id
      }, {
        fields: fields
      });

      if (!instance) {
        return;
      }

      myApprove = getMyApprove(self.userId, id);
      myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

      if (myApprove) {
        instance.is_read = myApprove.is_read;
        instance.start_date = myApprove.start_date;

        if (myApprove.agent) {
          instance.agent_user_name = myApprove.user_name;
        }
      } else {
        instance.is_read = true;
      }

      if (myLastFinishedApprove) {
        instance.my_finish_date = myLastFinishedApprove.finish_date;
      }

      instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
      instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
      delete instance.cc_users;

      try {
        return self.changed("instances", id, instance);
      } catch (error1) {
        error = error1;
        console.log('instance observeChanges error: ', error.message);
        console.log('self.userId: ', self.userId);
        console.log('tableName: ', tableName);
        console.log('ids: ', JSON.stringify(ids));
        return console.log('myApprove: ', JSON.stringify(myApprove));
      }
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  ids.forEach(function (id) {
    var instance, myApprove, myLastFinishedApprove, ref, ref1;
    instance = db.instances.findOne({
      _id: id
    }, {
      fields: fields
    });

    if (!instance) {
      return;
    }

    myApprove = getMyApprove(self.userId, id);
    myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

    if (myApprove) {
      instance.is_read = myApprove.is_read;
      instance.start_date = myApprove.start_date;

      if (myApprove.agent) {
        instance.agent_user_name = myApprove.user_name;
      }
    } else {
      instance.is_read = true;
    }

    if (myLastFinishedApprove) {
      instance.my_finish_date = myLastFinishedApprove.finish_date;
    }

    instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
    instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
    delete instance.cc_users;
    return self.added("instances", id, instance);
  });
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_draft.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_draft', function (spaceId) {
  var userId;
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  userId = this.userId;
  return db.instances.find({
    state: "draft",
    space: spaceId,
    submitter: userId,
    $or: [{
      inbox_users: {
        $exists: false
      }
    }, {
      inbox_users: []
    }]
  }, {
    fields: {
      _id: 1,
      state: 1,
      space: 1,
      submitter: 1,
      inbox_users: 1,
      modified: 1,
      name: 1
    },
    sort: {
      modified: -1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distributed_instances_state_by_ids.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/distributed_instances_state_by_ids.coffee                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('distributed_instances_state_by_ids', function (instance_ids) {
  var handle, self;
  check(instance_ids, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instance_ids) {
    return this.ready();
  }

  if (_.isEmpty(instance_ids)) {
    return this.ready();
  }

  self = this;
  handle = db.instances.find({
    _id: {
      $in: instance_ids
    }
  }, {
    fields: {
      state: 1,
      traces: {
        $slice: 1
      }
    }
  }).observeChanges({
    added: function (id, fields) {
      return self.added('instances', id, {
        state: fields.state,
        is_read: fields.traces[0].approves[0].is_read
      });
    },
    changed: function (id, fields) {
      if (fields.state) {
        self.changed('instances', id, {
          state: fields.state
        });
      }

      if (fields.traces) {
        return self.changed('instances', id, {
          is_read: fields.traces[0].approves[0].is_read
        });
      }
    }
  });
  this.ready();
  return this.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instaces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/related_instaces.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('related_instaces', function (instanceId, related_instances) {
  var ref, related_instance_ids;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  related_instance_ids = (ref = db.instances.findOne(instanceId, {
    fields: {
      related_instances: 1
    }
  })) != null ? ref.related_instances : void 0;

  if (related_instance_ids && _.isArray(related_instance_ids)) {
    return db.instances.find({
      _id: {
        $in: related_instance_ids
      }
    }, {
      fields: {
        _id: 1,
        name: 1,
        space: 1
      }
    });
  } else {
    return this.ready();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/space_user_signs.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (Meteor.isServer) {
  Meteor.publish('space_user_signs', function (spaceId) {
    check(spaceId, String);

    if (!this.userId) {
      return this.ready();
    }

    return db.space_user_signs.find({
      space: spaceId
    }, {
      fields: {
        created_by: 0,
        created: 0,
        modified_by: 0
      }
    });
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"user_inbox_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/user_inbox_instance.coffee                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Meteor.publishComposite "user_inbox_instance", ()->
	unless this.userId
		return this.ready()

	userSpaceIds = db.space_users.find({
		user: this.userId,
		user_accepted: true
	}, {fields: {space: 1}}).fetch().getEach("space");
	query = {space: {$in: userSpaceIds}}

	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]

	find: ->
		db.instances.find(query, {
			fields: {
				space: 1,
				applicant_name: 1,
				flow: 1,
				inbox_users: 1,
				cc_users: 1,
				state: 1,
				name: 1,
				modified: 1,
				form: 1
			}, sort: {modified: -1}, skip: 0, limit: 200
		});
	children: [
		{
			find: (instance, post)->
				db.flows.find({_id: instance.flow}, {fields: {name: 1, space: 1}});
		}
	]
 */ /*
    Meteor.publish 'my_inbox_instances', (spaceId)->
    	unless this.userId
    		return this.ready()
    
    	self = this;
    
    	 *	userSpaceIds = db.space_users.find({
    	 *		user: this.userId,
    	 *		user_accepted: true
    	 *	}, {fields: {space: 1}}).fetch().getEach("space");
    
    	query = {space: spaceId}
    
    	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]
    
    	fields = {
    		space: 1,
     *		applicant_name: 1,
    		flow: 1,
    		inbox_users: 1,
    		cc_users: 1,
    		state: 1,
     *		name: 1,
     *		modified: 1,
    		form: 1
    	}
    
    	handle = db.instances.find(query, {sort: {modified: -1}, skip: 0, limit: 500}).observeChanges {
    		added: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.added("instances", id, instance)
    		changed: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.changed("instances", id, instance);
    		removed: (id)->
    			self.removed("instances", id);
    	}
    
    	self.ready();
    	self.onStop ()->
    		handle.stop()
     */var _async_get_flow_instances_aggregate, _get_flow_instances_aggregate;

_get_flow_instances_aggregate = function (spaceId, userId, _items, callback) {
  return db.instances.rawCollection().aggregate([{
    $match: {
      space: spaceId,
      $or: [{
        inbox_users: userId
      }, {
        cc_users: userId
      }]
    }
  }, {
    $group: {
      _id: {
        flow: "$flow",
        category: "$category"
      },
      count: {
        $sum: 1
      }
    }
  }]).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return _items.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

_async_get_flow_instances_aggregate = Meteor.wrapAsync(_get_flow_instances_aggregate);
Meteor.publish('my_inbox_flow_instances_count', function (spaceId) {
  var _changeData, _flowsData, _init, data, handle, query, self;

  if (!this.userId) {
    return this.ready();
  }

  self = this;
  query = {
    space: spaceId
  };
  query.$or = [{
    inbox_users: this.userId
  }, {
    cc_users: this.userId
  }];
  data = [];

  _async_get_flow_instances_aggregate(spaceId, self.userId, data);

  _flowsData = [];

  _.each(data, function (dataItem) {
    return _flowsData.push({
      _id: dataItem._id.flow,
      category: dataItem._id.category,
      count: dataItem.count
    });
  });

  self.added("flow_instances", spaceId, {
    flows: _flowsData
  });

  _changeData = function (doc, action) {
    var flow_instance;
    flow_instance = _.find(_flowsData, function (f) {
      return f._id === doc.flow;
    });

    if (flow_instance) {
      if (action === "added") {
        flow_instance.count++;
      } else if (action === "removed") {
        flow_instance.count--;
      }
    } else if (action === "added") {
      _flowsData.push({
        _id: doc.flow,
        category: doc.category,
        count: 1
      });
    }

    return self.changed("flow_instances", spaceId, {
      flows: _flowsData
    });
  };

  _init = true;
  handle = db.instances.find(query, {
    fields: {
      _id: 1,
      inbox_users: 1,
      cc_users: 1,
      flow: 1,
      category: 1
    }
  }).observe({
    added: function (doc) {
      if (!_init) {
        return _changeData(doc, "added");
      }
    },
    removed: function (doc) {
      if (!_init) {
        return _changeData(doc, "removed");
      }
    }
  });
  _init = false;
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_main_attach_template.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_main_attach_template.coffee                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_main_attach_template', function (spaceId, flowId) {
  check(spaceId, String);
  check(flowId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!(spaceId && flowId)) {
    return this.ready();
  }

  return Creator.getCollection('cms_files').find({
    space: spaceId,
    'parent.o': 'flows',
    'parent.ids': flowId,
    name: '正文.docx'
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"flow-template":{"workflow_template.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/flow-template/workflow_template.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
workflowTemplate = {};
workflowTemplate["en"] = [];
workflowTemplate["zh-CN"] = [];
Meteor.startup(function () {
  var absolute_path_cn, absolute_path_us, filesList_cn, filesList_us, fs, mime, path, path_cn, path_us, readFileList, ref, ref1;
  fs = require('fs');
  path = require('path');
  mime = require('mime');

  readFileList = function (pathDir, filesList) {
    var files;
    files = fs.readdirSync(pathDir);
    return files.forEach(function (name, index) {
      var obj, stat;
      stat = fs.statSync(path.join(pathDir, name));

      if (stat.isDirectory()) {
        return readFileList(path.join(pathDir, name), filesList);
      } else {
        obj = {};
        obj.path = pathDir;
        obj.name = name;
        return filesList.push(obj);
      }
    });
  };

  filesList_cn = [];
  path_cn = (ref = Meteor.settings.workflowTemplates) != null ? ref.path_cn : void 0;

  if (path_cn) {
    absolute_path_cn = path.resolve(path_cn);
    console.log("absolute_path_cn", absolute_path_cn);

    if (fs.existsSync(absolute_path_cn)) {
      readFileList(absolute_path_cn, filesList_cn);
      filesList_cn.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["zh-CN"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取zh-cn文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }

  filesList_us = [];
  path_us = (ref1 = Meteor.settings.workflowTemplates) != null ? ref1.path_us : void 0;

  if (path_us) {
    absolute_path_us = path.resolve(path_us);
    console.log("absolute_path_us", absolute_path_us);

    if (fs.existsSync(absolute_path_us)) {
      readFileList(absolute_path_us, filesList_us);
      return filesList_us.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["en"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取en-us文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"startup.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/startup.coffee                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"schedule":{"auto_finish_process_delegation.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/auto_finish_process_delegation.coffee                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.auto_finish_process_delegation : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.auto_finish_process_delegation;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e, now;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('auto_finish_process_delegation');
        now = new Date();
        db.process_delegation_rules.update({
          enabled: true,
          end_time: {
            $lte: now
          }
        }, {
          $set: {
            enabled: false
          }
        }, {
          multi: true
        });
        console.timeEnd('auto_finish_process_delegation');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO AUTO_FINISH_PROCESS_DELEGATION ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function (e) {
      console.log('Failed to bind environment: auto_finish_process_delegation.coffee');
      return console.log(e.stack);
    }));
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"timeout_auto_submit.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/timeout_auto_submit.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.timeout_auto_submit : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.timeout_auto_submit;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('timeout_auto_submit');
        uuflowManager.timeoutAutoSubmit();
        console.timeEnd('timeout_auto_submit');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO TIMEOUT_AUTO_SUBMIT ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function (e) {
      console.log('Failed to bind environment: timeout_auto_submit.coffee');
      return console.log(e.stack);
    }));
  }
});
Meteor.methods({
  timeout_auto_submit: function (ins_id) {
    uuflowManager.timeoutAutoSubmit(ins_id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"related_instances_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/related_instances_tabular.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return TabularTables.related_instances_tabular = new Tabular.Table({
    name: "related_instances_tabular",
    collection: db.instances,
    columns: [{
      data: "_id",
      title: '<input type="checkbox" name="reverse" id="reverse">',
      orderable: false,
      width: '1px',
      render: function (val, type, doc) {
        var input, ref;
        input = '<input type="checkbox" class="related-instances-list-checkbox" name="related_instances_ids" id="related_instances_ids" value="' + doc._id + '"';

        if ((ref = TabularTables.related_instances_tabular.related_instances) != null ? ref.includes(doc._id) : void 0) {
          input += " checked ";
        }

        input += ">";
        return input;
      }
    }, {
      data: "name",
      orderable: false,
      width: '45%',
      render: function (val, type, doc) {
        var absolute, href;
        href = '';

        if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
          href = '';
        }

        absolute = false;

        if (Meteor.isServer) {
          absolute = this.absolute;
        }

        if (absolute) {
          href = Meteor.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        } else {
          href = Steedos.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        }

        return "<a data-id='" + doc._id + "' target='_blank' href='" + href + "'>" + doc.name + "</a>";
      }
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      orderable: false
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_flow"),
      render: function (val, type, doc) {
        var judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + "</div>";
      }
    }],
    dom: "tp",
    lengthChange: false,
    extraFields: ["state", "final_decision", "space", "keywords"],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var curSpaceUser, flow_ids, flows, organizations, ref, ref1, space, spaceId;

      if (!userId) {
        return {
          _id: -1
        };
      }

      spaceId = selector.space;

      if (!spaceId) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          spaceId = selector.$and.getProperty('space')[0];
        }
      }

      if (!spaceId) {
        return {
          _id: -1
        };
      }

      space = db.spaces.findOne(spaceId);

      if (!space) {
        selector.state = "none";
      }

      if (!space.admins.includes(userId)) {
        flow_ids = [];
        curSpaceUser = db.space_users.findOne({
          space: spaceId,
          'user': userId
        });

        if (curSpaceUser) {
          organizations = db.organizations.find({
            _id: {
              $in: curSpaceUser.organizations
            }
          }).fetch();
          flows = db.flows.find({
            space: spaceId
          });
          flows.forEach(function (fl) {
            if (WorkflowManager.canMonitor(fl, curSpaceUser, organizations) || WorkflowManager.canAdmin(fl, curSpaceUser, organizations)) {
              return flow_ids.push(fl._id);
            }
          });
        }

        if ((selector != null ? (ref1 = selector.$and) != null ? ref1.length : void 0 : void 0) > 0) {
          selector.$and[0].$or = [{
            submitter: userId
          }, {
            applicant: userId
          }, {
            inbox_users: userId
          }, {
            outbox_users: userId
          }, {
            cc_users: userId
          }, {
            flow: {
              $in: flow_ids
            }
          }];
        } else {
          _.extend(selector, {
            $or: [{
              submitter: userId
            }, {
              applicant: userId
            }, {
              inbox_users: userId
            }, {
              outbox_users: userId
            }, {
              cc_users: userId
            }, {
              flow: {
                $in: flow_ids
              }
            }]
          });
        }
      }

      return selector;
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/tabular.coffee                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var GetBoxInstancesTabularOptions, _get_inbox_instances_tabular_options, _get_outbox_instances_tabular_options, _handleListFields, instancesListTableTabular, newInstancesListTabular, updateTabularTitle;

Steedos.subs["InstanceTabular"] = new SubsManager();

_handleListFields = function (fields) {
  var ins_fields;
  ins_fields = new Array();

  if (fields != null) {
    fields.forEach(function (f) {
      var ref;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
          return ins_fields.push(f1);
        }) : void 0 : void 0;
      } else {
        return ins_fields.push(f);
      }
    });
  }

  return ins_fields;
};

updateTabularTitle = function () {};

instancesListTableTabular = function (flowId, fields) {
  var ins_fields, key, options;
  options = {
    name: "instances",
    collection: db.instances,
    pub: "instance_tabular",
    onUnload: function () {
      return Meteor.setTimeout(Template.instance_list._tableColumns, 150);
    },
    drawCallback: function (settings) {
      var ellipsisLink, emptyTd, title;
      emptyTd = $(".dataTables_empty");

      if (emptyTd.length) {
        emptyTd[0].colSpan = "6";
      }

      if (!Steedos.isMobile() && !Steedos.isPad()) {
        Meteor.setTimeout(Template.instance_list._tableColumns, 150);
        $(".instance-list").scrollTop(0).ready(function () {
          return $(".instance-list").perfectScrollbar("update");
        });
      } else {
        $(".instance-list").scrollTop(0);
      }

      title = t("pager_input_hint");
      ellipsisLink = settings.oInstance.parent().find('.paging_numbers .pagination .disabled a');
      return ellipsisLink.attr("title", title).css("cursor", "pointer").click(function () {
        var goPage, input;

        if (!$(this).find('input').length) {
          input = $('<input class="paginate_input form-control input-sm" type="text" style="border: none; padding:0 2px;"/>');

          if (Steedos.isMobile()) {
            input.css({
              width: "52px",
              height: "20px"
            });
          } else {
            input.css({
              width: "52px",
              height: "16px"
            });
          }

          input.attr("title", title).attr("placeholder", title);
          $(this).empty().append(input);

          goPage = function (index) {
            var pages;

            if (index > 0) {
              pages = Math.ceil(settings.fnRecordsDisplay() / settings._iDisplayLength);

              if (index > pages) {
                index = pages;
              }

              index--;
              return settings.oInstance.DataTable().page(index).draw('page');
            }
          };

          input.blur(function (e) {
            var currentPage;
            currentPage = $(this).val();
            goPage(currentPage);
            return $(this).parent().html('...');
          });
          return input.keydown(function (e) {
            var currentPage;

            if (e.keyCode.toString() === "13") {
              currentPage = $(this).val();
              return goPage(currentPage);
            }
          });
        }
      });
    },
    createdRow: function (row, data, dataIndex) {
      if (Meteor.isClient) {
        if (data._id === FlowRouter.current().params.instanceId) {
          return row.setAttribute("class", "selected");
        }
      }
    },
    columns: [{
      data: "_id",
      orderable: false,
      render: function (val, type, doc) {
        var agent_view, cc_view, flow_name, instanceNamePriorityClass, isFavoriteSelected, modified, modifiedFromNow, modifiedString, priorityIcon, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        modifiedString = moment(doc.modified).format('YYYY-MM-DD');
        modified = doc.modified;

        if (Session.get("box") === 'inbox' && doc.state !== 'draft') {
          modified = doc.start_date || doc.modified;
        }

        if (Session.get("box") === 'outbox' || Session.get("box") === 'monitor') {
          modified = doc.submit_date || doc.submit_date;
        }

        modifiedFromNow = Steedos.momentReactiveFromNow(modified);
        flow_name = doc.flow_name;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
          step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
        } else {
          if (Session.get("box") !== 'draft' && doc.current_step_name) {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
          } else {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "</div>";
          }
        }

        agent_view = "";

        if (doc.agent_user_name && Session.get("box") === 'inbox') {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';
        isFavoriteSelected = Favorites.isRecordSelected("instances", doc._id);

        if (Favorites.isRecordSelected("instances", doc._id)) {
          unread = '<i class="ion ion-ios-star-outline instance-favorite-selected"></i>';
        } else if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIcon = "";
        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "\n	<span>" + doc.applicant_name + "</span>\n</div>\n<div class='instance-detail'>" + step_current_name_view + "\n	<span class='instance-modified' title='" + modifiedString + "'>" + modifiedFromNow + "</span>\n</div>";
      }
    }, {
      data: "applicant_organization_name",
      title: t("instances_applicant_organization_name"),
      visible: false
    }, {
      data: "name",
      title: t("instances_name"),
      render: function (val, type, doc) {
        var agent_view, cc_view, instanceNamePriorityClass, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
        }

        agent_view = "";

        if (doc.agent_user_name) {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      visible: false,
      orderable: false
    }, {
      data: "submit_date",
      title: t("instances_submit_date"),
      render: function (val, type, doc) {
        if (doc.submit_date) {
          return moment(doc.submit_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      visible: false,
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_step_current_name"),
      render: function (val, type, doc) {
        var cc_tag, judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        cc_tag = '';

        if (doc.cc_count > 0) {
          cc_tag = TAPi18n.__('cc_tag');
        }

        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + cc_tag + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "modified",
      title: t("instances_modified"),
      render: function (val, type, doc) {
        return moment(doc.modified).format('YYYY-MM-DD HH:mm');
      },
      visible: false,
      orderable: true
    }, {
      data: "start_date",
      title: t("instances_start_date"),
      render: function (val, type, doc) {
        if (doc.start_date) {
          return moment(doc.start_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "my_finish_date",
      render: function (val, type, doc) {
        if (doc.my_finish_date) {
          return moment(doc.my_finish_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "modified",
      visible: false
    }, {
      data: "keywords",
      visible: false
    }, {
      data: "is_archived",
      render: function (val, type, doc) {
        var ref;

        if ((doc != null ? (ref = doc.values) != null ? ref.record_need : void 0 : void 0) && doc.values.record_need === "true") {
          if (doc != null ? doc.is_archived : void 0) {
            return t("YES");
          }

          return t("NO");
        }
      },
      visible: false,
      orderable: false
    }],
    dom: function () {
      if (Steedos.isMobile()) {
        return 'tp';
      } else {
        return 'tpl';
      }
    }(),
    order: [[4, "desc"]],
    extraFields: ["form", "flow", "inbox_users", "state", "space", "applicant", "form_version", "flow_version", "is_cc", "cc_count", "is_read", "current_step_name", "values", "keywords", "final_decision", "flow_name", "is_hidden", "agent_user_name"],
    lengthChange: true,
    lengthMenu: [10, 15, 20, 25, 50, 100],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var ref, space, space_user;

      if (!userId) {
        return {
          _id: -1
        };
      }

      space = selector.space;

      if (!space) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          space = selector.$and.getProperty('space')[0];
        }
      }

      if (!space) {
        return {
          _id: -1
        };
      }

      space_user = db.space_users.findOne({
        user: userId,
        space: space
      }, {
        fields: {
          _id: 1
        }
      });

      if (!space_user) {
        return {
          _id: -1
        };
      }

      return selector;
    },
    pagingType: "numbers"
  };

  if (flowId) {
    key = "instanceFlow" + flowId;
    options.name = key;
    TabularTables.instances.fields = fields;
    ins_fields = _handleListFields(TabularTables.instances.fields);
    ins_fields.forEach(function (f) {
      if (f.type !== 'table' && f.is_list_display) {
        return options.columns.push({
          data: f.name || f.code,
          title: t(f.name || f.code),
          visible: false,
          orderable: false,
          render: function (val, type, doc) {
            var value, values;
            values = doc.values || {};
            value = values[f.code];

            switch (f.type) {
              case 'user':
                value = value != null ? value.name : void 0;
                break;

              case 'group':
                value = value != null ? value.fullname : void 0;
                break;

              case 'date':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD');
                }

                break;

              case 'dateTime':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD HH:mm');
                }

                break;

              case 'checkbox':
                if (value === true || value === 'true') {
                  value = TAPi18n.__("form_field_checkbox_yes");
                } else {
                  value = TAPi18n.__("form_field_checkbox_no");
                }

                break;

              case 'odata':
                if (value) {
                  if (_.isArray(value)) {
                    value = _.pluck(value, '@label').toString();
                  } else {
                    value = value['@label'];
                  }
                }

            }

            return value;
          }
        });
      }
    });
  }

  return options;
};

Meteor.startup(function () {
  return TabularTables.instances = new Tabular.Table(instancesListTableTabular());
});

GetBoxInstancesTabularOptions = function (box, flowId, fields) {
  var key, options;
  key = "instanceFlow" + box + flowId;

  if (box === "inbox") {
    options = _get_inbox_instances_tabular_options(flowId, fields);
  } else if (box === "outbox") {
    options = _get_outbox_instances_tabular_options(flowId, fields);
  } else {
    options = instancesListTableTabular(flowId, fields);

    if (!flowId) {
      options.name = "inbox_instances";
    }
  }

  if (flowId) {
    options.name = key;
  }

  return options;
};

_get_inbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "inbox_instances";
  }

  options.order = [[8, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': false,
        '_approve.handler': userId
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'start_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_start_date": {
              $first: "$_approve.start_date"
            }
          }
        });
        ag_sort = {
          'approve_start_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.inbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("inbox"));
});

_get_outbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "outbox_instances";
  }

  options.order = [[9, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': true,
        $or: [{
          '_approve.handler': userId
        }, {
          '_approve.user': userId
        }]
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'my_finish_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_finish_date": {
              $last: "$_approve.finish_date"
            }
          }
        });
        ag_sort = {
          'approve_finish_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.outbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("outbox"));
});

if (Meteor.isClient) {
  TabularTables.flowInstances = new ReactiveVar();
}

Meteor.startup(function () {
  return Tracker.autorun(function (c) {
    if (Meteor.isClient && !Steedos.isMobile()) {
      if (Session.get("flowId") && Session.get("box") !== 'draft') {
        return Meteor.call("newInstancesListTabular", Session.get("box"), Session.get("flowId"), function (error, result) {
          newInstancesListTabular(Session.get("box"), Session.get("flowId"), result);
          return Template.instance_list._changeOrder();
        });
      }
    }
  });
});

newInstancesListTabular = function (box, flowId, fields) {
  var flow, key, ref, ref1, ref2;

  if (!fields) {
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        form: 1
      }
    });
    fields = (ref = db.forms.findOne({
      _id: flow != null ? flow.form : void 0
    }, {
      fields: {
        'current.fields': 1
      }
    })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
  }

  fields = _handleListFields(fields);

  if ((fields != null ? (ref2 = fields.filterProperty("is_list_display", true)) != null ? ref2.length : void 0 : void 0) > 0) {
    key = "instanceFlow" + box + flowId;

    if (Meteor.isClient) {
      TabularTables.flowInstances.set(new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields)));
    } else {
      new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields));
    }

    return console.log("new TabularTables ", key);
  }
};

if (Meteor.isServer) {
  Meteor.methods({
    newInstancesListTabular: function (box, flowId) {
      var fields, flow, ref, ref1;
      newInstancesListTabular(box, flowId);
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          form: 1
        }
      });
      fields = (ref = db.forms.findOne({
        _id: flow != null ? flow.form : void 0
      }, {
        fields: {
          'current.fields': 1
        }
      })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
      return fields;
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}}},{
  "extensions": [
    ".js",
    ".json",
    ".coffee"
  ]
});

require("/node_modules/meteor/steedos:workflow/checkNpm.js");
require("/node_modules/meteor/steedos:workflow/lib/URI.js");
require("/node_modules/meteor/steedos:workflow/lib/collection_helpers.js");
require("/node_modules/meteor/steedos:workflow/lib/tapi18n.coffee");
require("/node_modules/meteor/steedos:workflow/lib/core.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/forms.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flows.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/categories.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/spaces.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/deleted_instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/auth_tokens.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/webhooks.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_users.coffee");
require("/node_modules/meteor/steedos:workflow/lib/cfs/instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/instance_readonly_template.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/template_manager.coffee");
require("/node_modules/meteor/steedos:workflow/client/coreform/inputTypes/coreform-table/steedos-table.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_image_sign.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_traces_handler.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_form.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_attachments.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_sign_text.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_traces_help.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_records.coffee");
require("/node_modules/meteor/steedos:workflow/routes/designer.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/set_instance_step_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/get_instance_data.js");
require("/node_modules/meteor/steedos:workflow/server/methods/save_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/trace_approve_cc.js");
require("/node_modules/meteor/steedos:workflow/server/methods/forward_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/cfs_instances.js");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_return.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_remind.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/next_step_users_not_found.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_number_rules.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/check_main_attach.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/edit_flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/start_flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_traces.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_batch.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/distribute.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/hide_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_value.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/steedos_css.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance_draft_view.coffee");
require("/node_modules/meteor/steedos:workflow/routes/nextStepUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getSpaceUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getFormulaUserObjects.js");
require("/node_modules/meteor/steedos:workflow/routes/init_formula_values.js");
require("/node_modules/meteor/steedos:workflow/routes/getNameForUser.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_designer_startup.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_engine.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_remove.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_terminate.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_reassign.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_relocate.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_archive.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_export.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_space_changeset.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_retrieve.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward.js");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_instance.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_pending.coffee");
require("/node_modules/meteor/steedos:workflow/routes/export_table_template.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_save.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get_by_stepname.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_cfs.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_table_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_sub_table_sort.coffee");
require("/node_modules/meteor/steedos:workflow/routes/test_webhook.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/1_form_formula.js");
require("/node_modules/meteor/steedos:workflow/server/lib/get_handlers_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/permission_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/approve_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/flow_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/form_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/step_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/categories.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/cfs_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flows.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/forms.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_data.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_list.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_draft.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/distributed_instances_state_by_ids.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/related_instaces.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/user_inbox_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_main_attach_template.coffee");
require("/node_modules/meteor/steedos:workflow/lib/admin.coffee");
require("/node_modules/meteor/steedos:workflow/related_instances_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/tabular.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_users.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_organizations.coffee");
require("/node_modules/meteor/steedos:workflow/server/flow-template/workflow_template.coffee");
require("/node_modules/meteor/steedos:workflow/server/startup.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/instance_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/auto_finish_process_delegation.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/timeout_auto_submit.coffee");

/* Exports */
Package._define("steedos:workflow", {
  InstanceManager: InstanceManager,
  WorkflowManager_format: WorkflowManager_format,
  Workflow: Workflow,
  SteedosTable: SteedosTable,
  InstanceReadOnlyTemplate: InstanceReadOnlyTemplate,
  TemplateManager: TemplateManager,
  CoreForm: CoreForm,
  InstanceNumberRules: InstanceNumberRules,
  getHandlersManager: getHandlersManager,
  permissionManager: permissionManager,
  workflowTemplate: workflowTemplate,
  approveManager: approveManager,
  stepManager: stepManager,
  flowManager: flowManager,
  formManager: formManager
});

})();

//# sourceURL=meteor://💻app/packages/steedos_workflow.js
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jaGVja05wbS5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9saWIvVVJJLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2xpYi9jb3JlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvbGliL2NvcmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2xpYi9tb2RlbHMvYXV0aF90b2tlbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC9saWIvaW5zdGFuY2VfcmVhZG9ubHlfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvbGliL2luc3RhbmNlX3JlYWRvbmx5X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvbGliL3RlbXBsYXRlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvbGliL3RlbXBsYXRlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L2NsaWVudC9jb3JlZm9ybS9pbnB1dFR5cGVzL2NvcmVmb3JtLXRhYmxlL3N0ZWVkb3MtdGFibGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbWFnZV9zaWduLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbWFnZV9zaWduLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3RyYWNlc19oYW5kbGVyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL190cmFjZXNfaGFuZGxlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX2luc3RhbmNlX2F0dGFjaG1lbnRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW5zdGFuY2Vfc2lnbl90ZXh0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9zaWduX3RleHQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9fdHJhY2VzX2hlbHAuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3RyYWNlc19oZWxwLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX3JlY29yZHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfcmVjb3Jkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2Rlc2lnbmVyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2Rlc2lnbmVyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvbmV4dFN0ZXBVc2Vycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvZ2V0U3BhY2VVc2Vycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvZ2V0Rm9ybXVsYVVzZXJPYmplY3RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3JvdXRlcy9pbml0X2Zvcm11bGFfdmFsdWVzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9nZXROYW1lRm9yVXNlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9nZXROYW1lRm9yVXNlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV9kZXNpZ25lcl9zdGFydHVwLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV9kZXNpZ25lcl9zdGFydHVwLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2VuZ2luZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfZW5naW5lLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2RyYWZ0cy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfZHJhZnRzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlbW92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfcmVtb3ZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfc3VibWl0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X3Rlcm1pbmF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfdGVybWluYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlYXNzaWduLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19yZWFzc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19yZWxvY2F0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfcmVsb2NhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfYXJjaGl2ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfYXJjaGl2ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19leHBvcnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2V4cG9ydC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19zcGFjZV9jaGFuZ2VzZXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3NwYWNlX2NoYW5nZXNldC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19yZXRyaWV2ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfcmV0cmlldmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfZm9yd2FyZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX3BlbmRpbmcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fcGVuZGluZy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2V4cG9ydF90YWJsZV90ZW1wbGF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9leHBvcnRfdGFibGVfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9kcmFmdHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZHJhZnRzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZ2V0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2dldC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9zYXZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX3NhdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9nZXRfYnlfc3RlcG5hbWUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZ2V0X2J5X3N0ZXBuYW1lLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fY2ZzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2Nmcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19mb3J3YXJkX3JlZmlsbC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfZm9yd2FyZF9yZWZpbGwuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfZm9yd2FyZF90YWJsZV9yZWZpbGwuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmRfdGFibGVfcmVmaWxsLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3N1Yl90YWJsZV9zb3J0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV9zdWJfdGFibGVfc29ydC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL3Rlc3Rfd2ViaG9vay5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy90ZXN0X3dlYmhvb2suY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfZm9ybXVsYV91c2Vycy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfZm9ybXVsYV91c2Vycy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV9mb3JtdWxhX29yZ2FuaXphdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX2Zvcm11bGFfb3JnYW5pemF0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvc2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL3NldF9pbnN0YW5jZV9zdGVwX2FwcHJvdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2dldF9pbnN0YW5jZV9kYXRhLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL3NhdmVfaW5zdGFuY2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvc2VydmVyL21ldGhvZHMvdHJhY2VfYXBwcm92ZV9jYy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9mb3J3YXJkX2luc3RhbmNlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2Nmc19pbnN0YW5jZXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX2FwcHJvdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3JldHVybi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3JldHVybi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmVtaW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmVtaW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9uZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9jaGVja19tYWluX2F0dGFjaC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvcmVsYXRlZF9pbnN0YW5jZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvZWRpdF9mbG93X3Bvc2l0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2VkaXRfZmxvd19wb3NpdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL3N0YXJ0X2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9zdGFydF9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV90cmFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV90cmFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX2JhdGNoLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYmF0Y2guY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9oaWRlX2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaGlkZV9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfdmFsdWUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV92YWx1ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3JvdXRlcy9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9yb3V0ZXMvaW5zdGFuY2UuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9yb3V0ZXMvc3RlZWRvc19jc3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL3N0ZWVkb3NfY3NzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9saWIvMV9mb3JtX2Zvcm11bGEuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL2xpYi9nZXRfaGFuZGxlcnNfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvZ2V0X2hhbmRsZXJzX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvcGVybWlzc2lvbl9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9wZXJtaXNzaW9uX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvYXBwcm92ZV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9hcHByb3ZlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvZmxvd19tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL2Zvcm1fbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvZm9ybV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL3N0ZXBfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvc3RlcF9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL2luc3RhbmNlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbGliL2luc3RhbmNlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvY2F0ZWdvcmllcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvY2F0ZWdvcmllcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9jZnNfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9jZnNfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcG9zaXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9uc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9uc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcm9sZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcm9sZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZmxvd3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zvcm1zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mb3Jtcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kYXRhLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kYXRhLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2xpc3QuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2xpc3QuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kcmFmdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfZHJhZnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9yZWxhdGVkX2luc3RhY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9yZWxhdGVkX2luc3RhY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL3NwYWNlX3VzZXJfc2lnbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL3NwYWNlX3VzZXJfc2lnbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvdXNlcl9pbmJveF9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvdXNlcl9pbmJveF9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X21haW5fYXR0YWNoX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X21haW5fYXR0YWNoX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvZmxvdy10ZW1wbGF0ZS93b3JrZmxvd190ZW1wbGF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9mbG93LXRlbXBsYXRlL3dvcmtmbG93X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvc2NoZWR1bGUvYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3NjaGVkdWxlL2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3NjaGVkdWxlL3RpbWVvdXRfYXV0b19zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvc2NoZWR1bGUvdGltZW91dF9hdXRvX3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3RhYnVsYXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC90YWJ1bGFyLmNvZmZlZSJdLCJuYW1lcyI6WyJjaGVja05wbVZlcnNpb25zIiwibW9kdWxlIiwibGluayIsInYiLCJjb29raWVzIiwibWtkaXJwIiwicm9vdCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJVUkkiLCJwdW55Y29kZSIsIklQdjYiLCJTZWNvbmRMZXZlbERvbWFpbnMiLCJTTEQiLCJfVVJJIiwidXJsIiwiYmFzZSIsIl91cmxTdXBwbGllZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsIl9iYXNlU3VwcGxpZWQiLCJ1bmRlZmluZWQiLCJUeXBlRXJyb3IiLCJsb2NhdGlvbiIsImhyZWYiLCJhYnNvbHV0ZVRvIiwidmVyc2lvbiIsInAiLCJwcm90b3R5cGUiLCJoYXNPd24iLCJPYmplY3QiLCJoYXNPd25Qcm9wZXJ0eSIsImVzY2FwZVJlZ0V4Iiwic3RyaW5nIiwicmVwbGFjZSIsImdldFR5cGUiLCJ2YWx1ZSIsIlN0cmluZyIsInRvU3RyaW5nIiwiY2FsbCIsInNsaWNlIiwiaXNBcnJheSIsIm9iaiIsImZpbHRlckFycmF5VmFsdWVzIiwiZGF0YSIsImxvb2t1cCIsImkiLCJfbWF0Y2giLCJ0ZXN0Iiwic3BsaWNlIiwiYXJyYXlDb250YWlucyIsImxpc3QiLCJfdHlwZSIsIm1hdGNoIiwiYXJyYXlzRXF1YWwiLCJvbmUiLCJ0d28iLCJzb3J0IiwibCIsInRyaW1TbGFzaGVzIiwidGV4dCIsInRyaW1fZXhwcmVzc2lvbiIsIl9wYXJ0cyIsInByb3RvY29sIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImhvc3RuYW1lIiwidXJuIiwicG9ydCIsInBhdGgiLCJxdWVyeSIsImZyYWdtZW50IiwiZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzIiwiZXNjYXBlUXVlcnlTcGFjZSIsInByb3RvY29sX2V4cHJlc3Npb24iLCJpZG5fZXhwcmVzc2lvbiIsInB1bnljb2RlX2V4cHJlc3Npb24iLCJpcDRfZXhwcmVzc2lvbiIsImlwNl9leHByZXNzaW9uIiwiZmluZF91cmlfZXhwcmVzc2lvbiIsImZpbmRVcmkiLCJzdGFydCIsImVuZCIsInRyaW0iLCJkZWZhdWx0UG9ydHMiLCJodHRwIiwiaHR0cHMiLCJmdHAiLCJnb3BoZXIiLCJ3cyIsIndzcyIsImludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycyIsImRvbUF0dHJpYnV0ZXMiLCJnZXREb21BdHRyaWJ1dGUiLCJub2RlIiwibm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsInR5cGUiLCJlc2NhcGVGb3JEdW1iRmlyZWZveDM2IiwiZXNjYXBlIiwic3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZW5jb2RlIiwiZGVjb2RlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiaXNvODg1OSIsInVuZXNjYXBlIiwidW5pY29kZSIsImNoYXJhY3RlcnMiLCJwYXRobmFtZSIsImV4cHJlc3Npb24iLCJtYXAiLCJyZXNlcnZlZCIsInVybnBhdGgiLCJlbmNvZGVRdWVyeSIsImVzY2FwZWQiLCJkZWNvZGVRdWVyeSIsImUiLCJfcGFydCIsImdlbmVyYXRlQWNjZXNzb3IiLCJfZ3JvdXAiLCJjIiwiZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24iLCJfc2VwIiwiX2NvZGluZ0Z1bmNOYW1lIiwiX2lubmVyQ29kaW5nRnVuY05hbWUiLCJhY3R1YWxDb2RpbmdGdW5jIiwic2VnbWVudHMiLCJzcGxpdCIsImpvaW4iLCJkZWNvZGVQYXRoIiwiZGVjb2RlVXJuUGF0aCIsInJlY29kZVBhdGgiLCJyZWNvZGVVcm5QYXRoIiwiZW5jb2RlUmVzZXJ2ZWQiLCJwYXJzZSIsInBhcnRzIiwicG9zIiwiaW5kZXhPZiIsInN1YnN0cmluZyIsInBhcnNlQXV0aG9yaXR5IiwicGFyc2VIb3N0IiwiYnJhY2tldFBvcyIsInQiLCJjaGFyQXQiLCJmaXJzdENvbG9uIiwiZmlyc3RTbGFzaCIsIm5leHRDb2xvbiIsInBhcnNlVXNlcmluZm8iLCJsYXN0SW5kZXhPZiIsInNoaWZ0IiwicGFyc2VRdWVyeSIsIml0ZW1zIiwic3BsaXRzIiwibmFtZSIsInB1c2giLCJidWlsZCIsImJ1aWxkQXV0aG9yaXR5IiwiYnVpbGRIb3N0IiwiYnVpbGRVc2VyaW5mbyIsImJ1aWxkUXVlcnkiLCJ1bmlxdWUiLCJrZXkiLCJidWlsZFF1ZXJ5UGFyYW1ldGVyIiwiYWRkUXVlcnkiLCJjb25jYXQiLCJyZW1vdmVRdWVyeSIsImhhc1F1ZXJ5Iiwid2l0aGluQXJyYXkiLCJfYm9vbHkiLCJCb29sZWFuIiwib3AiLCJjb21tb25QYXRoIiwiTWF0aCIsIm1pbiIsIndpdGhpblN0cmluZyIsImNhbGxiYWNrIiwib3B0aW9ucyIsIl9zdGFydCIsIl9lbmQiLCJfdHJpbSIsIl9hdHRyaWJ1dGVPcGVuIiwibGFzdEluZGV4IiwiZXhlYyIsImluZGV4IiwiaWdub3JlSHRtbCIsImF0dHJpYnV0ZU9wZW4iLCJtYXgiLCJzZWFyY2giLCJpZ25vcmUiLCJyZXN1bHQiLCJlbnN1cmVWYWxpZEhvc3RuYW1lIiwidG9BU0NJSSIsIm5vQ29uZmxpY3QiLCJyZW1vdmVBbGwiLCJ1bmNvbmZsaWN0ZWQiLCJVUklUZW1wbGF0ZSIsImRlZmVyQnVpbGQiLCJfZGVmZXJyZWRfYnVpbGQiLCJfc3RyaW5nIiwiY2xvbmUiLCJ2YWx1ZU9mIiwiZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvciIsImdlbmVyYXRlUHJlZml4QWNjZXNzb3IiLCJfa2V5IiwiaGFzaCIsInJlcyIsIl9vYmplY3QiLCJhdHRyaWJ1dGUiLCJzcmMiLCJpcyIsIndoYXQiLCJpcCIsImlwNCIsImlwNiIsInNsZCIsImlkbiIsInJlbGF0aXZlIiwiaGFzIiwiX3Byb3RvY29sIiwiX3BvcnQiLCJfaG9zdG5hbWUiLCJzY2hlbWUiLCJ4Iiwib3JpZ2luIiwiYXV0aG9yaXR5IiwiaG9zdCIsInVzZXJpbmZvIiwicmVzb3VyY2UiLCJzdWJkb21haW4iLCJkb21haW4iLCJzdWIiLCJSZWdFeHAiLCJ0bGQiLCJnZXQiLCJSZWZlcmVuY2VFcnJvciIsImRpcmVjdG9yeSIsImZpbGVuYW1lIiwiZGVjb2RlUGF0aFNlZ21lbnQiLCJtdXRhdGVkRGlyZWN0b3J5Iiwibm9ybWFsaXplUGF0aCIsInN1ZmZpeCIsInMiLCJzZWdtZW50Iiwic2VwYXJhdG9yIiwiYWJzb2x1dGUiLCJFcnJvciIsInBvcCIsInVuc2hpZnQiLCJzZWdtZW50Q29kZWQiLCJxIiwic2V0UXVlcnkiLCJzZXRTZWFyY2giLCJhZGRTZWFyY2giLCJyZW1vdmVTZWFyY2giLCJoYXNTZWFyY2giLCJub3JtYWxpemUiLCJub3JtYWxpemVQcm90b2NvbCIsIm5vcm1hbGl6ZVF1ZXJ5Iiwibm9ybWFsaXplRnJhZ21lbnQiLCJub3JtYWxpemVIb3N0bmFtZSIsIm5vcm1hbGl6ZVBvcnQiLCJiZXN0IiwiX3BhdGgiLCJfd2FzX3JlbGF0aXZlIiwiX2xlYWRpbmdQYXJlbnRzIiwiX3BhcmVudCIsIl9wb3MiLCJub3JtYWxpemVQYXRobmFtZSIsIm5vcm1hbGl6ZVNlYXJjaCIsIm5vcm1hbGl6ZUhhc2giLCJkIiwicmVhZGFibGUiLCJ1cmkiLCJ0b1VuaWNvZGUiLCJxcCIsImt2IiwicmVzb2x2ZWQiLCJwcm9wZXJ0aWVzIiwiYmFzZWRpciIsInJlbGF0aXZlVG8iLCJyZWxhdGl2ZVBhcnRzIiwiYmFzZVBhcnRzIiwiY29tbW9uIiwicmVsYXRpdmVQYXRoIiwiYmFzZVBhdGgiLCJwYXJlbnRzIiwiZXF1YWxzIiwib25lX21hcCIsInR3b19tYXAiLCJjaGVja2VkIiwib25lX3F1ZXJ5IiwidHdvX3F1ZXJ5IiwiV29ya2Zsb3ciLCJJbWFnZVNpZ24iLCJUcmFjZXNIYW5kbGVyIiwiVHJhY2VzVGVtcGxhdGUiLCJJbnN0YW5jZWZvcm1UZW1wbGF0ZSIsIkluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlIiwiSW5zdGFuY2VTaWduVGV4dCIsIlJlbGF0ZWRJbnN0YW5jZXMiLCJSZWxhdGVkUmVjb3JkcyIsIkluc3RhbmNlTWFjcm8iLCJjb250ZXh0IiwiVHJhY2VzTWFuYWdlciIsImlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nIiwiZmllbGRfZm9ybXVsYSIsImluY2x1ZGVzT3BpbmlvbkZpZWxkIiwiZm9ybSIsImZvcm1fdmVyc2lvbiIsIl9mb3JtX3ZlcnNpb24iLCJmaWVsZF9mb3JtdWxhcyIsImZpZWxkcyIsIkFycmF5IiwiTWV0ZW9yIiwiaXNTZXJ2ZXIiLCJ1dWZsb3dNYW5hZ2VyIiwiZ2V0Rm9ybVZlcnNpb24iLCJkYiIsImZvcm1zIiwiZmluZE9uZSIsIl9pZCIsImZvcm1fdmVyc2lvbnMiLCJmb3JFYWNoIiwiZiIsInJlZiIsImNvbnNvbGUiLCJsb2ciLCJmMSIsImZvcm11bGEiLCJfIiwic29tZSIsImhlbHBlcnMiLCJhdXRoX3Rva2VucyIsIkNvbGxlY3Rpb24iLCJfZ2V0TG9jYWxlIiwiX2dldFJlcXVpcmVkRmllbGRzIiwiX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzIiwiX2dldFN0YXJ0U3RlcFJlcXVpcmVkRmllbGRzIiwiX2dldFRlbXBsYXRlRGF0YSIsIl9nZXRWaWV3SHRtbCIsImdldExpbmtUZXh0IiwiSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlIiwiaW5zdGFuY2VfYXR0YWNobWVudCIsImFmU2VsZWN0VXNlclJlYWQiLCJhZkZvcm1Hcm91cFJlYWQiLCJhZkZvcm1Hcm91cCIsImNyZWF0ZSIsInRlbXBhbHRlTmFtZSIsInN0ZWVkb3NEYXRhIiwidGVtcGxhdGUiLCJ0ZW1wbGF0ZUNvbXBpbGVkIiwidGVtcGxhdGVSZW5kZXJGdW5jdGlvbiIsIlNwYWNlYmFyc0NvbXBpbGVyIiwiY29tcGlsZSIsImlzQm9keSIsImV2YWwiLCJUZW1wbGF0ZSIsIkJsYXplIiwiY3JlYXRlSW5zdGFuY2VTaWduVGV4dCIsImluc3RhbmNlU2lnblRleHRDb21waWxlZCIsImluc3RhbmNlU2lnblRleHRIdG1sIiwiaW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uIiwiaW5zdGFuY2VTaWduVGV4dCIsImNyZWF0ZUltYWdlU2lnbiIsImltYWdlU2lnbkNvbXBpbGVkIiwiaW1hZ2VTaWduSHRtbCIsImltYWdlU2lnblJlbmRlckZ1bmN0aW9uIiwiaW1hZ2VTaWduIiwiY3JlYXRlVHJhY2VzSGFubGRlciIsInRyYWNlc0hhbmxkZXJDb21waWxlZCIsInRyYWNlc0hhbmxkZXJIdG1sIiwidHJhY2VzSGFubGRlclJlbmRlckZ1bmN0aW9uIiwiaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXIiLCJpbml0IiwiaXRlbSIsImxhYmVsIiwiZGV0YWlsX3VybCIsIlN0ZWVkb3MiLCJhYnNvbHV0ZVVybCIsImdldFZhbHVlIiwiZmllbGQiLCJsb2NhbGUiLCJ1dGNPZmZzZXQiLCJkYXRlIiwiaG91cnMiLCJtb250aCIsInNlY29uZHMiLCJ0MCIsInQxIiwieWVhciIsImVuY29kZVVSSSIsImVycm9yIiwiaXNfbXVsdGlzZWxlY3QiLCJnZXRQcm9wZXJ0eSIsImZ1bGxuYW1lIiwiVEFQaTE4biIsIl9fIiwiRGF0ZSIsImZvcm1hdERhdGUiLCJpc190ZXh0YXJlYSIsIlNwYWNlYmFycyIsIlNhZmVTdHJpbmciLCJNYXJrZG93biIsIm51bWJlclRvU3RyaW5nIiwiZGlnaXRzIiwiZ2V0TGFiZWwiLCJjb2RlIiwiZmluZFByb3BlcnR5QnlQSyIsImdldEluc3RhbmNlRm9ybVZlcnNpb24iLCJpbnN0YW5jZSIsImZvcm1fZmllbGRzIiwiY3VycmVudCIsIndoZXJlIiwiaGlzdG9yeXMiLCJnZXRGbG93VmVyc2lvbiIsImZsb3ciLCJmbG93X3ZlcnNpb24iLCJmbG93cyIsInZpZXdIdG1sIiwiQXNzZXRzIiwiZ2V0VGV4dCIsInVzZXIiLCJyZWYxIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJyZXYiLCJpc19yZXF1aXJlZCIsInN0ZXBzIiwiZWRpdGFibGVDb2RlIiwic3RhcnRTdGVwIiwia2V5cyIsInBlcm1pc3Npb25zIiwicmVxdWlyZWRGaWVsZHMiLCJpbnRlcnNlY3Rpb24iLCJzcGFjZSIsIldvcmtmbG93TWFuYWdlciIsImlzQ2xpZW50IiwiV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdCIsImdldEF1dG9mb3JtU2NoZW1hVmFsdWVzIiwiaW5zbmFtZSIsImluc19zdGF0ZSIsInN0YXRlIiwiaW5zX2ZpbmFsX2RlY2lzaW9uIiwiaW5zX2NvZGUiLCJpbnNfaXNfYXJjaGl2ZWQiLCJpc19hcmNoaXZlZCIsImluc19pc19kZWxldGVkIiwiYXBwbGljYW50X25hbWUiLCJhcHBsaWNhbnRDb250ZXh0Iiwic2Vzc2lvblVzZXJJZCIsImVkaXRhYmxlIiwic3RhcnRTdGVwRWRpdGFibGVGaWVsZHMiLCJwYXNzaW5nIiwibW9tZW50IiwiZm9ybWF0IiwiZ2V0SW5zdGFuY2VWaWV3IiwiYm9keSIsImluc3RhbmNlQ29tcGlsZWQiLCJpbnN0YW5jZVJlbmRlckZ1bmN0aW9uIiwiaW5zdGFuY2VUZW1wbGF0ZSIsIlRlbXBsYXRlTWFuYWdlciIsImdldFRlbXBsYXRlIiwidGVtcGxhdGVOYW1lIiwiaW5zdGFuY2VfcmVhZG9ubHlfdmlldyIsInRvSFRNTFdpdGhEYXRhIiwiZ2V0VHJhY2VzVmlldyIsInRyYWNlQ29tcGlsZWQiLCJ0cmFjZVJlbmRlckZ1bmN0aW9uIiwidHJhY2VzSHRtbCIsImluc3RhbmNlX3N0eWxlIiwidHJhY2VfcmVhZG9ubHlfdmlldyIsInRyYWNlcyIsImdldEF0dGFjaG1lbnRWaWV3IiwiYXR0YWNobWVudENvbXBpbGVkIiwiYXR0YWNobWVudEh0bWwiLCJhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24iLCJhdHRhY2htZW50c19yZWFkb25seV92aWV3IiwiZ2V0UmVsYXRlZEluc3RhbmNlc1ZpZXciLCJyZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQiLCJyZWxhdGVkSW5zdGFuY2VzSHRtbCIsInJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbiIsInJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXciLCJnZXRSZWxhdGVkUmVjb3Jkc1ZpZXciLCJyZWxhdGVkUmVjb3Jkc0NvbXBpbGVkIiwicmVsYXRlZFJlY29yZHNIdG1sIiwicmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbiIsInJlbGF0ZWRfcmVjb3Jkc192aWV3IiwiZ2V0T25Mb2FkU2NyaXB0IiwiZm9ybV9zY3JpcHQiLCJnZXRJbnN0YW5jZUh0bWwiLCJhbGxDc3NMaW5rIiwiYXR0YWNobWVudCIsImNyZWF0b3JTZXJ2aWNlIiwiY3NzSHJlZiIsImZvcm1EZXNjcmlwdGlvbiIsImZvcm1EZXNjcmlwdGlvbkh0bWwiLCJodG1sIiwiaW5zX3JlY29yZF9pZHMiLCJpbnN0YW5jZUJveFN0eWxlIiwib25Mb2FkU2NyaXB0Iiwib3BlbkZpbGVTY3JpcHQiLCJyZWxhdGVkX2luc3RhbmNlcyIsInJlbGF0ZWRfcmVjb3JkcyIsInNob3dUcmFjZXNCdG4iLCJzaG93VHJhY2VzU2NyaXB0IiwidHJhY2UiLCJ0cmFjZUNoZWNrIiwid2lkdGgiLCJzZXR0aW5ncyIsIndlYnNlcnZpY2VzIiwiY3JlYXRvciIsInJlY29yZF9pZHMiLCJKU09OIiwic3RyaW5naWZ5IiwiaXNNb2JpbGUiLCJzaG93VHJhY2UiLCJmaW5hbF9kZWNpc2lvbiIsInNob3dBdHRhY2htZW50cyIsImlzRW1wdHkiLCJ0YWdnZXIiLCJzdHlsZXMiLCJkZXNjcmlwdGlvbiIsInBsdWdpbnMiLCJmb3JtSWQiLCJpbnN0YW5jZV90aXRsZSIsInBhZ2VUaXRsZSIsInBhZ2VUaXRsZVRyQ2xhc3MiLCJ2YWwiLCJDb3JlRm9ybSIsInBhZ2VUaXRsZUZpZWxkTmFtZSIsImhhbmRsZVRhYmxlVGVtcGxhdGUiLCJfZXhwb3J0IiwidGFibGVfZmllbGRzIiwidGFibGVfZmllbGQiLCJmaWVsZF9wZXJtaXNzaW9uIiwicHVyZUNvZGUiLCJyZXF1aXJlZCIsInRpdGxlX3Blcm1pc3Npb24iLCJyZW1vdmVTcGVjaWFsQ2hhcmFjdGVyIiwiaXNPcGluaW9uRmllbGQiLCJ0cl9zdGFydCIsInRkX2NvbHNwYW4iLCJ0cl9lbmQiLCJpbmNsdWRlcyIsInBlcm1pc3Npb24iLCJfdGVtcGxhdGUiLCJ0YWJsZSIsIl90ZW1wbGF0ZUhlbHBzIiwic3RlZWRvc19pbnN0YW5jZSIsImdldEluc3RhbmNlIiwiYXR0cyIsImlkIiwic3R5bGUiLCJkaXNhYmxlZCIsImluc3RhbmNlSWQiLCJmb3JtX3R5cGVzIiwiQXBwcm92ZU1hbmFnZXIiLCJpc1JlYWRPbmx5Iiwic3RlZWRvc19mb3JtIiwiaW5uZXJzdWJmb3JtQ29udGV4dCIsImRvY192YWx1ZXMiLCJTZXNzaW9uIiwiYSIsImIiLCJTaW1wbGVTY2hlbWEiLCJnZXRBdXRvZm9ybVNjaGVtYSIsImluc3RhbmNlX2JveF9zdHlsZSIsImJveCIsImlucyIsImp1ZGdlIiwicHJpbnRfdGVtcGxhdGUiLCJpbnN0YW5jZV90ZW1wbGF0ZSIsIlN0ZWVkb3NUYWJsZSIsImNoZWNrSXRlbSIsIml0ZW1faW5kZXgiLCJmaWVsZE9iaiIsImdldEZpZWxkIiwiZmllbGRWYWwiLCJnZXRJdGVtTW9kYWxWYWx1ZSIsInNmX25hbWUiLCJzZmllbGRzIiwic2YiLCJJbnN0YW5jZU1hbmFnZXIiLCJjaGVja0Zvcm1GaWVsZFZhbHVlIiwiJCIsInNldFRhYmxlSXRlbVZhbHVlIiwiaXRlbV92YWx1ZSIsInRhYmxlVmFsdWUiLCJnZXRUYWJsZVZhbHVlIiwiZ2V0VGFibGVJdGVtVmFsdWUiLCJyZW1vdmVUYWJsZUl0ZW0iLCJyZW1vdmVkIiwic2V0VGFibGVWYWx1ZSIsImdldFZhbGlkVmFsdWUiLCJ2YWxpZFZhbHVlIiwiaGFuZGxlRGF0YSIsInZhbHVlcyIsImluc3RhbmNlRmllbGRzIiwiZ2V0SW5zdGFuY2VGaWVsZHMiLCJnZXRNb2RhbERhdGEiLCJGb3JtX2Zvcm11bGEiLCJnZXRGb3JtdWxhRmllbGRWYXJpYWJsZSIsIkF1dG9Gb3JtIiwiZ2V0Rm9ybVZhbHVlcyIsImluc2VydERvYyIsImFkZEl0ZW0iLCJfaXRlbV92YWx1ZSIsImdldEtleXMiLCJhcHBlbmQiLCJnZXRUciIsInVwZGF0ZUl0ZW0iLCJ0ZHMiLCJnZXRSZW1vdmVUZCIsInNmaWVsZCIsImdldFRkIiwiZW1wdHkiLCJydW5Gb3JtdWxhIiwicmVtb3ZlSXRlbSIsImhpZGUiLCJzaG93TW9kYWwiLCJtZXRob2QiLCJtb2RhbERhdGEiLCJNb2RhbCIsInNob3ciLCJnZXRDdXJyZW50RGF0YUZvckZvcm0iLCJzcyIsImdldEZvcm1TY2hlbWEiLCJzY2hlbWEiLCJvYmplY3RLZXlzIiwiX21ha2VHZW5lcmljIiwiZ2V0VGhlYWQiLCJpc09iamVjdCIsInRoZWFkIiwidHJzIiwic2ZfbGVuZ3RoIiwid2lkZV9maWVsZHMiLCJmaWx0ZXJQcm9wZXJ0eSIsImlzX3dpZGUiLCJnZXRUYm9keSIsInNmaWVsZHNFZGl0YWJsZSIsInRib2R5IiwidHIiLCJ0ZCIsInRkX3ZhbHVlIiwiZ2V0VERWYWx1ZSIsInZpZXciLCJDRkRhdGFNYW5hZ2VyIiwiZ2V0Rm9ybXVsYVNwYWNlVXNlcnMiLCJ1IiwiZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbnMiLCJvIiwiZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbiIsInBsdWNrIiwiYWRkSW5wdXRUeXBlIiwidmFsdWVPdXQiLCJ2YWx1ZUNvbnZlcnRlcnMiLCJzdHJpbmdUb1N0cmluZ0FycmF5Iiwic3RyaW5nVG9OdW1iZXIiLCJzdHJpbmdUb051bWJlckFycmF5Iiwic3RyaW5nVG9Cb29sZWFuIiwic3RyaW5nVG9Cb29sZWFuQXJyYXkiLCJzdHJpbmdUb0RhdGUiLCJzdHJpbmdUb0RhdGVBcnJheSIsImNvbnRleHRBZGp1c3QiLCJtYXhsZW5ndGgiLCJhZlRhYmxlIiwiZXZlbnRzIiwiZXZlbnQiLCJuZXdfaXRlbV9pbmRleCIsImN1cnJlbnRUYXJnZXQiLCJkYXRhc2V0Iiwic2V0IiwicmVuZGVyZWQiLCJzdHIiLCJhZGRJdGVtVHIiLCJnZXRDdXJyZW50U3RlcCIsInN0ZXBfdHlwZSIsImNjSGFzRWRpdFBlcm1pc3Npb24iLCJhdXRvcnVuIiwiY3VycmVudERhdGEiLCJzcGFjZVVzZXJTaWduIiwidXNlcklkIiwic3BhY2VfdXNlcl9zaWducyIsImltYWdlVVJMIiwic2lnbiIsInNob3dTaWduSW1hZ2UiLCJoYW5kbGVyIiwiaXNfZmluaXNoZWQiLCJvYmplY3RVcmwiLCJvYmplY3RfbmFtZSIsInJlY29yZF9pZCIsImFwcF9pZCIsIkNyZWF0b3IiLCJnZXRPYmplY3RVcmwiLCJ1bmVtcHR5IiwidW5lcXVhbHMiLCJpbmNsdWRlIiwicmVmMiIsInJlZjMiLCJnZXRJbnN0YW5jZUZsb3dWZXJzaW9uIiwiYXBwcm92ZXMiLCJyZWY0Iiwic3RlcCIsImFwcHJvdmUiLCJqdWRnZV9uYW1lIiwiaGFuZGxlcl9uYW1lIiwiaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSIsImhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lIiwiZmluaXNoX2RhdGUiLCJvcGluaW9uX2ZpZWxkc19jb2RlIiwic2lnbl9maWVsZF9jb2RlIiwiaXNfcmVhZCIsInNpZ25fc2hvdyIsImFmdGVyX2ZpZWxkIiwiYmVmb3JlX2ZpZWxkIiwicHJlX2ZpZWxkcyIsInByZV93aWRlX2ZpZWxkcyIsInNvcnRfYXBwcm92ZSIsIm9yZGVyIiwicDEiLCJwMiIsIl9wMSIsIl9wMiIsImdldFRpbWUiLCJfdCIsImdldENmQ2xhc3MiLCJnZXRUYWJsZVRoZWFkIiwiZ2V0VGFibGVCb2R5Iiwic2hvd0xhYmVsIiwidGVtcGxhdGVEYXRhIiwiZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lIiwidG9wX2tleXdvcmRzIiwiZm9vMSIsIm9waW5pb25GaWVsZHMiLCJmb28iLCJqc29uX2Zvcm11bGEiLCJzMSIsImVycm9yMSIsInlpamlhbmxhbiIsInN0ZXBOYW1lIiwiaW1hZ2Vfc2lnbiIsIm9ubHlfY2Nfb3BpbmlvbiIsIm9ubHlfY2MiLCJkZWZhdWx0X2Rlc2NyaXB0aW9uIiwib25seV9oYW5kbGVyIiwic2hvd0NDT3BpbmlvbiIsIm1hcmtEb3duVG9IdG1sIiwibWFya0Rvd25TdHJpbmciLCJyZW5kZXJlciIsIlJlbmRlcmVyIiwidGl0bGUiLCJmX2xhYmVsIiwidGhhdCIsImlzU2VjdGlvbiIsInJlZ2lzdGVySGVscGVyIiwiaW5zX2F0dGFjaF9kb3dubG9hZF91cmwiLCJnZXRQZXJtaXNzaW9ucyIsImluc3RhbmNlZm9ybUNoYW5nZUV2ZW50IiwicHJldmVudERlZmF1bHQiLCJvcGVuV2luZG93IiwidGFyZ2V0Iiwib25DcmVhdGVkIiwiY29tcGlsZWQiLCJpbnN0YW5jZUN1c3RvbVRlbXBsYXRlIiwiaW5zdGFuY2VWaWV3IiwicmVuZGVyRnVuY3Rpb24iLCJWaWV3IiwiaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlIiwib25SZW5kZXJlZCIsImN1cnJlbnRBcHByb3ZlIiwiY3VycmVudFN0ZXAiLCJmb3JtdWxhX2ZpZWxkcyIsImluc3RhbmNlTnVtYmVyRmllbGRzIiwiYXBwbGljYW50IiwibmV4dFN0ZXBzIiwibmV4dFN0ZXBVc2VycyIsIkluc3RhbmNlRXZlbnQiLCJpbml0RXZlbnRzIiwiZ2V0Q3VycmVudEFwcHJvdmUiLCJlYWNoIiwiZWxlbWVudCIsInNjaGVtYUtleSIsInRvYXN0ciIsInJlYXNvbiIsImdldEZpZWxkVmFsdWUiLCJJbnN0YW5jZU51bWJlclJ1bGVzIiwiaW5zdGFuY2VOdW1iZXJCdWlsZGVyIiwidHJpZ2dlciIsInJ1biIsInNob3dNYWluVGl0bGUiLCJ3b3JrZmxvd01haW5BdHRhY2hUaXRsZSIsImVuYWJsZWRfYWRkX21haW5fYXR0YWNobWVudCIsImN1cnJlbnRfc3RlcCIsIm1haW5fYXR0YWNoX2NvdW50IiwiY2ZzIiwiaW5zdGFuY2VzIiwiZmluZCIsImNvdW50IiwiZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCIsImRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSIsInN0YXJ0X3N0ZXAiLCJnZXRTdGFydFN0ZXAiLCJjYW5fZWRpdF9tYWluX2F0dGFjaCIsImVuYWJsZWRfZWRpdF9ub3JtYWxfYXR0YWNobWVudCIsImdldEZsb3ciLCJ1cGxvYWRfYWZ0ZXJfYmVpbmdfZGlzdHJpYnV0ZWQiLCJpc0NDIiwiZ2V0Q0NTdGVwIiwiY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCIsIm1haW5fYXR0YWNobWVudCIsIm1haW5fYXR0YWNoIiwibm9ybWFsX2F0dGFjaG1lbnRzIiwic2VsZWN0b3IiLCIkbmUiLCJkZmlzIiwiZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyIsIiRpbiIsImRpc3RyaWJ1dGVfbWFpbiIsImZpcnN0VmVyc2lvbk1haW4iLCJtZXRhZGF0YSIsInBhcmVudCIsImF0dGFjaG1lbnRVcGxvYWRlZEF0IiwidXBsb2FkZWRBdCIsImZpcnN0VmVyc2lvbiIsInNvcnRCeSIsImluc3RhbmNlSWRzIiwiYXR0YWNobWVudHNfY291bnQiLCJmbG93X2ZpbGVzIiwiZmlsZXMiLCJpc0RyYWZ0QW5kRmxvd2ZpbGVzRXhpc3QiLCJjb21wYWN0IiwiYXR0YWNobWVudHMiLCIkb3IiLCJmZXRjaCIsIm15QXBwcm92ZSIsIm15VHJhY2UiLCJpc0luYm94IiwiZGVmYXVsdERlc2NyaXB0aW9uIiwiYXBwcm92ZV9zb3J0IiwiYXBwcm92ZXNHcm91cCIsImFwcHJvdmVzX3NvcnRlZCIsImNvbXBsZXRlZF9kYXRlIiwiaGFzTmV4dCIsImhhdmVEZXNjcmlwdGlvbkFwcHJvdmUiLCJpc19jb21wbGV0ZWQiLCJsYXN0IiwidG9wX2FwcHJvdmVzIiwidW5pb24iLCJmaWx0ZXIiLCJ0b3BfYXBwcm92ZSIsImdyb3VwQnkiLCJoYW5kbGVyQXBwcm92ZXMiLCJkZXNjcmlwdGlvbkFwcHJvdmVzIiwid29ya2Zsb3ciLCJzaG93QmxhbmtBcHByb3ZlRGVzY3JpcHRpb24iLCJfZGlzcGxheSIsImlzTXlBcHByb3ZlIiwibXlBcHByb3ZlRGVzY3JpcHRpb24iLCJhcHByb3ZlSWQiLCJub3ciLCJpc09waW5pb25PZkZpZWxkIiwiaW1hZ2VTaWduRGF0YSIsImdldExhc3RTaWduQXBwcm92ZSIsImdldEhhbmRsZXJTaWduU2hvd0FwcHJvdmVzIiwibGFzdE15QXBwcm92ZURlc2NyaXB0aW9uIiwic2hvd0FwcHJvdmUiLCJqdWRnZV9kZXNjcmlwdGlvbiIsImlzX2FwcHJvdmVkIiwiaXNfcmVqZWN0ZWQiLCJpc19yZWFkZWQiLCJhZGRDbGFzcyIsInNldFRpbWVvdXQiLCJkYXRlRm9ybWF0IiwiZ2V0RnVsbFllYXIiLCJnZXRTdGVwTmFtZSIsInN0ZXBJZCIsImdldEluc3RhbmNlU3RlcCIsInNob3dEZWxldGVCdXR0b24iLCJhcHByb3ZlZCIsImZyb21fdXNlciIsImlzU2hvd01vZGlmaWNhdGlvbkJ1dHRvbiIsImFwcHJvdmVfYWRtaW5zIiwiaXNTaG93IiwiY29udGFpbnMiLCJpc0VkaXRpbmciLCJpc19lZGl0aW5nIiwiaXNTaG93RGVzY3JpcHRpb24iLCJnZXRBcHByb3ZlU3RhdHVzSWNvbiIsImFwcHJvdmVKdWRnZSIsImF1dG9TdWJtaXR0ZWQiLCJhcHByb3ZlU3RhdHVzSWNvbiIsImdldEFwcHJvdmVTdGF0dXNUZXh0IiwiYXBwcm92ZVN0YXR1c1RleHQiLCJnZXRBcHByb3ZlSnVkZ2VDbGFzcyIsImlzRm9yd2FyZCIsInNob3dGb3J3YXJkRGVsZXRlQnV0dG9uIiwiZm9yd2FyZF9pbnN0YW5jZSIsImlzRGlzdHJpYnV0ZSIsInNob3dEaXN0cmlidXRlRGVsZXRlQnV0dG9uIiwiaGFzRmVhdHVyZSIsImdldFNwYWNlSWQiLCJoYXNGbG93QWRtaW5QZXJtaXNzaW9uIiwiZmluaXNoRGF0ZVNjaGVtYSIsImlzQW5kcm9pZE9ySU9TIiwiYXV0b2Zvcm0iLCJvcHRpb25hbCIsInJlYWRvbmx5IiwiZGF0ZVRpbWVQaWNrZXJPcHRpb25zIiwiaWdub3JlUmVhZG9ubHkiLCJ3aWRnZXRQb3NpdGlvbmluZyIsImhvcml6b250YWwiLCJmaW5pc2hEYXRlVmFsdWVzIiwic2hvd1RyYWNlc1ZpZXciLCJzaG93X21vZGFsX3RyYWNlc19saXN0Iiwic3BhY2Vfc2V0dGluZ3MiLCJnZXRJbnN0YW5jZVN0YXRlVGV4dCIsImluc3RhbmNlX2lkIiwiZ2V0SW5zdGFuY2VTdGF0ZUNvbG9yIiwiY2xhIiwiZmlyc3RUcmFjZSIsImxhc3RfZGlzdHJpYnV0ZV9mcm9tIiwiZGlzX2luZm8iLCIkZXhpc3RzIiwiY3JlYXRlZCIsImNyZWF0ZWRfYnkiLCJVVWZsb3dfYXBpIiwiZ2V0TmFtZUZvclVzZXIiLCJ1c2VycyIsImZyb21fdXNlcl9uYW1lIiwiaXNDQ09yRGlzdHJpYnV0ZU9yRm9yd2FyZFRlcm1pbmF0ZWQiLCJqdWRnZVRlcm1pbmF0ZWQiLCJpbnN0YW5jZUV4aXN0cyIsImFnZW50RGVzY3JpcHRpb24iLCJ1c2VyTmFtZSIsInRyYWNlTmFtZSIsInRyYWNlSWQiLCJzdG9wUHJvcGFnYXRpb24iLCJjYWxsaW5nIiwiZXJyIiwicmVtb3ZlQ2xhc3MiLCJzdWNjZXNzIiwiY2xvc2VzdCIsInRhcmdldF91c2VyX2lkIiwib3BlblNhZmVPYmplY3RVcmwiLCJmb3J3YXJkX3NwYWNlIiwiZm9yd2FyZHNwYWNlIiwiZm9yd2FyZGluc3RhbmNlIiwiVHJhY2tlciIsImFmdGVyRmx1c2giLCJvbiIsInNjcm9sbFRvcCIsImZpbmlzaF9pbnB1dCIsIm9waW5pb25faW5wdXQiLCJhbGxvd011bHRpcGxlIiwic2hvd1JlbGF0ZWRJbnN0YWNlcyIsInJlbGF0ZWRfaW5zdGFjZXMiLCJyZWxhdGVkX2luc3RhY2VfdXJsIiwiaXNDb3Jkb3ZhIiwic2hvd19kZWxldGUiLCJzaG93UmVsYXRlZFJlY29yZHMiLCJEZXNpZ25lckFQSSIsImdldEFic29sdXRlVXJsIiwicm9vdFVybCIsIl9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18iLCJST09UX1VSTF9QQVRIX1BSRUZJWCIsIndyaXRlUmVzcG9uc2UiLCJodHRwQ29kZSIsInN0YXR1c0NvZGUiLCJzZW5kSW52YWxpZFVSTFJlc3BvbnNlIiwic2VuZEF1dGhUb2tlbkV4cGlyZWRSZXNwb25zZSIsInNlbmRIdG1sUmVzcG9uc2UiLCJyZXEiLCJlcnJvcl9tc2ciLCJKc29uUm91dGVzIiwiYWRkIiwibmV4dCIsImRlYWxfdHlwZSIsInNwYWNlSWQiLCJzZW5kUmVzdWx0Iiwic3BlY2lmeVVzZXJJZHMiLCJnZXRVc2VycyIsImFwcGxpY2FudElkIiwiYXBwcm92ZVJvbGVJZHMiLCJnZXRVc2VyIiwiZ2V0Um9sZVVzZXJzQnlPcmdzQW5kUm9sZXMiLCJvcmdhbml6YXRpb25zIiwiYXBwcm92ZUhyUm9sZUlkcyIsImdldEhyUm9sZXNVc2VycyIsIm1hbmFnZXIiLCJ1c2VyRmllbGQiLCJ1c2VyRmllbGRWYWx1ZSIsIm9yZ3MiLCJvcmdDaGlsZHJlbnMiLCJvcmdGaWVsZCIsIm9yZ0ZpZWxkVmFsdWUiLCJnZXRPcmdhbml6YXRpb25zIiwiZ2V0T3JnYW5pemF0aW9uc0NoaWxkcmVucyIsImdldE9yZ2FuaXphdGlvbiIsImdldE9yZ2FuaXphdGlvbkNoaWxkcmVucyIsImdldE9yZ2FuaXphdGlvbnNVc2VycyIsIm9yZ0ZpZWxkVXNlcnMiLCJzcGVjaWZ5T3JnSWRzIiwic3BlY2lmeU9yZ3MiLCJzcGVjaWZ5T3JnQ2hpbGRyZW5zIiwiYXBwcm92ZXJSb2xlSWRzIiwiZ2V0Um9sZVVzZXJzQnlVc2Vyc0FuZFJvbGVzIiwic3UiLCJ1c2VyX2FjY2VwdGVkIiwidW5pcVVzZXJzIiwidXNlcklkcyIsInNwYWNlVXNlcnMiLCJnZXRGb3JtdWxhVXNlck9iamVjdCIsImF1dG9Gb3JtRG9jIiwiYXBwcm92ZXIiLCJmb3JtdWxhX3ZhbHVlcyIsImluaXRfZm9ybXVsYV92YWx1ZXMiLCJzdGFjayIsImVycm9ycyIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJjYXRlZ29yaWVzIiwiY29tcGFueUlkIiwiY3VycmVudF91c2VyIiwiY3VycmVudF91c2VyX2luZm8iLCJvcmciLCJwb3NpdGlvbnMiLCJyb2xlcyIsInNwYWNlSWRzIiwic3BhY2VzIiwic3BhY2VzUXVlcnkiLCJjaGVja19hdXRob3JpemF0aW9uIiwiYWRtaW5zIiwiY29tcGFueV9pZCIsInNwYWNlX3VzZXJzIiwiaXNfZGVsZXRlZCIsImlzX3ZhbGlkIiwiaGVscF90ZXh0IiwiY2F0ZWdvcnkiLCJuYW1lX2Zvcm11bGEiLCJjb2RlX2Zvcm11bGEiLCJmbG93dHlwZSIsImN1cnJlbnRfbm8iLCJwZXJtcyIsImVycm9yX21lc3NhZ2UiLCJkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzIiwiZmxvd19yb2xlcyIsImZsb3dfcG9zaXRpb25zIiwiU3BhY2VVc2VycyIsIlVzZXJzIiwiRm9ybXMiLCJGbG93cyIsIk9yZ2FuaXphdGlvbnMiLCJQb3NpdGlvbnMiLCJSb2xlcyIsIkNhdGVnb3JpZXMiLCJTcGFjZXMiLCJoYXNoRGF0YSIsImFwcHJvdmVfZnJvbV9jbGllbnQiLCJ3b3JrZmxvd19lbmdpbmUiLCJpbnNlcnRlZF9pbnN0YW5jZXMiLCJpbnN0YW5jZV9mcm9tX2NsaWVudCIsIm5ld19pbnMiLCJuZXdfaW5zX2lkIiwiY3JlYXRlX2luc3RhbmNlIiwiaW5zZXJ0cyIsImNjX3VzZXJzIiwiZGVsZXRlX29iaiIsImluYm94X3VzZXJzIiwic3BhY2VVc2VyT3JnYW5pemF0aW9ucyIsInNwYWNlX2lkIiwic3BhY2VfdXNlciIsInVzZXJfaWRzIiwiZ2V0U3BhY2UiLCJnZXRTcGFjZVVzZXIiLCJzdWJtaXR0ZXIiLCJjYW5BZG1pbiIsImRlbGV0ZWQiLCJkZWxldGVkX2J5IiwiZGVsZXRlZF9pbnN0YW5jZXMiLCJpbnNlcnQiLCJyZW1vdmUiLCJ1bmlxIiwidV9pZCIsInB1c2hNYW5hZ2VyIiwic2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyIiwic2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24iLCJjdXJyZW50X2FwcHJvdmUiLCJmbG93X2lkIiwiciIsInN1Ym1pdF9pbnN0YW5jZSIsImFsZXJ0cyIsInRyaWdnZXJXZWJob29rIiwiZGlzdHJpYnV0ZWRJbnN0YW5jZXNSZW1pbmQiLCJmbG93X3Zlcl9lbmRfc3RlcCIsImZsb3dfdmVycyIsImgiLCJpbnN0YW5jZV9mbG93X3ZlciIsImluc3RhbmNlX3RyYWNlIiwibmV3QXBwcm92ZSIsIm5ld1RyYWNlIiwib2xkX2NjX3VzZXJzIiwib2xkX2luYm94X3VzZXJzIiwib2xkX291dGJveF91c2VycyIsInNldE9iaiIsInNwYWNlX3VzZXJfb3JnX2luZm8iLCJ0ZW1wVXNlcnMiLCJ0ZXJtaW5hdGVfcmVhc29uIiwiaXNJbnN0YW5jZVBlbmRpbmciLCJnZXRTcGFjZVVzZXJPcmdJbmZvIiwiZl92ZXIiLCJmX3N0ZXAiLCJwZXJtaXNzaW9uTWFuYWdlciIsImdldEZsb3dQZXJtaXNzaW9ucyIsIk1vbmdvIiwiT2JqZWN0SUQiLCJfc3RyIiwidXNlcl9uYW1lIiwiaGFuZGxlcl9vcmdhbml6YXRpb24iLCJzdGFydF9kYXRlIiwiZHVlX2RhdGUiLCJyZWFkX2RhdGUiLCJpc19lcnJvciIsImNvc3RfdGltZSIsInByZXZpb3VzX3RyYWNlX2lkcyIsIm91dGJveF91c2VycyIsIm5mdF9hcHByb3ZlIiwibW9kaWZpZWQiLCJtb2RpZmllZF9ieSIsImN1cnJlbnRfc3RlcF9uYW1lIiwiY3VycmVudF9zdGVwX2F1dG9fc3VibWl0IiwidXBkYXRlIiwiJHNldCIsInVzZXJfaWQiLCJzZW5kX21lc3NhZ2VfY3VycmVudF91c2VyIiwiX3VzZXJzIiwiYXBwcm92ZV91c2Vyc19oYW5kbGVycyIsImFzc2lnbmVlX2FwcHIiLCJjdXJyZW50X3NwYWNlX3VzZXIiLCJjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uIiwiaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQiLCJsYXN0X3RyYWNlIiwibGFzdF90cmFjZV9mcm9tX2NsaWVudCIsIm5ld19pbmJveF91c2VycyIsIm5vdF9pbl9pbmJveF91c2VycyIsInJlYXNzaWduX3JlYXNvbiIsImRpZmZlcmVuY2UiLCJvcmdhbml6YXRpb24iLCJhZ2VudCIsImhhbmRsZXJfaWQiLCJoYW5kbGVyX2luZm8iLCJuZXdfYXBwciIsIm5ld191c2VyIiwidXNlcl9vcmdhbml6YXRpb24iLCJnZXRBZ2VudCIsInNldFJlbWluZEluZm8iLCJhaCIsImFwcHJvdmVfdXNlcnMiLCJjdXJyZW50X3NldHAiLCJjdXJyZW50X3NldHBfdHlwZSIsIm5leHRfc3RlcCIsIm5leHRfc3RlcF9uYW1lIiwibmV4dF9zdGVwX3R5cGUiLCJyZWxvY2F0ZV9hcHByIiwicmVsb2NhdGVfY29tbWVudCIsInJlbG9jYXRlX2luYm94X3VzZXJzIiwicmVsb2NhdGVfbmV4dF9zdGVwIiwic2FtZVRyYWNlcyIsInNpZ25TaG93QXBwcm92ZUlkIiwidGEiLCJ0aSIsImdldFN0ZXAiLCJnZXRVcGRhdGVkVmFsdWVzIiwiZ2V0RHVlRGF0ZSIsInRpbWVvdXRfaG91cnMiLCJuZXh0X3N0ZXBfdXNlcl9pZCIsImlkeCIsIm5leHRfc3RlcF9zcGFjZV91c2VyIiwibmV4dF9zdGVwX3VzZXJfb3JnX2luZm8iLCJ1c2VyX2luZm8iLCJnZXRDdXJyZW50U3RlcEF1dG9TdWJtaXQiLCJ0aW1lb3V0X2F1dG9fc3VibWl0IiwibGluZXMiLCIkdW5zZXQiLCJpc0luc3RhbmNlRmluaXNoZWRBbmROb3RBcmNoaWV2ZWQiLCJpc0luc3RhbmNlU3VibWl0dGVyT3JBcHBsaWNhbnRPclNwYWNlQWRtaW4iLCJzdGFydHVwIiwiV2ViQXBwIiwiY29ubmVjdEhhbmRsZXJzIiwidXNlIiwiZWpzIiwiZWpzTGludCIsImVuZF9kYXRlIiwiZXJyb3Jfb2JqIiwiZmlsZU5hbWUiLCJmbG93X2lkcyIsImZvcm1fbmFtZSIsImluc190b194bHMiLCJsYW5nIiwibGFzdF9tb250aF9kYXRlIiwicmV0IiwidGltZXpvbmVvZmZzZXQiLCJ1aWQiLCJwYXJzZUludCIsImdldE15QWRtaW5Pck1vbml0b3JGbG93cyIsImdldE1vbnRoIiwic3VibWl0X2RhdGUiLCIkZ3RlIiwiJGx0ZSIsInJlcXVpcmUiLCJsaW50IiwiZm9ybWF0ZXIiLCJzZXRIZWFkZXIiLCJhdXRoX3Rva2VuIiwiZm9ybWlkcyIsImlzX2FkbWluIiwic3luY190b2tlbiIsImVuYWJsZWQiLCJnZXRfU3BhY2VDaGFuZ2VTZXQiLCJsYXN0X3RyYWNlX2lkIiwib3JnX2luZm8iLCJwcmV2aW91c19zdGVwIiwicHJldmlvdXNfdHJhY2UiLCJwcmV2aW91c190cmFjZV9hcHByb3ZlcyIsInByZXZpb3VzX3RyYWNlX2lkIiwicHJldmlvdXNfdHJhY2VfbmFtZSIsInByZXZpb3VzX3RyYWNlX3N0ZXBfaWQiLCJyZXRyaWV2ZV9hcHByb3ZlIiwicmV0cmlldmVfY29tbWVudCIsInJldHJpZXZlX3R5cGUiLCJ0aGVfdHJhY2UiLCJyZXRyaWV2ZV9hcHByIiwiYXBwciIsImN1cnJlbnRfdXNlcl9pZCIsImhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCIsImlzRm9yd2FyZEF0dGFjaG1lbnRzIiwic2VsZWN0ZWRVc2VycyIsImFjdGlvbl90eXBlIiwicmVsYXRlZCIsImZyb21fYXBwcm92ZV9pZCIsImNoZWNrIiwiTWF0Y2giLCJPbmVPZiIsIm9sZF9zcGFjZV9pZCIsImZvcndhcmRfdXNlcnMiLCJub19wZXJtaXNzaW9uX3VzZXJfaWRzIiwibm9fcGVybWlzc2lvbl91c2Vyc19uYW1lIiwibmV3X2luc19pZHMiLCJjdXJyZW50X3RyYWNlIiwiY3VycmVudF90cmFjZV9pZCIsImZvcndhcmRfYXBwcm92ZXMiLCJzZXRfb2JqIiwib2xkX3ZhbHVlcyIsIm5ld192YWx1ZXMiLCJvbGRfZm9ybSIsIm9sZF9mb3JtX3ZlcnNpb24iLCJvbGRfZmllbGRzIiwiY29tbW9uX2ZpZWxkcyIsInNlbGVjdF90b19pbnB1dF9maWVsZHMiLCJleGlzdHNfZmllbGQiLCJzZWxlY3RfaW5wdXRfZmllbGQiLCJvbGRfdiIsIm9sZF9tdWx0aVNlbGVjdGVkIiwibmV3X211bHRpU2VsZWN0ZWQiLCJvbGRfdGFibGVfcm93X3ZhbHVlcyIsIm5ld190YWJsZV9yb3dfdmFsdWVzIiwicmVjb3JkX25lZWQiLCJGT05EU0lEIiwiaW5zdGFuY2VfbmFtZSIsIm5hbWVfZm9ydW1sYSIsImlzY3JpcHQiLCJjYXRlZ29yeV9uYW1lIiwiZ2V0Q2F0ZWdvcnkiLCJpbnNfb2JqIiwiaGFuZGxlcl9zcGFjZV91c2VyIiwiaGFuZGxlcl9vcmdfaW5mbyIsIl9tYWtlTmV3SUQiLCJzdWJtaXR0ZXJfbmFtZSIsImFwcGxpY2FudF9vcmdhbml6YXRpb24iLCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWUiLCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX2Z1bGxuYW1lIiwiZm9yd2FyZF9mcm9tX2luc3RhbmNlIiwidHJhY2Vfb2JqIiwic3RlcF9pZCIsInN0ZXBfbmFtZSIsImFwcHJfb2JqIiwiYXV0b19yZW1pbmQiLCJmbG93X25hbWUiLCJjb2xsZWN0aW9uIiwiaW5zdGFuY2VIdG1sIiwiaW5zdGFuY2VGaWxlIiwiRlMiLCJGaWxlIiwiYXR0YWNoRGF0YSIsIkJ1ZmZlciIsImZyb20iLCJzaXplIiwib3duZXIiLCJvd25lcl9uYW1lIiwiZmlsZU9iaiIsIm1haW4iLCJuZXdGaWxlIiwiY3JlYXRlUmVhZFN0cmVhbSIsIm9yaWdpbmFsIiwiJGFkZFRvU2V0IiwiJGVhY2giLCJ1cGRhdGVfcmVhZCIsImZsb3dJZCIsImluc0lkIiwicmVkaXJlY3RUbyIsInJlZGlyZWN0VG9VcmwiLCJyZXFfYXN5bmMiLCJwYXJhbXMiLCJzdGF0dXMiLCJzZW5kIiwid3JpdGVIZWFkIiwiYXR0YWNoIiwibGltaXQiLCJub19saW1pdF9jb3VudCIsInJlZjUiLCJyZXN1bHRfaW5zdGFuY2VzIiwic3BhY2VfbmFtZXMiLCJzcGVjaWFsX3VzZXJfaWQiLCJ1c2VyaWQiLCJ3b3JrZmxvd19jYXRlZ29yaWVzIiwiQVBJQXV0aGVudGljYXRpb25DaGVjayIsImhlYWRlcnMiLCJyZWY2IiwicmVmNyIsImNvcGllcyIsIkNvb2tpZXMiLCJhdXRoVG9rZW4iLCJpc1NwYWNlQWRtaW4iLCJpc19wYWlkIiwiYXBwbGljYW50SW5mbyIsImFwcGxpY2FudF9pZCIsImFwcGxpY2FudF91c2VybmFtZSIsImluc19pZCIsInBlcm1fdXNlcnMiLCJuZXh0X3N0ZXBfaWQiLCJuZXh0X3VzZXJfaWRzIiwicmVxdWlyZV9idXRfZW1wdHlfZmllbGRzIiwiaXNJbnN0YW5jZURyYWZ0IiwiZ2V0Rm9ybSIsImNoZWNrVmFsdWVGaWVsZHNSZXF1aXJlIiwiZ2V0TmV4dFN0ZXBzIiwiZ2V0SGFuZGxlcnNNYW5hZ2VyIiwiZ2V0SGFuZGxlcnMiLCJzdGVwbmFtZSIsIiRlbGVtTWF0Y2giLCJpbmJveF91ZXJzIiwiYXBwcm92ZV9pZCIsInBhcnNlRmlsZXMiLCJtaW1lVHlwZSIsImlzX3ByaXZhdGUiLCJsb2NrZWRfYnkiLCJsb2NrZWRfYnlfbmFtZSIsImF0dGFjaF9pZCIsImZpbGUiLCJjb2x1bW5zIiwiZm9yd2FyZF9pbnMiLCJmb3J3YXJkX2luc192YWx1ZXMiLCJvcmlnaW5hbF9pbnMiLCJvcmlnaW5hbF9pbnNfZmllbGRzIiwib3JpZ2luYWxfaW5zX2Zvcm0iLCJvcmlnaW5hbF9pbnNfaWQiLCJvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMiLCJyZWY4IiwicmVmOSIsInJvd19kYXRhIiwic3ViVGFibGUiLCJ0YWJsZV9kYXRhIiwiY29sdW1uIiwib3JpZ2luYWxfaW5zX2ZpZWxkIiwib2giLCJhX3RhYmxlIiwiYV90YWJsZV92YWx1ZXMiLCJjb2x1bW5fbGlzdCIsImRfaW5zIiwiZF9pbnNfZmllbGRzIiwiZF9pbnNfZm9ybSIsImRfaW5zX3ZhbHVlcyIsImRfbWF0Y2hfY29sIiwiZF9tYXRjaF9jb2xfZmllbGQiLCJkX21hdGNoX2NvbF9maWVsZHMiLCJkX3N1YnRhYmxlX2ZpZWxkcyIsImRfdGFibGUiLCJkX3RhYmxlX3ZhbHVlcyIsIm9faW5zIiwib19pbnNfZmllbGRzIiwib19pbnNfZm9ybSIsIm9faW5zX2lkIiwib19tYXRjaF9jb2wiLCJvX21hdGNoX2NvbF9maWVsZCIsIm9fbWF0Y2hfY29sX2ZpZWxkcyIsIm9fc3VidGFibGVfZmllbGRzIiwib190YWJsZSIsInJlZjEwIiwicmVmMTEiLCJyZWYxMiIsInJlZjEzIiwicmVmMTQiLCJyZWYxNSIsInJlZjE2IiwicmVmMTciLCJyZWYxOCIsInJlZjE5IiwicmVmMjAiLCJyZWYyMSIsInJlZjIyIiwib1RhYmxlIiwiZFRhYmxlIiwib01hdGNoQ29sIiwiZE1hdGNoQ29sIiwicmVmaWxsQ29sIiwiYVRhYmxlIiwib19pbnNfZmllbGQiLCJkX2luc19maWVsZCIsImRoIiwiYV9yb3ciLCJyZXN1bHRzIiwibSIsImNvbCIsImNvbHMiLCJkX2NvbCIsImRfY29sX2ZpZWxkcyIsIm9fY29sIiwib19jb2xfZmllbGRzIiwiZF9yb3ciLCJoYXNfb2JqIiwib19yb3ciLCJuZXdfdGFibGVfdmFsdWVzIiwic29ydF9jb2wiLCJzdWJfdGFibGUiLCJzdWJfdGFibGVfdmFsdWVzIiwic3VtX2NvbCIsInN1bUNvbCIsInNvcnRDb2wiLCJzaW5nbGVDb2xzIiwiSnNvblNvcnQiLCJqc29uQXJyIiwiYXNjIiwiaiIsImpsIiwidGVtcCIsIk51bWJlciIsImlzRGV2ZWxvcG1lbnQiLCJhY3Rpb24iLCJ0b191c2VycyIsImdldEZvcm11bGFVc2VyT2JqZWN0cyIsIm9yZ0lkcyIsImdldEZvcm11bGFPcmdPYmplY3RzIiwibWV0aG9kcyIsInNldF9pbnN0YW5jZV9zdGVwX2FwcHJvdmUiLCJzdGVwX2FwcHJvdmUiLCJzdGVwc0FwcHJvdmVzT3B0aW9ucyIsIl9rZXlzMSIsIl9rZXlzMiIsInN0ZXBzQXBwcm92ZXMiLCJzdGVwQXBwcm92ZXMiLCJzdGVwc0FwcHJvdmVPcHRpb25zIiwic2V0X2luc3RhbmNlX3NraXBfc3RlcHMiLCIkcHVsbCIsInNraXBfc3RlcHMiLCIkcHVzaCIsImdldF9pbnN0YW5jZV9kYXRhIiwiZm9ybUNhY2hlZCIsImZsb3dDYWNoZWQiLCJkcmFmdF9zYXZlX2luc3RhbmNlIiwidHJhY2VfaWQiLCJuZXh0X3N0ZXBzIiwiZm9ybV9pZCIsImtleV9zdHIiLCJpc0luc3RhbmNlU3VibWl0dGVyIiwib3JnX2lkIiwiZ2V0SW5zdGFuY2VOYW1lIiwiaW5ib3hfc2F2ZV9pbnN0YW5jZSIsImlzVHJhY2VOb3RGaW5pc2hlZCIsImlzQXBwcm92ZU5vdEZpbmlzaGVkIiwiaXNIYW5kbGVyT3JBZ2VudCIsInBlcm1pc3Npb25zX3ZhbHVlcyIsImdldEFwcHJvdmVWYWx1ZXMiLCJjaGFuZ2VfdmFsdWVzIiwiYXBwcm92ZU1hbmFnZXIiLCJnZXRDaGFuZ2VWYWx1ZXMiLCJleHRlbmQiLCJ2YWx1ZXNfaGlzdG9yeSIsImZvcm1fdiIsImNjX2RvIiwiY2NfdXNlcl9pZHMiLCJuZXdfYXBwcm92ZXMiLCJmaWxlZHMiLCJjY19yZWFkIiwiY2Nfc3VibWl0IiwidGlkeCIsImFpZHgiLCJ1cG9iaiIsInVwZGF0ZWRfdmFsdWVzIiwiY2NfcmVtb3ZlIiwicmVtb3ZlX3VzZXJfaWQiLCJtdWx0aSIsImNjX3NhdmUiLCJjdXJyZW50U3RlcElkIiwidXBkYXRlT2JqIiwicHVzaE9iaiIsImZvcndhcmRfcmVtb3ZlIiwiaGFzQWRtaW5QZXJtaXNzaW9uIiwiZm9yd2FyZF9pbnN0YW5jZV9pZCIsImRlbGV0ZWRfZm9yd2FyZF9pbnN0YW5jZV9pZCIsImNhbmNlbERpc3RyaWJ1dGUiLCJhcHByb3ZlX2lkcyIsImV4aXN0cyIsImNmc19pbnN0YW5jZXNfcmVtb3ZlIiwiZmlsZV9pZCIsImNmc19pbnN0YW5jZXNfc2V0X2N1cnJlbnQiLCJjZnNfaW5zdGFuY2VzX2xvY2siLCJjZnNfaW5zdGFuY2VzX3VubG9jayIsImRvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2siLCJjZnNSZWNvcmRJZHMiLCJpc19jbG91ZGFkbWluIiwic3RvcmUiLCJmcyIsIl9fbWV0ZW9yX2Jvb3RzdHJhcF9fIiwic2VydmVyRGlyIiwiYWJzb2x1dGVQYXRoIiwicmVzb2x2ZSIsInN5bmMiLCJ0aW1lIiwiZG93bmxvYWRGYWlsZWRSZWNvcmRJZHMiLCJmaWxlUGF0aCIsIndyYXBBc3luYyIsIndyaXRlciIsImNyZWF0ZVdyaXRlU3RyZWFtIiwiaXNGdW5jdGlvbiIsInJlYWRlciIsInBpcGUiLCJ0aW1lRW5kIiwic2V0X2FwcHJvdmVfaGF2ZV9yZWFkIiwic2VsZiIsImNoYW5nZV9hcHByb3ZlX2luZm8iLCJ1cGRhdGVfYXBwcm92ZV9zaWduIiwic2lnbl90eXBlIiwibGFzdFNpZ25BcHByb3ZlIiwiY3VycmVudEFwcHJvdmVEZXNjcmlwdGlvbiIsImN1cnJlbnRUcmFjZSIsInNlc3Npb25fdXNlcklkIiwidHJpbURlc2NyaXB0aW9uIiwidXBPYmoiLCJrZWVwTGFzdFNpZ25BcHByb3ZlRGVzY3JpcHRpb24iLCJjdXN0b21fc2lnbl9zaG93IiwidElkeCIsImFJZHgiLCJ1cGRhdGVfc2lnbl9zaG93Iiwib2JqcyIsIm15QXBwcm92ZV9pZCIsImluc3RhbmNlX3JldHVybiIsImFwcHJvdmVfdmFsdWVzIiwicHJlX3N0ZXAiLCJwcmVfdHJhY2UiLCJyZXN0X2NvdW50ZXJfdXNlcnMiLCJpbnN0YW5jZV9yZW1pbmQiLCJyZW1pbmRfdXNlcnMiLCJyZW1pbmRfY291bnQiLCJyZW1pbmRfZGVhZGxpbmUiLCJhY3Rpb25fdHlwZXMiLCJsYXN0X3JlbWluZF91c2VycyIsInByaW9yaXR5IiwiYXAiLCJjYWN1bGF0ZV9kYXRlIiwibWFudWFsX2RlYWRsaW5lIiwiY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkiLCJyZW1pbmRfZGF0ZSIsImNhY3VsYXRlV29ya2luZ1RpbWUiLCJiYXNlX2RhdGUiLCJwbHVzX2hhbGZkYXlfZGF0ZSIsInNlbmRSZW1pbmRTTVMiLCJuZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kIiwiYXBwcm92ZXJfcm9sZXMiLCJyb2xlc19uYW1lIiwicm9sZV9uYW1lIiwiX2V2YWwiLCJfTlVNQkVSIiwiX1lZWVkiLCJudW1iZXJSdWxlcyIsInJ1bGVzIiwic2NyaXB0IiwiaW5zdGFuY2VfbnVtYmVyX3J1bGVzIiwibnVtYmVyIiwiWVlZWSIsIk1NIiwibW0iLCJERCIsImdldERhdGUiLCJkZCIsImZpcnN0X251bWJlciIsIk5VTUJFUiIsIm5ld05vIiwiX2Vycm9yIiwiY2hlY2tfbWFpbl9hdHRhY2giLCJjaGVja01haW5BdHRhY2giLCJyZW1vdmVfcmVsYXRlZCIsInJlX2luc19pZCIsInVwZGF0ZV9pbnN0YW5jZV9yZWxhdGVkIiwidXBkYXRlRmxvd1Bvc2l0aW9uIiwicm9sZSIsInVwZGF0ZUZsb3dSb2xlIiwic3RhcnRfZmxvdyIsImtleVZhbHVlIiwic3RhcnRfZmxvd3MiLCJzdGVlZG9zX2tleXZhbHVlcyIsImdldF9pbnN0YW5jZV90cmFjZXMiLCJtaW5pQXBwcm92ZUZpZWxkcyIsImNhdGVnb3J5SWQiLCJmbG93SWRzIiwiX2JhdGNoX2luc3RhbmNlcyIsImdldEJhdGNoSW5zdGFuY2VzIiwibXlBcHByb3ZlcyIsIm15X2FwcHJvdmUiLCJnZXRNeUFwcHJvdmUiLCJjaGFuZ2VfZmxvd19zdGF0ZSIsIl91c2VySWQiLCJfZmxvd3MiLCJfZmxvd3Nfc3RhdGUiLCJmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUiLCJzcGVjaWZ5U3RlcCIsImFwcHJvdmVyX3N0ZXAiLCJfc3RlcCIsImZpZWxkc19tb2RpZmlhYmxlIiwiaGlkZV9pbnN0YW5jZSIsImlzX2hpZGRlbiIsImdldEluc3RhbmNlVmFsdWVzIiwiZ2V0SW5zdGFuY2VSZWFkT25seSIsIl9oYXNQZXJtaXNzaW9uIiwiX2xvY2FsZSIsIl9wYXJlbnRfaW5zdGFuY2VzIiwiZGF0YUJ1ZiIsImhpZGVfdHJhY2VzIiwic3BhY2VVc2VyQ291bnQiLCJnZXRBUElMb2dpblVzZXIiLCJhY2Nlc3NfdG9rZW4iLCJnZXRVc2VySWRGcm9tQWNjZXNzVG9rZW4iLCJoYXNJbnN0YW5jZVBlcm1pc3Npb25zIiwiX3BhcmVudF9pZCIsIl9wYXJlbnRfaW5zIiwiY2hhcnNldCIsInJldF9zeW5jX3Rva2VuIiwic3BhY2VVc2VyIiwiY2FuTW9uaXRvciIsIiRndCIsIiRuaW4iLCJza2lwIiwiYWxsQ3NzIiwiZ2V0UmVmcmVzaGFibGVBc3NldHMiLCJjc3MiLCJST09UX1VSTCIsImVuZHNXaXRoIiwiZyIsImsiLCJnZXRFYWNoIiwibWl4aW4iLCJkZXN0IiwiaGFuZGVyVXNlck9iamVjdCIsImhyIiwic29ydF9ubyIsIm1vYmlsZSIsIndvcmtfcGhvbmUiLCJwb3NpdGlvbiIsInVzZXJSb2xlcyIsImhhbmRlck9yZ09iamVjdCIsIl9fdmFsdWVzIiwidGFibGVGaWVsZHMiLCJ0YWJsZVZhbHVlcyIsImZvcm11bGFUYWJsZVZhbHVlcyIsIl9fdGFibGVWYWx1ZXMiLCJ0YWJsZWZpZWxkIiwiZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXMiLCJyb2xlX2lkcyIsImdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMiLCJyb2xlX2lkIiwiZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlIiwiZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUiLCJnZXRIYW5kbGVyc0J5T3Jnc0FuZFJvbGVzIiwib3JnX2lkcyIsImdldEhhbmRsZXJzQnlPcmdBbmRSb2xlcyIsInBhcmVudF9pZCIsIl9hcHByb3ZlIiwiX3NwYWNlX3VzZXIiLCJfdHJhY2UiLCJhcHBsaWNhbnRTdXBlcmlvcnMiLCJhcHByb3Zlcl9vcmdfZmllbGQiLCJhcHByb3Zlcl9vcmdfaWRzIiwiYXBwcm92ZXJfdXNlcl9maWVsZCIsImFwcHJvdmVyX3VzZXJfaWRzIiwiY3VycmVudF9mbG93IiwiY3VycmVudF9mbG93X3ZlcnNpb24iLCJjdXJyZW50X2Zvcm0iLCJjdXJyZW50X3N0ZXBzIiwiZmllbGRfY29kZSIsImZpbmlzaGVkX3RyYWNlcyIsImZsb3dfcmV2IiwiZm9ybV9yZXYiLCJoYW5kbGVycyIsIm1heF9zdGFydERhdGVfdHJhY2UiLCJuZXdfYXBwcm92ZXJfdXNlcl9pZHMiLCJuZXdfb3JnX3VzZXJfaWRzIiwibmV3ZXN0X3ZhbHVlcyIsIm5leHRfc3RlcF91c2VycyIsIm9yZ19pZHNfbmFtZXMiLCJvcmdfdXNlcl9pZHMiLCJzcGFjZV91c2VyX2NvdW50Iiwic3VibWl0dGVyX3VzZXJfY291bnQiLCJ1bmZpbmlzaGVkX3RyYWNlIiwidXNlcl9pZHNfbmFtZXMiLCJ2YWxpZF9hcHByb3Zlcl9vcmdfaWRzIiwiaGlzdG9yeSIsImFwcHJvdmVyX3JvbGUiLCJyb2xlX2NvdW50IiwiYXBwcm92ZXJfaHJfcm9sZXMiLCJjdXJyZW50X2Zsb3dfaGlzdG9yeSIsImZvcm1faGlzdG9yeSIsImZvcm1fZmllbGQiLCJjaGVja19vcmdfY291bnQiLCJjaGVja19vcmdzIiwib3JnX2NoaWxkcmVuIiwib3JnX3VzZXJzIiwiY2hlY2tfb3JnX3VzZXIiLCJvcmdfdXNlciIsImNoZWNrX3VzZXJfY291bnQiLCJhcHByb3ZlX3VzZXIiLCJjaGVja19hcHByb3ZlX3VzZXJfY291bnQiLCJhcHByb3Zlcl9vcmdzIiwiYXBwcm92ZXJfb3JnX2lkIiwidmFsaWRfYXBwcm92ZXJfb3JnX2lkIiwiY2hpbGRfb3JncyIsInZhbGlkX2FwcHJvdmVyX29yZyIsImNoaWxkX29yZyIsIm9yZ191c2VyX2lkIiwic3BhY2VfdXNlcl9pbmZvX2NvdW50IiwiYXBwcm92ZXJfdXNlcnMiLCJhcHByb3Zlcl91c2VyX2lkIiwiX3RyIiwiX2FwcCIsIm15X3Blcm1pc3Npb25zIiwib3Jnc19jYW5fYWRkIiwib3Jnc19jYW5fYWRtaW4iLCJvcmdzX2Nhbl9tb25pdG9yIiwidXNlcnNfY2FuX2FkZCIsInVzZXJzX2Nhbl9hZG1pbiIsInVzZXJzX2Nhbl9tb25pdG9yIiwibGFzdF92YWx1ZXMiLCJhcHByb3ZlX3ZhbHVlc19rZXlzIiwiY2hhbmdlVmFsdWVzIiwibGFzdF92YWx1ZXNfa2V5cyIsImlzRXF1YWwiLCJmbG93TWFuYWdlciIsImdldENhdGVnb3JpZXNGbG93cyIsImNhdGVnb3JpZUlkIiwiY2F0ZWdvcmllc0Zvcm1zIiwiZm9ybU1hbmFnZXIiLCJnZXRDYXRlZ29yaWVzRm9ybXMiLCJnZXRVbkNhdGVnb3JpZXNGbG93cyIsInVuQ2F0ZWdvcmllc0Zvcm1zIiwiZ2V0VW5DYXRlZ29yaWVzRm9ybXMiLCJfZmllbGRzIiwic3RlcE1hbmFnZXIiLCJhbGxvd0JhdGNoIiwiaXNFeGlzdFN0ZXAiLCJsb2dnZXIiLCJMb2dnZXIiLCJoYW5kbGVySW5zdGFuY2VCeUZpZWxkTWFwIiwiZmllbGRfbWFwIiwiY3VycmVudEFwcHJvdmVzIiwiY3VycmVudFRyYWNlcyIsImdldEN1cnJlbnRUcmFjZSIsImluYm94X3VzZXIiLCJGSUVMRFMiLCJjYXRlZ29yeUZsb3dzIiwiaW5ib3hfaW5zdGFuY2VzIiwidW5DYXRlZ29yeUZsb3dzIiwiYXBwcm92ZV9zdGFydF9kYXRlIiwicHVibGlzaCIsInJlYWR5IiwiYXBwIiwicHVibGlzaENvbXBvc2l0ZSIsInRhYmxlTmFtZSIsImlkcyIsIk9wdGlvbmFsIiwidW5ibG9jayIsImNoaWxkcmVuIiwiY3JlYXRlVGVtcGxhdGVGb3JtQW5kRmxvdyIsImRpc3RyaWJ1dGVfdG9fc2VsZiIsInZlcnNpb25JZCIsImhhbmRsZSIsImxhdGVzdCIsIm9ic2VydmVDaGFuZ2VzIiwiY2hhbmdlZCIsImFkZGVkIiwib25TdG9wIiwic3RvcCIsImRpc3RyaWJ1dGVfZW5kX25vdGlmaWNhdGlvbiIsImFsbG93X3NlbGVjdF9zdGVwIiwiZ2V0TWluaUluc3RhbmNlIiwiZ2V0TXlhcHByb3ZlTW9kaWZpZWQiLCJpbnN0YW5jZV9maWVsZHNfMCIsIm5lZWRDaGFuZ2UiLCJ0cmlnZ2VyQ2hhbmdlRmllbGRzIiwidHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlcyIsIm15QXBwcm92ZU1vZGlmaWVkcyIsIl9pbnN0YW5jZUlkIiwiY2hhbmdlRmllbGRzIiwiX2NoYW5nZSIsIl9yZXYiLCJfbXlfYXBwcm92ZV9tb2RpZmllZHMiLCJnZXRJbnN0YW5jZVRyYWNlcyIsIl9pbnNJZCIsImFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZSIsImxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUiLCJpbnN0YW5jZWlkIiwiZGF0YU1hcCIsIm9wZXJhdGlvbiIsInJhd0NvbGxlY3Rpb24iLCJhZ2dyZWdhdGUiLCJ0b0FycmF5IiwiZG9jIiwiZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlIiwiZ2V0U3RlcEN1cnJlbnROYW1lIiwibm90RmluaXNoZWRUcmFjZXMiLCJzdGVwQ3VycmVudE5hbWUiLCIkc2xpY2UiLCJteUxhc3RGaW5pc2hlZEFwcHJvdmUiLCJhZ2VudF91c2VyX25hbWUiLCJteV9maW5pc2hfZGF0ZSIsImlzX2NjIiwiY2NfY291bnQiLCJpbnN0YW5jZV9pZHMiLCJyZWxhdGVkX2luc3RhbmNlX2lkcyIsIl9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlIiwiX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUiLCJfaXRlbXMiLCIkbWF0Y2giLCIkZ3JvdXAiLCIkc3VtIiwiX2NoYW5nZURhdGEiLCJfZmxvd3NEYXRhIiwiX2luaXQiLCJkYXRhSXRlbSIsImZsb3dfaW5zdGFuY2UiLCJvYnNlcnZlIiwiZ2V0Q29sbGVjdGlvbiIsIndvcmtmbG93VGVtcGxhdGUiLCJhYnNvbHV0ZV9wYXRoX2NuIiwiYWJzb2x1dGVfcGF0aF91cyIsImZpbGVzTGlzdF9jbiIsImZpbGVzTGlzdF91cyIsIm1pbWUiLCJwYXRoX2NuIiwicGF0aF91cyIsInJlYWRGaWxlTGlzdCIsInBhdGhEaXIiLCJmaWxlc0xpc3QiLCJyZWFkZGlyU3luYyIsInN0YXQiLCJzdGF0U3luYyIsImlzRGlyZWN0b3J5Iiwid29ya2Zsb3dUZW1wbGF0ZXMiLCJleGlzdHNTeW5jIiwicmVhZEZpbGVTeW5jIiwiZ29fbmV4dCIsInJ1bGUiLCJzY2hlZHVsZSIsImNyb24iLCJhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24iLCJzY2hlZHVsZUpvYiIsImJpbmRFbnZpcm9ubWVudCIsInByb2Nlc3NfZGVsZWdhdGlvbl9ydWxlcyIsImVuZF90aW1lIiwidGltZW91dEF1dG9TdWJtaXQiLCJUYWJ1bGFyVGFibGVzIiwicmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhciIsIlRhYnVsYXIiLCJUYWJsZSIsIm9yZGVyYWJsZSIsInJlbmRlciIsImlucHV0Iiwic3RlcF9jdXJyZW50X25hbWUiLCJkb20iLCJsZW5ndGhDaGFuZ2UiLCJleHRyYUZpZWxkcyIsInBhZ2VMZW5ndGgiLCJpbmZvIiwic2VhcmNoaW5nIiwicmVzcG9uc2l2ZSIsImRldGFpbHMiLCJhdXRvV2lkdGgiLCJjaGFuZ2VTZWxlY3RvciIsImN1clNwYWNlVXNlciIsIiRhbmQiLCJmbCIsIkdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zIiwiX2dldF9pbmJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zIiwiX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyIsIl9oYW5kbGVMaXN0RmllbGRzIiwiaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhciIsIm5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyIiwidXBkYXRlVGFidWxhclRpdGxlIiwic3VicyIsIlN1YnNNYW5hZ2VyIiwiaW5zX2ZpZWxkcyIsInB1YiIsIm9uVW5sb2FkIiwiaW5zdGFuY2VfbGlzdCIsIl90YWJsZUNvbHVtbnMiLCJkcmF3Q2FsbGJhY2siLCJlbGxpcHNpc0xpbmsiLCJlbXB0eVRkIiwiY29sU3BhbiIsImlzUGFkIiwicGVyZmVjdFNjcm9sbGJhciIsIm9JbnN0YW5jZSIsImF0dHIiLCJjbGljayIsImdvUGFnZSIsImhlaWdodCIsInBhZ2VzIiwiY2VpbCIsImZuUmVjb3Jkc0Rpc3BsYXkiLCJfaURpc3BsYXlMZW5ndGgiLCJEYXRhVGFibGUiLCJwYWdlIiwiZHJhdyIsImJsdXIiLCJjdXJyZW50UGFnZSIsImtleWRvd24iLCJrZXlDb2RlIiwiY3JlYXRlZFJvdyIsInJvdyIsImRhdGFJbmRleCIsIkZsb3dSb3V0ZXIiLCJzZXRBdHRyaWJ1dGUiLCJhZ2VudF92aWV3IiwiY2NfdmlldyIsImluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MiLCJpc0Zhdm9yaXRlU2VsZWN0ZWQiLCJtb2RpZmllZEZyb21Ob3ciLCJtb2RpZmllZFN0cmluZyIsInByaW9yaXR5SWNvbiIsInByaW9yaXR5SWNvbkNsYXNzIiwicHJpb3JpdHlWYWx1ZSIsInN0ZXBfY3VycmVudF9uYW1lX3ZpZXciLCJ1bnJlYWQiLCJtb21lbnRSZWFjdGl2ZUZyb21Ob3ciLCJGYXZvcml0ZXMiLCJpc1JlY29yZFNlbGVjdGVkIiwidmlzaWJsZSIsImNjX3RhZyIsImxlbmd0aE1lbnUiLCJwYWdpbmdUeXBlIiwiaXNfbGlzdF9kaXNwbGF5IiwiZmlsdGVyZWRSZWNvcmRJZHMiLCJvbGRfZmlsdGVyZWRSZWNvcmRJZHMiLCJmaW5kT3B0aW9ucyIsImFnX3NvcnQiLCJhZ2dyZWdhdGVfb3BlcmF0aW9uIiwiYXN5bmNfYWdncmVnYXRlIiwiczFfMCIsInMxXzEiLCIkcHJvamVjdCIsIiR1bndpbmQiLCIkZmlyc3QiLCIkc29ydCIsIiRza2lwIiwiJGxpbWl0IiwiY2IiLCIkbGFzdCIsIm91dGJveF9pbnN0YW5jZXMiLCJmbG93SW5zdGFuY2VzIiwiUmVhY3RpdmVWYXIiLCJfY2hhbmdlT3JkZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxnQkFBSjtBQUFxQkMsTUFBTSxDQUFDQyxJQUFQLENBQVksb0NBQVosRUFBaUQ7QUFBQ0Ysa0JBQWdCLENBQUNHLENBQUQsRUFBRztBQUFDSCxvQkFBZ0IsR0FBQ0csQ0FBakI7QUFBbUI7O0FBQXhDLENBQWpELEVBQTJGLENBQTNGO0FBQ3JCSCxnQkFBZ0IsQ0FBQztBQUNoQixtQkFBaUIsUUFERDtBQUVoQkksU0FBTyxFQUFFLFFBRk87QUFHaEIsWUFBVSxTQUhNO0FBSWhCQyxRQUFNLEVBQUU7QUFKUSxDQUFELEVBS2Isa0JBTGEsQ0FBaEIsQzs7Ozs7Ozs7Ozs7QUNEQTs7Ozs7Ozs7Ozs7OztBQWFDLFdBQVVDLElBQVYsRUFBZ0JDLE9BQWhCLEVBQXlCO0FBQ3pCLGVBRHlCLENBRXpCO0FB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RDtBQUdDLFVBQUk4aEQsUUFBUUMsS0FBWixDQUFrQmtCLDhCQUE4Qmx6QyxHQUE5QixFQUFtQ211QixNQUFuQyxFQUEyQ2wrQixNQUEzQyxDQUFsQjtBQzBGRTs7QUFDRCxXRDFGRmMsUUFBUUMsR0FBUixDQUFZLG9CQUFaLEVBQWtDckssR0FBbEMsQ0MwRkU7QUFDRDtBRHhHdUIsQ0FBMUI7O0FBZUEsSUFBR3dKLE9BQU9DLFFBQVY7QUFDQ0QsU0FBT2luQyxPQUFQLENBQ0M7QUFBQW1jLDZCQUF5QixVQUFDdnpDLEdBQUQsRUFBTW11QixNQUFOO0FBQ3hCLFVBQUFsK0IsTUFBQSxFQUFBd0csSUFBQSxFQUFBM0YsR0FBQSxFQUFBa0csSUFBQTtBQUFBdThDLDhCQUF3QnZ6QyxHQUF4QixFQUE2Qm11QixNQUE3QjtBQUVBMTNCLGFBQU9sRyxHQUFHb0csS0FBSCxDQUFTbEcsT0FBVCxDQUFpQjtBQUFDQyxhQUFLeTlCO0FBQU4sT0FBakIsRUFBZ0M7QUFBQ2wrQixnQkFBUTtBQUFDSixnQkFBTTtBQUFQO0FBQVQsT0FBaEMsQ0FBUDtBQUNBSSxlQUFBLENBQUFhLE1BQUFQLEdBQUFDLEtBQUEsQ0FBQUMsT0FBQTtBQ21HS0MsYUFBSytGLFFBQVEsSUFBUixHQUFlQSxLQUFLNUcsSUFBcEIsR0FBMkIsS0FBSztBRG5HMUMsU0NvR007QUFDREksZ0JBQVE7QUFDTiw0QkFBa0I7QUFEWjtBQURQLE9EcEdOLE1Dd0dVLElEeEdWLEdDd0dpQixDQUFDK0csT0FBT2xHLElBQUl1RixPQUFaLEtBQXdCLElBQXhCLEdBQStCVyxLRHhHOEMvRyxNQ3dHN0UsR0R4RzZFLE1BQTlGLEdBQThGLE1BQTlGO0FBQ0EsYUFBT0EsTUFBUDtBQUxEO0FBQUEsR0FERDtBQ2lIQSxDIiwiZmlsZSI6Ii9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2hlY2tOcG1WZXJzaW9ucyB9IGZyb20gJ21ldGVvci90bWVhc2RheTpjaGVjay1ucG0tdmVyc2lvbnMnO1xuY2hlY2tOcG1WZXJzaW9ucyh7XG5cdFwibm9kZS1zY2hlZHVsZVwiOiBcIl4xLjMuMVwiLFxuXHRjb29raWVzOiBcIl4wLjYuMlwiLFxuXHRcInhtbDJqc1wiOiBcIl4wLjQuMTlcIixcblx0bWtkaXJwOiBcIl4wLjMuNVwiLFxufSwgJ3N0ZWVkb3M6d29ya2Zsb3cnKTsiLCIvKiFcbiAqIFVSSS5qcyAtIE11dGF0aW5nIFVSTHNcbiAqXG4gKiBWZXJzaW9uOiAxLjE3LjBcbiAqXG4gKiBBdXRob3I6IFJvZG5leSBSZWhtXG4gKiBXZWI6IGh0dHA6Ly9tZWRpYWxpemUuZ2l0aHViLmlvL1VSSS5qcy9cbiAqXG4gKiBMaWNlbnNlZCB1bmRlclxuICogICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKiAgIEdQTCB2MyBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvR1BMLTMuMFxuICpcbiAqL1xuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzXG5cdC8vIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0Ly8gICAvLyBOb2RlXG5cdC8vICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJy4vcHVueWNvZGUnKSwgcmVxdWlyZSgnLi9JUHY2JyksIHJlcXVpcmUoJy4vU2Vjb25kTGV2ZWxEb21haW5zJykpO1xuXHQvLyB9IGVsc2Vcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoWycuL3B1bnljb2RlJywgJy4vSVB2NicsICcuL1NlY29uZExldmVsRG9tYWlucyddLCBmYWN0b3J5KTtcblx0fSBlbHNlIHtcblx0XHQvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuXHRcdHJvb3QuVVJJID0gZmFjdG9yeShyb290LnB1bnljb2RlLCByb290LklQdjYsIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLCByb290KTtcblx0fVxufSh0aGlzLCBmdW5jdGlvbiAocHVueWNvZGUsIElQdjYsIFNMRCwgcm9vdCkge1xuXHQndXNlIHN0cmljdCc7XG5cdC8qZ2xvYmFsIGxvY2F0aW9uLCBlc2NhcGUsIHVuZXNjYXBlICovXG5cdC8vIEZJWE1FOiB2Mi4wLjAgcmVuYW1jZSBub24tY2FtZWxDYXNlIHByb3BlcnRpZXMgdG8gdXBwZXJjYXNlXG5cdC8qanNoaW50IGNhbWVsY2FzZTogZmFsc2UgKi9cblxuXHQvLyBzYXZlIGN1cnJlbnQgVVJJIHZhcmlhYmxlLCBpZiBhbnlcblx0dmFyIF9VUkkgPSByb290ICYmIHJvb3QuVVJJO1xuXG5cdGZ1bmN0aW9uIFVSSSh1cmwsIGJhc2UpIHtcblx0XHR2YXIgX3VybFN1cHBsaWVkID0gYXJndW1lbnRzLmxlbmd0aCA+PSAxO1xuXHRcdHZhciBfYmFzZVN1cHBsaWVkID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyO1xuXG5cdFx0Ly8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IHRoZSAnbmV3JyBrZXl3b3JkXG5cdFx0aWYgKCEodGhpcyBpbnN0YW5jZW9mIFVSSSkpIHtcblx0XHRcdGlmIChfdXJsU3VwcGxpZWQpIHtcblx0XHRcdFx0aWYgKF9iYXNlU3VwcGxpZWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gbmV3IFVSSSh1cmwsIGJhc2UpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIG5ldyBVUkkodXJsKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG5ldyBVUkkoKTtcblx0XHR9XG5cblx0XHRpZiAodXJsID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmIChfdXJsU3VwcGxpZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcigndW5kZWZpbmVkIGlzIG5vdCBhIHZhbGlkIGFyZ3VtZW50IGZvciBVUkknKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0dXJsID0gbG9jYXRpb24uaHJlZiArICcnO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dXJsID0gJyc7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5ocmVmKHVybCk7XG5cblx0XHQvLyByZXNvbHZlIHRvIGJhc2UgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjY29uc3RydWN0b3Jcblx0XHRpZiAoYmFzZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5hYnNvbHV0ZVRvKGJhc2UpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0VVJJLnZlcnNpb24gPSAnMS4xNy4wJztcblxuXHR2YXIgcCA9IFVSSS5wcm90b3R5cGU7XG5cdHZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5cdGZ1bmN0aW9uIGVzY2FwZVJlZ0V4KHN0cmluZykge1xuXHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2NvbW1pdC84NWFjMjE3ODNjMTFmOGNjYWIwNjEwNmRiYTk3MzVhMzFhODY5MjRkI2NvbW1pdGNvbW1lbnQtODIxOTYzXG5cdFx0cmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8W1xcXVxcL1xcXFxdKS9nLCAnXFxcXCQxJyk7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRUeXBlKHZhbHVlKSB7XG5cdFx0Ly8gSUU4IGRvZXNuJ3QgcmV0dXJuIFtPYmplY3QgVW5kZWZpbmVkXSBidXQgW09iamVjdCBPYmplY3RdIGZvciB1bmRlZmluZWQgdmFsdWVcblx0XHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuICdVbmRlZmluZWQnO1xuXHRcdH1cblxuXHRcdHJldHVybiBTdHJpbmcoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSkuc2xpY2UoOCwgLTEpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaXNBcnJheShvYmopIHtcblx0XHRyZXR1cm4gZ2V0VHlwZShvYmopID09PSAnQXJyYXknO1xuXHR9XG5cblx0ZnVuY3Rpb24gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YSwgdmFsdWUpIHtcblx0XHR2YXIgbG9va3VwID0ge307XG5cdFx0dmFyIGksIGxlbmd0aDtcblxuXHRcdGlmIChnZXRUeXBlKHZhbHVlKSA9PT0gJ1JlZ0V4cCcpIHtcblx0XHRcdGxvb2t1cCA9IG51bGw7XG5cdFx0fSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0Zm9yIChpID0gMCwgbGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0bG9va3VwW3ZhbHVlW2ldXSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxvb2t1cFt2YWx1ZV0gPSB0cnVlO1xuXHRcdH1cblxuXHRcdGZvciAoaSA9IDAsIGxlbmd0aCA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdC8qanNoaW50IGxheGJyZWFrOiB0cnVlICovXG5cdFx0XHR2YXIgX21hdGNoID0gbG9va3VwICYmIGxvb2t1cFtkYXRhW2ldXSAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdHx8ICFsb29rdXAgJiYgdmFsdWUudGVzdChkYXRhW2ldKTtcblx0XHRcdC8qanNoaW50IGxheGJyZWFrOiBmYWxzZSAqL1xuXHRcdFx0aWYgKF9tYXRjaCkge1xuXHRcdFx0XHRkYXRhLnNwbGljZShpLCAxKTtcblx0XHRcdFx0bGVuZ3RoLS07XG5cdFx0XHRcdGktLTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZGF0YTtcblx0fVxuXG5cdGZ1bmN0aW9uIGFycmF5Q29udGFpbnMobGlzdCwgdmFsdWUpIHtcblx0XHR2YXIgaSwgbGVuZ3RoO1xuXG5cdFx0Ly8gdmFsdWUgbWF5IGJlIHN0cmluZywgbnVtYmVyLCBhcnJheSwgcmVnZXhwXG5cdFx0aWYgKGlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHQvLyBOb3RlOiB0aGlzIGNhbiBiZSBvcHRpbWl6ZWQgdG8gTyhuKSAoaW5zdGVhZCBvZiBjdXJyZW50IE8obSAqIG4pKVxuXHRcdFx0Zm9yIChpID0gMCwgbGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKCFhcnJheUNvbnRhaW5zKGxpc3QsIHZhbHVlW2ldKSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHR2YXIgX3R5cGUgPSBnZXRUeXBlKHZhbHVlKTtcblx0XHRmb3IgKGkgPSAwLCBsZW5ndGggPSBsaXN0Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoX3R5cGUgPT09ICdSZWdFeHAnKSB7XG5cdFx0XHRcdGlmICh0eXBlb2YgbGlzdFtpXSA9PT0gJ3N0cmluZycgJiYgbGlzdFtpXS5tYXRjaCh2YWx1ZSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChsaXN0W2ldID09PSB2YWx1ZSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRmdW5jdGlvbiBhcnJheXNFcXVhbChvbmUsIHR3bykge1xuXHRcdGlmICghaXNBcnJheShvbmUpIHx8ICFpc0FycmF5KHR3bykpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBhcnJheXMgY2FuJ3QgYmUgZXF1YWwgaWYgdGhleSBoYXZlIGRpZmZlcmVudCBhbW91bnQgb2YgY29udGVudFxuXHRcdGlmIChvbmUubGVuZ3RoICE9PSB0d28ubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0b25lLnNvcnQoKTtcblx0XHR0d28uc29ydCgpO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGwgPSBvbmUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRpZiAob25lW2ldICE9PSB0d29baV0pIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0ZnVuY3Rpb24gdHJpbVNsYXNoZXModGV4dCkge1xuXHRcdHZhciB0cmltX2V4cHJlc3Npb24gPSAvXlxcLyt8XFwvKyQvZztcblx0XHRyZXR1cm4gdGV4dC5yZXBsYWNlKHRyaW1fZXhwcmVzc2lvbiwgJycpO1xuXHR9XG5cblx0VVJJLl9wYXJ0cyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRwcm90b2NvbDogbnVsbCxcblx0XHRcdHVzZXJuYW1lOiBudWxsLFxuXHRcdFx0cGFzc3dvcmQ6IG51bGwsXG5cdFx0XHRob3N0bmFtZTogbnVsbCxcblx0XHRcdHVybjogbnVsbCxcblx0XHRcdHBvcnQ6IG51bGwsXG5cdFx0XHRwYXRoOiBudWxsLFxuXHRcdFx0cXVlcnk6IG51bGwsXG5cdFx0XHRmcmFnbWVudDogbnVsbCxcblx0XHRcdC8vIHN0YXRlXG5cdFx0XHRkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnM6IFVSSS5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsXG5cdFx0XHRlc2NhcGVRdWVyeVNwYWNlOiBVUkkuZXNjYXBlUXVlcnlTcGFjZVxuXHRcdH07XG5cdH07XG5cdC8vIHN0YXRlOiBhbGxvdyBkdXBsaWNhdGUgcXVlcnkgcGFyYW1ldGVycyAoYT0xJmE9MSlcblx0VVJJLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9IGZhbHNlO1xuXHQvLyBzdGF0ZTogcmVwbGFjZXMgKyB3aXRoICUyMCAoc3BhY2UgaW4gcXVlcnkgc3RyaW5ncylcblx0VVJJLmVzY2FwZVF1ZXJ5U3BhY2UgPSB0cnVlO1xuXHQvLyBzdGF0aWMgcHJvcGVydGllc1xuXHRVUkkucHJvdG9jb2xfZXhwcmVzc2lvbiA9IC9eW2Etel1bYS16MC05ListXSokL2k7XG5cdFVSSS5pZG5fZXhwcmVzc2lvbiA9IC9bXmEtejAtOVxcLi1dL2k7XG5cdFVSSS5wdW55Y29kZV9leHByZXNzaW9uID0gLyh4bi0tKS9pO1xuXHQvLyB3ZWxsLCAzMzMuNDQ0LjU1NS42NjYgbWF0Y2hlcywgYnV0IGl0IHN1cmUgYWluJ3Qgbm8gSVB2NCAtIGRvIHdlIGNhcmU/XG5cdFVSSS5pcDRfZXhwcmVzc2lvbiA9IC9eXFxkezEsM31cXC5cXGR7MSwzfVxcLlxcZHsxLDN9XFwuXFxkezEsM30kLztcblx0Ly8gY3JlZGl0cyB0byBSaWNoIEJyb3duXG5cdC8vIHNvdXJjZTogaHR0cDovL2ZvcnVtcy5pbnRlcm1hcHBlci5jb20vdmlld3RvcGljLnBocD9wPTEwOTYjMTA5NlxuXHQvLyBzcGVjaWZpY2F0aW9uOiBodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmM0MjkxLnR4dFxuXHRVUkkuaXA2X2V4cHJlc3Npb24gPSAvXlxccyooKChbMC05QS1GYS1mXXsxLDR9Oil7N30oWzAtOUEtRmEtZl17MSw0fXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oOlswLTlBLUZhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs1fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs0fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05QS1GYS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M30oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsyfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezF9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNn0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KDooKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKSkoJS4rKT9cXHMqJC87XG5cdC8vIGV4cHJlc3Npb24gdXNlZCBpcyBcImdydWJlciByZXZpc2VkXCIgKEBncnViZXIgdjIpIGRldGVybWluZWQgdG8gYmUgdGhlXG5cdC8vIGJlc3Qgc29sdXRpb24gaW4gYSByZWdleC1nb2xmIHdlIGRpZCBhIGNvdXBsZSBvZiBhZ2VzIGFnbyBhdFxuXHQvLyAqIGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vdXJsLXJlZ2V4XG5cdC8vICogaHR0cDovL3JvZG5leXJlaG0uZGUvdC91cmwtcmVnZXguaHRtbFxuXHRVUkkuZmluZF91cmlfZXhwcmVzc2lvbiA9IC9cXGIoKD86W2Etel1bXFx3LV0rOig/OlxcL3sxLDN9fFthLXowLTklXSl8d3d3XFxkezAsM31bLl18W2EtejAtOS5cXC1dK1suXVthLXpdezIsNH1cXC8pKD86W15cXHMoKTw+XSt8XFwoKFteXFxzKCk8Pl0rfChcXChbXlxccygpPD5dK1xcKSkpKlxcKSkrKD86XFwoKFteXFxzKCk8Pl0rfChcXChbXlxccygpPD5dK1xcKSkpKlxcKXxbXlxcc2AhKClcXFtcXF17fTs6J1wiLiw8Pj/Cq8K74oCc4oCd4oCY4oCZXSkpL2lnO1xuXHRVUkkuZmluZFVyaSA9IHtcblx0XHQvLyB2YWxpZCBcInNjaGVtZTovL1wiIG9yIFwid3d3LlwiXG5cdFx0c3RhcnQ6IC9cXGIoPzooW2Etel1bYS16MC05ListXSo6XFwvXFwvKXx3d3dcXC4pL2dpLFxuXHRcdC8vIGV2ZXJ5dGhpbmcgdXAgdG8gdGhlIG5leHQgd2hpdGVzcGFjZVxuXHRcdGVuZDogL1tcXHNcXHJcXG5dfCQvLFxuXHRcdC8vIHRyaW0gdHJhaWxpbmcgcHVuY3R1YXRpb24gY2FwdHVyZWQgYnkgZW5kIFJlZ0V4cFxuXHRcdHRyaW06IC9bYCEoKVxcW1xcXXt9OzonXCIuLDw+P8KrwrvigJzigJ3igJ7igJjigJldKyQvXG5cdH07XG5cdC8vIGh0dHA6Ly93d3cuaWFuYS5vcmcvYXNzaWdubWVudHMvdXJpLXNjaGVtZXMuaHRtbFxuXHQvLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfVENQX2FuZF9VRFBfcG9ydF9udW1iZXJzI1dlbGwta25vd25fcG9ydHNcblx0VVJJLmRlZmF1bHRQb3J0cyA9IHtcblx0XHRodHRwOiAnODAnLFxuXHRcdGh0dHBzOiAnNDQzJyxcblx0XHRmdHA6ICcyMScsXG5cdFx0Z29waGVyOiAnNzAnLFxuXHRcdHdzOiAnODAnLFxuXHRcdHdzczogJzQ0Mydcblx0fTtcblx0Ly8gYWxsb3dlZCBob3N0bmFtZSBjaGFyYWN0ZXJzIGFjY29yZGluZyB0byBSRkMgMzk4NlxuXHQvLyBBTFBIQSBESUdJVCBcIi1cIiBcIi5cIiBcIl9cIiBcIn5cIiBcIiFcIiBcIiRcIiBcIiZcIiBcIidcIiBcIihcIiBcIilcIiBcIipcIiBcIitcIiBcIixcIiBcIjtcIiBcIj1cIiAlZW5jb2RlZFxuXHQvLyBJJ3ZlIG5ldmVyIHNlZW4gYSAobm9uLUlETikgaG9zdG5hbWUgb3RoZXIgdGhhbjogQUxQSEEgRElHSVQgLiAtXG5cdFVSSS5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMgPSAvW15hLXpBLVowLTlcXC4tXS87XG5cdC8vIG1hcCBET00gRWxlbWVudHMgdG8gdGhlaXIgVVJJIGF0dHJpYnV0ZVxuXHRVUkkuZG9tQXR0cmlidXRlcyA9IHtcblx0XHQnYSc6ICdocmVmJyxcblx0XHQnYmxvY2txdW90ZSc6ICdjaXRlJyxcblx0XHQnbGluayc6ICdocmVmJyxcblx0XHQnYmFzZSc6ICdocmVmJyxcblx0XHQnc2NyaXB0JzogJ3NyYycsXG5cdFx0J2Zvcm0nOiAnYWN0aW9uJyxcblx0XHQnaW1nJzogJ3NyYycsXG5cdFx0J2FyZWEnOiAnaHJlZicsXG5cdFx0J2lmcmFtZSc6ICdzcmMnLFxuXHRcdCdlbWJlZCc6ICdzcmMnLFxuXHRcdCdzb3VyY2UnOiAnc3JjJyxcblx0XHQndHJhY2snOiAnc3JjJyxcblx0XHQnaW5wdXQnOiAnc3JjJywgLy8gYnV0IG9ubHkgaWYgdHlwZT1cImltYWdlXCJcblx0XHQnYXVkaW8nOiAnc3JjJyxcblx0XHQndmlkZW8nOiAnc3JjJ1xuXHR9O1xuXHRVUkkuZ2V0RG9tQXR0cmlidXRlID0gZnVuY3Rpb24obm9kZSkge1xuXHRcdGlmICghbm9kZSB8fCAhbm9kZS5ub2RlTmFtZSkge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHR2YXIgbm9kZU5hbWUgPSBub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0Ly8gPGlucHV0PiBzaG91bGQgb25seSBleHBvc2Ugc3JjIGZvciB0eXBlPVwiaW1hZ2VcIlxuXHRcdGlmIChub2RlTmFtZSA9PT0gJ2lucHV0JyAmJiBub2RlLnR5cGUgIT09ICdpbWFnZScpIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIFVSSS5kb21BdHRyaWJ1dGVzW25vZGVOYW1lXTtcblx0fTtcblxuXHRmdW5jdGlvbiBlc2NhcGVGb3JEdW1iRmlyZWZveDM2KHZhbHVlKSB7XG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzkxXG5cdFx0cmV0dXJuIGVzY2FwZSh2YWx1ZSk7XG5cdH1cblxuXHQvLyBlbmNvZGluZyAvIGRlY29kaW5nIGFjY29yZGluZyB0byBSRkMzOTg2XG5cdGZ1bmN0aW9uIHN0cmljdEVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpIHtcblx0XHQvLyBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9lbmNvZGVVUklDb21wb25lbnRcblx0XHRyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZylcblx0XHRcdC5yZXBsYWNlKC9bIScoKSpdL2csIGVzY2FwZUZvckR1bWJGaXJlZm94MzYpXG5cdFx0XHQucmVwbGFjZSgvXFwqL2csICclMkEnKTtcblx0fVxuXHRVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50O1xuXHRVUkkuZGVjb2RlID0gZGVjb2RlVVJJQ29tcG9uZW50O1xuXHRVUkkuaXNvODg1OSA9IGZ1bmN0aW9uKCkge1xuXHRcdFVSSS5lbmNvZGUgPSBlc2NhcGU7XG5cdFx0VVJJLmRlY29kZSA9IHVuZXNjYXBlO1xuXHR9O1xuXHRVUkkudW5pY29kZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7XG5cdFx0VVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDtcblx0fTtcblx0VVJJLmNoYXJhY3RlcnMgPSB7XG5cdFx0cGF0aG5hbWU6IHtcblx0XHRcdGVuY29kZToge1xuXHRcdFx0XHQvLyBSRkMzOTg2IDIuMTogRm9yIGNvbnNpc3RlbmN5LCBVUkkgcHJvZHVjZXJzIGFuZCBub3JtYWxpemVycyBzaG91bGRcblx0XHRcdFx0Ly8gdXNlIHVwcGVyY2FzZSBoZXhhZGVjaW1hbCBkaWdpdHMgZm9yIGFsbCBwZXJjZW50LWVuY29kaW5ncy5cblx0XHRcdFx0ZXhwcmVzc2lvbjogLyUoMjR8MjZ8MkJ8MkN8M0J8M0R8M0F8NDApL2lnLFxuXHRcdFx0XHRtYXA6IHtcblx0XHRcdFx0XHQvLyAtLl9+IScoKSpcblx0XHRcdFx0XHQnJTI0JzogJyQnLFxuXHRcdFx0XHRcdCclMjYnOiAnJicsXG5cdFx0XHRcdFx0JyUyQic6ICcrJyxcblx0XHRcdFx0XHQnJTJDJzogJywnLFxuXHRcdFx0XHRcdCclM0InOiAnOycsXG5cdFx0XHRcdFx0JyUzRCc6ICc9Jyxcblx0XHRcdFx0XHQnJTNBJzogJzonLFxuXHRcdFx0XHRcdCclNDAnOiAnQCdcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlY29kZToge1xuXHRcdFx0XHRleHByZXNzaW9uOiAvW1xcL1xcPyNdL2csXG5cdFx0XHRcdG1hcDoge1xuXHRcdFx0XHRcdCcvJzogJyUyRicsXG5cdFx0XHRcdFx0Jz8nOiAnJTNGJyxcblx0XHRcdFx0XHQnIyc6ICclMjMnXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHJlc2VydmVkOiB7XG5cdFx0XHRlbmNvZGU6IHtcblx0XHRcdFx0Ly8gUkZDMzk4NiAyLjE6IEZvciBjb25zaXN0ZW5jeSwgVVJJIHByb2R1Y2VycyBhbmQgbm9ybWFsaXplcnMgc2hvdWxkXG5cdFx0XHRcdC8vIHVzZSB1cHBlcmNhc2UgaGV4YWRlY2ltYWwgZGlnaXRzIGZvciBhbGwgcGVyY2VudC1lbmNvZGluZ3MuXG5cdFx0XHRcdGV4cHJlc3Npb246IC8lKDIxfDIzfDI0fDI2fDI3fDI4fDI5fDJBfDJCfDJDfDJGfDNBfDNCfDNEfDNGfDQwfDVCfDVEKS9pZyxcblx0XHRcdFx0bWFwOiB7XG5cdFx0XHRcdFx0Ly8gZ2VuLWRlbGltc1xuXHRcdFx0XHRcdCclM0EnOiAnOicsXG5cdFx0XHRcdFx0JyUyRic6ICcvJyxcblx0XHRcdFx0XHQnJTNGJzogJz8nLFxuXHRcdFx0XHRcdCclMjMnOiAnIycsXG5cdFx0XHRcdFx0JyU1Qic6ICdbJyxcblx0XHRcdFx0XHQnJTVEJzogJ10nLFxuXHRcdFx0XHRcdCclNDAnOiAnQCcsXG5cdFx0XHRcdFx0Ly8gc3ViLWRlbGltc1xuXHRcdFx0XHRcdCclMjEnOiAnIScsXG5cdFx0XHRcdFx0JyUyNCc6ICckJyxcblx0XHRcdFx0XHQnJTI2JzogJyYnLFxuXHRcdFx0XHRcdCclMjcnOiAnXFwnJyxcblx0XHRcdFx0XHQnJTI4JzogJygnLFxuXHRcdFx0XHRcdCclMjknOiAnKScsXG5cdFx0XHRcdFx0JyUyQSc6ICcqJyxcblx0XHRcdFx0XHQnJTJCJzogJysnLFxuXHRcdFx0XHRcdCclMkMnOiAnLCcsXG5cdFx0XHRcdFx0JyUzQic6ICc7Jyxcblx0XHRcdFx0XHQnJTNEJzogJz0nXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHVybnBhdGg6IHtcblx0XHRcdC8vIFRoZSBjaGFyYWN0ZXJzIHVuZGVyIGBlbmNvZGVgIGFyZSB0aGUgY2hhcmFjdGVycyBjYWxsZWQgb3V0IGJ5IFJGQyAyMTQxIGFzIGJlaW5nIGFjY2VwdGFibGVcblx0XHRcdC8vIGZvciB1c2FnZSBpbiBhIFVSTi4gUkZDMjE0MSBhbHNvIGNhbGxzIG91dCBcIi1cIiwgXCIuXCIsIGFuZCBcIl9cIiBhcyBhY2NlcHRhYmxlIGNoYXJhY3RlcnMsIGJ1dFxuXHRcdFx0Ly8gdGhlc2UgYXJlbid0IGVuY29kZWQgYnkgZW5jb2RlVVJJQ29tcG9uZW50LCBzbyB3ZSBkb24ndCBoYXZlIHRvIGNhbGwgdGhlbSBvdXQgaGVyZS4gQWxzb1xuXHRcdFx0Ly8gbm90ZSB0aGF0IHRoZSBjb2xvbiBjaGFyYWN0ZXIgaXMgbm90IGZlYXR1cmVkIGluIHRoZSBlbmNvZGluZyBtYXA7IHRoaXMgaXMgYmVjYXVzZSBVUkkuanNcblx0XHRcdC8vIGdpdmVzIHRoZSBjb2xvbnMgaW4gVVJOcyBzZW1hbnRpYyBtZWFuaW5nIGFzIHRoZSBkZWxpbWl0ZXJzIG9mIHBhdGggc2VnZW1lbnRzLCBhbmQgc28gaXRcblx0XHRcdC8vIHNob3VsZCBub3QgYXBwZWFyIHVuZW5jb2RlZCBpbiBhIHNlZ21lbnQgaXRzZWxmLlxuXHRcdFx0Ly8gU2VlIGFsc28gdGhlIG5vdGUgYWJvdmUgYWJvdXQgUkZDMzk4NiBhbmQgY2FwaXRhbGFsaXplZCBoZXggZGlnaXRzLlxuXHRcdFx0ZW5jb2RlOiB7XG5cdFx0XHRcdGV4cHJlc3Npb246IC8lKDIxfDI0fDI3fDI4fDI5fDJBfDJCfDJDfDNCfDNEfDQwKS9pZyxcblx0XHRcdFx0bWFwOiB7XG5cdFx0XHRcdFx0JyUyMSc6ICchJyxcblx0XHRcdFx0XHQnJTI0JzogJyQnLFxuXHRcdFx0XHRcdCclMjcnOiAnXFwnJyxcblx0XHRcdFx0XHQnJTI4JzogJygnLFxuXHRcdFx0XHRcdCclMjknOiAnKScsXG5cdFx0XHRcdFx0JyUyQSc6ICcqJyxcblx0XHRcdFx0XHQnJTJCJzogJysnLFxuXHRcdFx0XHRcdCclMkMnOiAnLCcsXG5cdFx0XHRcdFx0JyUzQic6ICc7Jyxcblx0XHRcdFx0XHQnJTNEJzogJz0nLFxuXHRcdFx0XHRcdCclNDAnOiAnQCdcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdC8vIFRoZXNlIGNoYXJhY3RlcnMgYXJlIHRoZSBjaGFyYWN0ZXJzIGNhbGxlZCBvdXQgYnkgUkZDMjE0MSBhcyBcInJlc2VydmVkXCIgY2hhcmFjdGVycyB0aGF0XG5cdFx0XHQvLyBzaG91bGQgbmV2ZXIgYXBwZWFyIGluIGEgVVJOLCBwbHVzIHRoZSBjb2xvbiBjaGFyYWN0ZXIgKHNlZSBub3RlIGFib3ZlKS5cblx0XHRcdGRlY29kZToge1xuXHRcdFx0XHRleHByZXNzaW9uOiAvW1xcL1xcPyM6XS9nLFxuXHRcdFx0XHRtYXA6IHtcblx0XHRcdFx0XHQnLyc6ICclMkYnLFxuXHRcdFx0XHRcdCc/JzogJyUzRicsXG5cdFx0XHRcdFx0JyMnOiAnJTIzJyxcblx0XHRcdFx0XHQnOic6ICclM0EnXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdFVSSS5lbmNvZGVRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkge1xuXHRcdHZhciBlc2NhcGVkID0gVVJJLmVuY29kZShzdHJpbmcgKyAnJyk7XG5cdFx0aWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0ZXNjYXBlUXVlcnlTcGFjZSA9IFVSSS5lc2NhcGVRdWVyeVNwYWNlO1xuXHRcdH1cblxuXHRcdHJldHVybiBlc2NhcGVRdWVyeVNwYWNlID8gZXNjYXBlZC5yZXBsYWNlKC8lMjAvZywgJysnKSA6IGVzY2FwZWQ7XG5cdH07XG5cdFVSSS5kZWNvZGVRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkge1xuXHRcdHN0cmluZyArPSAnJztcblx0XHRpZiAoZXNjYXBlUXVlcnlTcGFjZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7XG5cdFx0fVxuXG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiBVUkkuZGVjb2RlKGVzY2FwZVF1ZXJ5U3BhY2UgPyBzdHJpbmcucmVwbGFjZSgvXFwrL2csICclMjAnKSA6IHN0cmluZyk7XG5cdFx0fSBjYXRjaChlKSB7XG5cdFx0XHQvLyB3ZSdyZSBub3QgZ29pbmcgdG8gbWVzcyB3aXRoIHdlaXJkIGVuY29kaW5ncyxcblx0XHRcdC8vIGdpdmUgdXAgYW5kIHJldHVybiB0aGUgdW5kZWNvZGVkIG9yaWdpbmFsIHN0cmluZ1xuXHRcdFx0Ly8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy84N1xuXHRcdFx0Ly8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy85MlxuXHRcdFx0cmV0dXJuIHN0cmluZztcblx0XHR9XG5cdH07XG5cdC8vIGdlbmVyYXRlIGVuY29kZS9kZWNvZGUgcGF0aCBmdW5jdGlvbnNcblx0dmFyIF9wYXJ0cyA9IHsnZW5jb2RlJzonZW5jb2RlJywgJ2RlY29kZSc6J2RlY29kZSd9O1xuXHR2YXIgX3BhcnQ7XG5cdHZhciBnZW5lcmF0ZUFjY2Vzc29yID0gZnVuY3Rpb24oX2dyb3VwLCBfcGFydCkge1xuXHRcdHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHJldHVybiBVUklbX3BhcnRdKHN0cmluZyArICcnKS5yZXBsYWNlKFVSSS5jaGFyYWN0ZXJzW19ncm91cF1bX3BhcnRdLmV4cHJlc3Npb24sIGZ1bmN0aW9uKGMpIHtcblx0XHRcdFx0XHRyZXR1cm4gVVJJLmNoYXJhY3RlcnNbX2dyb3VwXVtfcGFydF0ubWFwW2NdO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Ly8gd2UncmUgbm90IGdvaW5nIHRvIG1lc3Mgd2l0aCB3ZWlyZCBlbmNvZGluZ3MsXG5cdFx0XHRcdC8vIGdpdmUgdXAgYW5kIHJldHVybiB0aGUgdW5kZWNvZGVkIG9yaWdpbmFsIHN0cmluZ1xuXHRcdFx0XHQvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzg3XG5cdFx0XHRcdC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTJcblx0XHRcdFx0cmV0dXJuIHN0cmluZztcblx0XHRcdH1cblx0XHR9O1xuXHR9O1xuXG5cdGZvciAoX3BhcnQgaW4gX3BhcnRzKSB7XG5cdFx0VVJJW19wYXJ0ICsgJ1BhdGhTZWdtZW50J10gPSBnZW5lcmF0ZUFjY2Vzc29yKCdwYXRobmFtZScsIF9wYXJ0c1tfcGFydF0pO1xuXHRcdFVSSVtfcGFydCArICdVcm5QYXRoU2VnbWVudCddID0gZ2VuZXJhdGVBY2Nlc3NvcigndXJucGF0aCcsIF9wYXJ0c1tfcGFydF0pO1xuXHR9XG5cblx0dmFyIGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uID0gZnVuY3Rpb24oX3NlcCwgX2NvZGluZ0Z1bmNOYW1lLCBfaW5uZXJDb2RpbmdGdW5jTmFtZSkge1xuXHRcdHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdC8vIFdoeSBwYXNzIGluIG5hbWVzIG9mIGZ1bmN0aW9ucywgcmF0aGVyIHRoYW4gdGhlIGZ1bmN0aW9uIG9iamVjdHMgdGhlbXNlbHZlcz8gVGhlXG5cdFx0XHQvLyBkZWZpbml0aW9ucyBvZiBzb21lIGZ1bmN0aW9ucyAoYnV0IGluIHBhcnRpY3VsYXIsIFVSSS5kZWNvZGUpIHdpbGwgb2NjYXNpb25hbGx5IGNoYW5nZSBkdWVcblx0XHRcdC8vIHRvIFVSSS5qcyBoYXZpbmcgSVNPODg1OSBhbmQgVW5pY29kZSBtb2Rlcy4gUGFzc2luZyBpbiB0aGUgbmFtZSBhbmQgZ2V0dGluZyBpdCB3aWxsIGVuc3VyZVxuXHRcdFx0Ly8gdGhhdCB0aGUgZnVuY3Rpb25zIHdlIHVzZSBoZXJlIGFyZSBcImZyZXNoXCIuXG5cdFx0XHR2YXIgYWN0dWFsQ29kaW5nRnVuYztcblx0XHRcdGlmICghX2lubmVyQ29kaW5nRnVuY05hbWUpIHtcblx0XHRcdFx0YWN0dWFsQ29kaW5nRnVuYyA9IFVSSVtfY29kaW5nRnVuY05hbWVdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YWN0dWFsQ29kaW5nRnVuYyA9IGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0XHRcdHJldHVybiBVUklbX2NvZGluZ0Z1bmNOYW1lXShVUklbX2lubmVyQ29kaW5nRnVuY05hbWVdKHN0cmluZykpO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgc2VnbWVudHMgPSAoc3RyaW5nICsgJycpLnNwbGl0KF9zZXApO1xuXG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0c2VnbWVudHNbaV0gPSBhY3R1YWxDb2RpbmdGdW5jKHNlZ21lbnRzW2ldKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHNlZ21lbnRzLmpvaW4oX3NlcCk7XG5cdFx0fTtcblx0fTtcblxuXHQvLyBUaGlzIHRha2VzIHBsYWNlIG91dHNpZGUgdGhlIGFib3ZlIGxvb3AgYmVjYXVzZSB3ZSBkb24ndCB3YW50LCBlLmcuLCBlbmNvZGVVcm5QYXRoIGZ1bmN0aW9ucy5cblx0VVJJLmRlY29kZVBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignLycsICdkZWNvZGVQYXRoU2VnbWVudCcpO1xuXHRVUkkuZGVjb2RlVXJuUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCc6JywgJ2RlY29kZVVyblBhdGhTZWdtZW50Jyk7XG5cdFVSSS5yZWNvZGVQYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJy8nLCAnZW5jb2RlUGF0aFNlZ21lbnQnLCAnZGVjb2RlJyk7XG5cdFVSSS5yZWNvZGVVcm5QYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJzonLCAnZW5jb2RlVXJuUGF0aFNlZ21lbnQnLCAnZGVjb2RlJyk7XG5cblx0VVJJLmVuY29kZVJlc2VydmVkID0gZ2VuZXJhdGVBY2Nlc3NvcigncmVzZXJ2ZWQnLCAnZW5jb2RlJyk7XG5cblx0VVJJLnBhcnNlID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykge1xuXHRcdHZhciBwb3M7XG5cdFx0aWYgKCFwYXJ0cykge1xuXHRcdFx0cGFydHMgPSB7fTtcblx0XHR9XG5cdFx0Ly8gW3Byb3RvY29sXCI6Ly9cIlt1c2VybmFtZVtcIjpcInBhc3N3b3JkXVwiQFwiXWhvc3RuYW1lW1wiOlwicG9ydF1cIi9cIj9dW3BhdGhdW1wiP1wicXVlcnlzdHJpbmddW1wiI1wiZnJhZ21lbnRdXG5cblx0XHQvLyBleHRyYWN0IGZyYWdtZW50XG5cdFx0cG9zID0gc3RyaW5nLmluZGV4T2YoJyMnKTtcblx0XHRpZiAocG9zID4gLTEpIHtcblx0XHRcdC8vIGVzY2FwaW5nP1xuXHRcdFx0cGFydHMuZnJhZ21lbnQgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpIHx8IG51bGw7XG5cdFx0XHRzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcyk7XG5cdFx0fVxuXG5cdFx0Ly8gZXh0cmFjdCBxdWVyeVxuXHRcdHBvcyA9IHN0cmluZy5pbmRleE9mKCc/Jyk7XG5cdFx0aWYgKHBvcyA+IC0xKSB7XG5cdFx0XHQvLyBlc2NhcGluZz9cblx0XHRcdHBhcnRzLnF1ZXJ5ID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKSB8fCBudWxsO1xuXHRcdFx0c3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpO1xuXHRcdH1cblxuXHRcdC8vIGV4dHJhY3QgcHJvdG9jb2xcblx0XHRpZiAoc3RyaW5nLnN1YnN0cmluZygwLCAyKSA9PT0gJy8vJykge1xuXHRcdFx0Ly8gcmVsYXRpdmUtc2NoZW1lXG5cdFx0XHRwYXJ0cy5wcm90b2NvbCA9IG51bGw7XG5cdFx0XHRzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDIpO1xuXHRcdFx0Ly8gZXh0cmFjdCBcInVzZXI6cGFzc0Bob3N0OnBvcnRcIlxuXHRcdFx0c3RyaW5nID0gVVJJLnBhcnNlQXV0aG9yaXR5KHN0cmluZywgcGFydHMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwb3MgPSBzdHJpbmcuaW5kZXhPZignOicpO1xuXHRcdFx0aWYgKHBvcyA+IC0xKSB7XG5cdFx0XHRcdHBhcnRzLnByb3RvY29sID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpIHx8IG51bGw7XG5cdFx0XHRcdGlmIChwYXJ0cy5wcm90b2NvbCAmJiAhcGFydHMucHJvdG9jb2wubWF0Y2goVVJJLnByb3RvY29sX2V4cHJlc3Npb24pKSB7XG5cdFx0XHRcdFx0Ly8gOiBtYXkgYmUgd2l0aGluIHRoZSBwYXRoXG5cdFx0XHRcdFx0cGFydHMucHJvdG9jb2wgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH0gZWxzZSBpZiAoc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxLCBwb3MgKyAzKSA9PT0gJy8vJykge1xuXHRcdFx0XHRcdHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMyk7XG5cblx0XHRcdFx0XHQvLyBleHRyYWN0IFwidXNlcjpwYXNzQGhvc3Q6cG9ydFwiXG5cdFx0XHRcdFx0c3RyaW5nID0gVVJJLnBhcnNlQXV0aG9yaXR5KHN0cmluZywgcGFydHMpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSk7XG5cdFx0XHRcdFx0cGFydHMudXJuID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIHdoYXQncyBsZWZ0IG11c3QgYmUgdGhlIHBhdGhcblx0XHRwYXJ0cy5wYXRoID0gc3RyaW5nO1xuXG5cdFx0Ly8gYW5kIHdlJ3JlIGRvbmVcblx0XHRyZXR1cm4gcGFydHM7XG5cdH07XG5cdFVSSS5wYXJzZUhvc3QgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7XG5cdFx0Ly8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuXG5cdFx0Ly8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzXG5cdFx0Ly8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vam95ZW50L25vZGUvYmxvYi8zODZmZDI0ZjQ5YjBlOWQxYThhMDc2NTkyYTQwNDE2OGZhZWVjYzM0L2xpYi91cmwuanMjTDExNS1MMTI0XG5cdFx0Ly8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTZcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9wdWxsLzIzM1xuXHRcdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG5cblx0XHQvLyBleHRyYWN0IGhvc3Q6cG9ydFxuXHRcdHZhciBwb3MgPSBzdHJpbmcuaW5kZXhPZignLycpO1xuXHRcdHZhciBicmFja2V0UG9zO1xuXHRcdHZhciB0O1xuXG5cdFx0aWYgKHBvcyA9PT0gLTEpIHtcblx0XHRcdHBvcyA9IHN0cmluZy5sZW5ndGg7XG5cdFx0fVxuXG5cdFx0aWYgKHN0cmluZy5jaGFyQXQoMCkgPT09ICdbJykge1xuXHRcdFx0Ly8gSVB2NiBob3N0IC0gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtaWV0Zi02bWFuLXRleHQtYWRkci1yZXByZXNlbnRhdGlvbi0wNCNzZWN0aW9uLTZcblx0XHRcdC8vIEkgY2xhaW0gbW9zdCBjbGllbnQgc29mdHdhcmUgYnJlYWtzIG9uIElQdjYgYW55d2F5cy4gVG8gc2ltcGxpZnkgdGhpbmdzLCBVUkkgb25seSBhY2NlcHRzXG5cdFx0XHQvLyBJUHY2K3BvcnQgaW4gdGhlIGZvcm1hdCBbMjAwMTpkYjg6OjFdOjgwIChmb3IgdGhlIHRpbWUgYmVpbmcpXG5cdFx0XHRicmFja2V0UG9zID0gc3RyaW5nLmluZGV4T2YoJ10nKTtcblx0XHRcdHBhcnRzLmhvc3RuYW1lID0gc3RyaW5nLnN1YnN0cmluZygxLCBicmFja2V0UG9zKSB8fCBudWxsO1xuXHRcdFx0cGFydHMucG9ydCA9IHN0cmluZy5zdWJzdHJpbmcoYnJhY2tldFBvcyArIDIsIHBvcykgfHwgbnVsbDtcblx0XHRcdGlmIChwYXJ0cy5wb3J0ID09PSAnLycpIHtcblx0XHRcdFx0cGFydHMucG9ydCA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBmaXJzdENvbG9uID0gc3RyaW5nLmluZGV4T2YoJzonKTtcblx0XHRcdHZhciBmaXJzdFNsYXNoID0gc3RyaW5nLmluZGV4T2YoJy8nKTtcblx0XHRcdHZhciBuZXh0Q29sb24gPSBzdHJpbmcuaW5kZXhPZignOicsIGZpcnN0Q29sb24gKyAxKTtcblx0XHRcdGlmIChuZXh0Q29sb24gIT09IC0xICYmIChmaXJzdFNsYXNoID09PSAtMSB8fCBuZXh0Q29sb24gPCBmaXJzdFNsYXNoKSkge1xuXHRcdFx0XHQvLyBJUHY2IGhvc3QgY29udGFpbnMgbXVsdGlwbGUgY29sb25zIC0gYnV0IG5vIHBvcnRcblx0XHRcdFx0Ly8gdGhpcyBub3RhdGlvbiBpcyBhY3R1YWxseSBub3QgYWxsb3dlZCBieSBSRkMgMzk4NiwgYnV0IHdlJ3JlIGEgbGliZXJhbCBwYXJzZXJcblx0XHRcdFx0cGFydHMuaG9zdG5hbWUgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykgfHwgbnVsbDtcblx0XHRcdFx0cGFydHMucG9ydCA9IG51bGw7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0ID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCc6Jyk7XG5cdFx0XHRcdHBhcnRzLmhvc3RuYW1lID0gdFswXSB8fCBudWxsO1xuXHRcdFx0XHRwYXJ0cy5wb3J0ID0gdFsxXSB8fCBudWxsO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChwYXJ0cy5ob3N0bmFtZSAmJiBzdHJpbmcuc3Vic3RyaW5nKHBvcykuY2hhckF0KDApICE9PSAnLycpIHtcblx0XHRcdHBvcysrO1xuXHRcdFx0c3RyaW5nID0gJy8nICsgc3RyaW5nO1xuXHRcdH1cblxuXHRcdHJldHVybiBzdHJpbmcuc3Vic3RyaW5nKHBvcykgfHwgJy8nO1xuXHR9O1xuXHRVUkkucGFyc2VBdXRob3JpdHkgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7XG5cdFx0c3RyaW5nID0gVVJJLnBhcnNlVXNlcmluZm8oc3RyaW5nLCBwYXJ0cyk7XG5cdFx0cmV0dXJuIFVSSS5wYXJzZUhvc3Qoc3RyaW5nLCBwYXJ0cyk7XG5cdH07XG5cdFVSSS5wYXJzZVVzZXJpbmZvID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykge1xuXHRcdC8vIGV4dHJhY3QgdXNlcm5hbWU6cGFzc3dvcmRcblx0XHR2YXIgZmlyc3RTbGFzaCA9IHN0cmluZy5pbmRleE9mKCcvJyk7XG5cdFx0dmFyIHBvcyA9IHN0cmluZy5sYXN0SW5kZXhPZignQCcsIGZpcnN0U2xhc2ggPiAtMSA/IGZpcnN0U2xhc2ggOiBzdHJpbmcubGVuZ3RoIC0gMSk7XG5cdFx0dmFyIHQ7XG5cblx0XHQvLyBhdXRob3JpdHlAIG11c3QgY29tZSBiZWZvcmUgL3BhdGhcblx0XHRpZiAocG9zID4gLTEgJiYgKGZpcnN0U2xhc2ggPT09IC0xIHx8IHBvcyA8IGZpcnN0U2xhc2gpKSB7XG5cdFx0XHR0ID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCc6Jyk7XG5cdFx0XHRwYXJ0cy51c2VybmFtZSA9IHRbMF0gPyBVUkkuZGVjb2RlKHRbMF0pIDogbnVsbDtcblx0XHRcdHQuc2hpZnQoKTtcblx0XHRcdHBhcnRzLnBhc3N3b3JkID0gdFswXSA/IFVSSS5kZWNvZGUodC5qb2luKCc6JykpIDogbnVsbDtcblx0XHRcdHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHBhcnRzLnVzZXJuYW1lID0gbnVsbDtcblx0XHRcdHBhcnRzLnBhc3N3b3JkID0gbnVsbDtcblx0XHR9XG5cblx0XHRyZXR1cm4gc3RyaW5nO1xuXHR9O1xuXHRVUkkucGFyc2VRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkge1xuXHRcdGlmICghc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4ge307XG5cdFx0fVxuXG5cdFx0Ly8gdGhyb3cgb3V0IHRoZSBmdW5reSBidXNpbmVzcyAtIFwiP1wiW25hbWVcIj1cInZhbHVlXCImXCJdK1xuXHRcdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC8mKy9nLCAnJicpLnJlcGxhY2UoL15cXD8qJip8JiskL2csICcnKTtcblxuXHRcdGlmICghc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4ge307XG5cdFx0fVxuXG5cdFx0dmFyIGl0ZW1zID0ge307XG5cdFx0dmFyIHNwbGl0cyA9IHN0cmluZy5zcGxpdCgnJicpO1xuXHRcdHZhciBsZW5ndGggPSBzcGxpdHMubGVuZ3RoO1xuXHRcdHZhciB2LCBuYW1lLCB2YWx1ZTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdHYgPSBzcGxpdHNbaV0uc3BsaXQoJz0nKTtcblx0XHRcdG5hbWUgPSBVUkkuZGVjb2RlUXVlcnkodi5zaGlmdCgpLCBlc2NhcGVRdWVyeVNwYWNlKTtcblx0XHRcdC8vIG5vIFwiPVwiIGlzIG51bGwgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjY29sbGVjdC11cmwtcGFyYW1ldGVyc1xuXHRcdFx0dmFsdWUgPSB2Lmxlbmd0aCA/IFVSSS5kZWNvZGVRdWVyeSh2LmpvaW4oJz0nKSwgZXNjYXBlUXVlcnlTcGFjZSkgOiBudWxsO1xuXG5cdFx0XHRpZiAoaGFzT3duLmNhbGwoaXRlbXMsIG5hbWUpKSB7XG5cdFx0XHRcdGlmICh0eXBlb2YgaXRlbXNbbmFtZV0gPT09ICdzdHJpbmcnIHx8IGl0ZW1zW25hbWVdID09PSBudWxsKSB7XG5cdFx0XHRcdFx0aXRlbXNbbmFtZV0gPSBbaXRlbXNbbmFtZV1dO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aXRlbXNbbmFtZV0ucHVzaCh2YWx1ZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpdGVtc1tuYW1lXSA9IHZhbHVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBpdGVtcztcblx0fTtcblxuXHRVUkkuYnVpbGQgPSBmdW5jdGlvbihwYXJ0cykge1xuXHRcdHZhciB0ID0gJyc7XG5cblx0XHRpZiAocGFydHMucHJvdG9jb2wpIHtcblx0XHRcdHQgKz0gcGFydHMucHJvdG9jb2wgKyAnOic7XG5cdFx0fVxuXG5cdFx0aWYgKCFwYXJ0cy51cm4gJiYgKHQgfHwgcGFydHMuaG9zdG5hbWUpKSB7XG5cdFx0XHR0ICs9ICcvLyc7XG5cdFx0fVxuXG5cdFx0dCArPSAoVVJJLmJ1aWxkQXV0aG9yaXR5KHBhcnRzKSB8fCAnJyk7XG5cblx0XHRpZiAodHlwZW9mIHBhcnRzLnBhdGggPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRpZiAocGFydHMucGF0aC5jaGFyQXQoMCkgIT09ICcvJyAmJiB0eXBlb2YgcGFydHMuaG9zdG5hbWUgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdHQgKz0gJy8nO1xuXHRcdFx0fVxuXG5cdFx0XHR0ICs9IHBhcnRzLnBhdGg7XG5cdFx0fVxuXG5cdFx0aWYgKHR5cGVvZiBwYXJ0cy5xdWVyeSA9PT0gJ3N0cmluZycgJiYgcGFydHMucXVlcnkpIHtcblx0XHRcdHQgKz0gJz8nICsgcGFydHMucXVlcnk7XG5cdFx0fVxuXG5cdFx0aWYgKHR5cGVvZiBwYXJ0cy5mcmFnbWVudCA9PT0gJ3N0cmluZycgJiYgcGFydHMuZnJhZ21lbnQpIHtcblx0XHRcdHQgKz0gJyMnICsgcGFydHMuZnJhZ21lbnQ7XG5cdFx0fVxuXHRcdHJldHVybiB0O1xuXHR9O1xuXHRVUkkuYnVpbGRIb3N0ID0gZnVuY3Rpb24ocGFydHMpIHtcblx0XHR2YXIgdCA9ICcnO1xuXG5cdFx0aWYgKCFwYXJ0cy5ob3N0bmFtZSkge1xuXHRcdFx0cmV0dXJuICcnO1xuXHRcdH0gZWxzZSBpZiAoVVJJLmlwNl9leHByZXNzaW9uLnRlc3QocGFydHMuaG9zdG5hbWUpKSB7XG5cdFx0XHR0ICs9ICdbJyArIHBhcnRzLmhvc3RuYW1lICsgJ10nO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0ICs9IHBhcnRzLmhvc3RuYW1lO1xuXHRcdH1cblxuXHRcdGlmIChwYXJ0cy5wb3J0KSB7XG5cdFx0XHR0ICs9ICc6JyArIHBhcnRzLnBvcnQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHQ7XG5cdH07XG5cdFVSSS5idWlsZEF1dGhvcml0eSA9IGZ1bmN0aW9uKHBhcnRzKSB7XG5cdFx0cmV0dXJuIFVSSS5idWlsZFVzZXJpbmZvKHBhcnRzKSArIFVSSS5idWlsZEhvc3QocGFydHMpO1xuXHR9O1xuXHRVUkkuYnVpbGRVc2VyaW5mbyA9IGZ1bmN0aW9uKHBhcnRzKSB7XG5cdFx0dmFyIHQgPSAnJztcblxuXHRcdGlmIChwYXJ0cy51c2VybmFtZSkge1xuXHRcdFx0dCArPSBVUkkuZW5jb2RlKHBhcnRzLnVzZXJuYW1lKTtcblxuXHRcdFx0aWYgKHBhcnRzLnBhc3N3b3JkKSB7XG5cdFx0XHRcdHQgKz0gJzonICsgVVJJLmVuY29kZShwYXJ0cy5wYXNzd29yZCk7XG5cdFx0XHR9XG5cblx0XHRcdHQgKz0gJ0AnO1xuXHRcdH1cblxuXHRcdHJldHVybiB0O1xuXHR9O1xuXHRVUkkuYnVpbGRRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIGR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgZXNjYXBlUXVlcnlTcGFjZSkge1xuXHRcdC8vIGFjY29yZGluZyB0byBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2IG9yIGh0dHA6Ly9sYWJzLmFwYWNoZS5vcmcvd2ViYXJjaC91cmkvcmZjL3JmYzM5ODYuaHRtbFxuXHRcdC8vIGJlaW5nIMK7LS5ffiEkJicoKSorLDs9OkAvP8KrICVIRVggYW5kIGFsbnVtIGFyZSBhbGxvd2VkXG5cdFx0Ly8gdGhlIFJGQyBleHBsaWNpdGx5IHN0YXRlcyA/L2ZvbyBiZWluZyBhIHZhbGlkIHVzZSBjYXNlLCBubyBtZW50aW9uIG9mIHBhcmFtZXRlciBzeW50YXghXG5cdFx0Ly8gVVJJLmpzIHRyZWF0cyB0aGUgcXVlcnkgc3RyaW5nIGFzIGJlaW5nIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFxuXHRcdC8vIHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMtaHRtbDQwL2ludGVyYWN0L2Zvcm1zLmh0bWwjZm9ybS1jb250ZW50LXR5cGVcblxuXHRcdHZhciB0ID0gJyc7XG5cdFx0dmFyIHVuaXF1ZSwga2V5LCBpLCBsZW5ndGg7XG5cdFx0Zm9yIChrZXkgaW4gZGF0YSkge1xuXHRcdFx0aWYgKGhhc093bi5jYWxsKGRhdGEsIGtleSkgJiYga2V5KSB7XG5cdFx0XHRcdGlmIChpc0FycmF5KGRhdGFba2V5XSkpIHtcblx0XHRcdFx0XHR1bmlxdWUgPSB7fTtcblx0XHRcdFx0XHRmb3IgKGkgPSAwLCBsZW5ndGggPSBkYXRhW2tleV0ubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdGlmIChkYXRhW2tleV1baV0gIT09IHVuZGVmaW5lZCAmJiB1bmlxdWVbZGF0YVtrZXldW2ldICsgJyddID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdFx0dCArPSAnJicgKyBVUkkuYnVpbGRRdWVyeVBhcmFtZXRlcihrZXksIGRhdGFba2V5XVtpXSwgZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0XHRcdFx0XHRcdGlmIChkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgIT09IHRydWUpIHtcblx0XHRcdFx0XHRcdFx0XHR1bmlxdWVbZGF0YVtrZXldW2ldICsgJyddID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmIChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV0sIGVzY2FwZVF1ZXJ5U3BhY2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHQuc3Vic3RyaW5nKDEpO1xuXHR9O1xuXHRVUkkuYnVpbGRRdWVyeVBhcmFtZXRlciA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBlc2NhcGVRdWVyeVNwYWNlKSB7XG5cdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLWh0bWw0MC9pbnRlcmFjdC9mb3Jtcy5odG1sI2Zvcm0tY29udGVudC10eXBlIC0tIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFxuXHRcdC8vIGRvbid0IGFwcGVuZCBcIj1cIiBmb3IgbnVsbCB2YWx1ZXMsIGFjY29yZGluZyB0byBodHRwOi8vZHZjcy53My5vcmcvaGcvdXJsL3Jhdy1maWxlL3RpcC9PdmVydmlldy5odG1sI3VybC1wYXJhbWV0ZXItc2VyaWFsaXphdGlvblxuXHRcdHJldHVybiBVUkkuZW5jb2RlUXVlcnkobmFtZSwgZXNjYXBlUXVlcnlTcGFjZSkgKyAodmFsdWUgIT09IG51bGwgPyAnPScgKyBVUkkuZW5jb2RlUXVlcnkodmFsdWUsIGVzY2FwZVF1ZXJ5U3BhY2UpIDogJycpO1xuXHR9O1xuXG5cdFVSSS5hZGRRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIG5hbWUsIHZhbHVlKSB7XG5cdFx0aWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIG5hbWUpIHtcblx0XHRcdFx0aWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHtcblx0XHRcdFx0XHRVUkkuYWRkUXVlcnkoZGF0YSwga2V5LCBuYW1lW2tleV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdGlmIChkYXRhW25hbWVdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0ZGF0YVtuYW1lXSA9IHZhbHVlO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBkYXRhW25hbWVdID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRkYXRhW25hbWVdID0gW2RhdGFbbmFtZV1dO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIWlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHRcdHZhbHVlID0gW3ZhbHVlXTtcblx0XHRcdH1cblxuXHRcdFx0ZGF0YVtuYW1lXSA9IChkYXRhW25hbWVdIHx8IFtdKS5jb25jYXQodmFsdWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuYWRkUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpO1xuXHRcdH1cblx0fTtcblx0VVJJLnJlbW92ZVF1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUpIHtcblx0XHR2YXIgaSwgbGVuZ3RoLCBrZXk7XG5cblx0XHRpZiAoaXNBcnJheShuYW1lKSkge1xuXHRcdFx0Zm9yIChpID0gMCwgbGVuZ3RoID0gbmFtZS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0XHRkYXRhW25hbWVbaV1dID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoZ2V0VHlwZShuYW1lKSA9PT0gJ1JlZ0V4cCcpIHtcblx0XHRcdGZvciAoa2V5IGluIGRhdGEpIHtcblx0XHRcdFx0aWYgKG5hbWUudGVzdChrZXkpKSB7XG5cdFx0XHRcdFx0ZGF0YVtrZXldID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdGZvciAoa2V5IGluIG5hbWUpIHtcblx0XHRcdFx0aWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHtcblx0XHRcdFx0XHRVUkkucmVtb3ZlUXVlcnkoZGF0YSwga2V5LCBuYW1lW2tleV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGlmIChnZXRUeXBlKHZhbHVlKSA9PT0gJ1JlZ0V4cCcpIHtcblx0XHRcdFx0XHRpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkgJiYgdmFsdWUudGVzdChkYXRhW25hbWVdKSkge1xuXHRcdFx0XHRcdFx0ZGF0YVtuYW1lXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZGF0YVtuYW1lXSA9IGZpbHRlckFycmF5VmFsdWVzKGRhdGFbbmFtZV0sIHZhbHVlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAoZGF0YVtuYW1lXSA9PT0gU3RyaW5nKHZhbHVlKSAmJiAoIWlzQXJyYXkodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA9PT0gMSkpIHtcblx0XHRcdFx0XHRkYXRhW25hbWVdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGlzQXJyYXkoZGF0YVtuYW1lXSkpIHtcblx0XHRcdFx0XHRkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkYXRhW25hbWVdID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkucmVtb3ZlUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nLCBSZWdFeHAgYXMgdGhlIGZpcnN0IHBhcmFtZXRlcicpO1xuXHRcdH1cblx0fTtcblx0VVJJLmhhc1F1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUsIHdpdGhpbkFycmF5KSB7XG5cdFx0aWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIG5hbWUpIHtcblx0XHRcdFx0aWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHtcblx0XHRcdFx0XHRpZiAoIVVSSS5oYXNRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSkpIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5oYXNRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcgYXMgdGhlIG5hbWUgcGFyYW1ldGVyJyk7XG5cdFx0fVxuXG5cdFx0c3dpdGNoIChnZXRUeXBlKHZhbHVlKSkge1xuXHRcdFx0Y2FzZSAnVW5kZWZpbmVkJzpcblx0XHRcdFx0Ly8gdHJ1ZSBpZiBleGlzdHMgKGJ1dCBtYXkgYmUgZW1wdHkpXG5cdFx0XHRcdHJldHVybiBuYW1lIGluIGRhdGE7IC8vIGRhdGFbbmFtZV0gIT09IHVuZGVmaW5lZDtcblxuXHRcdFx0Y2FzZSAnQm9vbGVhbic6XG5cdFx0XHRcdC8vIHRydWUgaWYgZXhpc3RzIGFuZCBub24tZW1wdHlcblx0XHRcdFx0dmFyIF9ib29seSA9IEJvb2xlYW4oaXNBcnJheShkYXRhW25hbWVdKSA/IGRhdGFbbmFtZV0ubGVuZ3RoIDogZGF0YVtuYW1lXSk7XG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PT0gX2Jvb2x5O1xuXG5cdFx0XHRjYXNlICdGdW5jdGlvbic6XG5cdFx0XHRcdC8vIGFsbG93IGNvbXBsZXggY29tcGFyaXNvblxuXHRcdFx0XHRyZXR1cm4gISF2YWx1ZShkYXRhW25hbWVdLCBuYW1lLCBkYXRhKTtcblxuXHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgb3AgPSB3aXRoaW5BcnJheSA/IGFycmF5Q29udGFpbnMgOiBhcnJheXNFcXVhbDtcblx0XHRcdFx0cmV0dXJuIG9wKGRhdGFbbmFtZV0sIHZhbHVlKTtcblxuXHRcdFx0Y2FzZSAnUmVnRXhwJzpcblx0XHRcdFx0aWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7XG5cdFx0XHRcdFx0cmV0dXJuIEJvb2xlYW4oZGF0YVtuYW1lXSAmJiBkYXRhW25hbWVdLm1hdGNoKHZhbHVlKSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIXdpdGhpbkFycmF5KSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGFycmF5Q29udGFpbnMoZGF0YVtuYW1lXSwgdmFsdWUpO1xuXG5cdFx0XHRjYXNlICdOdW1iZXInOlxuXHRcdFx0XHR2YWx1ZSA9IFN0cmluZyh2YWx1ZSk7XG5cdFx0XHQvKiBmYWxscyB0aHJvdWdoICovXG5cdFx0XHRjYXNlICdTdHJpbmcnOlxuXHRcdFx0XHRpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YVtuYW1lXSA9PT0gdmFsdWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIXdpdGhpbkFycmF5KSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGFycmF5Q29udGFpbnMoZGF0YVtuYW1lXSwgdmFsdWUpO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIHVuZGVmaW5lZCwgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIsIFJlZ0V4cCwgRnVuY3Rpb24gYXMgdGhlIHZhbHVlIHBhcmFtZXRlcicpO1xuXHRcdH1cblx0fTtcblxuXG5cdFVSSS5jb21tb25QYXRoID0gZnVuY3Rpb24ob25lLCB0d28pIHtcblx0XHR2YXIgbGVuZ3RoID0gTWF0aC5taW4ob25lLmxlbmd0aCwgdHdvLmxlbmd0aCk7XG5cdFx0dmFyIHBvcztcblxuXHRcdC8vIGZpbmQgZmlyc3Qgbm9uLW1hdGNoaW5nIGNoYXJhY3RlclxuXHRcdGZvciAocG9zID0gMDsgcG9zIDwgbGVuZ3RoOyBwb3MrKykge1xuXHRcdFx0aWYgKG9uZS5jaGFyQXQocG9zKSAhPT0gdHdvLmNoYXJBdChwb3MpKSB7XG5cdFx0XHRcdHBvcy0tO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAocG9zIDwgMSkge1xuXHRcdFx0cmV0dXJuIG9uZS5jaGFyQXQoMCkgPT09IHR3by5jaGFyQXQoMCkgJiYgb25lLmNoYXJBdCgwKSA9PT0gJy8nID8gJy8nIDogJyc7XG5cdFx0fVxuXG5cdFx0Ly8gcmV2ZXJ0IHRvIGxhc3QgL1xuXHRcdGlmIChvbmUuY2hhckF0KHBvcykgIT09ICcvJyB8fCB0d28uY2hhckF0KHBvcykgIT09ICcvJykge1xuXHRcdFx0cG9zID0gb25lLnN1YnN0cmluZygwLCBwb3MpLmxhc3RJbmRleE9mKCcvJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9uZS5zdWJzdHJpbmcoMCwgcG9zICsgMSk7XG5cdH07XG5cblx0VVJJLndpdGhpblN0cmluZyA9IGZ1bmN0aW9uKHN0cmluZywgY2FsbGJhY2ssIG9wdGlvbnMpIHtcblx0XHRvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuXHRcdHZhciBfc3RhcnQgPSBvcHRpb25zLnN0YXJ0IHx8IFVSSS5maW5kVXJpLnN0YXJ0O1xuXHRcdHZhciBfZW5kID0gb3B0aW9ucy5lbmQgfHwgVVJJLmZpbmRVcmkuZW5kO1xuXHRcdHZhciBfdHJpbSA9IG9wdGlvbnMudHJpbSB8fCBVUkkuZmluZFVyaS50cmltO1xuXHRcdHZhciBfYXR0cmlidXRlT3BlbiA9IC9bYS16MC05LV09W1wiJ10/JC9pO1xuXG5cdFx0X3N0YXJ0Lmxhc3RJbmRleCA9IDA7XG5cdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdHZhciBtYXRjaCA9IF9zdGFydC5leGVjKHN0cmluZyk7XG5cdFx0XHRpZiAoIW1hdGNoKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgc3RhcnQgPSBtYXRjaC5pbmRleDtcblx0XHRcdGlmIChvcHRpb25zLmlnbm9yZUh0bWwpIHtcblx0XHRcdFx0Ly8gYXR0cmlidXQoZT1bXCInXT8kKVxuXHRcdFx0XHR2YXIgYXR0cmlidXRlT3BlbiA9IHN0cmluZy5zbGljZShNYXRoLm1heChzdGFydCAtIDMsIDApLCBzdGFydCk7XG5cdFx0XHRcdGlmIChhdHRyaWJ1dGVPcGVuICYmIF9hdHRyaWJ1dGVPcGVuLnRlc3QoYXR0cmlidXRlT3BlbikpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZW5kID0gc3RhcnQgKyBzdHJpbmcuc2xpY2Uoc3RhcnQpLnNlYXJjaChfZW5kKTtcblx0XHRcdHZhciBzbGljZSA9IHN0cmluZy5zbGljZShzdGFydCwgZW5kKS5yZXBsYWNlKF90cmltLCAnJyk7XG5cdFx0XHRpZiAob3B0aW9ucy5pZ25vcmUgJiYgb3B0aW9ucy5pZ25vcmUudGVzdChzbGljZSkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGVuZCA9IHN0YXJ0ICsgc2xpY2UubGVuZ3RoO1xuXHRcdFx0dmFyIHJlc3VsdCA9IGNhbGxiYWNrKHNsaWNlLCBzdGFydCwgZW5kLCBzdHJpbmcpO1xuXHRcdFx0c3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIHN0YXJ0KSArIHJlc3VsdCArIHN0cmluZy5zbGljZShlbmQpO1xuXHRcdFx0X3N0YXJ0Lmxhc3RJbmRleCA9IHN0YXJ0ICsgcmVzdWx0Lmxlbmd0aDtcblx0XHR9XG5cblx0XHRfc3RhcnQubGFzdEluZGV4ID0gMDtcblx0XHRyZXR1cm4gc3RyaW5nO1xuXHR9O1xuXG5cdFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lID0gZnVuY3Rpb24odikge1xuXHRcdC8vIFRoZW9yZXRpY2FsbHkgVVJJcyBhbGxvdyBwZXJjZW50LWVuY29kaW5nIGluIEhvc3RuYW1lcyAoYWNjb3JkaW5nIHRvIFJGQyAzOTg2KVxuXHRcdC8vIHRoZXkgYXJlIG5vdCBwYXJ0IG9mIEROUyBhbmQgdGhlcmVmb3JlIGlnbm9yZWQgYnkgVVJJLmpzXG5cblx0XHRpZiAodi5tYXRjaChVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzKSkge1xuXHRcdFx0Ly8gdGVzdCBwdW55Y29kZVxuXHRcdFx0aWYgKCFwdW55Y29kZSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicgKyB2ICsgJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dIGFuZCBQdW55Y29kZS5qcyBpcyBub3QgYXZhaWxhYmxlJyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChwdW55Y29kZS50b0FTQ0lJKHYpLm1hdGNoKFVSSS5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMpKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lIFwiJyArIHYgKyAnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0Ly8gbm9Db25mbGljdFxuXHRVUkkubm9Db25mbGljdCA9IGZ1bmN0aW9uKHJlbW92ZUFsbCkge1xuXHRcdGlmIChyZW1vdmVBbGwpIHtcblx0XHRcdHZhciB1bmNvbmZsaWN0ZWQgPSB7XG5cdFx0XHRcdFVSSTogdGhpcy5ub0NvbmZsaWN0KClcblx0XHRcdH07XG5cblx0XHRcdGlmIChyb290LlVSSVRlbXBsYXRlICYmIHR5cGVvZiByb290LlVSSVRlbXBsYXRlLm5vQ29uZmxpY3QgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0dW5jb25mbGljdGVkLlVSSVRlbXBsYXRlID0gcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0KCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChyb290LklQdjYgJiYgdHlwZW9mIHJvb3QuSVB2Ni5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHVuY29uZmxpY3RlZC5JUHY2ID0gcm9vdC5JUHY2Lm5vQ29uZmxpY3QoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zICYmIHR5cGVvZiByb290LlNlY29uZExldmVsRG9tYWlucy5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHVuY29uZmxpY3RlZC5TZWNvbmRMZXZlbERvbWFpbnMgPSByb290LlNlY29uZExldmVsRG9tYWlucy5ub0NvbmZsaWN0KCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB1bmNvbmZsaWN0ZWQ7XG5cdFx0fSBlbHNlIGlmIChyb290LlVSSSA9PT0gdGhpcykge1xuXHRcdFx0cm9vdC5VUkkgPSBfVVJJO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdHAuYnVpbGQgPSBmdW5jdGlvbihkZWZlckJ1aWxkKSB7XG5cdFx0aWYgKGRlZmVyQnVpbGQgPT09IHRydWUpIHtcblx0XHRcdHRoaXMuX2RlZmVycmVkX2J1aWxkID0gdHJ1ZTtcblx0XHR9IGVsc2UgaWYgKGRlZmVyQnVpbGQgPT09IHVuZGVmaW5lZCB8fCB0aGlzLl9kZWZlcnJlZF9idWlsZCkge1xuXHRcdFx0dGhpcy5fc3RyaW5nID0gVVJJLmJ1aWxkKHRoaXMuX3BhcnRzKTtcblx0XHRcdHRoaXMuX2RlZmVycmVkX2J1aWxkID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0cC5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBuZXcgVVJJKHRoaXMpO1xuXHR9O1xuXG5cdHAudmFsdWVPZiA9IHAudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5idWlsZChmYWxzZSkuX3N0cmluZztcblx0fTtcblxuXG5cdGZ1bmN0aW9uIGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoX3BhcnQpe1xuXHRcdHJldHVybiBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5fcGFydHNbX3BhcnRdIHx8ICcnO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5fcGFydHNbX3BhcnRdID0gdiB8fCBudWxsO1xuXHRcdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKF9wYXJ0LCBfa2V5KXtcblx0XHRyZXR1cm4gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuX3BhcnRzW19wYXJ0XSB8fCAnJztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICh2ICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0diA9IHYgKyAnJztcblx0XHRcdFx0XHRpZiAodi5jaGFyQXQoMCkgPT09IF9rZXkpIHtcblx0XHRcdFx0XHRcdHYgPSB2LnN1YnN0cmluZygxKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLl9wYXJ0c1tfcGFydF0gPSB2O1xuXHRcdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRwLnByb3RvY29sID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcigncHJvdG9jb2wnKTtcblx0cC51c2VybmFtZSA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3VzZXJuYW1lJyk7XG5cdHAucGFzc3dvcmQgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwYXNzd29yZCcpO1xuXHRwLmhvc3RuYW1lID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcignaG9zdG5hbWUnKTtcblx0cC5wb3J0ID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcigncG9ydCcpO1xuXHRwLnF1ZXJ5ID0gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcigncXVlcnknLCAnPycpO1xuXHRwLmZyYWdtZW50ID0gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcignZnJhZ21lbnQnLCAnIycpO1xuXG5cdHAuc2VhcmNoID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHR2YXIgdCA9IHRoaXMucXVlcnkodiwgYnVpbGQpO1xuXHRcdHJldHVybiB0eXBlb2YgdCA9PT0gJ3N0cmluZycgJiYgdC5sZW5ndGggPyAoJz8nICsgdCkgOiB0O1xuXHR9O1xuXHRwLmhhc2ggPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdHZhciB0ID0gdGhpcy5mcmFnbWVudCh2LCBidWlsZCk7XG5cdFx0cmV0dXJuIHR5cGVvZiB0ID09PSAnc3RyaW5nJyAmJiB0Lmxlbmd0aCA/ICgnIycgKyB0KSA6IHQ7XG5cdH07XG5cblx0cC5wYXRobmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7XG5cdFx0XHR2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aCB8fCAodGhpcy5fcGFydHMuaG9zdG5hbWUgPyAnLycgOiAnJyk7XG5cdFx0XHRyZXR1cm4gdiA/ICh0aGlzLl9wYXJ0cy51cm4gPyBVUkkuZGVjb2RlVXJuUGF0aCA6IFVSSS5kZWNvZGVQYXRoKShyZXMpIDogcmVzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRcdHRoaXMuX3BhcnRzLnBhdGggPSB2ID8gVVJJLnJlY29kZVVyblBhdGgodikgOiAnJztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuX3BhcnRzLnBhdGggPSB2ID8gVVJJLnJlY29kZVBhdGgodikgOiAnLyc7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cdHAucGF0aCA9IHAucGF0aG5hbWU7XG5cdHAuaHJlZiA9IGZ1bmN0aW9uKGhyZWYsIGJ1aWxkKSB7XG5cdFx0dmFyIGtleTtcblxuXHRcdGlmIChocmVmID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fc3RyaW5nID0gJyc7XG5cdFx0dGhpcy5fcGFydHMgPSBVUkkuX3BhcnRzKCk7XG5cblx0XHR2YXIgX1VSSSA9IGhyZWYgaW5zdGFuY2VvZiBVUkk7XG5cdFx0dmFyIF9vYmplY3QgPSB0eXBlb2YgaHJlZiA9PT0gJ29iamVjdCcgJiYgKGhyZWYuaG9zdG5hbWUgfHwgaHJlZi5wYXRoIHx8IGhyZWYucGF0aG5hbWUpO1xuXHRcdGlmIChocmVmLm5vZGVOYW1lKSB7XG5cdFx0XHR2YXIgYXR0cmlidXRlID0gVVJJLmdldERvbUF0dHJpYnV0ZShocmVmKTtcblx0XHRcdGhyZWYgPSBocmVmW2F0dHJpYnV0ZV0gfHwgJyc7XG5cdFx0XHRfb2JqZWN0ID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gd2luZG93LmxvY2F0aW9uIGlzIHJlcG9ydGVkIHRvIGJlIGFuIG9iamVjdCwgYnV0IGl0J3Mgbm90IHRoZSBzb3J0XG5cdFx0Ly8gb2Ygb2JqZWN0IHdlJ3JlIGxvb2tpbmcgZm9yOlxuXHRcdC8vICogbG9jYXRpb24ucHJvdG9jb2wgZW5kcyB3aXRoIGEgY29sb25cblx0XHQvLyAqIGxvY2F0aW9uLnF1ZXJ5ICE9IG9iamVjdC5zZWFyY2hcblx0XHQvLyAqIGxvY2F0aW9uLmhhc2ggIT0gb2JqZWN0LmZyYWdtZW50XG5cdFx0Ly8gc2ltcGx5IHNlcmlhbGl6aW5nIHRoZSB1bmtub3duIG9iamVjdCBzaG91bGQgZG8gdGhlIHRyaWNrXG5cdFx0Ly8gKGZvciBsb2NhdGlvbiwgbm90IGZvciBldmVyeXRoaW5nLi4uKVxuXHRcdGlmICghX1VSSSAmJiBfb2JqZWN0ICYmIGhyZWYucGF0aG5hbWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aHJlZiA9IGhyZWYudG9TdHJpbmcoKTtcblx0XHR9XG5cblx0XHRpZiAodHlwZW9mIGhyZWYgPT09ICdzdHJpbmcnIHx8IGhyZWYgaW5zdGFuY2VvZiBTdHJpbmcpIHtcblx0XHRcdHRoaXMuX3BhcnRzID0gVVJJLnBhcnNlKFN0cmluZyhocmVmKSwgdGhpcy5fcGFydHMpO1xuXHRcdH0gZWxzZSBpZiAoX1VSSSB8fCBfb2JqZWN0KSB7XG5cdFx0XHR2YXIgc3JjID0gX1VSSSA/IGhyZWYuX3BhcnRzIDogaHJlZjtcblx0XHRcdGZvciAoa2V5IGluIHNyYykge1xuXHRcdFx0XHRpZiAoaGFzT3duLmNhbGwodGhpcy5fcGFydHMsIGtleSkpIHtcblx0XHRcdFx0XHR0aGlzLl9wYXJ0c1trZXldID0gc3JjW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBpbnB1dCcpO1xuXHRcdH1cblxuXHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvLyBpZGVudGlmaWNhdGlvbiBhY2Nlc3NvcnNcblx0cC5pcyA9IGZ1bmN0aW9uKHdoYXQpIHtcblx0XHR2YXIgaXAgPSBmYWxzZTtcblx0XHR2YXIgaXA0ID0gZmFsc2U7XG5cdFx0dmFyIGlwNiA9IGZhbHNlO1xuXHRcdHZhciBuYW1lID0gZmFsc2U7XG5cdFx0dmFyIHNsZCA9IGZhbHNlO1xuXHRcdHZhciBpZG4gPSBmYWxzZTtcblx0XHR2YXIgcHVueWNvZGUgPSBmYWxzZTtcblx0XHR2YXIgcmVsYXRpdmUgPSAhdGhpcy5fcGFydHMudXJuO1xuXG5cdFx0aWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7XG5cdFx0XHRyZWxhdGl2ZSA9IGZhbHNlO1xuXHRcdFx0aXA0ID0gVVJJLmlwNF9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpO1xuXHRcdFx0aXA2ID0gVVJJLmlwNl9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpO1xuXHRcdFx0aXAgPSBpcDQgfHwgaXA2O1xuXHRcdFx0bmFtZSA9ICFpcDtcblx0XHRcdHNsZCA9IG5hbWUgJiYgU0xEICYmIFNMRC5oYXModGhpcy5fcGFydHMuaG9zdG5hbWUpO1xuXHRcdFx0aWRuID0gbmFtZSAmJiBVUkkuaWRuX2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7XG5cdFx0XHRwdW55Y29kZSA9IG5hbWUgJiYgVVJJLnB1bnljb2RlX2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7XG5cdFx0fVxuXG5cdFx0c3dpdGNoICh3aGF0LnRvTG93ZXJDYXNlKCkpIHtcblx0XHRcdGNhc2UgJ3JlbGF0aXZlJzpcblx0XHRcdFx0cmV0dXJuIHJlbGF0aXZlO1xuXG5cdFx0XHRjYXNlICdhYnNvbHV0ZSc6XG5cdFx0XHRcdHJldHVybiAhcmVsYXRpdmU7XG5cblx0XHRcdC8vIGhvc3RuYW1lIGlkZW50aWZpY2F0aW9uXG5cdFx0XHRjYXNlICdkb21haW4nOlxuXHRcdFx0Y2FzZSAnbmFtZSc6XG5cdFx0XHRcdHJldHVybiBuYW1lO1xuXG5cdFx0XHRjYXNlICdzbGQnOlxuXHRcdFx0XHRyZXR1cm4gc2xkO1xuXG5cdFx0XHRjYXNlICdpcCc6XG5cdFx0XHRcdHJldHVybiBpcDtcblxuXHRcdFx0Y2FzZSAnaXA0Jzpcblx0XHRcdGNhc2UgJ2lwdjQnOlxuXHRcdFx0Y2FzZSAnaW5ldDQnOlxuXHRcdFx0XHRyZXR1cm4gaXA0O1xuXG5cdFx0XHRjYXNlICdpcDYnOlxuXHRcdFx0Y2FzZSAnaXB2Nic6XG5cdFx0XHRjYXNlICdpbmV0Nic6XG5cdFx0XHRcdHJldHVybiBpcDY7XG5cblx0XHRcdGNhc2UgJ2lkbic6XG5cdFx0XHRcdHJldHVybiBpZG47XG5cblx0XHRcdGNhc2UgJ3VybCc6XG5cdFx0XHRcdHJldHVybiAhdGhpcy5fcGFydHMudXJuO1xuXG5cdFx0XHRjYXNlICd1cm4nOlxuXHRcdFx0XHRyZXR1cm4gISF0aGlzLl9wYXJ0cy51cm47XG5cblx0XHRcdGNhc2UgJ3B1bnljb2RlJzpcblx0XHRcdFx0cmV0dXJuIHB1bnljb2RlO1xuXHRcdH1cblxuXHRcdHJldHVybiBudWxsO1xuXHR9O1xuXG5cdC8vIGNvbXBvbmVudCBzcGVjaWZpYyBpbnB1dCB2YWxpZGF0aW9uXG5cdHZhciBfcHJvdG9jb2wgPSBwLnByb3RvY29sO1xuXHR2YXIgX3BvcnQgPSBwLnBvcnQ7XG5cdHZhciBfaG9zdG5hbWUgPSBwLmhvc3RuYW1lO1xuXG5cdHAucHJvdG9jb2wgPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdGlmICh2ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmICh2KSB7XG5cdFx0XHRcdC8vIGFjY2VwdCB0cmFpbGluZyA6Ly9cblx0XHRcdFx0diA9IHYucmVwbGFjZSgvOihcXC9cXC8pPyQvLCAnJyk7XG5cblx0XHRcdFx0aWYgKCF2Lm1hdGNoKFVSSS5wcm90b2NvbF9leHByZXNzaW9uKSkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3RvY29sIFwiJyArIHYgKyAnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuKy1dIG9yIGRvZXNuXFwndCBzdGFydCB3aXRoIFtBLVpdJyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIF9wcm90b2NvbC5jYWxsKHRoaXMsIHYsIGJ1aWxkKTtcblx0fTtcblx0cC5zY2hlbWUgPSBwLnByb3RvY29sO1xuXHRwLnBvcnQgPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHYgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aWYgKHYgPT09IDApIHtcblx0XHRcdFx0diA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh2KSB7XG5cdFx0XHRcdHYgKz0gJyc7XG5cdFx0XHRcdGlmICh2LmNoYXJBdCgwKSA9PT0gJzonKSB7XG5cdFx0XHRcdFx0diA9IHYuc3Vic3RyaW5nKDEpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHYubWF0Y2goL1teMC05XS8pKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignUG9ydCBcIicgKyB2ICsgJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbMC05XScpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBfcG9ydC5jYWxsKHRoaXMsIHYsIGJ1aWxkKTtcblx0fTtcblx0cC5ob3N0bmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcblx0XHR9XG5cblx0XHRpZiAodiAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR2YXIgeCA9IHt9O1xuXHRcdFx0dmFyIHJlcyA9IFVSSS5wYXJzZUhvc3QodiwgeCk7XG5cdFx0XHRpZiAocmVzICE9PSAnLycpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgXCInICsgdiArICdcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpO1xuXHRcdFx0fVxuXG5cdFx0XHR2ID0geC5ob3N0bmFtZTtcblx0XHR9XG5cdFx0cmV0dXJuIF9ob3N0bmFtZS5jYWxsKHRoaXMsIHYsIGJ1aWxkKTtcblx0fTtcblxuXHQvLyBjb21wb3VuZCBhY2Nlc3NvcnNcblx0cC5vcmlnaW4gPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdHZhciBwYXJ0cztcblxuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dmFyIHByb3RvY29sID0gdGhpcy5wcm90b2NvbCgpO1xuXHRcdFx0dmFyIGF1dGhvcml0eSA9IHRoaXMuYXV0aG9yaXR5KCk7XG5cdFx0XHRpZiAoIWF1dGhvcml0eSkgcmV0dXJuICcnO1xuXHRcdFx0cmV0dXJuIChwcm90b2NvbCA/IHByb3RvY29sICsgJzovLycgOiAnJykgKyB0aGlzLmF1dGhvcml0eSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgb3JpZ2luID0gVVJJKHYpO1xuXHRcdFx0dGhpc1xuXHRcdFx0XHQucHJvdG9jb2wob3JpZ2luLnByb3RvY29sKCkpXG5cdFx0XHRcdC5hdXRob3JpdHkob3JpZ2luLmF1dGhvcml0eSgpKVxuXHRcdFx0XHQuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fTtcblx0cC5ob3N0ID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/IFVSSS5idWlsZEhvc3QodGhpcy5fcGFydHMpIDogJyc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciByZXMgPSBVUkkucGFyc2VIb3N0KHYsIHRoaXMuX3BhcnRzKTtcblx0XHRcdGlmIChyZXMgIT09ICcvJykge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicgKyB2ICsgJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fTtcblx0cC5hdXRob3JpdHkgPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gVVJJLmJ1aWxkQXV0aG9yaXR5KHRoaXMuX3BhcnRzKSA6ICcnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcmVzID0gVVJJLnBhcnNlQXV0aG9yaXR5KHYsIHRoaXMuX3BhcnRzKTtcblx0XHRcdGlmIChyZXMgIT09ICcvJykge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicgKyB2ICsgJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fTtcblx0cC51c2VyaW5mbyA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcblx0XHR9XG5cblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLnVzZXJuYW1lKSB7XG5cdFx0XHRcdHJldHVybiAnJztcblx0XHRcdH1cblxuXHRcdFx0dmFyIHQgPSBVUkkuYnVpbGRVc2VyaW5mbyh0aGlzLl9wYXJ0cyk7XG5cdFx0XHRyZXR1cm4gdC5zdWJzdHJpbmcoMCwgdC5sZW5ndGggLTEpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodlt2Lmxlbmd0aC0xXSAhPT0gJ0AnKSB7XG5cdFx0XHRcdHYgKz0gJ0AnO1xuXHRcdFx0fVxuXG5cdFx0XHRVUkkucGFyc2VVc2VyaW5mbyh2LCB0aGlzLl9wYXJ0cyk7XG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cdHAucmVzb3VyY2UgPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdHZhciBwYXJ0cztcblxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiB0aGlzLnBhdGgoKSArIHRoaXMuc2VhcmNoKCkgKyB0aGlzLmhhc2goKTtcblx0XHR9XG5cblx0XHRwYXJ0cyA9IFVSSS5wYXJzZSh2KTtcblx0XHR0aGlzLl9wYXJ0cy5wYXRoID0gcGFydHMucGF0aDtcblx0XHR0aGlzLl9wYXJ0cy5xdWVyeSA9IHBhcnRzLnF1ZXJ5O1xuXHRcdHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gcGFydHMuZnJhZ21lbnQ7XG5cdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8vIGZyYWN0aW9uIGFjY2Vzc29yc1xuXHRwLnN1YmRvbWFpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcblx0XHR9XG5cblx0XHQvLyBjb252ZW5pZW5jZSwgcmV0dXJuIFwid3d3XCIgZnJvbSBcInd3dy5leGFtcGxlLm9yZ1wiXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7XG5cdFx0XHRcdHJldHVybiAnJztcblx0XHRcdH1cblxuXHRcdFx0Ly8gZ3JhYiBkb21haW4gYW5kIGFkZCBhbm90aGVyIHNlZ21lbnRcblx0XHRcdHZhciBlbmQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLmRvbWFpbigpLmxlbmd0aCAtIDE7XG5cdFx0XHRyZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKDAsIGVuZCkgfHwgJyc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBlID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoIC0gdGhpcy5kb21haW4oKS5sZW5ndGg7XG5cdFx0XHR2YXIgc3ViID0gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKDAsIGUpO1xuXHRcdFx0dmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKCdeJyArIGVzY2FwZVJlZ0V4KHN1YikpO1xuXG5cdFx0XHRpZiAodiAmJiB2LmNoYXJBdCh2Lmxlbmd0aCAtIDEpICE9PSAnLicpIHtcblx0XHRcdFx0diArPSAnLic7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh2KSB7XG5cdFx0XHRcdFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lKHYpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7XG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cdHAuZG9tYWluID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7XG5cdFx0XHRidWlsZCA9IHY7XG5cdFx0XHR2ID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlbmllbmNlLCByZXR1cm4gXCJleGFtcGxlLm9yZ1wiIGZyb20gXCJ3d3cuZXhhbXBsZS5vcmdcIlxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkge1xuXHRcdFx0XHRyZXR1cm4gJyc7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGlmIGhvc3RuYW1lIGNvbnNpc3RzIG9mIDEgb3IgMiBzZWdtZW50cywgaXQgbXVzdCBiZSB0aGUgZG9tYWluXG5cdFx0XHR2YXIgdCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLm1hdGNoKC9cXC4vZyk7XG5cdFx0XHRpZiAodCAmJiB0Lmxlbmd0aCA8IDIpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBncmFiIHRsZCBhbmQgYWRkIGFub3RoZXIgc2VnbWVudFxuXHRcdFx0dmFyIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxlbmd0aCAtIHRoaXMudGxkKGJ1aWxkKS5sZW5ndGggLSAxO1xuXHRcdFx0ZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGFzdEluZGV4T2YoJy4nLCBlbmQgLTEpICsgMTtcblx0XHRcdHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoZW5kKSB8fCAnJztcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCF2KSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ2Nhbm5vdCBzZXQgZG9tYWluIGVtcHR5Jyk7XG5cdFx0XHR9XG5cblx0XHRcdFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lKHYpO1xuXG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHtcblx0XHRcdFx0dGhpcy5fcGFydHMuaG9zdG5hbWUgPSB2O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMuZG9tYWluKCkpICsgJyQnKTtcblx0XHRcdFx0dGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cdHAudGxkID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7XG5cdFx0XHRidWlsZCA9IHY7XG5cdFx0XHR2ID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIHJldHVybiBcIm9yZ1wiIGZyb20gXCJ3d3cuZXhhbXBsZS5vcmdcIlxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkge1xuXHRcdFx0XHRyZXR1cm4gJyc7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBwb3MgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sYXN0SW5kZXhPZignLicpO1xuXHRcdFx0dmFyIHRsZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZyhwb3MgKyAxKTtcblxuXHRcdFx0aWYgKGJ1aWxkICE9PSB0cnVlICYmIFNMRCAmJiBTTEQubGlzdFt0bGQudG9Mb3dlckNhc2UoKV0pIHtcblx0XHRcdFx0cmV0dXJuIFNMRC5nZXQodGhpcy5fcGFydHMuaG9zdG5hbWUpIHx8IHRsZDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRsZDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHJlcGxhY2U7XG5cblx0XHRcdGlmICghdikge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdjYW5ub3Qgc2V0IFRMRCBlbXB0eScpO1xuXHRcdFx0fSBlbHNlIGlmICh2Lm1hdGNoKC9bXmEtekEtWjAtOS1dLykpIHtcblx0XHRcdFx0aWYgKFNMRCAmJiBTTEQuaXModikpIHtcblx0XHRcdFx0XHRyZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLnRsZCgpKSArICckJyk7XG5cdFx0XHRcdFx0dGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1RMRCBcIicgKyB2ICsgJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05XScpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7XG5cdFx0XHRcdHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignY2Fubm90IHNldCBUTEQgb24gbm9uLWRvbWFpbiBob3N0Jyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLnRsZCgpKSArICckJyk7XG5cdFx0XHRcdHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9O1xuXHRwLmRpcmVjdG9yeSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcblx0XHR9XG5cblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHtcblx0XHRcdGlmICghdGhpcy5fcGFydHMucGF0aCAmJiAhdGhpcy5fcGFydHMuaG9zdG5hbWUpIHtcblx0XHRcdFx0cmV0dXJuICcnO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7XG5cdFx0XHRcdHJldHVybiAnLyc7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBlbmQgPSB0aGlzLl9wYXJ0cy5wYXRoLmxlbmd0aCAtIHRoaXMuZmlsZW5hbWUoKS5sZW5ndGggLSAxO1xuXHRcdFx0dmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGguc3Vic3RyaW5nKDAsIGVuZCkgfHwgKHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gJy8nIDogJycpO1xuXG5cdFx0XHRyZXR1cm4gdiA/IFVSSS5kZWNvZGVQYXRoKHJlcykgOiByZXM7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGUgPSB0aGlzLl9wYXJ0cy5wYXRoLmxlbmd0aCAtIHRoaXMuZmlsZW5hbWUoKS5sZW5ndGg7XG5cdFx0XHR2YXIgZGlyZWN0b3J5ID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcoMCwgZSk7XG5cdFx0XHR2YXIgcmVwbGFjZSA9IG5ldyBSZWdFeHAoJ14nICsgZXNjYXBlUmVnRXgoZGlyZWN0b3J5KSk7XG5cblx0XHRcdC8vIGZ1bGx5IHF1YWxpZmllciBkaXJlY3RvcmllcyBiZWdpbiB3aXRoIGEgc2xhc2hcblx0XHRcdGlmICghdGhpcy5pcygncmVsYXRpdmUnKSkge1xuXHRcdFx0XHRpZiAoIXYpIHtcblx0XHRcdFx0XHR2ID0gJy8nO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHYuY2hhckF0KDApICE9PSAnLycpIHtcblx0XHRcdFx0XHR2ID0gJy8nICsgdjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBkaXJlY3RvcmllcyBhbHdheXMgZW5kIHdpdGggYSBzbGFzaFxuXHRcdFx0aWYgKHYgJiYgdi5jaGFyQXQodi5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XG5cdFx0XHRcdHYgKz0gJy8nO1xuXHRcdFx0fVxuXG5cdFx0XHR2ID0gVVJJLnJlY29kZVBhdGgodik7XG5cdFx0XHR0aGlzLl9wYXJ0cy5wYXRoID0gdGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKHJlcGxhY2UsIHYpO1xuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9O1xuXHRwLmZpbGVuYW1lID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkge1xuXHRcdFx0aWYgKCF0aGlzLl9wYXJ0cy5wYXRoIHx8IHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykge1xuXHRcdFx0XHRyZXR1cm4gJyc7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBwb3MgPSB0aGlzLl9wYXJ0cy5wYXRoLmxhc3RJbmRleE9mKCcvJyk7XG5cdFx0XHR2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcocG9zKzEpO1xuXG5cdFx0XHRyZXR1cm4gdiA/IFVSSS5kZWNvZGVQYXRoU2VnbWVudChyZXMpIDogcmVzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgbXV0YXRlZERpcmVjdG9yeSA9IGZhbHNlO1xuXG5cdFx0XHRpZiAodi5jaGFyQXQoMCkgPT09ICcvJykge1xuXHRcdFx0XHR2ID0gdi5zdWJzdHJpbmcoMSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh2Lm1hdGNoKC9cXC4/XFwvLykpIHtcblx0XHRcdFx0bXV0YXRlZERpcmVjdG9yeSA9IHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLmZpbGVuYW1lKCkpICsgJyQnKTtcblx0XHRcdHYgPSBVUkkucmVjb2RlUGF0aCh2KTtcblx0XHRcdHRoaXMuX3BhcnRzLnBhdGggPSB0aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UocmVwbGFjZSwgdik7XG5cblx0XHRcdGlmIChtdXRhdGVkRGlyZWN0b3J5KSB7XG5cdFx0XHRcdHRoaXMubm9ybWFsaXplUGF0aChidWlsZCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fTtcblx0cC5zdWZmaXggPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLnBhdGggfHwgdGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7XG5cdFx0XHRcdHJldHVybiAnJztcblx0XHRcdH1cblxuXHRcdFx0dmFyIGZpbGVuYW1lID0gdGhpcy5maWxlbmFtZSgpO1xuXHRcdFx0dmFyIHBvcyA9IGZpbGVuYW1lLmxhc3RJbmRleE9mKCcuJyk7XG5cdFx0XHR2YXIgcywgcmVzO1xuXG5cdFx0XHRpZiAocG9zID09PSAtMSkge1xuXHRcdFx0XHRyZXR1cm4gJyc7XG5cdFx0XHR9XG5cblx0XHRcdC8vIHN1ZmZpeCBtYXkgb25seSBjb250YWluIGFsbnVtIGNoYXJhY3RlcnMgKHl1cCwgSSBtYWRlIHRoaXMgdXAuKVxuXHRcdFx0cyA9IGZpbGVuYW1lLnN1YnN0cmluZyhwb3MrMSk7XG5cdFx0XHRyZXMgPSAoL15bYS16MC05JV0rJC9pKS50ZXN0KHMpID8gcyA6ICcnO1xuXHRcdFx0cmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aFNlZ21lbnQocmVzKSA6IHJlcztcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHYuY2hhckF0KDApID09PSAnLicpIHtcblx0XHRcdFx0diA9IHYuc3Vic3RyaW5nKDEpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgc3VmZml4ID0gdGhpcy5zdWZmaXgoKTtcblx0XHRcdHZhciByZXBsYWNlO1xuXG5cdFx0XHRpZiAoIXN1ZmZpeCkge1xuXHRcdFx0XHRpZiAoIXYpIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuX3BhcnRzLnBhdGggKz0gJy4nICsgVVJJLnJlY29kZVBhdGgodik7XG5cdFx0XHR9IGVsc2UgaWYgKCF2KSB7XG5cdFx0XHRcdHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KCcuJyArIHN1ZmZpeCkgKyAnJCcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgoc3VmZml4KSArICckJyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChyZXBsYWNlKSB7XG5cdFx0XHRcdHYgPSBVUkkucmVjb2RlUGF0aCh2KTtcblx0XHRcdFx0dGhpcy5fcGFydHMucGF0aCA9IHRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShyZXBsYWNlLCB2KTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9O1xuXHRwLnNlZ21lbnQgPSBmdW5jdGlvbihzZWdtZW50LCB2LCBidWlsZCkge1xuXHRcdHZhciBzZXBhcmF0b3IgPSB0aGlzLl9wYXJ0cy51cm4gPyAnOicgOiAnLyc7XG5cdFx0dmFyIHBhdGggPSB0aGlzLnBhdGgoKTtcblx0XHR2YXIgYWJzb2x1dGUgPSBwYXRoLnN1YnN0cmluZygwLCAxKSA9PT0gJy8nO1xuXHRcdHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoc2VwYXJhdG9yKTtcblxuXHRcdGlmIChzZWdtZW50ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHNlZ21lbnQgIT09ICdudW1iZXInKSB7XG5cdFx0XHRidWlsZCA9IHY7XG5cdFx0XHR2ID0gc2VnbWVudDtcblx0XHRcdHNlZ21lbnQgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0aWYgKHNlZ21lbnQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignQmFkIHNlZ21lbnQgXCInICsgc2VnbWVudCArICdcIiwgbXVzdCBiZSAwLWJhc2VkIGludGVnZXInKTtcblx0XHR9XG5cblx0XHRpZiAoYWJzb2x1dGUpIHtcblx0XHRcdHNlZ21lbnRzLnNoaWZ0KCk7XG5cdFx0fVxuXG5cdFx0aWYgKHNlZ21lbnQgPCAwKSB7XG5cdFx0XHQvLyBhbGxvdyBuZWdhdGl2ZSBpbmRleGVzIHRvIGFkZHJlc3MgZnJvbSB0aGUgZW5kXG5cdFx0XHRzZWdtZW50ID0gTWF0aC5tYXgoc2VnbWVudHMubGVuZ3RoICsgc2VnbWVudCwgMCk7XG5cdFx0fVxuXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Lypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi9cblx0XHRcdHJldHVybiBzZWdtZW50ID09PSB1bmRlZmluZWRcblx0XHRcdFx0PyBzZWdtZW50c1xuXHRcdFx0XHQ6IHNlZ21lbnRzW3NlZ21lbnRdO1xuXHRcdFx0Lypqc2hpbnQgbGF4YnJlYWs6IGZhbHNlICovXG5cdFx0fSBlbHNlIGlmIChzZWdtZW50ID09PSBudWxsIHx8IHNlZ21lbnRzW3NlZ21lbnRdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmIChpc0FycmF5KHYpKSB7XG5cdFx0XHRcdHNlZ21lbnRzID0gW107XG5cdFx0XHRcdC8vIGNvbGxhcHNlIGVtcHR5IGVsZW1lbnRzIHdpdGhpbiBhcnJheVxuXHRcdFx0XHRmb3IgKHZhciBpPTAsIGw9di5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdFx0XHRpZiAoIXZbaV0ubGVuZ3RoICYmICghc2VnbWVudHMubGVuZ3RoIHx8ICFzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdLmxlbmd0aCkpIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChzZWdtZW50cy5sZW5ndGggJiYgIXNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0ubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRzZWdtZW50cy5wb3AoKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRzZWdtZW50cy5wdXNoKHRyaW1TbGFzaGVzKHZbaV0pKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICh2IHx8IHR5cGVvZiB2ID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHR2ID0gdHJpbVNsYXNoZXModik7XG5cdFx0XHRcdGlmIChzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdID09PSAnJykge1xuXHRcdFx0XHRcdC8vIGVtcHR5IHRyYWlsaW5nIGVsZW1lbnRzIGhhdmUgdG8gYmUgb3ZlcndyaXR0ZW5cblx0XHRcdFx0XHQvLyB0byBwcmV2ZW50IHJlc3VsdHMgc3VjaCBhcyAvZm9vLy9iYXJcblx0XHRcdFx0XHRzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdID0gdjtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZWdtZW50cy5wdXNoKHYpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICh2KSB7XG5cdFx0XHRcdHNlZ21lbnRzW3NlZ21lbnRdID0gdHJpbVNsYXNoZXModik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZWdtZW50cy5zcGxpY2Uoc2VnbWVudCwgMSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGFic29sdXRlKSB7XG5cdFx0XHRzZWdtZW50cy51bnNoaWZ0KCcnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wYXRoKHNlZ21lbnRzLmpvaW4oc2VwYXJhdG9yKSwgYnVpbGQpO1xuXHR9O1xuXHRwLnNlZ21lbnRDb2RlZCA9IGZ1bmN0aW9uKHNlZ21lbnQsIHYsIGJ1aWxkKSB7XG5cdFx0dmFyIHNlZ21lbnRzLCBpLCBsO1xuXG5cdFx0aWYgKHR5cGVvZiBzZWdtZW50ICE9PSAnbnVtYmVyJykge1xuXHRcdFx0YnVpbGQgPSB2O1xuXHRcdFx0diA9IHNlZ21lbnQ7XG5cdFx0XHRzZWdtZW50ID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHNlZ21lbnRzID0gdGhpcy5zZWdtZW50KHNlZ21lbnQsIHYsIGJ1aWxkKTtcblx0XHRcdGlmICghaXNBcnJheShzZWdtZW50cykpIHtcblx0XHRcdFx0c2VnbWVudHMgPSBzZWdtZW50cyAhPT0gdW5kZWZpbmVkID8gVVJJLmRlY29kZShzZWdtZW50cykgOiB1bmRlZmluZWQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3IgKGkgPSAwLCBsID0gc2VnbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRcdFx0c2VnbWVudHNbaV0gPSBVUkkuZGVjb2RlKHNlZ21lbnRzW2ldKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gc2VnbWVudHM7XG5cdFx0fVxuXG5cdFx0aWYgKCFpc0FycmF5KHYpKSB7XG5cdFx0XHR2ID0gKHR5cGVvZiB2ID09PSAnc3RyaW5nJyB8fCB2IGluc3RhbmNlb2YgU3RyaW5nKSA/IFVSSS5lbmNvZGUodikgOiB2O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKGkgPSAwLCBsID0gdi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdFx0dltpXSA9IFVSSS5lbmNvZGUodltpXSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuc2VnbWVudChzZWdtZW50LCB2LCBidWlsZCk7XG5cdH07XG5cblx0Ly8gbXV0YXRpbmcgcXVlcnkgc3RyaW5nXG5cdHZhciBxID0gcC5xdWVyeTtcblx0cC5xdWVyeSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHYgPT09IHRydWUpIHtcblx0XHRcdHJldHVybiBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0dmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0XHR2YXIgcmVzdWx0ID0gdi5jYWxsKHRoaXMsIGRhdGEpO1xuXHRcdFx0dGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeShyZXN1bHQgfHwgZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0gZWxzZSBpZiAodiAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB2ICE9PSAnc3RyaW5nJykge1xuXHRcdFx0dGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeSh2LCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBxLmNhbGwodGhpcywgdiwgYnVpbGQpO1xuXHRcdH1cblx0fTtcblx0cC5zZXRRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBidWlsZCkge1xuXHRcdHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xuXG5cdFx0aWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyB8fCBuYW1lIGluc3RhbmNlb2YgU3RyaW5nKSB7XG5cdFx0XHRkYXRhW25hbWVdID0gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDogbnVsbDtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIG5hbWUpIHtcblx0XHRcdFx0aWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHtcblx0XHRcdFx0XHRkYXRhW2tleV0gPSBuYW1lW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXInKTtcblx0XHR9XG5cblx0XHR0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0aWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuXHRcdFx0YnVpbGQgPSB2YWx1ZTtcblx0XHR9XG5cblx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cdHAuYWRkUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgYnVpbGQpIHtcblx0XHR2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcblx0XHRVUkkuYWRkUXVlcnkoZGF0YSwgbmFtZSwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IG51bGwgOiB2YWx1ZSk7XG5cdFx0dGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeShkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xuXHRcdGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdGJ1aWxkID0gdmFsdWU7XG5cdFx0fVxuXG5cdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRwLnJlbW92ZVF1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGJ1aWxkKSB7XG5cdFx0dmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0VVJJLnJlbW92ZVF1ZXJ5KGRhdGEsIG5hbWUsIHZhbHVlKTtcblx0XHR0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0aWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuXHRcdFx0YnVpbGQgPSB2YWx1ZTtcblx0XHR9XG5cblx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cdHAuaGFzUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpIHtcblx0XHR2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcblx0XHRyZXR1cm4gVVJJLmhhc1F1ZXJ5KGRhdGEsIG5hbWUsIHZhbHVlLCB3aXRoaW5BcnJheSk7XG5cdH07XG5cdHAuc2V0U2VhcmNoID0gcC5zZXRRdWVyeTtcblx0cC5hZGRTZWFyY2ggPSBwLmFkZFF1ZXJ5O1xuXHRwLnJlbW92ZVNlYXJjaCA9IHAucmVtb3ZlUXVlcnk7XG5cdHAuaGFzU2VhcmNoID0gcC5oYXNRdWVyeTtcblxuXHQvLyBzYW5pdGl6aW5nIFVSTHNcblx0cC5ub3JtYWxpemUgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0XHQubm9ybWFsaXplUHJvdG9jb2woZmFsc2UpXG5cdFx0XHRcdC5ub3JtYWxpemVQYXRoKGZhbHNlKVxuXHRcdFx0XHQubm9ybWFsaXplUXVlcnkoZmFsc2UpXG5cdFx0XHRcdC5ub3JtYWxpemVGcmFnbWVudChmYWxzZSlcblx0XHRcdFx0LmJ1aWxkKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXNcblx0XHRcdC5ub3JtYWxpemVQcm90b2NvbChmYWxzZSlcblx0XHRcdC5ub3JtYWxpemVIb3N0bmFtZShmYWxzZSlcblx0XHRcdC5ub3JtYWxpemVQb3J0KGZhbHNlKVxuXHRcdFx0Lm5vcm1hbGl6ZVBhdGgoZmFsc2UpXG5cdFx0XHQubm9ybWFsaXplUXVlcnkoZmFsc2UpXG5cdFx0XHQubm9ybWFsaXplRnJhZ21lbnQoZmFsc2UpXG5cdFx0XHQuYnVpbGQoKTtcblx0fTtcblx0cC5ub3JtYWxpemVQcm90b2NvbCA9IGZ1bmN0aW9uKGJ1aWxkKSB7XG5cdFx0aWYgKHR5cGVvZiB0aGlzLl9wYXJ0cy5wcm90b2NvbCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdHRoaXMuX3BhcnRzLnByb3RvY29sID0gdGhpcy5fcGFydHMucHJvdG9jb2wudG9Mb3dlckNhc2UoKTtcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0cC5ub3JtYWxpemVIb3N0bmFtZSA9IGZ1bmN0aW9uKGJ1aWxkKSB7XG5cdFx0aWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7XG5cdFx0XHRpZiAodGhpcy5pcygnSUROJykgJiYgcHVueWNvZGUpIHtcblx0XHRcdFx0dGhpcy5fcGFydHMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuX3BhcnRzLmhvc3RuYW1lKTtcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5pcygnSVB2NicpICYmIElQdjYpIHtcblx0XHRcdFx0dGhpcy5fcGFydHMuaG9zdG5hbWUgPSBJUHY2LmJlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cdHAubm9ybWFsaXplUG9ydCA9IGZ1bmN0aW9uKGJ1aWxkKSB7XG5cdFx0Ly8gcmVtb3ZlIHBvcnQgb2YgaXQncyB0aGUgcHJvdG9jb2wncyBkZWZhdWx0XG5cdFx0aWYgKHR5cGVvZiB0aGlzLl9wYXJ0cy5wcm90b2NvbCA9PT0gJ3N0cmluZycgJiYgdGhpcy5fcGFydHMucG9ydCA9PT0gVVJJLmRlZmF1bHRQb3J0c1t0aGlzLl9wYXJ0cy5wcm90b2NvbF0pIHtcblx0XHRcdHRoaXMuX3BhcnRzLnBvcnQgPSBudWxsO1xuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRwLm5vcm1hbGl6ZVBhdGggPSBmdW5jdGlvbihidWlsZCkge1xuXHRcdHZhciBfcGF0aCA9IHRoaXMuX3BhcnRzLnBhdGg7XG5cdFx0aWYgKCFfcGF0aCkge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0dGhpcy5fcGFydHMucGF0aCA9IFVSSS5yZWNvZGVVcm5QYXRoKHRoaXMuX3BhcnRzLnBhdGgpO1xuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0dmFyIF93YXNfcmVsYXRpdmU7XG5cdFx0dmFyIF9sZWFkaW5nUGFyZW50cyA9ICcnO1xuXHRcdHZhciBfcGFyZW50LCBfcG9zO1xuXG5cdFx0Ly8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzXG5cdFx0aWYgKF9wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG5cdFx0XHRfd2FzX3JlbGF0aXZlID0gdHJ1ZTtcblx0XHRcdF9wYXRoID0gJy8nICsgX3BhdGg7XG5cdFx0fVxuXG5cdFx0Ly8gaGFuZGxlIHJlbGF0aXZlIGZpbGVzIChhcyBvcHBvc2VkIHRvIGRpcmVjdG9yaWVzKVxuXHRcdGlmIChfcGF0aC5zbGljZSgtMykgPT09ICcvLi4nIHx8IF9wYXRoLnNsaWNlKC0yKSA9PT0gJy8uJykge1xuXHRcdFx0X3BhdGggKz0gJy8nO1xuXHRcdH1cblxuXHRcdC8vIHJlc29sdmUgc2ltcGxlc1xuXHRcdF9wYXRoID0gX3BhdGhcblx0XHRcdC5yZXBsYWNlKC8oXFwvKFxcLlxcLykrKXwoXFwvXFwuJCkvZywgJy8nKVxuXHRcdFx0LnJlcGxhY2UoL1xcL3syLH0vZywgJy8nKTtcblxuXHRcdC8vIHJlbWVtYmVyIGxlYWRpbmcgcGFyZW50c1xuXHRcdGlmIChfd2FzX3JlbGF0aXZlKSB7XG5cdFx0XHRfbGVhZGluZ1BhcmVudHMgPSBfcGF0aC5zdWJzdHJpbmcoMSkubWF0Y2goL14oXFwuXFwuXFwvKSsvKSB8fCAnJztcblx0XHRcdGlmIChfbGVhZGluZ1BhcmVudHMpIHtcblx0XHRcdFx0X2xlYWRpbmdQYXJlbnRzID0gX2xlYWRpbmdQYXJlbnRzWzBdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIHJlc29sdmUgcGFyZW50c1xuXHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRfcGFyZW50ID0gX3BhdGguaW5kZXhPZignLy4uJyk7XG5cdFx0XHRpZiAoX3BhcmVudCA9PT0gLTEpIHtcblx0XHRcdFx0Ly8gbm8gbW9yZSAuLi8gdG8gcmVzb2x2ZVxuXHRcdFx0XHRicmVhaztcblx0XHRcdH0gZWxzZSBpZiAoX3BhcmVudCA9PT0gMCkge1xuXHRcdFx0XHQvLyB0b3AgbGV2ZWwgY2Fubm90IGJlIHJlbGF0aXZlLCBza2lwIGl0XG5cdFx0XHRcdF9wYXRoID0gX3BhdGguc3Vic3RyaW5nKDMpO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0X3BvcyA9IF9wYXRoLnN1YnN0cmluZygwLCBfcGFyZW50KS5sYXN0SW5kZXhPZignLycpO1xuXHRcdFx0aWYgKF9wb3MgPT09IC0xKSB7XG5cdFx0XHRcdF9wb3MgPSBfcGFyZW50O1xuXHRcdFx0fVxuXHRcdFx0X3BhdGggPSBfcGF0aC5zdWJzdHJpbmcoMCwgX3BvcykgKyBfcGF0aC5zdWJzdHJpbmcoX3BhcmVudCArIDMpO1xuXHRcdH1cblxuXHRcdC8vIHJldmVydCB0byByZWxhdGl2ZVxuXHRcdGlmIChfd2FzX3JlbGF0aXZlICYmIHRoaXMuaXMoJ3JlbGF0aXZlJykpIHtcblx0XHRcdF9wYXRoID0gX2xlYWRpbmdQYXJlbnRzICsgX3BhdGguc3Vic3RyaW5nKDEpO1xuXHRcdH1cblxuXHRcdF9wYXRoID0gVVJJLnJlY29kZVBhdGgoX3BhdGgpO1xuXHRcdHRoaXMuX3BhcnRzLnBhdGggPSBfcGF0aDtcblx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cdHAubm9ybWFsaXplUGF0aG5hbWUgPSBwLm5vcm1hbGl6ZVBhdGg7XG5cdHAubm9ybWFsaXplUXVlcnkgPSBmdW5jdGlvbihidWlsZCkge1xuXHRcdGlmICh0eXBlb2YgdGhpcy5fcGFydHMucXVlcnkgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLnF1ZXJ5Lmxlbmd0aCkge1xuXHRcdFx0XHR0aGlzLl9wYXJ0cy5xdWVyeSA9IG51bGw7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnF1ZXJ5KFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0cC5ub3JtYWxpemVGcmFnbWVudCA9IGZ1bmN0aW9uKGJ1aWxkKSB7XG5cdFx0aWYgKCF0aGlzLl9wYXJ0cy5mcmFnbWVudCkge1xuXHRcdFx0dGhpcy5fcGFydHMuZnJhZ21lbnQgPSBudWxsO1xuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRwLm5vcm1hbGl6ZVNlYXJjaCA9IHAubm9ybWFsaXplUXVlcnk7XG5cdHAubm9ybWFsaXplSGFzaCA9IHAubm9ybWFsaXplRnJhZ21lbnQ7XG5cblx0cC5pc284ODU5ID0gZnVuY3Rpb24oKSB7XG5cdFx0Ly8gZXhwZWN0IHVuaWNvZGUgaW5wdXQsIGlzbzg4NTkgb3V0cHV0XG5cdFx0dmFyIGUgPSBVUkkuZW5jb2RlO1xuXHRcdHZhciBkID0gVVJJLmRlY29kZTtcblxuXHRcdFVSSS5lbmNvZGUgPSBlc2NhcGU7XG5cdFx0VVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5ub3JtYWxpemUoKTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0VVJJLmVuY29kZSA9IGU7XG5cdFx0XHRVUkkuZGVjb2RlID0gZDtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0cC51bmljb2RlID0gZnVuY3Rpb24oKSB7XG5cdFx0Ly8gZXhwZWN0IGlzbzg4NTkgaW5wdXQsIHVuaWNvZGUgb3V0cHV0XG5cdFx0dmFyIGUgPSBVUkkuZW5jb2RlO1xuXHRcdHZhciBkID0gVVJJLmRlY29kZTtcblxuXHRcdFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7XG5cdFx0VVJJLmRlY29kZSA9IHVuZXNjYXBlO1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLm5vcm1hbGl6ZSgpO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRVUkkuZW5jb2RlID0gZTtcblx0XHRcdFVSSS5kZWNvZGUgPSBkO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHRwLnJlYWRhYmxlID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHVyaSA9IHRoaXMuY2xvbmUoKTtcblx0XHQvLyByZW1vdmluZyB1c2VybmFtZSwgcGFzc3dvcmQsIGJlY2F1c2UgdGhleSBzaG91bGRuJ3QgYmUgZGlzcGxheWVkIGFjY29yZGluZyB0byBSRkMgMzk4NlxuXHRcdHVyaS51c2VybmFtZSgnJykucGFzc3dvcmQoJycpLm5vcm1hbGl6ZSgpO1xuXHRcdHZhciB0ID0gJyc7XG5cdFx0aWYgKHVyaS5fcGFydHMucHJvdG9jb2wpIHtcblx0XHRcdHQgKz0gdXJpLl9wYXJ0cy5wcm90b2NvbCArICc6Ly8nO1xuXHRcdH1cblxuXHRcdGlmICh1cmkuX3BhcnRzLmhvc3RuYW1lKSB7XG5cdFx0XHRpZiAodXJpLmlzKCdwdW55Y29kZScpICYmIHB1bnljb2RlKSB7XG5cdFx0XHRcdHQgKz0gcHVueWNvZGUudG9Vbmljb2RlKHVyaS5fcGFydHMuaG9zdG5hbWUpO1xuXHRcdFx0XHRpZiAodXJpLl9wYXJ0cy5wb3J0KSB7XG5cdFx0XHRcdFx0dCArPSAnOicgKyB1cmkuX3BhcnRzLnBvcnQ7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHQgKz0gdXJpLmhvc3QoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAodXJpLl9wYXJ0cy5ob3N0bmFtZSAmJiB1cmkuX3BhcnRzLnBhdGggJiYgdXJpLl9wYXJ0cy5wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG5cdFx0XHR0ICs9ICcvJztcblx0XHR9XG5cblx0XHR0ICs9IHVyaS5wYXRoKHRydWUpO1xuXHRcdGlmICh1cmkuX3BhcnRzLnF1ZXJ5KSB7XG5cdFx0XHR2YXIgcSA9ICcnO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIHFwID0gdXJpLl9wYXJ0cy5xdWVyeS5zcGxpdCgnJicpLCBsID0gcXAubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRcdHZhciBrdiA9IChxcFtpXSB8fCAnJykuc3BsaXQoJz0nKTtcblx0XHRcdFx0cSArPSAnJicgKyBVUkkuZGVjb2RlUXVlcnkoa3ZbMF0sIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpXG5cdFx0XHRcdFx0LnJlcGxhY2UoLyYvZywgJyUyNicpO1xuXG5cdFx0XHRcdGlmIChrdlsxXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0cSArPSAnPScgKyBVUkkuZGVjb2RlUXVlcnkoa3ZbMV0sIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpXG5cdFx0XHRcdFx0XHQucmVwbGFjZSgvJi9nLCAnJTI2Jyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHQgKz0gJz8nICsgcS5zdWJzdHJpbmcoMSk7XG5cdFx0fVxuXG5cdFx0dCArPSBVUkkuZGVjb2RlUXVlcnkodXJpLmhhc2goKSwgdHJ1ZSk7XG5cdFx0cmV0dXJuIHQ7XG5cdH07XG5cblx0Ly8gcmVzb2x2aW5nIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBVUkxzXG5cdHAuYWJzb2x1dGVUbyA9IGZ1bmN0aW9uKGJhc2UpIHtcblx0XHR2YXIgcmVzb2x2ZWQgPSB0aGlzLmNsb25lKCk7XG5cdFx0dmFyIHByb3BlcnRpZXMgPSBbJ3Byb3RvY29sJywgJ3VzZXJuYW1lJywgJ3Bhc3N3b3JkJywgJ2hvc3RuYW1lJywgJ3BvcnQnXTtcblx0XHR2YXIgYmFzZWRpciwgaSwgcDtcblxuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignVVJOcyBkbyBub3QgaGF2ZSBhbnkgZ2VuZXJhbGx5IGRlZmluZWQgaGllcmFyY2hpY2FsIGNvbXBvbmVudHMnKTtcblx0XHR9XG5cblx0XHRpZiAoIShiYXNlIGluc3RhbmNlb2YgVVJJKSkge1xuXHRcdFx0YmFzZSA9IG5ldyBVUkkoYmFzZSk7XG5cdFx0fVxuXG5cdFx0aWYgKCFyZXNvbHZlZC5fcGFydHMucHJvdG9jb2wpIHtcblx0XHRcdHJlc29sdmVkLl9wYXJ0cy5wcm90b2NvbCA9IGJhc2UuX3BhcnRzLnByb3RvY29sO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkge1xuXHRcdFx0cmV0dXJuIHJlc29sdmVkO1xuXHRcdH1cblxuXHRcdGZvciAoaSA9IDA7IChwID0gcHJvcGVydGllc1tpXSk7IGkrKykge1xuXHRcdFx0cmVzb2x2ZWQuX3BhcnRzW3BdID0gYmFzZS5fcGFydHNbcF07XG5cdFx0fVxuXG5cdFx0aWYgKCFyZXNvbHZlZC5fcGFydHMucGF0aCkge1xuXHRcdFx0cmVzb2x2ZWQuX3BhcnRzLnBhdGggPSBiYXNlLl9wYXJ0cy5wYXRoO1xuXHRcdFx0aWYgKCFyZXNvbHZlZC5fcGFydHMucXVlcnkpIHtcblx0XHRcdFx0cmVzb2x2ZWQuX3BhcnRzLnF1ZXJ5ID0gYmFzZS5fcGFydHMucXVlcnk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChyZXNvbHZlZC5fcGFydHMucGF0aC5zdWJzdHJpbmcoLTIpID09PSAnLi4nKSB7XG5cdFx0XHRyZXNvbHZlZC5fcGFydHMucGF0aCArPSAnLyc7XG5cdFx0fVxuXG5cdFx0aWYgKHJlc29sdmVkLnBhdGgoKS5jaGFyQXQoMCkgIT09ICcvJykge1xuXHRcdFx0YmFzZWRpciA9IGJhc2UuZGlyZWN0b3J5KCk7XG5cdFx0XHRiYXNlZGlyID0gYmFzZWRpciA/IGJhc2VkaXIgOiBiYXNlLnBhdGgoKS5pbmRleE9mKCcvJykgPT09IDAgPyAnLycgOiAnJztcblx0XHRcdHJlc29sdmVkLl9wYXJ0cy5wYXRoID0gKGJhc2VkaXIgPyAoYmFzZWRpciArICcvJykgOiAnJykgKyByZXNvbHZlZC5fcGFydHMucGF0aDtcblx0XHRcdHJlc29sdmVkLm5vcm1hbGl6ZVBhdGgoKTtcblx0XHR9XG5cblx0XHRyZXNvbHZlZC5idWlsZCgpO1xuXHRcdHJldHVybiByZXNvbHZlZDtcblx0fTtcblx0cC5yZWxhdGl2ZVRvID0gZnVuY3Rpb24oYmFzZSkge1xuXHRcdHZhciByZWxhdGl2ZSA9IHRoaXMuY2xvbmUoKS5ub3JtYWxpemUoKTtcblx0XHR2YXIgcmVsYXRpdmVQYXJ0cywgYmFzZVBhcnRzLCBjb21tb24sIHJlbGF0aXZlUGF0aCwgYmFzZVBhdGg7XG5cblx0XHRpZiAocmVsYXRpdmUuX3BhcnRzLnVybikge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50cycpO1xuXHRcdH1cblxuXHRcdGJhc2UgPSBuZXcgVVJJKGJhc2UpLm5vcm1hbGl6ZSgpO1xuXHRcdHJlbGF0aXZlUGFydHMgPSByZWxhdGl2ZS5fcGFydHM7XG5cdFx0YmFzZVBhcnRzID0gYmFzZS5fcGFydHM7XG5cdFx0cmVsYXRpdmVQYXRoID0gcmVsYXRpdmUucGF0aCgpO1xuXHRcdGJhc2VQYXRoID0gYmFzZS5wYXRoKCk7XG5cblx0XHRpZiAocmVsYXRpdmVQYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1VSSSBpcyBhbHJlYWR5IHJlbGF0aXZlJyk7XG5cdFx0fVxuXG5cdFx0aWYgKGJhc2VQYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgYSBVUkkgcmVsYXRpdmUgdG8gYW5vdGhlciByZWxhdGl2ZSBVUkknKTtcblx0XHR9XG5cblx0XHRpZiAocmVsYXRpdmVQYXJ0cy5wcm90b2NvbCA9PT0gYmFzZVBhcnRzLnByb3RvY29sKSB7XG5cdFx0XHRyZWxhdGl2ZVBhcnRzLnByb3RvY29sID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAocmVsYXRpdmVQYXJ0cy51c2VybmFtZSAhPT0gYmFzZVBhcnRzLnVzZXJuYW1lIHx8IHJlbGF0aXZlUGFydHMucGFzc3dvcmQgIT09IGJhc2VQYXJ0cy5wYXNzd29yZCkge1xuXHRcdFx0cmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7XG5cdFx0fVxuXG5cdFx0aWYgKHJlbGF0aXZlUGFydHMucHJvdG9jb2wgIT09IG51bGwgfHwgcmVsYXRpdmVQYXJ0cy51c2VybmFtZSAhPT0gbnVsbCB8fCByZWxhdGl2ZVBhcnRzLnBhc3N3b3JkICE9PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTtcblx0XHR9XG5cblx0XHRpZiAocmVsYXRpdmVQYXJ0cy5ob3N0bmFtZSA9PT0gYmFzZVBhcnRzLmhvc3RuYW1lICYmIHJlbGF0aXZlUGFydHMucG9ydCA9PT0gYmFzZVBhcnRzLnBvcnQpIHtcblx0XHRcdHJlbGF0aXZlUGFydHMuaG9zdG5hbWUgPSBudWxsO1xuXHRcdFx0cmVsYXRpdmVQYXJ0cy5wb3J0ID0gbnVsbDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7XG5cdFx0fVxuXG5cdFx0aWYgKHJlbGF0aXZlUGF0aCA9PT0gYmFzZVBhdGgpIHtcblx0XHRcdHJlbGF0aXZlUGFydHMucGF0aCA9ICcnO1xuXHRcdFx0cmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7XG5cdFx0fVxuXG5cdFx0Ly8gZGV0ZXJtaW5lIGNvbW1vbiBzdWIgcGF0aFxuXHRcdGNvbW1vbiA9IFVSSS5jb21tb25QYXRoKHJlbGF0aXZlUGF0aCwgYmFzZVBhdGgpO1xuXG5cdFx0Ly8gSWYgdGhlIHBhdGhzIGhhdmUgbm90aGluZyBpbiBjb21tb24sIHJldHVybiBhIHJlbGF0aXZlIFVSTCB3aXRoIHRoZSBhYnNvbHV0ZSBwYXRoLlxuXHRcdGlmICghY29tbW9uKSB7XG5cdFx0XHRyZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTtcblx0XHR9XG5cblx0XHR2YXIgcGFyZW50cyA9IGJhc2VQYXJ0cy5wYXRoXG5cdFx0XHQuc3Vic3RyaW5nKGNvbW1vbi5sZW5ndGgpXG5cdFx0XHQucmVwbGFjZSgvW15cXC9dKiQvLCAnJylcblx0XHRcdC5yZXBsYWNlKC8uKj9cXC8vZywgJy4uLycpO1xuXG5cdFx0cmVsYXRpdmVQYXJ0cy5wYXRoID0gKHBhcmVudHMgKyByZWxhdGl2ZVBhcnRzLnBhdGguc3Vic3RyaW5nKGNvbW1vbi5sZW5ndGgpKSB8fCAnLi8nO1xuXG5cdFx0cmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7XG5cdH07XG5cblx0Ly8gY29tcGFyaW5nIFVSSXNcblx0cC5lcXVhbHMgPSBmdW5jdGlvbih1cmkpIHtcblx0XHR2YXIgb25lID0gdGhpcy5jbG9uZSgpO1xuXHRcdHZhciB0d28gPSBuZXcgVVJJKHVyaSk7XG5cdFx0dmFyIG9uZV9tYXAgPSB7fTtcblx0XHR2YXIgdHdvX21hcCA9IHt9O1xuXHRcdHZhciBjaGVja2VkID0ge307XG5cdFx0dmFyIG9uZV9xdWVyeSwgdHdvX3F1ZXJ5LCBrZXk7XG5cblx0XHRvbmUubm9ybWFsaXplKCk7XG5cdFx0dHdvLm5vcm1hbGl6ZSgpO1xuXG5cdFx0Ly8gZXhhY3QgbWF0Y2hcblx0XHRpZiAob25lLnRvU3RyaW5nKCkgPT09IHR3by50b1N0cmluZygpKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBleHRyYWN0IHF1ZXJ5IHN0cmluZ1xuXHRcdG9uZV9xdWVyeSA9IG9uZS5xdWVyeSgpO1xuXHRcdHR3b19xdWVyeSA9IHR3by5xdWVyeSgpO1xuXHRcdG9uZS5xdWVyeSgnJyk7XG5cdFx0dHdvLnF1ZXJ5KCcnKTtcblxuXHRcdC8vIGRlZmluaXRlbHkgbm90IGVxdWFsIGlmIG5vdCBldmVuIG5vbi1xdWVyeSBwYXJ0cyBtYXRjaFxuXHRcdGlmIChvbmUudG9TdHJpbmcoKSAhPT0gdHdvLnRvU3RyaW5nKCkpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBxdWVyeSBwYXJhbWV0ZXJzIGhhdmUgdGhlIHNhbWUgbGVuZ3RoLCBldmVuIGlmIHRoZXkncmUgcGVybXV0ZWRcblx0XHRpZiAob25lX3F1ZXJ5Lmxlbmd0aCAhPT0gdHdvX3F1ZXJ5Lmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdG9uZV9tYXAgPSBVUkkucGFyc2VRdWVyeShvbmVfcXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xuXHRcdHR3b19tYXAgPSBVUkkucGFyc2VRdWVyeSh0d29fcXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xuXG5cdFx0Zm9yIChrZXkgaW4gb25lX21hcCkge1xuXHRcdFx0aWYgKGhhc093bi5jYWxsKG9uZV9tYXAsIGtleSkpIHtcblx0XHRcdFx0aWYgKCFpc0FycmF5KG9uZV9tYXBba2V5XSkpIHtcblx0XHRcdFx0XHRpZiAob25lX21hcFtrZXldICE9PSB0d29fbWFwW2tleV0pIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAoIWFycmF5c0VxdWFsKG9uZV9tYXBba2V5XSwgdHdvX21hcFtrZXldKSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNoZWNrZWRba2V5XSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yIChrZXkgaW4gdHdvX21hcCkge1xuXHRcdFx0aWYgKGhhc093bi5jYWxsKHR3b19tYXAsIGtleSkpIHtcblx0XHRcdFx0aWYgKCFjaGVja2VkW2tleV0pIHtcblx0XHRcdFx0XHQvLyB0d28gY29udGFpbnMgYSBwYXJhbWV0ZXIgbm90IHByZXNlbnQgaW4gb25lXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG5cblx0Ly8gc3RhdGVcblx0cC5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSBmdW5jdGlvbih2KSB7XG5cdFx0dGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzID0gISF2O1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdHAuZXNjYXBlUXVlcnlTcGFjZSA9IGZ1bmN0aW9uKHYpIHtcblx0XHR0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlID0gISF2O1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdHJldHVybiBVUkk7XG59KSk7IiwiV29ya2Zsb3cgPSB7fVxuXG5ASW1hZ2VTaWduID0ge307XG5cbkBUcmFjZXNIYW5kbGVyID0ge307XG5cbkBUcmFjZXNUZW1wbGF0ZSA9IHt9O1xuXG5ASW5zdGFuY2Vmb3JtVGVtcGxhdGUgPSB7fTtcblxuQEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlID0ge307XG5cbkBJbnN0YW5jZVNpZ25UZXh0ID0ge31cblxuQFJlbGF0ZWRJbnN0YW5jZXMgPSB7fVxuXG5AUmVsYXRlZFJlY29yZHMgPSB7fVxuXG5ASW5zdGFuY2VNYWNybyA9IHtjb250ZXh0OiB7fX1cblxuQFRyYWNlc01hbmFnZXIgPSB7fTtcblxuSW5zdGFuY2VTaWduVGV4dC5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyA9IChmaWVsZF9mb3JtdWxhKS0+XG5cdHJldHVybiAoZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcInt0cmFjZXMuXCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA+IC0xIHx8IGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7eWlqaWFubGFuOlwiKSA+IC0xIHx8IGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7XFxcInlpamlhbmxhblxcXCI6XCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcInsneWlqaWFubGFuJzpcIikgPiAtMSlcblxuSW5zdGFuY2VTaWduVGV4dC5pbmNsdWRlc09waW5pb25GaWVsZCA9IChmb3JtLCBmb3JtX3ZlcnNpb24pLT5cblx0ZmllbGRfZm9ybXVsYXMgPSBuZXcgQXJyYXkoKTtcblxuXHRfZm9ybV92ZXJzaW9uID0ge31cblxuXHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRfZm9ybV92ZXJzaW9uID0gdXVmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihkYi5mb3Jtcy5maW5kT25lKHtfaWQ6IGZvcm19KSwgZm9ybV92ZXJzaW9uKVxuXHRlbHNlXG5cdFx0X2Zvcm1fdmVyc2lvbiA9IGRiLmZvcm1fdmVyc2lvbnMuZmluZE9uZSh7X2lkOiBmb3JtX3ZlcnNpb24sIGZvcm06IGZvcm19KVxuXG5cdGZpZWxkcyA9IF9mb3JtX3ZlcnNpb24/LmZpZWxkcyB8fCBbXVxuXG5cdGZpZWxkcy5mb3JFYWNoIChmKS0+XG5cdFx0aWYgZi50eXBlID09ICd0YWJsZSdcblx0XHRcdGNvbnNvbGUubG9nICdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZSdcblx0XHRlbHNlIGlmIGYudHlwZSA9PSAnc2VjdGlvbidcblx0XHRcdGY/LmZpZWxkcz8uZm9yRWFjaCAoZjEpLT5cblx0XHRcdFx0ZmllbGRfZm9ybXVsYXMucHVzaCBmMS5mb3JtdWxhXG5cdFx0ZWxzZVxuXHRcdFx0ZmllbGRfZm9ybXVsYXMucHVzaCBmLmZvcm11bGFcblxuXHRfLnNvbWUgZmllbGRfZm9ybXVsYXMsIChmaWVsZF9mb3JtdWxhKS0+XG5cdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSlcblxuIiwiICAgICAgICAgICAgIFxuXG5Xb3JrZmxvdyA9IHt9O1xuXG50aGlzLkltYWdlU2lnbiA9IHt9O1xuXG50aGlzLlRyYWNlc0hhbmRsZXIgPSB7fTtcblxudGhpcy5UcmFjZXNUZW1wbGF0ZSA9IHt9O1xuXG50aGlzLkluc3RhbmNlZm9ybVRlbXBsYXRlID0ge307XG5cbnRoaXMuSW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUgPSB7fTtcblxudGhpcy5JbnN0YW5jZVNpZ25UZXh0ID0ge307XG5cbnRoaXMuUmVsYXRlZEluc3RhbmNlcyA9IHt9O1xuXG50aGlzLlJlbGF0ZWRSZWNvcmRzID0ge307XG5cbnRoaXMuSW5zdGFuY2VNYWNybyA9IHtcbiAgY29udGV4dDoge31cbn07XG5cbnRoaXMuVHJhY2VzTWFuYWdlciA9IHt9O1xuXG5JbnN0YW5jZVNpZ25UZXh0LmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nID0gZnVuY3Rpb24oZmllbGRfZm9ybXVsYSkge1xuICByZXR1cm4gKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcInt0cmFjZXMuXCIpIDogdm9pZCAwKSA+IC0xIHx8IChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcInt5aWppYW5sYW46XCIpIDogdm9pZCAwKSA+IC0xIHx8IChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7XFxcInlpamlhbmxhblxcXCI6XCIpIDogdm9pZCAwKSA+IC0xIHx8IChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7J3lpamlhbmxhbic6XCIpIDogdm9pZCAwKSA+IC0xO1xufTtcblxuSW5zdGFuY2VTaWduVGV4dC5pbmNsdWRlc09waW5pb25GaWVsZCA9IGZ1bmN0aW9uKGZvcm0sIGZvcm1fdmVyc2lvbikge1xuICB2YXIgX2Zvcm1fdmVyc2lvbiwgZmllbGRfZm9ybXVsYXMsIGZpZWxkcztcbiAgZmllbGRfZm9ybXVsYXMgPSBuZXcgQXJyYXkoKTtcbiAgX2Zvcm1fdmVyc2lvbiA9IHt9O1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgX2Zvcm1fdmVyc2lvbiA9IHV1Zmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZvcm1cbiAgICB9KSwgZm9ybV92ZXJzaW9uKTtcbiAgfSBlbHNlIHtcbiAgICBfZm9ybV92ZXJzaW9uID0gZGIuZm9ybV92ZXJzaW9ucy5maW5kT25lKHtcbiAgICAgIF9pZDogZm9ybV92ZXJzaW9uLFxuICAgICAgZm9ybTogZm9ybVxuICAgIH0pO1xuICB9XG4gIGZpZWxkcyA9IChfZm9ybV92ZXJzaW9uICE9IG51bGwgPyBfZm9ybV92ZXJzaW9uLmZpZWxkcyA6IHZvaWQgMCkgfHwgW107XG4gIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICB2YXIgcmVmO1xuICAgIGlmIChmLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnaWdub3JlIG9waW5pb24gZmllbGQgaW4gdGFibGUnKTtcbiAgICB9IGVsc2UgaWYgKGYudHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICByZXR1cm4gZiAhPSBudWxsID8gKHJlZiA9IGYuZmllbGRzKSAhPSBudWxsID8gcmVmLmZvckVhY2goZnVuY3Rpb24oZjEpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2Zvcm11bGFzLnB1c2goZjEuZm9ybXVsYSk7XG4gICAgICB9KSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZpZWxkX2Zvcm11bGFzLnB1c2goZi5mb3JtdWxhKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gXy5zb21lKGZpZWxkX2Zvcm11bGFzLCBmdW5jdGlvbihmaWVsZF9mb3JtdWxhKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSk7XG4gIH0pO1xufTtcbiIsImRiLmF1dGhfdG9rZW5zID0gbmV3IE1ldGVvci5Db2xsZWN0aW9uKCdhdXRoX3Rva2VucycpIiwiSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlID0ge307XG5cblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmluc3RhbmNlX2F0dGFjaG1lbnQgPSBcIlwiXCJcblx0PHRyPlxuXHRcdDx0ZCBjbGFzcz1cImlucy1hdHRhY2gtdmlld1wiPlxuXHRcdFx0PGEgaHJlZj1cInt7aW5zX2F0dGFjaF9kb3dubG9hZF91cmwgX2lkIGFic29sdXRlfX1cIiBjbGFzcz1cImluc19hdHRhY2hfaHJlZlwiIHRhcmdldD1cIl9wYXJlbnRcIiBkYXRhLW5hbWU9XCJ7e3RoaXMubmFtZX19XCIgZGF0YS10eXBlPVwie3t0aGlzLm9yaWdpbmFsLnR5cGV9fVwiIGRhdGEtaWQ9XCJ7e19pZH19XCI+e3t0aGlzLm5hbWV9fTwvYT5cblx0XHQ8L3RkPlxuXHQ8L3RyPlxuXCJcIlwiXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZlNlbGVjdFVzZXJSZWFkID0gXCJcIlwiXG5cdDxkaXYgY2xhc3M9J3NlbGVjdFVzZXIgZm9ybS1jb250cm9sIGluc19hcHBsaWNhbnQnPnt7dmFsdWV9fTwvZGl2PlxuXCJcIlwiXG5cblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmFmRm9ybUdyb3VwUmVhZCA9IFwiXCJcIlxuXHQ8ZGl2IGNsYXNzPSdmb3JtLWdyb3VwJz5cblx0XHR7eyN3aXRoIGdldEZpZWxkIHRoaXMubmFtZX19XG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J3NlY3Rpb24gY2FsbG91dCBjYWxsb3V0LWRlZmF1bHQnPlxuXHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Zl9sYWJlbCB0aGlzfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0PHA+e3t7ZGVzY3JpcHRpb259fX08L3A+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBzdGVlZG9zLXRhYmxlXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiIHN0eWxlPVwicGFkZGluZzowcHg7XCI+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgPlxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiZGVzY3JpcHRpb25cIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJyZWFkb25seS10YWJsZVwiIHN0eWxlPVwicGFkZGluZzowcHg7b3ZlcmZsb3cteDphdXRvO1wiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHRhYmxlIHR5cGU9J3RhYmxlJyBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWNvbmRlbnNlZCBhdXRvZm9ybS10YWJsZVwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XCJ7e3RoaXMuY29kZX19VGFibGVcIiBuYW1lPVwie3t0aGlzLmNvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7dGhpcy5uYW1lfX1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRoZWFkIGlkPVwie3t0aGlzLm5hbWV9fVRoZWFkXCIgbmFtZT1cInt7dGhpcy5uYW1lfX1UaGVhZFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3RoZWFkPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGJvZHkgaWQ9XCJ7e3RoaXMubmFtZX19VGJvZHlcIiBuYW1lPVwie3t0aGlzLm5hbWV9fVRib2R5XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVCb2R5IHRoaXN9fX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC90Ym9keT5cblx0XHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0e3sjaWYgc2hvd0xhYmVsfX1cblx0XHRcdFx0XHRcdDxsYWJlbD57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J3t7Z2V0Q2ZDbGFzcyB0aGlzfX0gZm9ybS1jb250cm9sJyByZWFkb25seSBkaXNhYmxlZD57e3tnZXRWYWx1ZSBjb2RlfX19PC9kaXY+XG5cdFx0XHRcdHt7L2lmfX1cblx0XHRcdHt7L2lmfX1cblx0XHR7ey93aXRofX1cblx0PC9kaXY+XG5cIlwiXCJcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmFmRm9ybUdyb3VwID0gXCJcIlwiXG5cblx0e3sjd2l0aCBnZXRGaWVsZCB0aGlzLm5hbWV9fVxuXHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3NlY3Rpb24nfX1cblx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdzZWN0aW9uIGNhbGxvdXQgY2FsbG91dC1kZWZhdWx0Jz5cblx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2ZfbGFiZWwgdGhpc319PC9sYWJlbD5cblx0XHRcdFx0XHRcdDxwPnt7e2Rlc2NyaXB0aW9ufX19PC9wPlxuXHRcdFx0XHRcdDwvZGl2PlxuICBcdFx0XHRcdDwvZGl2PlxuXHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3RhYmxlJ319XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInBhbmVsIHBhbmVsLWRlZmF1bHQgc3RlZWRvcy10YWJsZVwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInBhbmVsLWJvZHlcIiBzdHlsZT1cInBhZGRpbmc6MHB4O1wiPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiID5cblx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9J2NvbnRyb2wtbGFiZWwnPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImRlc2NyaXB0aW9uXCI+e3t7ZGVzY3JpcHRpb259fX08L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicmVhZG9ubHktdGFibGVcIiBzdHlsZT1cInBhZGRpbmc6MHB4O292ZXJmbG93LXg6YXV0bztcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDx0YWJsZSB0eXBlPSd0YWJsZScgY2xhc3M9XCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1jb25kZW5zZWQgYXV0b2Zvcm0tdGFibGVcIiBzdHlsZT0nbWFyZ2luLWJvdHRvbTowcHg7JyB7e3RoaXMuYXR0c319IGlkPVwie3t0aGlzLmNvZGV9fVRhYmxlXCIgbmFtZT1cInt7dGhpcy5jb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e3RoaXMubmFtZX19XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0aGVhZCBpZD1cInt7dGhpcy5uYW1lfX1UaGVhZFwiIG5hbWU9XCJ7e3RoaXMubmFtZX19VGhlYWRcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZVRoZWFkIHRoaXN9fX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC90aGVhZD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRib2R5IGlkPVwie3t0aGlzLm5hbWV9fVRib2R5XCIgbmFtZT1cInt7dGhpcy5uYW1lfX1UYm9keVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlQm9keSB0aGlzfX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvdGJvZHk+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3RhYmxlPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdpbnB1dCd9fVxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIiBkYXRhLXJlcXVpcmVkPVwie3sjaWYgaXNfcmVxdWlyZWR9fXRydWV7ey9pZn19XCI+XG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0e3sjaWYgaXNfdGV4dGFyZWF9fVxuXHRcdFx0XHRcdFx0XHRcdDx0ZXh0YXJlYSB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIge3tnZXRQZXJtaXNzaW9ucyBjb2RlfX0gZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPjwvdGV4dGFyZWE+XG5cdFx0XHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0XHRcdFx0e3sjdW5sZXNzIGlzX3RleHRhcmVhfX1cblx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIge3tnZXRQZXJtaXNzaW9ucyBjb2RlfX0gZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHR7ey91bmxlc3N9fVxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdudW1iZXInfX1cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJudW1iZXJcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdkYXRlJ319XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXR5cGU9XCJkYXRlXCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdkYXRlVGltZSd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS10eXBlPSdkYXRldGltZScgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdwYXNzd29yZCd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VsZWN0J319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxzZWxlY3QgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNlYWNoIG9wdGlvbnMgdGhpc319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PG9wdGlvbiB2YWx1ZT1cInt7dmFsdWV9fVwiPnt7bGFiZWx9fTwvb3B0aW9uPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvc2VsZWN0PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdyYWRpbyd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYWYtcmFkaW8tZ3JvdXBcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cbiAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwicmFkaW8taW5saW5lIGZpeC1pbmRlbnRcIj48aW5wdXQgdHlwZT1cInJhZGlvXCIgdmFsdWU9XCJ7e3ZhbHVlfX1cIiBuYW1lPVwie3suLi9jb2RlfX1cIiBjbGFzcz1cInJhZGlvLWlubGluZSBmaXgtaW5kZW50XCI+IHt7bGFiZWx9fTwvbGFiZWw+XG4gICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cbiAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnbXVsdGlTZWxlY3QnfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImFmLWNoZWNrYm94LWdyb3VwXCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwie3t2YWx1ZX19XCIgbmFtZT1cInt7Li4vY29kZX19XCIgY2xhc3M9XCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFwiPiB7e2xhYmVsfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svZWFjaH19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3VybCd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInVybFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2VtYWlsJ319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiZW1haWxcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdjaGVja2JveCd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2hlY2tib3hcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIHN0eWxlPVwid2lkdGg6IDEwMCU7XCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIHZhbHVlPVwidHJ1ZVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGNsYXNzPVwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcIj48L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J3t7Z2V0Q2ZDbGFzcyB0aGlzfX0gZm9ybS1jb250cm9sJyByZWFkb25seSBkaXNhYmxlZD57e3tnZXRWYWx1ZSBjb2RlfX19PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0e3svaWZ9fVxuXHRcdHt7L3dpdGh9fVxuXCJcIlwiXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUgPSAodGVtcGFsdGVOYW1lLCBzdGVlZG9zRGF0YSkgLT5cblx0dGVtcGxhdGUgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGVbdGVtcGFsdGVOYW1lXVxuXG5cdHRlbXBsYXRlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRlbXBsYXRlLCB7aXNCb2R5OiB0cnVlfSk7XG5cblx0dGVtcGxhdGVSZW5kZXJGdW5jdGlvbiA9IGV2YWwodGVtcGxhdGVDb21waWxlZCk7XG5cblx0VGVtcGxhdGVbdGVtcGFsdGVOYW1lXSA9IG5ldyBCbGF6ZS5UZW1wbGF0ZSh0ZW1wYWx0ZU5hbWUsIHRlbXBsYXRlUmVuZGVyRnVuY3Rpb24pO1xuXHRUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblx0VGVtcGxhdGVbdGVtcGFsdGVOYW1lXS5oZWxwZXJzIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnNcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUluc3RhbmNlU2lnblRleHQgPSAoc3RlZWRvc0RhdGEpLT5cblx0aW5zdGFuY2VTaWduVGV4dEh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbnN0YW5jZV9zaWduX3RleHQuaHRtbCcpXG5cblx0aW5zdGFuY2VTaWduVGV4dENvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbnN0YW5jZVNpZ25UZXh0SHRtbCwge2lzQm9keTogdHJ1ZX0pO1xuXG5cdGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW5zdGFuY2VTaWduVGV4dENvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VTaWduVGV4dFwiLCBpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb24pO1xuXHRUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblx0VGVtcGxhdGUuaW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzIEluc3RhbmNlU2lnblRleHQuaGVscGVyc1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW1hZ2VTaWduID0gKHN0ZWVkb3NEYXRhKSAtPlxuXHRpbWFnZVNpZ25IdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW1hZ2Vfc2lnbi5odG1sJylcblx0aW1hZ2VTaWduQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGltYWdlU2lnbkh0bWwsIHtpc0JvZHk6IHRydWV9KTtcblx0aW1hZ2VTaWduUmVuZGVyRnVuY3Rpb24gPSBldmFsKGltYWdlU2lnbkNvbXBpbGVkKTtcblx0VGVtcGxhdGUuaW1hZ2VTaWduID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW1hZ2VTaWduXCIsIGltYWdlU2lnblJlbmRlckZ1bmN0aW9uKTtcblx0VGVtcGxhdGUuaW1hZ2VTaWduLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblx0VGVtcGxhdGUuaW1hZ2VTaWduLmhlbHBlcnMgSW1hZ2VTaWduLmhlbHBlcnNcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZVRyYWNlc0hhbmxkZXIgPSAoc3RlZWRvc0RhdGEpIC0+XG5cdHRyYWNlc0hhbmxkZXJIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvdHJhY2VzX2hhbmRsZXIuaHRtbCcpXG5cdHRyYWNlc0hhbmxkZXJDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodHJhY2VzSGFubGRlckh0bWwsIHtpc0JvZHk6IHRydWV9KTtcblx0dHJhY2VzSGFubGRlclJlbmRlckZ1bmN0aW9uID0gZXZhbCh0cmFjZXNIYW5sZGVyQ29tcGlsZWQpO1xuXHRUZW1wbGF0ZS5pbnN0YW5jZV90cmFjZXNfaGFuZGxlciA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImluc3RhbmNlX3RyYWNlc19oYW5kbGVyXCIsIHRyYWNlc0hhbmxkZXJSZW5kZXJGdW5jdGlvbik7XG5cdFRlbXBsYXRlLmluc3RhbmNlX3RyYWNlc19oYW5kbGVyLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblx0VGVtcGxhdGUuaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXIuaGVscGVycyBUcmFjZXNIYW5kbGVyLmhlbHBlcnNcblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5pdCA9IChzdGVlZG9zRGF0YSkgLT5cblx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmU2VsZWN0VXNlclJlYWRcIiwgc3RlZWRvc0RhdGEpO1xuXG5cdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZkZvcm1Hcm91cFwiLCBzdGVlZG9zRGF0YSk7XG5cblx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmRm9ybUdyb3VwUmVhZFwiLCBzdGVlZG9zRGF0YSk7XG5cdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJpbnN0YW5jZV9hdHRhY2htZW50XCIsIHthYnNvbHV0ZTogc3RlZWRvc0RhdGEuYWJzb2x1dGV9KTtcblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW1hZ2VTaWduKHN0ZWVkb3NEYXRhKVxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVUcmFjZXNIYW5sZGVyKHN0ZWVkb3NEYXRhKTtcblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW5zdGFuY2VTaWduVGV4dChzdGVlZG9zRGF0YSlcblxuZ2V0TGlua1RleHQgPSAoaXRlbSwgbGFiZWwsIGRldGFpbF91cmwpLT5cblx0aWYgZGV0YWlsX3VybFxuXHRcdGRldGFpbF91cmwgPSBkZXRhaWxfdXJsLnJlcGxhY2UoXCJ7X2lkfVwiLCBpdGVtLl9pZClcblx0XHRpZiAhL15odHRwKHM/KTpcXC9cXC8vLnRlc3QoZGV0YWlsX3VybClcblx0XHRcdGRldGFpbF91cmwgPSBTdGVlZG9zLmFic29sdXRlVXJsKGRldGFpbF91cmwpXG5cdFx0cmV0dXJuICc8YSBocmVmPVwiJytkZXRhaWxfdXJsKydcIiB0YXJnZXQ9XCJfYmxhbmtcIj4nK2xhYmVsKyc8L2E+Jztcblx0ZWxzZVxuXHRcdHJldHVybiBsYWJlbFxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VmFsdWUgPSAodmFsdWUsIGZpZWxkLCBsb2NhbGUsIHV0Y09mZnNldCkgLT5cblx0aWYgIXZhbHVlICYmIHZhbHVlICE9IGZhbHNlXG5cdFx0cmV0dXJuICcnXG5cdHN3aXRjaCBmaWVsZC50eXBlXG5cdFx0d2hlbiAnZW1haWwnXG5cdFx0XHR2YWx1ZSA9IGlmIHZhbHVlIHRoZW4gJzxhIGhyZWY9XFwnbWFpbHRvOicgKyB2YWx1ZSArICdcXCc+JyArIHZhbHVlICsgJzwvYT4nIGVsc2UgJydcblx0XHR3aGVuICd1cmwnXG5cdFx0XHRpZiB2YWx1ZVxuXHRcdFx0XHRpZiB2YWx1ZS5pbmRleE9mKFwiaHR0cFwiKSA9PSAwXG5cdFx0XHRcdFx0dHJ5XG5cdFx0XHRcdFx0XHR2YWx1ZSA9IFwiPGEgaHJlZj0nXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG5cdFx0XHRcdFx0Y2F0Y2ggZVxuXHRcdFx0XHRcdFx0dmFsdWUgPSBcIjxhIGhyZWY9JycgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcblxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0dmFsdWUgPSBcIjxhIGhyZWY9J2h0dHA6Ly9cIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcblx0XHRcdGVsc2Vcblx0XHRcdFx0dmFsdWUgPSAnJ1xuXHRcdHdoZW4gJ2dyb3VwJ1xuXHRcdFx0aWYgZmllbGQuaXNfbXVsdGlzZWxlY3Rcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8uZ2V0UHJvcGVydHkoXCJmdWxsbmFtZVwiKS50b1N0cmluZygpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHZhbHVlID0gdmFsdWU/LmZ1bGxuYW1lXG5cdFx0d2hlbiAndXNlcidcblx0XHRcdGlmIGZpZWxkLmlzX211bHRpc2VsZWN0XG5cdFx0XHRcdHZhbHVlID0gdmFsdWU/LmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHZhbHVlID0gdmFsdWU/Lm5hbWVcblx0XHR3aGVuICdwYXNzd29yZCdcblx0XHRcdHZhbHVlID0gJyoqKioqKidcblx0XHR3aGVuICdjaGVja2JveCdcblx0XHRcdGlmIHZhbHVlICYmIHZhbHVlICE9ICdmYWxzZSdcblx0XHRcdFx0dmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF95ZXNcIiwge30sIGxvY2FsZSlcblx0XHRcdGVsc2Vcblx0XHRcdFx0dmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF9ub1wiLCB7fSwgbG9jYWxlKVxuXHRcdHdoZW4gJ2RhdGVUaW1lJ1xuXHRcdFx0aWYgdmFsdWUgJiYgdmFsdWUubGVuZ3RoID09IDE2XG5cdFx0XHRcdHQgPSB2YWx1ZS5zcGxpdChcIlRcIilcblx0XHRcdFx0dDAgPSB0WzBdLnNwbGl0KFwiLVwiKTtcblx0XHRcdFx0dDEgPSB0WzFdLnNwbGl0KFwiOlwiKTtcblxuXHRcdFx0XHR5ZWFyID0gdDBbMF07XG5cdFx0XHRcdG1vbnRoID0gdDBbMV07XG5cdFx0XHRcdGRhdGUgPSB0MFsyXTtcblx0XHRcdFx0aG91cnMgPSB0MVswXTtcblx0XHRcdFx0c2Vjb25kcyA9IHQxWzFdO1xuXG5cdFx0XHRcdHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlLCBob3Vycywgc2Vjb25kcylcblx0XHRcdGVsc2Vcblx0XHRcdFx0dmFsdWUgPSBuZXcgRGF0ZSh2YWx1ZSlcblxuXHRcdFx0dmFsdWUgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZSh2YWx1ZSwgdXRjT2Zmc2V0KTtcblx0XHR3aGVuICdpbnB1dCdcblx0XHRcdGlmIGZpZWxkLmlzX3RleHRhcmVhXG5cdFx0XHRcdHZhbHVlID0gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24odmFsdWUpKVxuXHRcdHdoZW4gJ251bWJlcidcblx0XHRcdGlmIHZhbHVlIG9yIHZhbHVlID09IDBcblx0XHRcdFx0dmFsdWUgPSBTdGVlZG9zLm51bWJlclRvU3RyaW5nIHZhbHVlLCBmaWVsZC5kaWdpdHNcblx0XHR3aGVuICdvZGF0YSdcblx0XHRcdGRldGFpbF91cmwgPSBmaWVsZC5kZXRhaWxfdXJsXG5cdFx0XHRpZiBmaWVsZC5pc19tdWx0aXNlbGVjdFxuXHRcdFx0XHR2YWx1ZSA9IF8ubWFwIHZhbHVlLCAoaXRlbSktPlxuXHRcdFx0XHRcdHJldHVybiBnZXRMaW5rVGV4dChpdGVtLCBpdGVtWydAbGFiZWwnXSwgZGV0YWlsX3VybClcblx0XHRcdGVsc2Vcblx0XHRcdFx0dmFsdWUgPSBnZXRMaW5rVGV4dCh2YWx1ZSwgdmFsdWVbJ0BsYWJlbCddLCBkZXRhaWxfdXJsKVxuXHRcdHdoZW4gJ2h0bWwnXG5cdFx0XHR2YWx1ZSA9IGlmIHZhbHVlIHRoZW4gXCI8ZGl2IGNsYXNzPVxcXCJzdGVlZG9zLWh0bWxcXFwiPiN7dmFsdWV9PC9kaXY+XCIgZWxzZSAnJ1xuXG5cdHJldHVybiB2YWx1ZTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsID0gKGZpZWxkcywgY29kZSkgLT5cblx0ZmllbGQgPSBmaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSlcblx0aWYgZmllbGRcblx0XHRpZiBmaWVsZC5uYW1lXG5cdFx0XHRyZXR1cm4gZmllbGQubmFtZVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBmaWVsZC5jb2RlXG5cblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlRm9ybVZlcnNpb24gPSAoaW5zdGFuY2UpLT5cblx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG5cblx0Zm9ybV92ZXJzaW9uID0ge31cblxuXHRmb3JtX2ZpZWxkcyA9IFtdO1xuXG5cdGlmIGZvcm0uY3VycmVudC5faWQgPT0gaW5zdGFuY2UuZm9ybV92ZXJzaW9uXG5cdFx0Zm9ybV92ZXJzaW9uID0gZm9ybS5jdXJyZW50XG5cdGVsc2Vcblx0XHRmb3JtX3ZlcnNpb24gPSBfLndoZXJlKGZvcm0uaGlzdG9yeXMsIHtfaWQ6IGluc3RhbmNlLmZvcm1fdmVyc2lvbn0pWzBdXG5cblx0Zm9ybV92ZXJzaW9uLmZpZWxkcy5mb3JFYWNoIChmaWVsZCktPlxuXHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nXG5cdFx0XHRmb3JtX2ZpZWxkcy5wdXNoKGZpZWxkKTtcblx0XHRcdGlmIGZpZWxkLmZpZWxkc1xuXHRcdFx0XHRmaWVsZC5maWVsZHMuZm9yRWFjaCAoZikgLT5cblx0XHRcdFx0XHRmb3JtX2ZpZWxkcy5wdXNoKGYpO1xuXHRcdGVsc2UgaWYgZmllbGQudHlwZSA9PSAndGFibGUnXG5cdFx0XHRmaWVsZFsnc2ZpZWxkcyddID0gZmllbGRbJ2ZpZWxkcyddXG5cdFx0XHRkZWxldGUgZmllbGRbJ2ZpZWxkcyddXG5cdFx0XHRmb3JtX2ZpZWxkcy5wdXNoKGZpZWxkKTtcblx0XHRlbHNlXG5cdFx0XHRmb3JtX2ZpZWxkcy5wdXNoKGZpZWxkKTtcblxuXHRmb3JtX3ZlcnNpb24uZmllbGRzID0gZm9ybV9maWVsZHM7XG5cblx0cmV0dXJuIGZvcm1fdmVyc2lvbjtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEZsb3dWZXJzaW9uID0gKGluc3RhbmNlKS0+XG5cdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGluc3RhbmNlLmZsb3cpO1xuXHRmbG93X3ZlcnNpb24gPSB7fVxuXHRpZiBmbG93LmN1cnJlbnQuX2lkID09IGluc3RhbmNlLmZsb3dfdmVyc2lvblxuXHRcdGZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudFxuXHRlbHNlXG5cdFx0Zmxvd192ZXJzaW9uID0gXy53aGVyZShmbG93Lmhpc3RvcnlzLCB7X2lkOiBpbnN0YW5jZS5mbG93X3ZlcnNpb259KVswXVxuXG5cdHJldHVybiBmbG93X3ZlcnNpb247XG5cblxuX2dldFZpZXdIdG1sID0gKHBhdGgpIC0+XG5cdHZpZXdIdG1sID0gQXNzZXRzLmdldFRleHQocGF0aClcblxuXHRpZiB2aWV3SHRtbFxuXHRcdHZpZXdIdG1sID0gdmlld0h0bWwucmVwbGFjZSgvPHRlbXBsYXRlW1xcd1xcc1xcXCJcXD0nXSs+L2ksXCJcIikucmVwbGFjZSgvPFxcL3RlbXBsYXRlPi9pLFwiXCIpXG5cblx0cmV0dXJuIHZpZXdIdG1sO1xuXG5fZ2V0TG9jYWxlID0gKHVzZXIpLT5cblx0aWYgdXNlcj8ubG9jYWxlPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICd6aC1jbidcblx0XHRsb2NhbGUgPSBcInpoLUNOXCJcblx0ZWxzZSBpZiB1c2VyPy5sb2NhbGU/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ2VuLXVzJ1xuXHRcdGxvY2FsZSA9IFwiZW5cIlxuXHRlbHNlXG5cdFx0bG9jYWxlID0gXCJ6aC1DTlwiXG5cdHJldHVybiBsb2NhbGVcblxuXG5fZ2V0UmVxdWlyZWRGaWVsZHMgPSAoZmllbGRzLCByZXYpLT5cblx0aWYgIXJldlxuXHRcdHJldiA9IFtdO1xuXG5cdGZpZWxkcy5mb3JFYWNoIChmaWVsZCktPlxuXHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nXG5cdFx0XHRfZ2V0UmVxdWlyZWRGaWVsZHMoZmllbGQuZmllbGRzLCByZXYpXG5cdFx0ZWxzZSBpZiBmaWVsZC50eXBlID09ICd0YWJsZSdcblxuXHRcdGVsc2Vcblx0XHRcdGlmIGZpZWxkLmlzX3JlcXVpcmVkXG5cdFx0XHRcdHJldi5wdXNoIGZpZWxkLmNvZGVcblx0cmV0dXJuIHJldjtcblxuX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzID0gKGZpZWxkcywgc3RlcHMpLT5cblx0c3RhcnRTdGVwID0gc3RlcHMuZmluZFByb3BlcnR5QnlQSyhcInN0ZXBfdHlwZVwiLFwic3RhcnRcIilcblxuXHRlZGl0YWJsZUNvZGUgPSBbXVxuXG5cdF8ua2V5cyhzdGFydFN0ZXAucGVybWlzc2lvbnMpLmZvckVhY2ggKGtleSktPlxuXHRcdGlmIHN0YXJ0U3RlcC5wZXJtaXNzaW9uc1trZXldID09ICdlZGl0YWJsZSdcblx0XHRcdGVkaXRhYmxlQ29kZS5wdXNoIGtleVxuXG5cdHJldHVybiBlZGl0YWJsZUNvZGVcblxuX2dldFN0YXJ0U3RlcFJlcXVpcmVkRmllbGRzID0gKGZpZWxkcywgc3RlcHMpLT5cblx0cmVxdWlyZWRGaWVsZHMgPSBfZ2V0UmVxdWlyZWRGaWVsZHMoZmllbGRzKVxuXG5cdGVkaXRhYmxlQ29kZSA9IF9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyhmaWVsZHMsIHN0ZXBzKVxuXG5cdHJldHVybiBfLmludGVyc2VjdGlvbihyZXF1aXJlZEZpZWxkcywgZWRpdGFibGVDb2RlKVxuXG5fZ2V0VGVtcGxhdGVEYXRhID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxuXHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRmb3JtX3ZlcnNpb24gPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbihpbnN0YW5jZSlcblx0ZWxzZVxuXHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKGluc3RhbmNlKVxuXG5cdGxvY2FsZSA9IF9nZXRMb2NhbGUodXNlcilcblxuXHRzdGVlZG9zRGF0YSA9IHt9XG5cblx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0c3RlZWRvc0RhdGEgPSBfLmNsb25lKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKSlcblx0XHRzdGVlZG9zRGF0YS5pbnNuYW1lID0gaW5zdGFuY2UubmFtZVxuXHRcdHN0ZWVkb3NEYXRhLmluc19zdGF0ZSA9IGluc3RhbmNlLnN0YXRlXG5cdFx0c3RlZWRvc0RhdGEuaW5zX2ZpbmFsX2RlY2lzaW9uID0gaW5zdGFuY2UuaW5zX2ZpbmFsX2RlY2lzaW9uXG5cdFx0c3RlZWRvc0RhdGEuaW5zX2NvZGUgPSBpbnN0YW5jZS5jb2RlXG5cdFx0c3RlZWRvc0RhdGEuaW5zX2lzX2FyY2hpdmVkID0gaW5zdGFuY2UuaXNfYXJjaGl2ZWRcblx0XHRzdGVlZG9zRGF0YS5pbnNfaXNfZGVsZXRlZCA9IGluc3RhbmNlLmluc19pc19kZWxldGVkXG5cdFx0c3RlZWRvc0RhdGEuYXBwbGljYW50X25hbWUgPSBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZVxuXHRcdHN0ZWVkb3NEYXRhLmFwcGxpY2FudENvbnRleHQgPSBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZVxuXG5cdHN0ZWVkb3NEYXRhLmluc3RhbmNlID0gaW5zdGFuY2Vcblx0c3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uID0gZm9ybV92ZXJzaW9uXG5cdHN0ZWVkb3NEYXRhLmxvY2FsZSA9IGxvY2FsZVxuXHRzdGVlZG9zRGF0YS51dGNPZmZzZXQgPSB1c2VyLnV0Y09mZnNldFxuXHRzdGVlZG9zRGF0YS5zcGFjZSA9IGluc3RhbmNlLnNwYWNlXG5cdHN0ZWVkb3NEYXRhLnNlc3Npb25Vc2VySWQgPSB1c2VyLl9pZFxuXG5cdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdGlmIG9wdGlvbnM/LmVkaXRhYmxlXG5cdFx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZS5mb3JtfSlcblxuXHRcdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogaW5zdGFuY2UuZmxvd30pXG5cblx0XHRcdHN0ZWVkb3NEYXRhLnN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzID0gX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzKGZvcm0uY3VycmVudC5maWVsZHMsIGZsb3cuY3VycmVudC5zdGVwcyk7XG5cblx0cmV0dXJuIHN0ZWVkb3NEYXRhO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZSA9IChkYXRlLCB1dGNPZmZzZXQpLT5cblx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0cGFzc2luZyA9IGZhbHNlO1xuXHRlbHNlXG5cdFx0cGFzc2luZyA9IHRydWU7XG5cblx0aWYgIXV0Y09mZnNldCAmJiB1dGNPZmZzZXQgIT0wXG5cdFx0dXRjT2Zmc2V0ID0gOFxuXG5cdHJldHVybiBtb21lbnQoZGF0ZSkudXRjT2Zmc2V0KHV0Y09mZnNldCwgcGFzc2luZykuZm9ybWF0KFwiWVlZWS1NTS1ERCBISDptbVwiKTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlVmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cblxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKVxuXG5cdHN0ZWVkb3NEYXRhLmFic29sdXRlID0gZmFsc2U7XG5cblx0aWYgb3B0aW9ucz8uYWJzb2x1dGVcblx0XHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IHRydWU7XG5cblx0aW5zdGFuY2VUZW1wbGF0ZSA9IFRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShpbnN0YW5jZSwgb3B0aW9ucz8udGVtcGxhdGVOYW1lKTtcblxuXHRpbnN0YW5jZVRlbXBsYXRlID0gaW5zdGFuY2VUZW1wbGF0ZS5yZXBsYWNlKC9hZlNlbGVjdFVzZXIvZyxcImFmU2VsZWN0VXNlclJlYWRcIilcblxuXHRpZiAhb3B0aW9ucz8uZWRpdGFibGVcblx0XHRpbnN0YW5jZVRlbXBsYXRlID0gaW5zdGFuY2VUZW1wbGF0ZS5yZXBsYWNlKC9hZkZvcm1Hcm91cC9nLFwiYWZGb3JtR3JvdXBSZWFkXCIpXG5cblx0aW5zdGFuY2VDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoaW5zdGFuY2VUZW1wbGF0ZSwge2lzQm9keTogdHJ1ZX0pO1xuXG5cdGluc3RhbmNlUmVuZGVyRnVuY3Rpb24gPSBldmFsKGluc3RhbmNlQ29tcGlsZWQpO1xuXG5cdFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbnN0YW5jZV9yZWFkb25seV92aWV3XCIsIGluc3RhbmNlUmVuZGVyRnVuY3Rpb24pO1xuXG5cdFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXG5cdFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcuaGVscGVycyBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzXG5cblx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmluaXQoc3RlZWRvc0RhdGEpO1xuXG5cdGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LCBzdGVlZG9zRGF0YSlcblxuXHRyZXR1cm4gXCJcIlwiXG5cdFx0PGRpdiBpZD0naW5zdGFuY2Vmb3JtJyA+XG5cdFx0XHQje2JvZHl9XG5cdFx0PC9kaXY+XG5cdFwiXCJcIlxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VHJhY2VzVmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cblxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKVxuXG5cdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuXHRpZiBmb3JtLmluc3RhbmNlX3N0eWxlID09IFwidGFibGVcIiB8fCBvcHRpb25zPy50ZW1wbGF0ZU5hbWUgPT0gXCJ0YWJsZVwiXG5cdFx0dHJhY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3RyYWNlc190YWJsZS5odG1sJylcblx0ZWxzZVxuXHRcdHRyYWNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXMuaHRtbCcpXG5cblx0dHJhY2VDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodHJhY2VzSHRtbCwge2lzQm9keTogdHJ1ZX0pO1xuXG5cdHRyYWNlUmVuZGVyRnVuY3Rpb24gPSBldmFsKHRyYWNlQ29tcGlsZWQpO1xuXG5cdFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJ0cmFjZV9yZWFkb25seV92aWV3XCIsIHRyYWNlUmVuZGVyRnVuY3Rpb24pO1xuXG5cdFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXG5cdFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcuaGVscGVycyBUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzXG5cblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcsIGluc3RhbmNlLnRyYWNlcylcblxuXHRyZXR1cm4gYm9keTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEF0dGFjaG1lbnRWaWV3ID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSktPlxuXG5cdHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXG5cblx0YXR0YWNobWVudEh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbnN0YW5jZV9hdHRhY2htZW50cy5odG1sJylcblxuXHRhdHRhY2htZW50Q29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGF0dGFjaG1lbnRIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XG5cblx0YXR0YWNobWVudFJlbmRlckZ1bmN0aW9uID0gZXZhbChhdHRhY2htZW50Q29tcGlsZWQpO1xuXG5cdFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJhdHRhY2htZW50c19yZWFkb25seV92aWV3XCIsIGF0dGFjaG1lbnRSZW5kZXJGdW5jdGlvbik7XG5cblx0VGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXG5cblx0VGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldy5oZWxwZXJzIEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnNcblxuXHRib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldylcblxuXHRyZXR1cm4gYm9keTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3ID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKVxuXG5cdHN0ZWVkb3NEYXRhLmFic29sdXRlID0gZmFsc2U7XG5cblx0aWYgb3B0aW9ucz8uYWJzb2x1dGVcblx0XHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IHRydWU7XG5cblx0cmVsYXRlZEluc3RhbmNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9yZWxhdGVkX2luc3RhbmNlcy5odG1sJylcblxuXHRyZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHJlbGF0ZWRJbnN0YW5jZXNIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XG5cblx0cmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uID0gZXZhbChyZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQpO1xuXG5cdFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJyZWxhdGVkX2luc3RhbmNlc192aWV3XCIsIHJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbik7XG5cblx0VGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXG5cblx0VGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldy5oZWxwZXJzIFJlbGF0ZWRJbnN0YW5jZXMuaGVscGVyc1xuXG5cdGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3LCBzdGVlZG9zRGF0YSlcblxuXHRyZXR1cm4gYm9keTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRSZWNvcmRzVmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cblx0c3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcblxuXHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xuXG5cdGlmIG9wdGlvbnM/LmFic29sdXRlXG5cdFx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xuXG5cdHJlbGF0ZWRSZWNvcmRzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3JlbGF0ZWRfcmVjb3Jkcy5odG1sJylcblxuXHRyZWxhdGVkUmVjb3Jkc0NvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShyZWxhdGVkUmVjb3Jkc0h0bWwsIHtpc0JvZHk6IHRydWV9KTtcblxuXHRyZWxhdGVkUmVjb3Jkc1JlbmRlckZ1bmN0aW9uID0gZXZhbChyZWxhdGVkUmVjb3Jkc0NvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcInJlbGF0ZWRfcmVjb3Jkc192aWV3XCIsIHJlbGF0ZWRSZWNvcmRzUmVuZGVyRnVuY3Rpb24pO1xuXG5cdFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblxuXHRUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldy5oZWxwZXJzIFJlbGF0ZWRSZWNvcmRzLmhlbHBlcnNcblxuXHRib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcsIHN0ZWVkb3NEYXRhKVxuXG5cdHJldHVybiBib2R5O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0T25Mb2FkU2NyaXB0ID0gKGluc3RhbmNlKS0+XG5cdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pXG5cblx0Zm9ybV9zY3JpcHQgPSBmb3JtX3ZlcnNpb24uZm9ybV9zY3JpcHQ7XG5cblx0aWYgZm9ybV9zY3JpcHQgJiYgZm9ybV9zY3JpcHQucmVwbGFjZSgvXFxuL2csXCJcIikucmVwbGFjZSgvXFxzL2csXCJcIikubGVuZ3RoID4gMFxuXHRcdGZvcm1fc2NyaXB0ID0gXCJDb3JlRm9ybSA9IHt9O0NvcmVGb3JtLmluc3RhbmNlZm9ybSA9IHt9O1wiICsgZm9ybV9zY3JpcHRcblx0XHRmb3JtX3NjcmlwdCArPSBcIjtpZihDb3JlRm9ybS5mb3JtX09uTG9hZCl7d2luZG93Lm9ubG9hZCA9IENvcmVGb3JtLmZvcm1fT25Mb2FkKCk7fVwiXG5cdGVsc2Vcblx0XHRmb3JtX3NjcmlwdCA9IFwiXCJcblxuXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUh0bWwgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XG5cblx0Ym9keSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZVZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcblxuXHRvbkxvYWRTY3JpcHQgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0T25Mb2FkU2NyaXB0KGluc3RhbmNlKTtcblxuXHRjcmVhdG9yU2VydmljZSA9IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMud2Vic2VydmljZXM/LmNyZWF0b3I/LnVybFxuXHRpbnNfcmVjb3JkX2lkcyA9IGluc3RhbmNlLnJlY29yZF9pZHNcblx0bG9jYWxlID0gX2dldExvY2FsZSh1c2VyKTtcblx0b3BlbkZpbGVTY3JpcHQgPSBcIlwiXCJcblx0XHRcdGlmKHdpbmRvdy5pc05vZGUgJiYgaXNOb2RlKCkpe1xuXHRcdFx0XHRhdHRhY2hzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImluc19hdHRhY2hfaHJlZlwiKTtcblx0XHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGF0dGFjaHMubGVuZ3RoOyBpKyspe1xuXHRcdFx0XHRcdGF0dGFjaCA9IGF0dGFjaHNbaV07XG5cdFx0XHRcdFx0YXR0YWNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0XHRcdGlmKGlzSW1hZ2UodGhpcy5kYXRhc2V0LnR5cGUpIHx8IGlzSHRtbCh0aGlzLmRhdGFzZXQudHlwZSkpe1xuXHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdG9wZW5XaW5kb3coXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy9cIiArIHRoaXMuZGF0YXNldC5pZCk7XG5cdFx0XHRcdFx0XHR9ZWxzZSBpZihud19jb3JlLmNhbk9wZW5GaWxlKHRoaXMuZGF0YXNldC5uYW1lKSl7XG5cdFx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdFx0bndfY29yZS5vcGVuRmlsZSh0aGlzLmhyZWYsIHRoaXMuZGF0YXNldC5uYW1lKVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHZhciBmbG93ID0gXCIje2luc3RhbmNlLmZsb3d9XCI7XG5cdFx0XHR2YXIgc3BhY2UgPSBcIiN7aW5zdGFuY2Uuc3BhY2V9XCI7XG5cblx0XHRcdGZ1bmN0aW9uIGdldENvb2tpZShuYW1lKXtcblx0XHRcdFx0bGV0IHBhdHRlcm4gPSBSZWdFeHAobmFtZSArIFwiPS5bXjtdKlwiKVxuXHRcdFx0XHRsZXQgbWF0Y2hlZCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChwYXR0ZXJuKVxuXHRcdFx0XHRpZihtYXRjaGVkKXtcblx0XHRcdFx0XHRsZXQgY29va2llID0gbWF0Y2hlZFswXS5zcGxpdCgnPScpXG5cdFx0XHRcdFx0cmV0dXJuIGNvb2tpZVsxXVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiAnJ1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcmVjb3JkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpbnMtcmVsYXRlZC1yZWNvcmRzXCIpO1xuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHJlY29yZHMubGVuZ3RoOyBpKyspe1xuXHRcdFx0XHRcdHZhciByZWNvcmQgPSByZWNvcmRzW2ldO1xuXHRcdFx0XHRcdHJlY29yZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSl7XG5cdFx0XHRcdFx0XHR2YXIgY3JlYXRvclNlcnZpY2UgPSBcIiN7Y3JlYXRvclNlcnZpY2V9XCJcblx0XHRcdFx0XHRcdHZhciBpbnNfcmVjb3JkX2lkcyA9ICN7SlNPTi5zdHJpbmdpZnkoaW5zX3JlY29yZF9pZHMpfVxuXHRcdFx0XHRcdFx0aWYoY3JlYXRvclNlcnZpY2UgJiYgaW5zX3JlY29yZF9pZHMgJiYgaW5zX3JlY29yZF9pZHMubGVuZ3RoID4gMCl7XG5cdFx0XHRcdFx0XHRcdHZhciBvYmpjZXROYW1lID0gaW5zX3JlY29yZF9pZHNbMF0ub1xuXHRcdFx0XHRcdFx0XHR2YXIgaWQgPSBpbnNfcmVjb3JkX2lkc1swXS5pZHNbMF1cblx0XHRcdFx0XHRcdFx0dmFyIHVvYmogPSB7fTtcblx0XHRcdFx0XHRcdFx0dW9ialtcIlgtVXNlci1JZFwiXSA9IGdldENvb2tpZShcIlgtVXNlci1JZFwiKTtcblx0XHRcdFx0XHRcdFx0dW9ialtcIlgtQXV0aC1Ub2tlblwiXSA9IGdldENvb2tpZShcIlgtQXV0aC1Ub2tlblwiKTtcblx0XHRcdFx0XHRcdFx0cmVkaXJlY3RVcmwgPSBjcmVhdG9yU2VydmljZSArIFwiYXBwLy0vXCIgKyBvYmpjZXROYW1lICsgXCIvdmlldy9cIiArIGlkICsgXCI/XCIgKyAkLnBhcmFtKHVvYmopO1xuXHRcdFx0XHRcdFx0XHRvcGVuV2luZG93KHJlZGlyZWN0VXJsKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXG5cdFwiXCJcIjtcblxuXG5cdGlmICFTdGVlZG9zLmlzTW9iaWxlKClcblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcblx0XHRpZiBmb3JtPy5pbnN0YW5jZV9zdHlsZSA9PSAndGFibGUnXG5cdFx0XHRpbnN0YW5jZV9zdHlsZSA9IFwiaW5zdGFuY2UtdGFibGVcIlxuXG5cdGlmIG9wdGlvbnM/LnRlbXBsYXRlTmFtZSA9PSAndGFibGUnXG5cdFx0aW5zdGFuY2Vfc3R5bGUgPSBcImluc3RhbmNlLXRhYmxlXCJcblxuXHRpZiBvcHRpb25zPy5pbnN0YW5jZV9zdHlsZVxuXHRcdGluc3RhbmNlX3N0eWxlID0gb3B0aW9ucy5pbnN0YW5jZV9zdHlsZVxuXG5cdGlmICFvcHRpb25zIHx8IG9wdGlvbnMuc2hvd1RyYWNlID09IHRydWVcblx0XHR0cmFjZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRUcmFjZXNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcblx0ZWxzZVxuXHRcdHRyYWNlID0gXCJcIlxuXG5cdGluc3RhbmNlQm94U3R5bGUgPSBcIlwiO1xuXG5cdGlmIGluc3RhbmNlICYmIGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uXG5cdFx0aWYgaW5zdGFuY2UuZmluYWxfZGVjaXNpb24gPT0gXCJhcHByb3ZlZFwiXG5cdFx0XHRpbnN0YW5jZUJveFN0eWxlID0gXCJib3gtc3VjY2Vzc1wiXG5cdFx0ZWxzZSBpZiAoaW5zdGFuY2UuZmluYWxfZGVjaXNpb24gPT0gXCJyZWplY3RlZFwiKVxuXHRcdFx0aW5zdGFuY2VCb3hTdHlsZSA9IFwiYm94LWRhbmdlclwiXG5cdGlmICFvcHRpb25zIHx8IG9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzID09IHRydWVcblx0XHRhdHRhY2htZW50ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEF0dGFjaG1lbnRWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcblx0XHRyZWxhdGVkX2luc3RhbmNlcyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkSW5zdGFuY2VzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpXG5cdFx0cmVsYXRlZF9yZWNvcmRzID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRSZWNvcmRzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpXG5cdGVsc2Vcblx0XHRhdHRhY2htZW50ID0gXCJcIlxuXHRcdHJlbGF0ZWRfaW5zdGFuY2VzID0gXCJcIlxuXHRcdHJlbGF0ZWRfcmVjb3JkcyA9IFwiXCJcblxuXG5cdHdpZHRoID0gXCI5NjBweFwiXG5cdCNcdOWmguaenOe7mXRhYmxl55qEcGFyZW506K6+572ud2lkdGjvvIzliJnkvJrlr7zoh7TpmL/ph4zkupHpgq7nrrHmmL7npLp0YWJsZSDlvILluLhcblx0aWYgb3B0aW9ucz8ud2lkdGhcblx0XHR3aWR0aCA9IFwiXCJcblxuXHRjc3NIcmVmID0gTWV0ZW9yLmFic29sdXRlVXJsKFwic3RlZWRvcy1jc3NcIilcblxuXHRhbGxDc3NMaW5rID0gXCJcIlwiPGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiIGNsYXNzPVwiX19tZXRlb3ItY3NzX19cIiBocmVmPVwiI3tjc3NIcmVmfVwiPlwiXCJcIlxuXG5cdHRyYWNlQ2hlY2sgPSBcIlwiXG5cdGlmICFfLmlzRW1wdHkodHJhY2UpXG5cdFx0dHJhY2VDaGVjayA9IFwiY2hlY2tlZFwiXG5cdGlmIG9wdGlvbnM/LnRhZ2dlciA9PSAnZW1haWwnIHx8IG9wdGlvbnM/LmVkaXRhYmxlXG5cdFx0c2hvd1RyYWNlc0J0biA9IFwiXCJcblx0ZWxzZVxuXHRcdHNob3dUcmFjZXNCdG4gPSBcIlwiXCJcblx0XHRcdDxkaXYgY2xhc3M9XCJuYXZpZ2F0aW9uLWJhciBidG4tZ3JvdXAgbm8tcHJpbnRcIiBzdHlsZT1cIm1pbi13aWR0aDogNjAwcHg7IHotaW5kZXg6IDk5OVwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwicHJpbnQtdG9vbFwiPlxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNieC1sYWJlbFwiPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cImNieC1wcmludCBjYngtcHJpbnQtYXR0YWNobWVudHNcIiBpZD1cImNieC1wcmludC1hdHRhY2htZW50c1wiIGNoZWNrZWQ9XCJjaGVja2VkXCI+PHNwYW4+I3tUQVBpMThuLl9fKCdpbnN0YW5jZV9hdHRhY2htZW50Jywge30sIGxvY2FsZSl9PC9zcGFuPjwvbGFiZWw+XG5cdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY2J4LWxhYmVsXCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwiY2J4LXByaW50IGNieC1wcmludC10cmFjZXNcIiBpZD1cImNieC1wcmludC10cmFjZXNcIiBjaGVja2VkPVwiI3t0cmFjZUNoZWNrfVwiPjxzcGFuPiN7VEFQaTE4bi5fXygnaW5zdGFuY2VfYXBwcm92YWxfaGlzdG9yeScsIHt9LCBsb2NhbGUpfTwvc3Bhbj48L2xhYmVsPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdFx0XCJcIlwiXG5cblx0c2hvd1RyYWNlc1NjcmlwdCA9IFwiXCJcIlxuXHRcdCQoIGRvY3VtZW50ICkucmVhZHkoZnVuY3Rpb24oKXtcblx0XHRcdHZhciBiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NieC1wcmludC10cmFjZXMnKTtcblx0XHRcdHZhciB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW5zdGFuY2UtdHJhY2VzJylbMF07XG5cdFx0XHRpZiAoYiAmJiBiLmNoZWNrZWQgJiYgdCl7XG5cdFx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xuXHRcdFx0fSBlbHNlIGlmKHQpe1xuXHRcdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xuXHRcdFx0fVxuXHRcdFx0aWYoYil7XG5cdFx0XHRcdGIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZSl7XG5cdFx0XHRcdFx0aWYgKGUudGFyZ2V0LmNoZWNrZWQpe1xuXHRcdFx0XHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXG5cdFx0XHR2YXIgYXR0YWNobWVudHNDaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYngtcHJpbnQtYXR0YWNobWVudHMnKTtcblx0XHRcdHZhciBhdHRhY2htZW50c1ZpZXcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhdHRhY2htZW50cy1zZWN0aW9uJylbMF07XG5cdFx0XHRpZiAoYXR0YWNobWVudHNDaGVja2JveCAmJiBhdHRhY2htZW50c0NoZWNrYm94LmNoZWNrZWQgJiYgYXR0YWNobWVudHNWaWV3KXtcblx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcblx0XHRcdH0gZWxzZSBpZihhdHRhY2htZW50c1ZpZXcpe1xuXHRcdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXG5cdFx0XHR9XG5cdFx0XHRpZihhdHRhY2htZW50c0NoZWNrYm94KXtcblx0XHRcdFx0YXR0YWNobWVudHNDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0XHRpZiAoZS50YXJnZXQuY2hlY2tlZCl7XG5cdFx0XHRcdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcIlwiXCJcblxuXHRpZiBvcHRpb25zPy5zdHlsZXNcblx0XHRhbGxDc3NMaW5rID0gXCJcIlxuXG5cdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlLmZvcm19KTtcblx0Zm9ybURlc2NyaXB0aW9uSHRtbCA9IFwiXCJcblx0aWYgZm9ybVxuXHRcdGZvcm1EZXNjcmlwdGlvbiA9IGZvcm0uZGVzY3JpcHRpb25cblx0XHRpZiBmb3JtRGVzY3JpcHRpb25cblx0XHRcdGZvcm1EZXNjcmlwdGlvbiA9IGZvcm1EZXNjcmlwdGlvbi5yZXBsYWNlKC9cXG4vZyxcIjxici8+XCIpXG5cdFx0XHRmb3JtRGVzY3JpcHRpb25IdG1sID0gXCJcIlwiXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJib3gtaGVhZGVyICB3aXRoLWJvcmRlciBpbnN0YW5jZS1oZWFkZXJcIj5cblx0XHRcdFx0XHQ8ZGl2PlxuXHRcdFx0XHRcdFx0I3tmb3JtRGVzY3JpcHRpb259XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcIlwiXCJcblxuXHRodG1sID0gXCJcIlwiXG5cdFx0PCFET0NUWVBFIGh0bWw+XG5cdFx0PGh0bWw+XG5cdFx0XHQ8aGVhZD5cblx0XHRcdFx0PG1ldGEgaHR0cC1lcXVpdj1cIkNvbnRlbnQtVHlwZVwiIGNvbnRlbnQ9XCJ0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLThcIi8+XG5cdFx0XHRcdCN7YWxsQ3NzTGlua31cblx0XHRcdFx0PHNjcmlwdCBzcmM9XCJodHRwczovL3d3dy5zdGVlZG9zLmNvbS93ZWJzaXRlL2xpYnMvanF1ZXJ5Lm1pbi5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cblx0XHRcdFx0PHNjcmlwdCBzcmM9XCIvanMvbndfY29yZS5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cblx0XHRcdFx0I3tvcHRpb25zLnBsdWdpbnMgfHwgXCJcIn1cblxuXHRcdFx0XHQ8c3R5bGU+XG5cdFx0XHRcdFx0LnN0ZWVkb3N7XG5cdFx0XHRcdFx0XHR3aWR0aDogI3t3aWR0aH07XG5cdFx0XHRcdFx0XHRtYXJnaW4tbGVmdDogYXV0bztcblx0XHRcdFx0XHRcdG1hcmdpbi1yaWdodDogYXV0bztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQuaW5zdGFuY2UtdmlldyAuaW5zdGFuY2UtbmFtZXtcblx0XHRcdFx0XHRcdGRpc3BsYXk6IGlubGluZSAhaW1wb3J0YW50XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC5ib3gtdG9vbHN7XG5cdFx0XHRcdFx0XHRkaXNwbGF5OiBub25lO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQuYm94LmNvbGxhcHNlZC1ib3ggLmJveC1ib2R5LC5ib3guY29sbGFwc2VkLWJveCAuYm94LWZvb3RlciB7XG5cdFx0XHRcdFx0ICBkaXNwbGF5OiBibG9jaztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRib2R5e1xuXHRcdFx0XHRcdFx0YmFja2dyb3VuZDogYXp1cmUgIWltcG9ydGFudDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQuaW5zdGFuY2UtdmlldyAuaW5zdGFuY2UtdHJhY2Vze1xuXHRcdFx0XHRcdFx0cGFkZGluZy1sZWZ0OiAxNXB4O1xuXHRcdFx0XHRcdFx0cGFkZGluZy1yaWdodDogMTVweDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQje29wdGlvbnM/LnN0eWxlcyB8fCBcIlwifVxuXHRcdFx0XHQ8L3N0eWxlPlxuXHRcdFx0PC9oZWFkPlxuXHRcdFx0PGJvZHk+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJzdGVlZG9zIHdvcmtmbG93IGluc3RhbmNlLXByaW50XCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInNraW4tZ3JlZW4gc2tpbi1hZG1pbi1sdGVcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ3cmFwcGVyXCI+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb250ZW50LXdyYXBwZXJcIj5cblx0XHRcdFx0XHRcdFx0XHQje3Nob3dUcmFjZXNCdG59XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImluc3RhbmNlLXByaW50XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5zdGFuY2UgI3tpbnN0YW5jZV9zdHlsZX1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGZvcm0gbmFtZT1cImluc3RhbmNlRm9ybVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnN0YW5jZS1mb3JtIGJveCAje2luc3RhbmNlQm94U3R5bGV9XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQje2Zvcm1EZXNjcmlwdGlvbkh0bWx9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm94LWJvZHlcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbC1tZC0xMlwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2F0dGFjaG1lbnRzLXNlY3Rpb24nPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3thdHRhY2htZW50fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3tyZWxhdGVkX2luc3RhbmNlc31cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCN7cmVsYXRlZF9yZWNvcmRzfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCN7Ym9keX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9mb3JtPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQje3RyYWNlfVxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2JvZHk+XG5cdFx0XHQ8c2NyaXB0PiN7b3BlbkZpbGVTY3JpcHR9OyN7b25Mb2FkU2NyaXB0fTsje3Nob3dUcmFjZXNTY3JpcHR9PC9zY3JpcHQ+XG5cdFx0PC9odG1sPlxuXHRcIlwiXCJcblxuXHRyZXR1cm4gaHRtbCIsInZhciBfZ2V0TG9jYWxlLCBfZ2V0UmVxdWlyZWRGaWVsZHMsIF9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcywgX2dldFN0YXJ0U3RlcFJlcXVpcmVkRmllbGRzLCBfZ2V0VGVtcGxhdGVEYXRhLCBfZ2V0Vmlld0h0bWwsIGdldExpbmtUZXh0OyAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZSA9IHt9O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5zdGFuY2VfYXR0YWNobWVudCA9IFwiPHRyPlxcblx0PHRkIGNsYXNzPVxcXCJpbnMtYXR0YWNoLXZpZXdcXFwiPlxcblx0XHQ8YSBocmVmPVxcXCJ7e2luc19hdHRhY2hfZG93bmxvYWRfdXJsIF9pZCBhYnNvbHV0ZX19XFxcIiBjbGFzcz1cXFwiaW5zX2F0dGFjaF9ocmVmXFxcIiB0YXJnZXQ9XFxcIl9wYXJlbnRcXFwiIGRhdGEtbmFtZT1cXFwie3t0aGlzLm5hbWV9fVxcXCIgZGF0YS10eXBlPVxcXCJ7e3RoaXMub3JpZ2luYWwudHlwZX19XFxcIiBkYXRhLWlkPVxcXCJ7e19pZH19XFxcIj57e3RoaXMubmFtZX19PC9hPlxcblx0PC90ZD5cXG48L3RyPlwiO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZTZWxlY3RVc2VyUmVhZCA9IFwiPGRpdiBjbGFzcz0nc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCc+e3t2YWx1ZX19PC9kaXY+XCI7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZkZvcm1Hcm91cFJlYWQgPSBcIjxkaXYgY2xhc3M9J2Zvcm0tZ3JvdXAnPlxcblx0e3sjd2l0aCBnZXRGaWVsZCB0aGlzLm5hbWV9fVxcblx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxcblx0XHRcdFx0PGRpdiBjbGFzcz0nc2VjdGlvbiBjYWxsb3V0IGNhbGxvdXQtZGVmYXVsdCc+XFxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdDxwPnt7e2Rlc2NyaXB0aW9ufX19PC9wPlxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdHt7ZWxzZX19XFxuXHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3RhYmxlJ319XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbCBwYW5lbC1kZWZhdWx0IHN0ZWVkb3MtdGFibGVcXFwiPlxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIiBzdHlsZT1cXFwicGFkZGluZzowcHg7XFxcIj5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbC1oZWFkaW5nXFxcIiA+XFxuXHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9J2NvbnRyb2wtbGFiZWwnPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVxcXCJkZXNjcmlwdGlvblxcXCI+e3t7ZGVzY3JpcHRpb259fX08L3NwYW4+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwicmVhZG9ubHktdGFibGVcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjBweDtvdmVyZmxvdy14OmF1dG87XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0PHRhYmxlIHR5cGU9J3RhYmxlJyBjbGFzcz1cXFwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtY29uZGVuc2VkIGF1dG9mb3JtLXRhYmxlXFxcIiBzdHlsZT0nbWFyZ2luLWJvdHRvbTowcHg7JyB7e3RoaXMuYXR0c319IGlkPVxcXCJ7e3RoaXMuY29kZX19VGFibGVcXFwiIG5hbWU9XFxcInt7dGhpcy5jb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3t0aGlzLm5hbWV9fVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRoZWFkIGlkPVxcXCJ7e3RoaXMubmFtZX19VGhlYWRcXFwiIG5hbWU9XFxcInt7dGhpcy5uYW1lfX1UaGVhZFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZVRoZWFkIHRoaXN9fX1cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3RoZWFkPlxcblx0XHRcdFx0XHRcdFx0XHRcdDx0Ym9keSBpZD1cXFwie3t0aGlzLm5hbWV9fVRib2R5XFxcIiBuYW1lPVxcXCJ7e3RoaXMubmFtZX19VGJvZHlcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVCb2R5IHRoaXN9fX1cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3Rib2R5Plxcblx0XHRcdFx0XHRcdFx0XHQ8L3RhYmxlPlxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHR7eyNpZiBzaG93TGFiZWx9fVxcblx0XHRcdFx0XHQ8bGFiZWw+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cXG5cdFx0XHR7ey9pZn19XFxuXHRcdHt7L2lmfX1cXG5cdHt7L3dpdGh9fVxcbjwvZGl2PlwiO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXAgPSBcIlxcbnt7I3dpdGggZ2V0RmllbGQgdGhpcy5uYW1lfX1cXG5cdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3NlY3Rpb24nfX1cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9J3NlY3Rpb24gY2FsbG91dCBjYWxsb3V0LWRlZmF1bHQnPlxcblx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Zl9sYWJlbCB0aGlzfX08L2xhYmVsPlxcblx0XHRcdFx0XHQ8cD57e3tkZXNjcmlwdGlvbn19fTwvcD5cXG5cdFx0XHRcdDwvZGl2PlxcbiAgXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0e3tlbHNlfX1cXG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cXG5cdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHQgc3RlZWRvcy10YWJsZVxcXCI+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjBweDtcXFwiPlxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWhlYWRpbmdcXFwiID5cXG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XFxcImRlc2NyaXB0aW9uXFxcIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJyZWFkb25seS10YWJsZVxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MHB4O292ZXJmbG93LXg6YXV0bztcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1jb25kZW5zZWQgYXV0b2Zvcm0tdGFibGVcXFwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XFxcInt7dGhpcy5jb2RlfX1UYWJsZVxcXCIgbmFtZT1cXFwie3t0aGlzLmNvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e3RoaXMubmFtZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGhlYWQgaWQ9XFxcInt7dGhpcy5uYW1lfX1UaGVhZFxcXCIgbmFtZT1cXFwie3t0aGlzLm5hbWV9fVRoZWFkXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRib2R5IGlkPVxcXCJ7e3RoaXMubmFtZX19VGJvZHlcXFwiIG5hbWU9XFxcInt7dGhpcy5uYW1lfX1UYm9keVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGJvZHk+XFxuXHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdpbnB1dCd9fVxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiBkYXRhLXJlcXVpcmVkPVxcXCJ7eyNpZiBpc19yZXF1aXJlZH19dHJ1ZXt7L2lmfX1cXFwiPlxcblx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdHt7I2lmIGlzX3RleHRhcmVhfX1cXG5cdFx0XHRcdFx0XHRcdDx0ZXh0YXJlYSB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiB7e2dldFBlcm1pc3Npb25zIGNvZGV9fSBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj48L3RleHRhcmVhPlxcblx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHR7eyN1bmxlc3MgaXNfdGV4dGFyZWF9fVxcblx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIHt7Z2V0UGVybWlzc2lvbnMgY29kZX19IGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdHt7L3VubGVzc319XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ251bWJlcid9fVxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwibnVtYmVyXFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnZGF0ZSd9fVxcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS10eXBlPVxcXCJkYXRlXFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnZGF0ZVRpbWUnfX1cXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtdHlwZT0nZGF0ZXRpbWUnIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdwYXNzd29yZCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwicGFzc3dvcmRcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWxlY3QnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHNlbGVjdCBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PG9wdGlvbiB2YWx1ZT1cXFwie3t2YWx1ZX19XFxcIj57e2xhYmVsfX08L29wdGlvbj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zZWxlY3Q+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3JhZGlvJ319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImFmLXJhZGlvLWdyb3VwXFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cXG4gICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwicmFkaW8taW5saW5lIGZpeC1pbmRlbnRcXFwiPjxpbnB1dCB0eXBlPVxcXCJyYWRpb1xcXCIgdmFsdWU9XFxcInt7dmFsdWV9fVxcXCIgbmFtZT1cXFwie3suLi9jb2RlfX1cXFwiIGNsYXNzPVxcXCJyYWRpby1pbmxpbmUgZml4LWluZGVudFxcXCI+IHt7bGFiZWx9fTwvbGFiZWw+XFxuICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svZWFjaH19XFxuICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdtdWx0aVNlbGVjdCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJhZi1jaGVja2JveC1ncm91cFxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFxcXCI+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiB2YWx1ZT1cXFwie3t2YWx1ZX19XFxcIiBuYW1lPVxcXCJ7ey4uL2NvZGV9fVxcXCIgY2xhc3M9XFxcImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XFxcIj4ge3tsYWJlbH19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svZWFjaH19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndXJsJ319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJ1cmxcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdlbWFpbCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwiZW1haWxcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdjaGVja2JveCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJjaGVja2JveFxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBzdHlsZT1cXFwid2lkdGg6IDEwMCU7XFxcIj48aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIHZhbHVlPVxcXCJ0cnVlXFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgY2xhc3M9XFxcImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XFxcIj48L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J3t7Z2V0Q2ZDbGFzcyB0aGlzfX0gZm9ybS1jb250cm9sJyByZWFkb25seSBkaXNhYmxlZD57e3tnZXRWYWx1ZSBjb2RlfX19PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHR7ey9pZn19XFxuXHRcdHt7L2lmfX1cXG5cdHt7L3dpdGh9fVwiO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlID0gZnVuY3Rpb24odGVtcGFsdGVOYW1lLCBzdGVlZG9zRGF0YSkge1xuICB2YXIgdGVtcGxhdGUsIHRlbXBsYXRlQ29tcGlsZWQsIHRlbXBsYXRlUmVuZGVyRnVuY3Rpb247XG4gIHRlbXBsYXRlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlW3RlbXBhbHRlTmFtZV07XG4gIHRlbXBsYXRlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRlbXBsYXRlLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICB0ZW1wbGF0ZVJlbmRlckZ1bmN0aW9uID0gZXZhbCh0ZW1wbGF0ZUNvbXBpbGVkKTtcbiAgVGVtcGxhdGVbdGVtcGFsdGVOYW1lXSA9IG5ldyBCbGF6ZS5UZW1wbGF0ZSh0ZW1wYWx0ZU5hbWUsIHRlbXBsYXRlUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIHJldHVybiBUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdLmhlbHBlcnMoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycyk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW5zdGFuY2VTaWduVGV4dCA9IGZ1bmN0aW9uKHN0ZWVkb3NEYXRhKSB7XG4gIHZhciBpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQsIGluc3RhbmNlU2lnblRleHRIdG1sLCBpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb247XG4gIGluc3RhbmNlU2lnblRleHRIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW5zdGFuY2Vfc2lnbl90ZXh0Lmh0bWwnKTtcbiAgaW5zdGFuY2VTaWduVGV4dENvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbnN0YW5jZVNpZ25UZXh0SHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgaW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uID0gZXZhbChpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQpO1xuICBUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VTaWduVGV4dFwiLCBpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMoSW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzKTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbWFnZVNpZ24gPSBmdW5jdGlvbihzdGVlZG9zRGF0YSkge1xuICB2YXIgaW1hZ2VTaWduQ29tcGlsZWQsIGltYWdlU2lnbkh0bWwsIGltYWdlU2lnblJlbmRlckZ1bmN0aW9uO1xuICBpbWFnZVNpZ25IdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW1hZ2Vfc2lnbi5odG1sJyk7XG4gIGltYWdlU2lnbkNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbWFnZVNpZ25IdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICBpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW1hZ2VTaWduQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS5pbWFnZVNpZ24gPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbWFnZVNpZ25cIiwgaW1hZ2VTaWduUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5pbWFnZVNpZ24uc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgcmV0dXJuIFRlbXBsYXRlLmltYWdlU2lnbi5oZWxwZXJzKEltYWdlU2lnbi5oZWxwZXJzKTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVUcmFjZXNIYW5sZGVyID0gZnVuY3Rpb24oc3RlZWRvc0RhdGEpIHtcbiAgdmFyIHRyYWNlc0hhbmxkZXJDb21waWxlZCwgdHJhY2VzSGFubGRlckh0bWwsIHRyYWNlc0hhbmxkZXJSZW5kZXJGdW5jdGlvbjtcbiAgdHJhY2VzSGFubGRlckh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXNfaGFuZGxlci5odG1sJyk7XG4gIHRyYWNlc0hhbmxkZXJDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodHJhY2VzSGFubGRlckh0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHRyYWNlc0hhbmxkZXJSZW5kZXJGdW5jdGlvbiA9IGV2YWwodHJhY2VzSGFubGRlckNvbXBpbGVkKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXIgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbnN0YW5jZV90cmFjZXNfaGFuZGxlclwiLCB0cmFjZXNIYW5sZGVyUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5pbnN0YW5jZV90cmFjZXNfaGFuZGxlci5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXIuaGVscGVycyhUcmFjZXNIYW5kbGVyLmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmluaXQgPSBmdW5jdGlvbihzdGVlZG9zRGF0YSkge1xuICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZTZWxlY3RVc2VyUmVhZFwiLCBzdGVlZG9zRGF0YSk7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZGb3JtR3JvdXBcIiwgc3RlZWRvc0RhdGEpO1xuICB9XG4gIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZkZvcm1Hcm91cFJlYWRcIiwgc3RlZWRvc0RhdGEpO1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImluc3RhbmNlX2F0dGFjaG1lbnRcIiwge1xuICAgICAgYWJzb2x1dGU6IHN0ZWVkb3NEYXRhLmFic29sdXRlXG4gICAgfSk7XG4gICAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUltYWdlU2lnbihzdGVlZG9zRGF0YSk7XG4gICAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZVRyYWNlc0hhbmxkZXIoc3RlZWRvc0RhdGEpO1xuICAgIHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW5zdGFuY2VTaWduVGV4dChzdGVlZG9zRGF0YSk7XG4gIH1cbn07XG5cbmdldExpbmtUZXh0ID0gZnVuY3Rpb24oaXRlbSwgbGFiZWwsIGRldGFpbF91cmwpIHtcbiAgaWYgKGRldGFpbF91cmwpIHtcbiAgICBkZXRhaWxfdXJsID0gZGV0YWlsX3VybC5yZXBsYWNlKFwie19pZH1cIiwgaXRlbS5faWQpO1xuICAgIGlmICghL15odHRwKHM/KTpcXC9cXC8vLnRlc3QoZGV0YWlsX3VybCkpIHtcbiAgICAgIGRldGFpbF91cmwgPSBTdGVlZG9zLmFic29sdXRlVXJsKGRldGFpbF91cmwpO1xuICAgIH1cbiAgICByZXR1cm4gJzxhIGhyZWY9XCInICsgZGV0YWlsX3VybCArICdcIiB0YXJnZXQ9XCJfYmxhbmtcIj4nICsgbGFiZWwgKyAnPC9hPic7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxhYmVsO1xuICB9XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSwgZmllbGQsIGxvY2FsZSwgdXRjT2Zmc2V0KSB7XG4gIHZhciBkYXRlLCBkZXRhaWxfdXJsLCBlLCBob3VycywgbW9udGgsIHNlY29uZHMsIHQsIHQwLCB0MSwgeWVhcjtcbiAgaWYgKCF2YWx1ZSAmJiB2YWx1ZSAhPT0gZmFsc2UpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgY2FzZSAnZW1haWwnOlxuICAgICAgdmFsdWUgPSB2YWx1ZSA/ICc8YSBocmVmPVxcJ21haWx0bzonICsgdmFsdWUgKyAnXFwnPicgKyB2YWx1ZSArICc8L2E+JyA6ICcnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndXJsJzpcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUuaW5kZXhPZihcImh0dHBcIikgPT09IDApIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFsdWUgPSBcIjxhIGhyZWY9J1wiICsgZW5jb2RlVVJJKHZhbHVlKSArIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgICAgICB2YWx1ZSA9IFwiPGEgaHJlZj0nJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9IFwiPGEgaHJlZj0naHR0cDovL1wiICsgZW5jb2RlVVJJKHZhbHVlKSArIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLmdldFByb3BlcnR5KFwiZnVsbG5hbWVcIikudG9TdHJpbmcoKSA6IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLmZ1bGxuYW1lIDogdm9pZCAwO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndXNlcic6XG4gICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUuZ2V0UHJvcGVydHkoXCJuYW1lXCIpLnRvU3RyaW5nKCkgOiB2b2lkIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5uYW1lIDogdm9pZCAwO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAncGFzc3dvcmQnOlxuICAgICAgdmFsdWUgPSAnKioqKioqJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZSAhPT0gJ2ZhbHNlJykge1xuICAgICAgICB2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiLCB7fSwgbG9jYWxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIiwge30sIGxvY2FsZSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdkYXRlVGltZSc6XG4gICAgICBpZiAodmFsdWUgJiYgdmFsdWUubGVuZ3RoID09PSAxNikge1xuICAgICAgICB0ID0gdmFsdWUuc3BsaXQoXCJUXCIpO1xuICAgICAgICB0MCA9IHRbMF0uc3BsaXQoXCItXCIpO1xuICAgICAgICB0MSA9IHRbMV0uc3BsaXQoXCI6XCIpO1xuICAgICAgICB5ZWFyID0gdDBbMF07XG4gICAgICAgIG1vbnRoID0gdDBbMV07XG4gICAgICAgIGRhdGUgPSB0MFsyXTtcbiAgICAgICAgaG91cnMgPSB0MVswXTtcbiAgICAgICAgc2Vjb25kcyA9IHQxWzFdO1xuICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF0ZSwgaG91cnMsIHNlY29uZHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5mb3JtYXREYXRlKHZhbHVlLCB1dGNPZmZzZXQpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaW5wdXQnOlxuICAgICAgaWYgKGZpZWxkLmlzX3RleHRhcmVhKSB7XG4gICAgICAgIHZhbHVlID0gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24odmFsdWUpKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBpZiAodmFsdWUgfHwgdmFsdWUgPT09IDApIHtcbiAgICAgICAgdmFsdWUgPSBTdGVlZG9zLm51bWJlclRvU3RyaW5nKHZhbHVlLCBmaWVsZC5kaWdpdHMpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnb2RhdGEnOlxuICAgICAgZGV0YWlsX3VybCA9IGZpZWxkLmRldGFpbF91cmw7XG4gICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgdmFsdWUgPSBfLm1hcCh2YWx1ZSwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIHJldHVybiBnZXRMaW5rVGV4dChpdGVtLCBpdGVtWydAbGFiZWwnXSwgZGV0YWlsX3VybCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBnZXRMaW5rVGV4dCh2YWx1ZSwgdmFsdWVbJ0BsYWJlbCddLCBkZXRhaWxfdXJsKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2h0bWwnOlxuICAgICAgdmFsdWUgPSB2YWx1ZSA/IFwiPGRpdiBjbGFzcz1cXFwic3RlZWRvcy1odG1sXFxcIj5cIiArIHZhbHVlICsgXCI8L2Rpdj5cIiA6ICcnO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbCA9IGZ1bmN0aW9uKGZpZWxkcywgY29kZSkge1xuICB2YXIgZmllbGQ7XG4gIGZpZWxkID0gZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpO1xuICBpZiAoZmllbGQpIHtcbiAgICBpZiAoZmllbGQubmFtZSkge1xuICAgICAgcmV0dXJuIGZpZWxkLm5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmaWVsZC5jb2RlO1xuICAgIH1cbiAgfVxufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlRm9ybVZlcnNpb24gPSBmdW5jdGlvbihpbnN0YW5jZSkge1xuICB2YXIgZm9ybSwgZm9ybV9maWVsZHMsIGZvcm1fdmVyc2lvbjtcbiAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG4gIGZvcm1fdmVyc2lvbiA9IHt9O1xuICBmb3JtX2ZpZWxkcyA9IFtdO1xuICBpZiAoZm9ybS5jdXJyZW50Ll9pZCA9PT0gaW5zdGFuY2UuZm9ybV92ZXJzaW9uKSB7XG4gICAgZm9ybV92ZXJzaW9uID0gZm9ybS5jdXJyZW50O1xuICB9IGVsc2Uge1xuICAgIGZvcm1fdmVyc2lvbiA9IF8ud2hlcmUoZm9ybS5oaXN0b3J5cywge1xuICAgICAgX2lkOiBpbnN0YW5jZS5mb3JtX3ZlcnNpb25cbiAgICB9KVswXTtcbiAgfVxuICBmb3JtX3ZlcnNpb24uZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHtcbiAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICBmb3JtX2ZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICAgIGlmIChmaWVsZC5maWVsZHMpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICByZXR1cm4gZm9ybV9maWVsZHMucHVzaChmKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChmaWVsZC50eXBlID09PSAndGFibGUnKSB7XG4gICAgICBmaWVsZFsnc2ZpZWxkcyddID0gZmllbGRbJ2ZpZWxkcyddO1xuICAgICAgZGVsZXRlIGZpZWxkWydmaWVsZHMnXTtcbiAgICAgIHJldHVybiBmb3JtX2ZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xuICAgIH1cbiAgfSk7XG4gIGZvcm1fdmVyc2lvbi5maWVsZHMgPSBmb3JtX2ZpZWxkcztcbiAgcmV0dXJuIGZvcm1fdmVyc2lvbjtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRGbG93VmVyc2lvbiA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIHZhciBmbG93LCBmbG93X3ZlcnNpb247XG4gIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGluc3RhbmNlLmZsb3cpO1xuICBmbG93X3ZlcnNpb24gPSB7fTtcbiAgaWYgKGZsb3cuY3VycmVudC5faWQgPT09IGluc3RhbmNlLmZsb3dfdmVyc2lvbikge1xuICAgIGZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudDtcbiAgfSBlbHNlIHtcbiAgICBmbG93X3ZlcnNpb24gPSBfLndoZXJlKGZsb3cuaGlzdG9yeXMsIHtcbiAgICAgIF9pZDogaW5zdGFuY2UuZmxvd192ZXJzaW9uXG4gICAgfSlbMF07XG4gIH1cbiAgcmV0dXJuIGZsb3dfdmVyc2lvbjtcbn07XG5cbl9nZXRWaWV3SHRtbCA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIHZpZXdIdG1sO1xuICB2aWV3SHRtbCA9IEFzc2V0cy5nZXRUZXh0KHBhdGgpO1xuICBpZiAodmlld0h0bWwpIHtcbiAgICB2aWV3SHRtbCA9IHZpZXdIdG1sLnJlcGxhY2UoLzx0ZW1wbGF0ZVtcXHdcXHNcXFwiXFw9J10rPi9pLCBcIlwiKS5yZXBsYWNlKC88XFwvdGVtcGxhdGU+L2ksIFwiXCIpO1xuICB9XG4gIHJldHVybiB2aWV3SHRtbDtcbn07XG5cbl9nZXRMb2NhbGUgPSBmdW5jdGlvbih1c2VyKSB7XG4gIHZhciBsb2NhbGUsIHJlZiwgcmVmMTtcbiAgaWYgKCh1c2VyICE9IG51bGwgPyAocmVmID0gdXNlci5sb2NhbGUpICE9IG51bGwgPyByZWYudG9Mb2NhbGVMb3dlckNhc2UoKSA6IHZvaWQgMCA6IHZvaWQgMCkgPT09ICd6aC1jbicpIHtcbiAgICBsb2NhbGUgPSBcInpoLUNOXCI7XG4gIH0gZWxzZSBpZiAoKHVzZXIgIT0gbnVsbCA/IChyZWYxID0gdXNlci5sb2NhbGUpICE9IG51bGwgPyByZWYxLnRvTG9jYWxlTG93ZXJDYXNlKCkgOiB2b2lkIDAgOiB2b2lkIDApID09PSAnZW4tdXMnKSB7XG4gICAgbG9jYWxlID0gXCJlblwiO1xuICB9IGVsc2Uge1xuICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgfVxuICByZXR1cm4gbG9jYWxlO1xufTtcblxuX2dldFJlcXVpcmVkRmllbGRzID0gZnVuY3Rpb24oZmllbGRzLCByZXYpIHtcbiAgaWYgKCFyZXYpIHtcbiAgICByZXYgPSBbXTtcbiAgfVxuICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCkge1xuICAgIGlmIChmaWVsZC50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgIHJldHVybiBfZ2V0UmVxdWlyZWRGaWVsZHMoZmllbGQuZmllbGRzLCByZXYpO1xuICAgIH0gZWxzZSBpZiAoZmllbGQudHlwZSA9PT0gJ3RhYmxlJykge1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChmaWVsZC5pc19yZXF1aXJlZCkge1xuICAgICAgICByZXR1cm4gcmV2LnB1c2goZmllbGQuY29kZSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJldjtcbn07XG5cbl9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyA9IGZ1bmN0aW9uKGZpZWxkcywgc3RlcHMpIHtcbiAgdmFyIGVkaXRhYmxlQ29kZSwgc3RhcnRTdGVwO1xuICBzdGFydFN0ZXAgPSBzdGVwcy5maW5kUHJvcGVydHlCeVBLKFwic3RlcF90eXBlXCIsIFwic3RhcnRcIik7XG4gIGVkaXRhYmxlQ29kZSA9IFtdO1xuICBfLmtleXMoc3RhcnRTdGVwLnBlcm1pc3Npb25zKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmIChzdGFydFN0ZXAucGVybWlzc2lvbnNba2V5XSA9PT0gJ2VkaXRhYmxlJykge1xuICAgICAgcmV0dXJuIGVkaXRhYmxlQ29kZS5wdXNoKGtleSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGVkaXRhYmxlQ29kZTtcbn07XG5cbl9nZXRTdGFydFN0ZXBSZXF1aXJlZEZpZWxkcyA9IGZ1bmN0aW9uKGZpZWxkcywgc3RlcHMpIHtcbiAgdmFyIGVkaXRhYmxlQ29kZSwgcmVxdWlyZWRGaWVsZHM7XG4gIHJlcXVpcmVkRmllbGRzID0gX2dldFJlcXVpcmVkRmllbGRzKGZpZWxkcyk7XG4gIGVkaXRhYmxlQ29kZSA9IF9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyhmaWVsZHMsIHN0ZXBzKTtcbiAgcmV0dXJuIF8uaW50ZXJzZWN0aW9uKHJlcXVpcmVkRmllbGRzLCBlZGl0YWJsZUNvZGUpO1xufTtcblxuX2dldFRlbXBsYXRlRGF0YSA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgZmxvdywgZm9ybSwgZm9ybV92ZXJzaW9uLCBsb2NhbGUsIHN0ZWVkb3NEYXRhO1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgZm9ybV92ZXJzaW9uID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlRm9ybVZlcnNpb24oaW5zdGFuY2UpO1xuICB9IGVsc2Uge1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKGluc3RhbmNlKTtcbiAgfVxuICBsb2NhbGUgPSBfZ2V0TG9jYWxlKHVzZXIpO1xuICBzdGVlZG9zRGF0YSA9IHt9O1xuICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgc3RlZWRvc0RhdGEgPSBfLmNsb25lKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKSk7XG4gICAgc3RlZWRvc0RhdGEuaW5zbmFtZSA9IGluc3RhbmNlLm5hbWU7XG4gICAgc3RlZWRvc0RhdGEuaW5zX3N0YXRlID0gaW5zdGFuY2Uuc3RhdGU7XG4gICAgc3RlZWRvc0RhdGEuaW5zX2ZpbmFsX2RlY2lzaW9uID0gaW5zdGFuY2UuaW5zX2ZpbmFsX2RlY2lzaW9uO1xuICAgIHN0ZWVkb3NEYXRhLmluc19jb2RlID0gaW5zdGFuY2UuY29kZTtcbiAgICBzdGVlZG9zRGF0YS5pbnNfaXNfYXJjaGl2ZWQgPSBpbnN0YW5jZS5pc19hcmNoaXZlZDtcbiAgICBzdGVlZG9zRGF0YS5pbnNfaXNfZGVsZXRlZCA9IGluc3RhbmNlLmluc19pc19kZWxldGVkO1xuICAgIHN0ZWVkb3NEYXRhLmFwcGxpY2FudF9uYW1lID0gaW5zdGFuY2UuYXBwbGljYW50X25hbWU7XG4gICAgc3RlZWRvc0RhdGEuYXBwbGljYW50Q29udGV4dCA9IGluc3RhbmNlLmFwcGxpY2FudF9uYW1lO1xuICB9XG4gIHN0ZWVkb3NEYXRhLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gIHN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbiA9IGZvcm1fdmVyc2lvbjtcbiAgc3RlZWRvc0RhdGEubG9jYWxlID0gbG9jYWxlO1xuICBzdGVlZG9zRGF0YS51dGNPZmZzZXQgPSB1c2VyLnV0Y09mZnNldDtcbiAgc3RlZWRvc0RhdGEuc3BhY2UgPSBpbnN0YW5jZS5zcGFjZTtcbiAgc3RlZWRvc0RhdGEuc2Vzc2lvblVzZXJJZCA9IHVzZXIuX2lkO1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuZWRpdGFibGUgOiB2b2lkIDApIHtcbiAgICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZS5mb3JtXG4gICAgICB9KTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZS5mbG93XG4gICAgICB9KTtcbiAgICAgIHN0ZWVkb3NEYXRhLnN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzID0gX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzKGZvcm0uY3VycmVudC5maWVsZHMsIGZsb3cuY3VycmVudC5zdGVwcyk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdGVlZG9zRGF0YTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5mb3JtYXREYXRlID0gZnVuY3Rpb24oZGF0ZSwgdXRjT2Zmc2V0KSB7XG4gIHZhciBwYXNzaW5nO1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgcGFzc2luZyA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHBhc3NpbmcgPSB0cnVlO1xuICB9XG4gIGlmICghdXRjT2Zmc2V0ICYmIHV0Y09mZnNldCAhPT0gMCkge1xuICAgIHV0Y09mZnNldCA9IDg7XG4gIH1cbiAgcmV0dXJuIG1vbWVudChkYXRlKS51dGNPZmZzZXQodXRjT2Zmc2V0LCBwYXNzaW5nKS5mb3JtYXQoXCJZWVlZLU1NLUREIEhIOm1tXCIpO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlVmlldyA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgYm9keSwgaW5zdGFuY2VDb21waWxlZCwgaW5zdGFuY2VSZW5kZXJGdW5jdGlvbiwgaW5zdGFuY2VUZW1wbGF0ZSwgc3RlZWRvc0RhdGE7XG4gIHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5hYnNvbHV0ZSA6IHZvaWQgMCkge1xuICAgIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcbiAgfVxuICBpbnN0YW5jZVRlbXBsYXRlID0gVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlKGluc3RhbmNlLCBvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnRlbXBsYXRlTmFtZSA6IHZvaWQgMCk7XG4gIGluc3RhbmNlVGVtcGxhdGUgPSBpbnN0YW5jZVRlbXBsYXRlLnJlcGxhY2UoL2FmU2VsZWN0VXNlci9nLCBcImFmU2VsZWN0VXNlclJlYWRcIik7XG4gIGlmICghKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuZWRpdGFibGUgOiB2b2lkIDApKSB7XG4gICAgaW5zdGFuY2VUZW1wbGF0ZSA9IGluc3RhbmNlVGVtcGxhdGUucmVwbGFjZSgvYWZGb3JtR3JvdXAvZywgXCJhZkZvcm1Hcm91cFJlYWRcIik7XG4gIH1cbiAgaW5zdGFuY2VDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoaW5zdGFuY2VUZW1wbGF0ZSwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgaW5zdGFuY2VSZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW5zdGFuY2VDb21waWxlZCk7XG4gIFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbnN0YW5jZV9yZWFkb25seV92aWV3XCIsIGluc3RhbmNlUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcuaGVscGVycyhJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzKTtcbiAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmluaXQoc3RlZWRvc0RhdGEpO1xuICBib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldywgc3RlZWRvc0RhdGEpO1xuICByZXR1cm4gXCI8ZGl2IGlkPSdpbnN0YW5jZWZvcm0nID5cXG5cdFwiICsgYm9keSArIFwiXFxuPC9kaXY+XCI7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VHJhY2VzVmlldyA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgYm9keSwgZm9ybSwgc3RlZWRvc0RhdGEsIHRyYWNlQ29tcGlsZWQsIHRyYWNlUmVuZGVyRnVuY3Rpb24sIHRyYWNlc0h0bWw7XG4gIHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcbiAgaWYgKGZvcm0uaW5zdGFuY2Vfc3R5bGUgPT09IFwidGFibGVcIiB8fCAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy50ZW1wbGF0ZU5hbWUgOiB2b2lkIDApID09PSBcInRhYmxlXCIpIHtcbiAgICB0cmFjZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvdHJhY2VzX3RhYmxlLmh0bWwnKTtcbiAgfSBlbHNlIHtcbiAgICB0cmFjZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvdHJhY2VzLmh0bWwnKTtcbiAgfVxuICB0cmFjZUNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0cmFjZXNIdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICB0cmFjZVJlbmRlckZ1bmN0aW9uID0gZXZhbCh0cmFjZUNvbXBpbGVkKTtcbiAgVGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcInRyYWNlX3JlYWRvbmx5X3ZpZXdcIiwgdHJhY2VSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgVGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldy5oZWxwZXJzKFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMpO1xuICBib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldywgaW5zdGFuY2UudHJhY2VzKTtcbiAgcmV0dXJuIGJvZHk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0QXR0YWNobWVudFZpZXcgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UpIHtcbiAgdmFyIGF0dGFjaG1lbnRDb21waWxlZCwgYXR0YWNobWVudEh0bWwsIGF0dGFjaG1lbnRSZW5kZXJGdW5jdGlvbiwgYm9keSwgc3RlZWRvc0RhdGE7XG4gIHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICBhdHRhY2htZW50SHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL2luc3RhbmNlX2F0dGFjaG1lbnRzLmh0bWwnKTtcbiAgYXR0YWNobWVudENvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShhdHRhY2htZW50SHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uID0gZXZhbChhdHRhY2htZW50Q29tcGlsZWQpO1xuICBUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiYXR0YWNobWVudHNfcmVhZG9ubHlfdmlld1wiLCBhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcuaGVscGVycyhJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzKTtcbiAgYm9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcpO1xuICByZXR1cm4gYm9keTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkSW5zdGFuY2VzVmlldyA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgYm9keSwgcmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkLCByZWxhdGVkSW5zdGFuY2VzSHRtbCwgcmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uLCBzdGVlZG9zRGF0YTtcbiAgc3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gZmFsc2U7XG4gIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmFic29sdXRlIDogdm9pZCAwKSB7XG4gICAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xuICB9XG4gIHJlbGF0ZWRJbnN0YW5jZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvcmVsYXRlZF9pbnN0YW5jZXMuaHRtbCcpO1xuICByZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHJlbGF0ZWRJbnN0YW5jZXNIdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICByZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24gPSBldmFsKHJlbGF0ZWRJbnN0YW5jZXNDb21waWxlZCk7XG4gIFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJyZWxhdGVkX2luc3RhbmNlc192aWV3XCIsIHJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldy5oZWxwZXJzKFJlbGF0ZWRJbnN0YW5jZXMuaGVscGVycyk7XG4gIGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3LCBzdGVlZG9zRGF0YSk7XG4gIHJldHVybiBib2R5O1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRSZWNvcmRzVmlldyA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgYm9keSwgcmVsYXRlZFJlY29yZHNDb21waWxlZCwgcmVsYXRlZFJlY29yZHNIdG1sLCByZWxhdGVkUmVjb3Jkc1JlbmRlckZ1bmN0aW9uLCBzdGVlZG9zRGF0YTtcbiAgc3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gZmFsc2U7XG4gIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmFic29sdXRlIDogdm9pZCAwKSB7XG4gICAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xuICB9XG4gIHJlbGF0ZWRSZWNvcmRzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3JlbGF0ZWRfcmVjb3Jkcy5odG1sJyk7XG4gIHJlbGF0ZWRSZWNvcmRzQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHJlbGF0ZWRSZWNvcmRzSHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgcmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbiA9IGV2YWwocmVsYXRlZFJlY29yZHNDb21waWxlZCk7XG4gIFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwicmVsYXRlZF9yZWNvcmRzX3ZpZXdcIiwgcmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3LmhlbHBlcnMoUmVsYXRlZFJlY29yZHMuaGVscGVycyk7XG4gIGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldywgc3RlZWRvc0RhdGEpO1xuICByZXR1cm4gYm9keTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRPbkxvYWRTY3JpcHQgPSBmdW5jdGlvbihpbnN0YW5jZSkge1xuICB2YXIgZm9ybV9zY3JpcHQsIGZvcm1fdmVyc2lvbjtcbiAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbik7XG4gIGZvcm1fc2NyaXB0ID0gZm9ybV92ZXJzaW9uLmZvcm1fc2NyaXB0O1xuICBpZiAoZm9ybV9zY3JpcHQgJiYgZm9ybV9zY3JpcHQucmVwbGFjZSgvXFxuL2csIFwiXCIpLnJlcGxhY2UoL1xccy9nLCBcIlwiKS5sZW5ndGggPiAwKSB7XG4gICAgZm9ybV9zY3JpcHQgPSBcIkNvcmVGb3JtID0ge307Q29yZUZvcm0uaW5zdGFuY2Vmb3JtID0ge307XCIgKyBmb3JtX3NjcmlwdDtcbiAgICByZXR1cm4gZm9ybV9zY3JpcHQgKz0gXCI7aWYoQ29yZUZvcm0uZm9ybV9PbkxvYWQpe3dpbmRvdy5vbmxvYWQgPSBDb3JlRm9ybS5mb3JtX09uTG9hZCgpO31cIjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZm9ybV9zY3JpcHQgPSBcIlwiO1xuICB9XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBhbGxDc3NMaW5rLCBhdHRhY2htZW50LCBib2R5LCBjcmVhdG9yU2VydmljZSwgY3NzSHJlZiwgZm9ybSwgZm9ybURlc2NyaXB0aW9uLCBmb3JtRGVzY3JpcHRpb25IdG1sLCBodG1sLCBpbnNfcmVjb3JkX2lkcywgaW5zdGFuY2VCb3hTdHlsZSwgaW5zdGFuY2Vfc3R5bGUsIGxvY2FsZSwgb25Mb2FkU2NyaXB0LCBvcGVuRmlsZVNjcmlwdCwgcmVmLCByZWYxLCByZWxhdGVkX2luc3RhbmNlcywgcmVsYXRlZF9yZWNvcmRzLCBzaG93VHJhY2VzQnRuLCBzaG93VHJhY2VzU2NyaXB0LCB0cmFjZSwgdHJhY2VDaGVjaywgd2lkdGg7XG4gIGJvZHkgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIG9uTG9hZFNjcmlwdCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRPbkxvYWRTY3JpcHQoaW5zdGFuY2UpO1xuICBjcmVhdG9yU2VydmljZSA9IChyZWYgPSBNZXRlb3Iuc2V0dGluZ3NbXCJwdWJsaWNcIl0ud2Vic2VydmljZXMpICE9IG51bGwgPyAocmVmMSA9IHJlZi5jcmVhdG9yKSAhPSBudWxsID8gcmVmMS51cmwgOiB2b2lkIDAgOiB2b2lkIDA7XG4gIGluc19yZWNvcmRfaWRzID0gaW5zdGFuY2UucmVjb3JkX2lkcztcbiAgbG9jYWxlID0gX2dldExvY2FsZSh1c2VyKTtcbiAgb3BlbkZpbGVTY3JpcHQgPSBcImlmKHdpbmRvdy5pc05vZGUgJiYgaXNOb2RlKCkpe1xcblx0YXR0YWNocyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXFxcImluc19hdHRhY2hfaHJlZlxcXCIpO1xcblx0Zm9yKHZhciBpID0gMDsgaSA8IGF0dGFjaHMubGVuZ3RoOyBpKyspe1xcblx0XHRhdHRhY2ggPSBhdHRhY2hzW2ldO1xcblx0XHRhdHRhY2guYWRkRXZlbnRMaXN0ZW5lcihcXFwiY2xpY2tcXFwiLCBmdW5jdGlvbihlKXtcXG5cdFx0XHRpZihpc0ltYWdlKHRoaXMuZGF0YXNldC50eXBlKSB8fCBpc0h0bWwodGhpcy5kYXRhc2V0LnR5cGUpKXtcXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcXG5cdFx0XHRcdG9wZW5XaW5kb3coXFxcIi9hcGkvZmlsZXMvaW5zdGFuY2VzL1xcXCIgKyB0aGlzLmRhdGFzZXQuaWQpO1xcblx0XHRcdH1lbHNlIGlmKG53X2NvcmUuY2FuT3BlbkZpbGUodGhpcy5kYXRhc2V0Lm5hbWUpKXtcXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcXG5cdFx0XHRcdG53X2NvcmUub3BlbkZpbGUodGhpcy5ocmVmLCB0aGlzLmRhdGFzZXQubmFtZSlcXG5cdFx0XHR9XFxuXHRcdH0pO1xcblx0fVxcbn1cXG5cXG52YXIgZmxvdyA9IFxcXCJcIiArIGluc3RhbmNlLmZsb3cgKyBcIlxcXCI7XFxudmFyIHNwYWNlID0gXFxcIlwiICsgaW5zdGFuY2Uuc3BhY2UgKyBcIlxcXCI7XFxuXFxuZnVuY3Rpb24gZ2V0Q29va2llKG5hbWUpe1xcblx0bGV0IHBhdHRlcm4gPSBSZWdFeHAobmFtZSArIFxcXCI9LlteO10qXFxcIilcXG5cdGxldCBtYXRjaGVkID0gZG9jdW1lbnQuY29va2llLm1hdGNoKHBhdHRlcm4pXFxuXHRpZihtYXRjaGVkKXtcXG5cdFx0bGV0IGNvb2tpZSA9IG1hdGNoZWRbMF0uc3BsaXQoJz0nKVxcblx0XHRyZXR1cm4gY29va2llWzFdXFxuXHR9XFxuXHRyZXR1cm4gJydcXG59XFxuXFxudmFyIHJlY29yZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxcXCJpbnMtcmVsYXRlZC1yZWNvcmRzXFxcIik7XFxuZm9yKHZhciBpID0gMDsgaSA8IHJlY29yZHMubGVuZ3RoOyBpKyspe1xcblx0XHR2YXIgcmVjb3JkID0gcmVjb3Jkc1tpXTtcXG5cdFx0cmVjb3JkLmFkZEV2ZW50TGlzdGVuZXIoXFxcImNsaWNrXFxcIiwgZnVuY3Rpb24oZSl7XFxuXHRcdFx0dmFyIGNyZWF0b3JTZXJ2aWNlID0gXFxcIlwiICsgY3JlYXRvclNlcnZpY2UgKyBcIlxcXCJcXG5cdFx0XHR2YXIgaW5zX3JlY29yZF9pZHMgPSBcIiArIChKU09OLnN0cmluZ2lmeShpbnNfcmVjb3JkX2lkcykpICsgXCJcXG5cdFx0XHRpZihjcmVhdG9yU2VydmljZSAmJiBpbnNfcmVjb3JkX2lkcyAmJiBpbnNfcmVjb3JkX2lkcy5sZW5ndGggPiAwKXtcXG5cdFx0XHRcdHZhciBvYmpjZXROYW1lID0gaW5zX3JlY29yZF9pZHNbMF0ub1xcblx0XHRcdFx0dmFyIGlkID0gaW5zX3JlY29yZF9pZHNbMF0uaWRzWzBdXFxuXHRcdFx0XHR2YXIgdW9iaiA9IHt9O1xcblx0XHRcdFx0dW9ialtcXFwiWC1Vc2VyLUlkXFxcIl0gPSBnZXRDb29raWUoXFxcIlgtVXNlci1JZFxcXCIpO1xcblx0XHRcdFx0dW9ialtcXFwiWC1BdXRoLVRva2VuXFxcIl0gPSBnZXRDb29raWUoXFxcIlgtQXV0aC1Ub2tlblxcXCIpO1xcblx0XHRcdFx0cmVkaXJlY3RVcmwgPSBjcmVhdG9yU2VydmljZSArIFxcXCJhcHAvLS9cXFwiICsgb2JqY2V0TmFtZSArIFxcXCIvdmlldy9cXFwiICsgaWQgKyBcXFwiP1xcXCIgKyAkLnBhcmFtKHVvYmopO1xcblx0XHRcdFx0b3BlbldpbmRvdyhyZWRpcmVjdFVybCk7XFxuXHRcdFx0fVxcblx0XHR9KTtcXG5cdH1cXG5cIjtcbiAgaWYgKCFTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcbiAgICBpZiAoKGZvcm0gIT0gbnVsbCA/IGZvcm0uaW5zdGFuY2Vfc3R5bGUgOiB2b2lkIDApID09PSAndGFibGUnKSB7XG4gICAgICBpbnN0YW5jZV9zdHlsZSA9IFwiaW5zdGFuY2UtdGFibGVcIjtcbiAgICB9XG4gIH1cbiAgaWYgKChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnRlbXBsYXRlTmFtZSA6IHZvaWQgMCkgPT09ICd0YWJsZScpIHtcbiAgICBpbnN0YW5jZV9zdHlsZSA9IFwiaW5zdGFuY2UtdGFibGVcIjtcbiAgfVxuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5pbnN0YW5jZV9zdHlsZSA6IHZvaWQgMCkge1xuICAgIGluc3RhbmNlX3N0eWxlID0gb3B0aW9ucy5pbnN0YW5jZV9zdHlsZTtcbiAgfVxuICBpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucy5zaG93VHJhY2UgPT09IHRydWUpIHtcbiAgICB0cmFjZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRUcmFjZXNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gIH0gZWxzZSB7XG4gICAgdHJhY2UgPSBcIlwiO1xuICB9XG4gIGluc3RhbmNlQm94U3R5bGUgPSBcIlwiO1xuICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuZmluYWxfZGVjaXNpb24pIHtcbiAgICBpZiAoaW5zdGFuY2UuZmluYWxfZGVjaXNpb24gPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgaW5zdGFuY2VCb3hTdHlsZSA9IFwiYm94LXN1Y2Nlc3NcIjtcbiAgICB9IGVsc2UgaWYgKGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgIGluc3RhbmNlQm94U3R5bGUgPSBcImJveC1kYW5nZXJcIjtcbiAgICB9XG4gIH1cbiAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzID09PSB0cnVlKSB7XG4gICAgYXR0YWNobWVudCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRBdHRhY2htZW50Vmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICAgIHJlbGF0ZWRfaW5zdGFuY2VzID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gICAgcmVsYXRlZF9yZWNvcmRzID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRSZWNvcmRzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIGF0dGFjaG1lbnQgPSBcIlwiO1xuICAgIHJlbGF0ZWRfaW5zdGFuY2VzID0gXCJcIjtcbiAgICByZWxhdGVkX3JlY29yZHMgPSBcIlwiO1xuICB9XG4gIHdpZHRoID0gXCI5NjBweFwiO1xuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy53aWR0aCA6IHZvaWQgMCkge1xuICAgIHdpZHRoID0gXCJcIjtcbiAgfVxuICBjc3NIcmVmID0gTWV0ZW9yLmFic29sdXRlVXJsKFwic3RlZWRvcy1jc3NcIik7XG4gIGFsbENzc0xpbmsgPSBcIjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGNsYXNzPVxcXCJfX21ldGVvci1jc3NfX1xcXCIgaHJlZj1cXFwiXCIgKyBjc3NIcmVmICsgXCJcXFwiPlwiO1xuICB0cmFjZUNoZWNrID0gXCJcIjtcbiAgaWYgKCFfLmlzRW1wdHkodHJhY2UpKSB7XG4gICAgdHJhY2VDaGVjayA9IFwiY2hlY2tlZFwiO1xuICB9XG4gIGlmICgob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy50YWdnZXIgOiB2b2lkIDApID09PSAnZW1haWwnIHx8IChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmVkaXRhYmxlIDogdm9pZCAwKSkge1xuICAgIHNob3dUcmFjZXNCdG4gPSBcIlwiO1xuICB9IGVsc2Uge1xuICAgIHNob3dUcmFjZXNCdG4gPSBcIjxkaXYgY2xhc3M9XFxcIm5hdmlnYXRpb24tYmFyIGJ0bi1ncm91cCBuby1wcmludFxcXCIgc3R5bGU9XFxcIm1pbi13aWR0aDogNjAwcHg7IHotaW5kZXg6IDk5OVxcXCI+XFxuXHQ8ZGl2IGNsYXNzPVxcXCJwcmludC10b29sXFxcIj5cXG5cdFx0PGxhYmVsIGNsYXNzPVxcXCJjYngtbGFiZWxcXFwiPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgY2xhc3M9XFxcImNieC1wcmludCBjYngtcHJpbnQtYXR0YWNobWVudHNcXFwiIGlkPVxcXCJjYngtcHJpbnQtYXR0YWNobWVudHNcXFwiIGNoZWNrZWQ9XFxcImNoZWNrZWRcXFwiPjxzcGFuPlwiICsgKFRBUGkxOG4uX18oJ2luc3RhbmNlX2F0dGFjaG1lbnQnLCB7fSwgbG9jYWxlKSkgKyBcIjwvc3Bhbj48L2xhYmVsPlxcblx0XHQ8bGFiZWwgY2xhc3M9XFxcImNieC1sYWJlbFxcXCI+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBjbGFzcz1cXFwiY2J4LXByaW50IGNieC1wcmludC10cmFjZXNcXFwiIGlkPVxcXCJjYngtcHJpbnQtdHJhY2VzXFxcIiBjaGVja2VkPVxcXCJcIiArIHRyYWNlQ2hlY2sgKyBcIlxcXCI+PHNwYW4+XCIgKyAoVEFQaTE4bi5fXygnaW5zdGFuY2VfYXBwcm92YWxfaGlzdG9yeScsIHt9LCBsb2NhbGUpKSArIFwiPC9zcGFuPjwvbGFiZWw+XFxuXHQ8L2Rpdj5cXG48L2Rpdj5cIjtcbiAgfVxuICBzaG93VHJhY2VzU2NyaXB0ID0gXCIkKCBkb2N1bWVudCApLnJlYWR5KGZ1bmN0aW9uKCl7XFxuXHR2YXIgYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYngtcHJpbnQtdHJhY2VzJyk7XFxuXHR2YXIgdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc3RhbmNlLXRyYWNlcycpWzBdO1xcblx0aWYgKGIgJiYgYi5jaGVja2VkICYmIHQpe1xcblx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcXG5cdH0gZWxzZSBpZih0KXtcXG5cdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcXG5cdH1cXG5cdGlmKGIpe1xcblx0XHRiLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpe1xcblx0XHRcdGlmIChlLnRhcmdldC5jaGVja2VkKXtcXG5cdFx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xcblx0XHRcdH0gZWxzZSB7XFxuXHRcdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xcblx0XHRcdH1cXG5cdFx0fSk7XFxuXHR9XFxuXFxuXFxuXHR2YXIgYXR0YWNobWVudHNDaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYngtcHJpbnQtYXR0YWNobWVudHMnKTtcXG5cdHZhciBhdHRhY2htZW50c1ZpZXcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhdHRhY2htZW50cy1zZWN0aW9uJylbMF07XFxuXHRpZiAoYXR0YWNobWVudHNDaGVja2JveCAmJiBhdHRhY2htZW50c0NoZWNrYm94LmNoZWNrZWQgJiYgYXR0YWNobWVudHNWaWV3KXtcXG5cdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcXG5cdH0gZWxzZSBpZihhdHRhY2htZW50c1ZpZXcpe1xcblx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXFxuXHR9XFxuXHRpZihhdHRhY2htZW50c0NoZWNrYm94KXtcXG5cdFx0YXR0YWNobWVudHNDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXtcXG5cdFx0XHRpZiAoZS50YXJnZXQuY2hlY2tlZCl7XFxuXHRcdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xcblx0XHRcdH0gZWxzZSB7XFxuXHRcdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXFxuXHRcdFx0fVxcblx0XHR9KTtcXG5cdH1cXG59KTtcXG5cIjtcbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuc3R5bGVzIDogdm9pZCAwKSB7XG4gICAgYWxsQ3NzTGluayA9IFwiXCI7XG4gIH1cbiAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgIF9pZDogaW5zdGFuY2UuZm9ybVxuICB9KTtcbiAgZm9ybURlc2NyaXB0aW9uSHRtbCA9IFwiXCI7XG4gIGlmIChmb3JtKSB7XG4gICAgZm9ybURlc2NyaXB0aW9uID0gZm9ybS5kZXNjcmlwdGlvbjtcbiAgICBpZiAoZm9ybURlc2NyaXB0aW9uKSB7XG4gICAgICBmb3JtRGVzY3JpcHRpb24gPSBmb3JtRGVzY3JpcHRpb24ucmVwbGFjZSgvXFxuL2csIFwiPGJyLz5cIik7XG4gICAgICBmb3JtRGVzY3JpcHRpb25IdG1sID0gXCI8ZGl2IGNsYXNzPVxcXCJib3gtaGVhZGVyICB3aXRoLWJvcmRlciBpbnN0YW5jZS1oZWFkZXJcXFwiPlxcblx0PGRpdj5cXG5cdFx0XCIgKyBmb3JtRGVzY3JpcHRpb24gKyBcIlxcblx0PC9kaXY+XFxuPC9kaXY+XCI7XG4gICAgfVxuICB9XG4gIGh0bWwgPSBcIjwhRE9DVFlQRSBodG1sPlxcbjxodG1sPlxcblx0PGhlYWQ+XFxuXHRcdDxtZXRhIGh0dHAtZXF1aXY9XFxcIkNvbnRlbnQtVHlwZVxcXCIgY29udGVudD1cXFwidGV4dC9odG1sOyBjaGFyc2V0PVVURi04XFxcIi8+XFxuXHRcdFwiICsgYWxsQ3NzTGluayArIFwiXFxuXHRcdDxzY3JpcHQgc3JjPVxcXCJodHRwczovL3d3dy5zdGVlZG9zLmNvbS93ZWJzaXRlL2xpYnMvanF1ZXJ5Lm1pbi5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cXG5cdFx0PHNjcmlwdCBzcmM9XFxcIi9qcy9ud19jb3JlLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0Plxcblx0XHRcIiArIChvcHRpb25zLnBsdWdpbnMgfHwgXCJcIikgKyBcIlxcblxcblx0XHQ8c3R5bGU+XFxuXHRcdFx0LnN0ZWVkb3N7XFxuXHRcdFx0XHR3aWR0aDogXCIgKyB3aWR0aCArIFwiO1xcblx0XHRcdFx0bWFyZ2luLWxlZnQ6IGF1dG87XFxuXHRcdFx0XHRtYXJnaW4tcmlnaHQ6IGF1dG87XFxuXHRcdFx0fVxcblxcblx0XHRcdC5pbnN0YW5jZS12aWV3IC5pbnN0YW5jZS1uYW1le1xcblx0XHRcdFx0ZGlzcGxheTogaW5saW5lICFpbXBvcnRhbnRcXG5cdFx0XHR9XFxuXHRcdFx0LmJveC10b29sc3tcXG5cdFx0XHRcdGRpc3BsYXk6IG5vbmU7XFxuXHRcdFx0fVxcblx0XHRcdC5ib3guY29sbGFwc2VkLWJveCAuYm94LWJvZHksLmJveC5jb2xsYXBzZWQtYm94IC5ib3gtZm9vdGVyIHtcXG5cdFx0XHQgIGRpc3BsYXk6IGJsb2NrO1xcblx0XHRcdH1cXG5cXG5cdFx0XHRib2R5e1xcblx0XHRcdFx0YmFja2dyb3VuZDogYXp1cmUgIWltcG9ydGFudDtcXG5cdFx0XHR9XFxuXFxuXHRcdFx0Lmluc3RhbmNlLXZpZXcgLmluc3RhbmNlLXRyYWNlc3tcXG5cdFx0XHRcdHBhZGRpbmctbGVmdDogMTVweDtcXG5cdFx0XHRcdHBhZGRpbmctcmlnaHQ6IDE1cHg7XFxuXHRcdFx0fVxcblxcblx0XHRcdFwiICsgKChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnN0eWxlcyA6IHZvaWQgMCkgfHwgXCJcIikgKyBcIlxcblx0XHQ8L3N0eWxlPlxcblx0PC9oZWFkPlxcblx0PGJvZHk+XFxuXHRcdDxkaXYgY2xhc3M9XFxcInN0ZWVkb3Mgd29ya2Zsb3cgaW5zdGFuY2UtcHJpbnRcXFwiPlxcblx0XHRcdDxkaXYgY2xhc3M9XFxcInNraW4tZ3JlZW4gc2tpbi1hZG1pbi1sdGVcXFwiPlxcblx0XHRcdFx0PGRpdiBjbGFzcz1cXFwid3JhcHBlclxcXCI+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImNvbnRlbnQtd3JhcHBlclxcXCI+XFxuXHRcdFx0XHRcdFx0XCIgKyBzaG93VHJhY2VzQnRuICsgXCJcXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJpbnN0YW5jZS1wcmludFxcXCI+XFxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJpbnN0YW5jZSBcIiArIGluc3RhbmNlX3N0eWxlICsgXCJcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8Zm9ybSBuYW1lPVxcXCJpbnN0YW5jZUZvcm1cXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImluc3RhbmNlLWZvcm0gYm94IFwiICsgaW5zdGFuY2VCb3hTdHlsZSArIFwiXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFwiICsgZm9ybURlc2NyaXB0aW9uSHRtbCArIFwiXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJib3gtYm9keVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0nYXR0YWNobWVudHMtc2VjdGlvbic+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIiArIGF0dGFjaG1lbnQgKyBcIlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCIgKyByZWxhdGVkX2luc3RhbmNlcyArIFwiXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIiArIHJlbGF0ZWRfcmVjb3JkcyArIFwiXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCIgKyBib2R5ICsgXCJcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0PC9mb3JtPlxcblx0XHRcdFx0XHRcdFx0XHRcIiArIHRyYWNlICsgXCJcXG5cdFx0XHRcdFx0XHRcdDwvZGl2Plxcblxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdDwvZGl2Plxcblx0XHQ8L2Rpdj5cXG5cdDwvYm9keT5cXG5cdDxzY3JpcHQ+XCIgKyBvcGVuRmlsZVNjcmlwdCArIFwiO1wiICsgb25Mb2FkU2NyaXB0ICsgXCI7XCIgKyBzaG93VHJhY2VzU2NyaXB0ICsgXCI8L3NjcmlwdD5cXG48L2h0bWw+XCI7XG4gIHJldHVybiBodG1sO1xufTtcbiIsIlRlbXBsYXRlTWFuYWdlciA9IHt9O1xuXG5mb3JtSWQgPSAnaW5zdGFuY2Vmb3JtJztcblxuXG5UZW1wbGF0ZU1hbmFnZXIuaW5zdGFuY2VfdGl0bGUgPSAoKS0+XG5cdHBhZ2VUaXRsZSA9IFwiXCJcIlxuXHRcdHt7aW5zdGFuY2UubmFtZX19XG5cdFwiXCJcIlxuXG5cdHBhZ2VUaXRsZVRyQ2xhc3MgPSBcImluc3RhbmNlLW5hbWVcIlxuXG5cdGlmIENvcmVGb3JtPy5wYWdlVGl0bGVGaWVsZE5hbWVcblx0XHRwYWdlVGl0bGUgPSBcIlwiXCJcblx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9XCIje0NvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZX1cIiBsYWJlbD1mYWxzZX19XG5cdFx0XCJcIlwiXG5cdFx0cGFnZVRpdGxlVHJDbGFzcyA9IFwiXCJcblxuXHRpZiBDb3JlRm9ybT8ucGFnZVRpdGxlXG5cdFx0cGFnZVRpdGxlID0gXCJcIlwiXG5cdFx0XHQje0NvcmVGb3JtLnBhZ2VUaXRsZX1cblx0XHRcIlwiXCJcblx0XHRwYWdlVGl0bGVUckNsYXNzID0gXCJcIlxuXG5cdHZhbCA9XG5cdFx0cGFnZVRpdGxlOiBwYWdlVGl0bGVcblx0XHRwYWdlVGl0bGVUckNsYXNzOiBwYWdlVGl0bGVUckNsYXNzXG5cblx0cmV0dXJuIHZhbFxuXG5UZW1wbGF0ZU1hbmFnZXIuaGFuZGxlVGFibGVUZW1wbGF0ZSA9IChpbnN0YW5jZSwgX2V4cG9ydCkgLT5cblxuXHR0ZW1wbGF0ZSA9IFwiXCJcIlxuXHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XG5cdFx0PHRhYmxlIGNsYXNzPVwidGFibGUtcGFnZS10aXRsZSBmb3JtLXRhYmxlIG5vLWJvcmRlciB0ZXh0LWFsaWduLWNlbnRlclwiIHN0eWxlPVwid2lkdGg6IDEwMCU7ZGlzcGxheTogaW5saW5lLXRhYmxlO1wiPlxuXHRcdFx0PHRyIGNsYXNzPVwiI3t0aGlzLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlVHJDbGFzc31cIj5cblx0XHRcdFx0PHRkIGNsYXNzPVwiaW5zdGFuY2UtdGFibGUtbmFtZS10ZCBwYWdlLXRpdGxlXCI+XG5cdFx0XHRcdFx0I3t0aGlzLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlfVxuXHRcdFx0XHQ8L3RkPlxuXHRcdFx0PC90cj5cblxuXHRcdDwvdGFibGU+XG5cdFx0PHRhYmxlIGNsYXNzPVwidGFibGUtcGFnZS1ib2R5IGZvcm0tdGFibGVcIj5cblx0XHRcdFx0PHRyIHN0eWxlPVwiaGVpZ2h0OjBweFwiPlxuXHRcdFx0XHRcdDx0aCBzdHlsZT0nd2lkdGg6IDE2JSc+PC90aD5cblx0XHRcdFx0XHQ8dGg+PC90aD5cblx0XHRcdFx0XHQ8dGggc3R5bGU9J3dpZHRoOiAxNiUnPjwvdGg+XG5cdFx0XHRcdFx0PHRoPjwvdGg+XG5cdFx0XHRcdDwvdHI+XG5cdFwiXCJcIjtcblxuXHR0YWJsZV9maWVsZHMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRhYmxlX2ZpZWxkcyhpbnN0YW5jZSlcblxuXHR0YWJsZV9maWVsZHMuZm9yRWFjaCAodGFibGVfZmllbGQpLT5cblxuXHRcdHJlcXVpcmVkID0gXCJcIlxuXHRcdGlmICFDb3JlRm9ybT8ucGFnZVRpdGxlRmllbGROYW1lIHx8IENvcmVGb3JtPy5wYWdlVGl0bGVGaWVsZE5hbWUgIT0gdGFibGVfZmllbGQuY29kZVxuXHRcdFx0aWYgdGFibGVfZmllbGQuaXNfcmVxdWlyZWRcblx0XHRcdFx0cmVxdWlyZWQgPSBcImlzLXJlcXVpcmVkXCJcblxuXHRcdFx0aWYgX2V4cG9ydFxuXHRcdFx0XHRyZXF1aXJlZCA9IFwiXCI7XG5cblx0XHRcdHB1cmVDb2RlID0gU3RlZWRvcy5yZW1vdmVTcGVjaWFsQ2hhcmFjdGVyKHRhYmxlX2ZpZWxkLmNvZGUpO1xuXG5cdFx0XHRpZiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkKHRhYmxlX2ZpZWxkKVxuXHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydFxuXHRcdFx0XHR0ZW1wbGF0ZSArPSBcIlwiXCJcblx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC10aXRsZSAje3JlcXVpcmVkfVwiPlxuXHRcdFx0XHRcdFx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCJ9fVxuXHRcdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtZmllbGQgb3Bpbmlvbi1maWVsZCBvcGluaW9uLWZpZWxkLSN7cHVyZUNvZGV9IGF1dG9tYXRpY1wiIGNvbHNwYW4gPSBcIiN7dGFibGVfZmllbGQudGRfY29sc3Bhbn1cIj5cblx0XHRcdFx0XHRcdHt7PiBpbnN0YW5jZVNpZ25UZXh0IG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCJ9fVxuXHRcdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdFwiXCJcIlxuXHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmRcblx0XHRcdGVsc2Vcblx0XHRcdFx0aWYgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlcyh0YWJsZV9maWVsZC50eXBlLCAnc2VjdGlvbix0YWJsZScpXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnRcblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSBcIlwiXCJcblx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWNoaWxkZmllbGQgdGQtY2hpbGRmaWVsZC0je3B1cmVDb2RlfVwiIGNvbHNwYW4gPSBcIiN7dGFibGVfZmllbGQudGRfY29sc3Bhbn1cIj5cblx0XHRcdFx0XHRcdCAgIHt7PiBhZkZvcm1Hcm91cCBuYW1lPVwiI3t0YWJsZV9maWVsZC5jb2RlfVwiIGxhYmVsPWZhbHNlfX1cblx0XHRcdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdFx0XCJcIlwiXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydFxuXG5cdFx0XHRcdFx0aWYgX2V4cG9ydFxuXHRcdFx0XHRcdFx0dGl0bGVfcGVybWlzc2lvbiA9IFwiXCJcblx0XHRcdFx0XHRcdGZpZWxkX3Blcm1pc3Npb24gPSBcIlwiXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0dGl0bGVfcGVybWlzc2lvbiA9IFwidGl0bGUtXCIgKyB0YWJsZV9maWVsZC5wZXJtaXNzaW9uXG5cdFx0XHRcdFx0XHRmaWVsZF9wZXJtaXNzaW9uID0gXCJmaWVsZC1cIiArIHRhYmxlX2ZpZWxkLnBlcm1pc3Npb25cblxuXHRcdFx0XHRcdHRlbXBsYXRlICs9IFwiXCJcIlxuXHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUgdGQtdGl0bGUtI3twdXJlQ29kZX0gI3t0aXRsZV9wZXJtaXNzaW9ufSAje3JlcXVpcmVkfVwiPlxuXHRcdFx0XHRcdFx0XHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT1cIiN7dGFibGVfZmllbGQuY29kZX1cIn19XG5cdFx0XHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtZmllbGQgdGQtZmllbGQtI3twdXJlQ29kZX0gI3tmaWVsZF9wZXJtaXNzaW9ufVwiIGNvbHNwYW4gPSBcIiN7dGFibGVfZmllbGQudGRfY29sc3Bhbn1cIj5cblx0XHRcdFx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCIgbGFiZWw9ZmFsc2V9fVxuXHRcdFx0XHRcdFx0PC90ZD5cblx0XHRcdFx0XHRcIlwiXCJcblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmRcblxuXHR0ZW1wbGF0ZSArPSBcIlwiXCJcblx0XHQ8L3RhYmxlPlxuXG5cdFx0PHRhYmxlIGNsYXNzPVwidGFibGUtcGFnZS1mb290ZXIgZm9ybS10YWJsZSBuby1ib3JkZXJcIj5cblx0XHRcdDx0ciBjbGFzcz1cImFwcGxpY2FudC13cmFwcGVyXCI+XG5cdFx0XHRcdDx0ZCBjbGFzcz1cIm5vd3JhcFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1sZWZ0Jz5cblx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e190IFwiaW5zdGFuY2VfaW5pdGlhdG9yXCJ9fe+8mjwvbGFiZWw+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtdGFibGUtd3JhcHBlci10ZCBpbmxpbmUtbGVmdCc+XG5cdFx0XHRcdFx0XHR7ez5UZW1wbGF0ZS5keW5hbWljICB0ZW1wbGF0ZT1cImFmU2VsZWN0VXNlclwiIGRhdGE9YXBwbGljYW50Q29udGV4dH19XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdDx0ZCBjbGFzcz1cIm5vd3JhcFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J3B1bGwtbGVmdCc+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtbGVmdCc+XG5cdFx0XHRcdFx0XHRcdDxsYWJlbD57e190IFwiaW5zdGFuY2Vfc3VibWl0X2RhdGVcIn1977yaPC9sYWJlbD5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLXJpZ2h0Jz5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHR7e2Zvcm1hdERhdGUgaW5zdGFuY2Uuc3VibWl0X2RhdGUgJ3tcImZvcm1hdFwiOlwiWVlZWS1NTS1ERFwifSd9fVxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L3RkPlxuXHRcdFx0PC90cj5cblx0XHQ8L3RhYmxlPlxuXHQ8L2Rpdj5cblx0XCJcIlwiXG5cdHJldHVybiB0ZW1wbGF0ZVxuXG4j5q2k5aSE5qih5p2/5YWs55So5LiO77yaaW5zdGFuY2Ug57yW6L6R44CB5p+l55yL44CB5omT5Y2w44CB6L2s5Y+R5pe255Sf5oiQ6ZmE5Lu244CB5Y+R6YCB6YKu5Lu2Ym9keemDqOWIhih0YWJsZSDmqKHmnb8pXG4j5aaC5p6c5pyJ5L+u5pS577yM6K+35rWL6K+V56Gu6K6k5YW25LuW5Yqf6IO95piv5ZCm5q2j5bi444CCXG5UZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlID1cblx0ZGVmYXVsdDogKGluc3RhbmNlKS0+XG5cblx0XHR0ZW1wbGF0ZSA9IFwiXCJcIlxuXHRcdFx0PGRpdiBjbGFzcz1cIndpdGgtYm9yZGVyIGNvbC1tZC0xMlwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5zdGFuY2UtbmFtZVwiPlxuXHRcdFx0XHRcdDxoMyBjbGFzcz1cImJveC10aXRsZVwiPiN7VGVtcGxhdGVNYW5hZ2VyLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlfTwvaDM+XG5cdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJoZWxwLWJsb2NrXCI+PC9zcGFuPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PHNwYW4gY2xhc3M9XCJoZWxwLWJsb2NrXCI+PC9zcGFuPlxuXHRcdFx0PC9kaXY+XG5cdFx0XHR7eyNlYWNoIHN0ZWVkb3NfZm9ybS5maWVsZHN9fVxuXHRcdFx0XHR7eyNpZiBpc09waW5pb25GaWVsZCB0aGlzfX1cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwie3sjaWYgdGhpcy5pc193aWRlfX1jb2wtbWQtMTJ7e2Vsc2V9fWNvbC1tZC02e3svaWZ9fSBmaWVsZC17e3RoaXMuY29kZX19XCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBhdXRvbWF0aWMgb3Bpbmlvbi1maWVsZC17e3RoaXMuY29kZX19XCI+XG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2FmRmllbGRMYWJlbFRleHQgbmFtZT10aGlzLmNvZGV9fTwvbGFiZWw+XG5cblx0XHRcdFx0XHRcdFx0e3s+IGluc3RhbmNlU2lnblRleHQgbmFtZT10aGlzLmNvZGV9fVxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0e3sjaWYgaW5jbHVkZXMgdGhpcy50eXBlICdzZWN0aW9uLHRhYmxlJ319XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29sLW1kLTEyIGZpZWxkLXt7dGhpcy5jb2RlfX1cIj5cblx0XHRcdFx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlIGxhYmVsPWZhbHNlfX1cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwie3sjaWYgdGhpcy5pc193aWRlfX1jb2wtbWQtMTJ7e2Vsc2V9fWNvbC1tZC02e3svaWZ9fSBmaWVsZC17e3RoaXMuY29kZX19XCI+XG5cdFx0XHRcdFx0XHR7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGV9fVxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHR7ey9pZn19XG5cdFx0XHR7ey9lYWNofX1cblx0XHRcdDxkaXYgY2xhc3M9XCJjb2wtbWQtMTJcIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImFwcGxpY2FudC13cmFwcGVyIGZvcm0tZ3JvdXAgZm9ybS1ob3Jpem9udGFsXCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cC1hZGRvblwiPlxuXHRcdFx0XHRcdCAge3tfdCBcImluc3RhbmNlX2luaXRpYXRvclwifX0mbmJzcDs6XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XCJhZlNlbGVjdFVzZXJcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxuXHRcdFx0XHQgIDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdFwiXCJcIlxuXHRcdHJldHVybiB0ZW1wbGF0ZVxuXG5cdHRhYmxlOiAoaW5zdGFuY2UpLT5cblx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUoaW5zdGFuY2UpXG4jXHR0YWJsZTogJycnXG4jXHRcdDx0YWJsZSBjbGFzcz1cImJveC1oZWFkZXIgIHdpdGgtYm9yZGVyXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtkaXNwbGF5OiBpbmxpbmUtdGFibGU7XCI+XG4jXHRcdFx0PHRyIGNsYXNzPVwiaW5zdGFuY2UtbmFtZVwiPlxuI1x0XHRcdFx0PHRkIGNsYXNzPVwiaW5zdGFuY2UtdGFibGUtbmFtZS10ZFwiPlxuI1x0XHRcdFx0XHQ8aDMgY2xhc3M9XCJib3gtdGl0bGVcIj57e2luc3RhbmNlLm5hbWV9fTwvaDM+XG4jXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaGVscC1ibG9ja1wiPjwvc3Bhbj5cbiNcdFx0XHRcdDwvdGQ+XG4jXHRcdFx0PC90cj5cbiMgICAgICAgICAgICA8dHIgY2xhc3M9XCJhcHBsaWNhbnQtd3JhcHBlclwiPlxuI1x0XHRcdFx0PHRkIGNsYXNzPVwiaW5zdGFuY2UtdGFibGUtd3JhcHBlci10ZFwiPlxuI1x0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tfdCBcImluc3RhbmNlX2luaXRpYXRvclwifX0mbmJzcDs6PC9sYWJlbD5cbiNcdFx0XHRcdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XCJhZlNlbGVjdFVzZXJcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxuI1x0XHRcdFx0PC90ZD5cbiNcdFx0XHQ8L3RyPlxuIyAgICAgICAgPC90YWJsZT5cbiNcdFx0PHRhYmxlIGNsYXNzPVwiZm9ybS10YWJsZVwiPlxuI1x0XHQgICAge3sjZWFjaCB0YWJsZV9maWVsZHN9fVxuI1x0XHRcdFx0e3sjaWYgaXNPcGluaW9uRmllbGQgdGhpc319XG4jXHRcdFx0XHRcdHt7e3RyX3N0YXJ0fX19XG4jXHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUge3sjaWYgaXNfcmVxdWlyZWR9fWlzLXJlcXVpcmVke3svaWZ9fVwiPlxuI1x0XHRcdFx0XHRcdFx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9dGhpcy5jb2RlfX1cbiNcdFx0XHRcdFx0XHQ8L3RkPlxuI1x0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWZpZWxkIG9waW5pb24tZmllbGRcIiBjb2xzcGFuID0gJ3t7dGRfY29sc3Bhbn19Jz5cbiNcdFx0XHRcdFx0XHRcdHt7PiBpbnN0YW5jZVNpZ25UZXh0IHN0ZXA9KGdldE9waW5pb25GaWVsZFN0ZXBOYW1lIHRoaXMpIGRlZmF1bHQ9Jyd9fVxuI1x0XHRcdFx0XHRcdDwvdGQ+XG4jXHRcdFx0XHRcdHt7e3RyX2VuZH19fVxuI1x0XHRcdFx0e3tlbHNlfX1cbiNcdFx0XHRcdFx0e3sjaWYgaW5jbHVkZXMgdGhpcy50eXBlICdzZWN0aW9uLHRhYmxlJ319XG4jXHRcdFx0XHRcdFx0e3t7dHJfc3RhcnR9fX1cbiNcdFx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWNoaWxkZmllbGRcIiBjb2xzcGFuID0gJ3t7dGRfY29sc3Bhbn19Jz5cbiNcdFx0XHRcdFx0XHRcdCAgIHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZSBsYWJlbD1mYWxzZX19XG4jXHRcdFx0XHRcdFx0XHQ8L3RkPlxuI1x0XHRcdFx0XHRcdHt7e3RyX2VuZH19fVxuI1x0XHRcdFx0XHR7e2Vsc2V9fVxuI1x0XHRcdFx0XHRcdHt7e3RyX3N0YXJ0fX19XG4jXHRcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC10aXRsZSB7eyNpZiBpc19yZXF1aXJlZH19aXMtcmVxdWlyZWR7ey9pZn19XCI+XG4jXHRcdFx0XHRcdFx0XHRcdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPXRoaXMuY29kZX19XG4jXHRcdFx0XHRcdFx0XHQ8L3RkPlxuI1x0XHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtZmllbGQge3twZXJtaXNzaW9ufX1cIiBjb2xzcGFuID0gJ3t7dGRfY29sc3Bhbn19Jz5cbiNcdFx0XHRcdFx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlIGxhYmVsPWZhbHNlfX1cbiNcdFx0XHRcdFx0XHRcdDwvdGQ+XG4jXHRcdFx0XHRcdFx0e3t7dHJfZW5kfX19XG4jXHRcdFx0XHRcdHt7L2lmfX1cbiNcdFx0XHRcdHt7L2lmfX1cbiNcbiNcdFx0ICAgIHt7L2VhY2h9fVxuI1x0XHQ8L3RhYmxlPlxuI1x0JycnXG5cblRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVIZWxwcyA9XG5cdGFwcGxpY2FudENvbnRleHQ6IC0+XG5cdFx0c3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGRhdGEgPSB7XG5cdFx0XHRuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG5cdFx0XHRhdHRzOiB7XG5cdFx0XHRcdG5hbWU6ICdpbnNfYXBwbGljYW50Jyxcblx0XHRcdFx0aWQ6ICdpbnNfYXBwbGljYW50Jyxcblx0XHRcdFx0Y2xhc3M6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCcsXG5cdFx0XHRcdHN0eWxlOiAncGFkZGluZzo2cHggMTJweDt3aWR0aDoxNDBweDtkaXNwbGF5OmlubGluZSdcblx0XHRcdH1cblx0XHR9XG4jXHRcdGlmIG5vdCBzdGVlZG9zX2luc3RhbmNlIHx8IHN0ZWVkb3NfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiXG5cdFx0ZGF0YS5hdHRzLmRpc2FibGVkID0gdHJ1ZVxuXHRcdHJldHVybiBkYXRhO1xuXG5pbnN0YW5jZUlkOiAtPlxuXHRyZXR1cm4gJ2luc3RhbmNlZm9ybSc7I1wiaW5zdGFuY2VfXCIgKyBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIik7XG5cbmZvcm1fdHlwZXM6IC0+XG5cdGlmIEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKVxuXHRcdHJldHVybiAnZGlzYWJsZWQnO1xuXHRlbHNlXG5cdFx0cmV0dXJuICdtZXRob2QnO1xuXG5zdGVlZG9zX2Zvcm06IC0+XG5cdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG5cdGlmIGZvcm1fdmVyc2lvblxuXHRcdHJldHVybiBmb3JtX3ZlcnNpb25cblxuaW5uZXJzdWJmb3JtQ29udGV4dDogKG9iaiktPlxuXHRkb2NfdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuXHRvYmpbXCJ0YWJsZVZhbHVlc1wiXSA9IGlmIGRvY192YWx1ZXMgdGhlbiBkb2NfdmFsdWVzW29iai5jb2RlXSBlbHNlIFtdXG5cdG9ialtcImZvcm1JZFwiXSA9IGZvcm1JZDtcblx0cmV0dXJuIG9iajtcblxuaW5zdGFuY2U6IC0+XG5cdFNlc3Npb24uZ2V0KFwiY2hhbmdlX2RhdGVcIilcblx0aWYgKFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSlcblx0XHRzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0cmV0dXJuIHN0ZWVkb3NfaW5zdGFuY2U7XG5cbmVxdWFsczogKGEsIGIpIC0+XG5cdHJldHVybiAoYSA9PSBiKVxuXG5pbmNsdWRlczogKGEsIGIpIC0+XG5cdHJldHVybiBiLnNwbGl0KCcsJykuaW5jbHVkZXMoYSk7XG5cbmZpZWxkczogLT5cblx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcblx0aWYgZm9ybV92ZXJzaW9uXG5cdFx0cmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcblxuZG9jX3ZhbHVlczogLT5cblx0V29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuXG5pbnN0YW5jZV9ib3hfc3R5bGU6IC0+XG5cdGJveCA9IFNlc3Npb24uZ2V0KFwiYm94XCIpXG5cdGlmIGJveCA9PSBcImluYm94XCIgfHwgYm94ID09IFwiZHJhZnRcIlxuXHRcdGp1ZGdlID0gU2Vzc2lvbi5nZXQoXCJqdWRnZVwiKVxuXHRcdGlmIGp1ZGdlXG5cdFx0XHRpZiAoanVkZ2UgPT0gXCJhcHByb3ZlZFwiKVxuXHRcdFx0XHRyZXR1cm4gXCJib3gtc3VjY2Vzc1wiXG5cdFx0XHRlbHNlIGlmIChqdWRnZSA9PSBcInJlamVjdGVkXCIpXG5cdFx0XHRcdHJldHVybiBcImJveC1kYW5nZXJcIlxuXHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0aWYgaW5zICYmIGlucy5maW5hbF9kZWNpc2lvblxuXHRcdGlmIGlucy5maW5hbF9kZWNpc2lvbiA9PSBcImFwcHJvdmVkXCJcblx0XHRcdHJldHVybiBcImJveC1zdWNjZXNzXCJcblx0XHRlbHNlIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT0gXCJyZWplY3RlZFwiKVxuXHRcdFx0cmV0dXJuIFwiYm94LWRhbmdlclwiXG5cblxuVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlID0gKGluc3RhbmNlLCB0ZW1wbGF0ZU5hbWUpIC0+XG5cdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGluc3RhbmNlLmZsb3cpO1xuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcblxuXHRpZiB0ZW1wbGF0ZU5hbWVcblx0XHRpZiB0ZW1wbGF0ZU5hbWUgPT0gJ3RhYmxlJ1xuXHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpXG5cdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUuZGVmYXVsdChpbnN0YW5jZSlcblxuXHRpZiBTZXNzaW9uPy5nZXQoXCJpbnN0YW5jZVByaW50XCIpXG5cdFx0aWYgZmxvdz8ucHJpbnRfdGVtcGxhdGVcblx0XHRcdHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cucHJpbnRfdGVtcGxhdGUgKyBcIjwvZGl2PlwiXG5cdFx0ZWxzZVxuXHRcdFx0aWYgZmxvdz8uaW5zdGFuY2VfdGVtcGxhdGVcblx0XHRcdFx0cmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSArIFwiPC9kaXY+XCJcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpXG5cdGVsc2Vcblx0XHRpZiBTdGVlZG9zLmlzTW9iaWxlKClcblx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLmRlZmF1bHQoaW5zdGFuY2UpXG5cblx0XHRpZiBmbG93Py5pbnN0YW5jZV90ZW1wbGF0ZVxuXHRcdFx0cmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSArIFwiPC9kaXY+XCJcblxuXHRcdGlmIGZvcm0/Lmluc3RhbmNlX3N0eWxlXG5cdFx0XHRpZiBmb3JtLmluc3RhbmNlX3N0eWxlID09ICd0YWJsZSdcblx0XHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpXG5cdFx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS5kZWZhdWx0KGluc3RhbmNlKVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLmRlZmF1bHQoaW5zdGFuY2UpXG5cbiNUZW1wbGF0ZU1hbmFnZXIuZXhwb3J0VGVtcGxhdGUgPSAoZmxvd0lkKSAtPlxuI1x0dGVtcGxhdGUgPSBUZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUoZmxvd0lkKTtcbiNcbiNcdGZsb3cgPSBXb3JrZmxvd01hbmFnZXIuZ2V0RmxvdyhmbG93SWQpO1xuI1xuI1x0aWYgZmxvdz8uaW5zdGFuY2VfdGVtcGxhdGVcbiNcdFx0cmV0dXJuIHRlbXBsYXRlO1xuI1xuI1x0cmV0dXJuIHRlbXBsYXRlO1xuXG4iLCJ2YXIgZm9ybUlkOyAgICAgICAgICAgICAgICAgXG5cblRlbXBsYXRlTWFuYWdlciA9IHt9O1xuXG5mb3JtSWQgPSAnaW5zdGFuY2Vmb3JtJztcblxuVGVtcGxhdGVNYW5hZ2VyLmluc3RhbmNlX3RpdGxlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwYWdlVGl0bGUsIHBhZ2VUaXRsZVRyQ2xhc3MsIHZhbDtcbiAgcGFnZVRpdGxlID0gXCJ7e2luc3RhbmNlLm5hbWV9fVwiO1xuICBwYWdlVGl0bGVUckNsYXNzID0gXCJpbnN0YW5jZS1uYW1lXCI7XG4gIGlmICh0eXBlb2YgQ29yZUZvcm0gIT09IFwidW5kZWZpbmVkXCIgJiYgQ29yZUZvcm0gIT09IG51bGwgPyBDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWUgOiB2b2lkIDApIHtcbiAgICBwYWdlVGl0bGUgPSBcInt7PiBhZkZvcm1Hcm91cCBuYW1lPVxcXCJcIiArIENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSArIFwiXFxcIiBsYWJlbD1mYWxzZX19XCI7XG4gICAgcGFnZVRpdGxlVHJDbGFzcyA9IFwiXCI7XG4gIH1cbiAgaWYgKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZSA6IHZvaWQgMCkge1xuICAgIHBhZ2VUaXRsZSA9IFwiXCIgKyBDb3JlRm9ybS5wYWdlVGl0bGU7XG4gICAgcGFnZVRpdGxlVHJDbGFzcyA9IFwiXCI7XG4gIH1cbiAgdmFsID0ge1xuICAgIHBhZ2VUaXRsZTogcGFnZVRpdGxlLFxuICAgIHBhZ2VUaXRsZVRyQ2xhc3M6IHBhZ2VUaXRsZVRyQ2xhc3NcbiAgfTtcbiAgcmV0dXJuIHZhbDtcbn07XG5cblRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlID0gZnVuY3Rpb24oaW5zdGFuY2UsIF9leHBvcnQpIHtcbiAgdmFyIHRhYmxlX2ZpZWxkcywgdGVtcGxhdGU7XG4gIHRlbXBsYXRlID0gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XFxuXHQ8dGFibGUgY2xhc3M9XFxcInRhYmxlLXBhZ2UtdGl0bGUgZm9ybS10YWJsZSBuby1ib3JkZXIgdGV4dC1hbGlnbi1jZW50ZXJcXFwiIHN0eWxlPVxcXCJ3aWR0aDogMTAwJTtkaXNwbGF5OiBpbmxpbmUtdGFibGU7XFxcIj5cXG5cdFx0PHRyIGNsYXNzPVxcXCJcIiArICh0aGlzLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlVHJDbGFzcykgKyBcIlxcXCI+XFxuXHRcdFx0PHRkIGNsYXNzPVxcXCJpbnN0YW5jZS10YWJsZS1uYW1lLXRkIHBhZ2UtdGl0bGVcXFwiPlxcblx0XHRcdFx0XCIgKyAodGhpcy5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZSkgKyBcIlxcblx0XHRcdDwvdGQ+XFxuXHRcdDwvdHI+XFxuXFxuXHQ8L3RhYmxlPlxcblx0PHRhYmxlIGNsYXNzPVxcXCJ0YWJsZS1wYWdlLWJvZHkgZm9ybS10YWJsZVxcXCI+XFxuXHRcdFx0PHRyIHN0eWxlPVxcXCJoZWlnaHQ6MHB4XFxcIj5cXG5cdFx0XHRcdDx0aCBzdHlsZT0nd2lkdGg6IDE2JSc+PC90aD5cXG5cdFx0XHRcdDx0aD48L3RoPlxcblx0XHRcdFx0PHRoIHN0eWxlPSd3aWR0aDogMTYlJz48L3RoPlxcblx0XHRcdFx0PHRoPjwvdGg+XFxuXHRcdFx0PC90cj5cIjtcbiAgdGFibGVfZmllbGRzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50YWJsZV9maWVsZHMoaW5zdGFuY2UpO1xuICB0YWJsZV9maWVsZHMuZm9yRWFjaChmdW5jdGlvbih0YWJsZV9maWVsZCkge1xuICAgIHZhciBmaWVsZF9wZXJtaXNzaW9uLCBwdXJlQ29kZSwgcmVxdWlyZWQsIHRpdGxlX3Blcm1pc3Npb247XG4gICAgcmVxdWlyZWQgPSBcIlwiO1xuICAgIGlmICghKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSA6IHZvaWQgMCkgfHwgKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSA6IHZvaWQgMCkgIT09IHRhYmxlX2ZpZWxkLmNvZGUpIHtcbiAgICAgIGlmICh0YWJsZV9maWVsZC5pc19yZXF1aXJlZCkge1xuICAgICAgICByZXF1aXJlZCA9IFwiaXMtcmVxdWlyZWRcIjtcbiAgICAgIH1cbiAgICAgIGlmIChfZXhwb3J0KSB7XG4gICAgICAgIHJlcXVpcmVkID0gXCJcIjtcbiAgICAgIH1cbiAgICAgIHB1cmVDb2RlID0gU3RlZWRvcy5yZW1vdmVTcGVjaWFsQ2hhcmFjdGVyKHRhYmxlX2ZpZWxkLmNvZGUpO1xuICAgICAgaWYgKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGQodGFibGVfZmllbGQpKSB7XG4gICAgICAgIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX3N0YXJ0O1xuICAgICAgICB0ZW1wbGF0ZSArPSBcIjx0ZCBjbGFzcz1cXFwidGQtdGl0bGUgXCIgKyByZXF1aXJlZCArIFwiXFxcIj5cXG5cdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCJ9fVxcbjwvdGQ+XFxuPHRkIGNsYXNzPVxcXCJ0ZC1maWVsZCBvcGluaW9uLWZpZWxkIG9waW5pb24tZmllbGQtXCIgKyBwdXJlQ29kZSArIFwiIGF1dG9tYXRpY1xcXCIgY29sc3BhbiA9IFxcXCJcIiArIHRhYmxlX2ZpZWxkLnRkX2NvbHNwYW4gKyBcIlxcXCI+XFxuXHR7ez4gaW5zdGFuY2VTaWduVGV4dCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCJ9fVxcbjwvdGQ+XCI7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlcyh0YWJsZV9maWVsZC50eXBlLCAnc2VjdGlvbix0YWJsZScpKSB7XG4gICAgICAgICAgdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnQ7XG4gICAgICAgICAgdGVtcGxhdGUgKz0gXCI8dGQgY2xhc3M9XFxcInRkLWNoaWxkZmllbGQgdGQtY2hpbGRmaWVsZC1cIiArIHB1cmVDb2RlICsgXCJcXFwiIGNvbHNwYW4gPSBcXFwiXCIgKyB0YWJsZV9maWVsZC50ZF9jb2xzcGFuICsgXCJcXFwiPlxcbiAgIHt7PiBhZkZvcm1Hcm91cCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCIgbGFiZWw9ZmFsc2V9fVxcbjwvdGQ+XCI7XG4gICAgICAgICAgcmV0dXJuIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydDtcbiAgICAgICAgICBpZiAoX2V4cG9ydCkge1xuICAgICAgICAgICAgdGl0bGVfcGVybWlzc2lvbiA9IFwiXCI7XG4gICAgICAgICAgICBmaWVsZF9wZXJtaXNzaW9uID0gXCJcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGl0bGVfcGVybWlzc2lvbiA9IFwidGl0bGUtXCIgKyB0YWJsZV9maWVsZC5wZXJtaXNzaW9uO1xuICAgICAgICAgICAgZmllbGRfcGVybWlzc2lvbiA9IFwiZmllbGQtXCIgKyB0YWJsZV9maWVsZC5wZXJtaXNzaW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0ZW1wbGF0ZSArPSBcIjx0ZCBjbGFzcz1cXFwidGQtdGl0bGUgdGQtdGl0bGUtXCIgKyBwdXJlQ29kZSArIFwiIFwiICsgdGl0bGVfcGVybWlzc2lvbiArIFwiIFwiICsgcmVxdWlyZWQgKyBcIlxcXCI+XFxuXHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT1cXFwiXCIgKyB0YWJsZV9maWVsZC5jb2RlICsgXCJcXFwifX1cXG48L3RkPlxcbjx0ZCBjbGFzcz1cXFwidGQtZmllbGQgdGQtZmllbGQtXCIgKyBwdXJlQ29kZSArIFwiIFwiICsgZmllbGRfcGVybWlzc2lvbiArIFwiXFxcIiBjb2xzcGFuID0gXFxcIlwiICsgdGFibGVfZmllbGQudGRfY29sc3BhbiArIFwiXFxcIj5cXG5cdHt7PiBhZkZvcm1Hcm91cCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCIgbGFiZWw9ZmFsc2V9fVxcbjwvdGQ+XCI7XG4gICAgICAgICAgcmV0dXJuIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHRlbXBsYXRlICs9IFwiXHQ8L3RhYmxlPlxcblxcblx0PHRhYmxlIGNsYXNzPVxcXCJ0YWJsZS1wYWdlLWZvb3RlciBmb3JtLXRhYmxlIG5vLWJvcmRlclxcXCI+XFxuXHRcdDx0ciBjbGFzcz1cXFwiYXBwbGljYW50LXdyYXBwZXJcXFwiPlxcblx0XHRcdDx0ZCBjbGFzcz1cXFwibm93cmFwXFxcIj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1sZWZ0Jz5cXG5cdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e190IFxcXCJpbnN0YW5jZV9pbml0aWF0b3JcXFwifX3vvJo8L2xhYmVsPlxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS10YWJsZS13cmFwcGVyLXRkIGlubGluZS1sZWZ0Jz5cXG5cdFx0XHRcdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XFxcImFmU2VsZWN0VXNlclxcXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdDwvdGQ+XFxuXHRcdFx0PHRkIGNsYXNzPVxcXCJub3dyYXBcXFwiPlxcblx0XHRcdFx0PGRpdiBjbGFzcz0ncHVsbC1sZWZ0Jz5cXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLWxlZnQnPlxcblx0XHRcdFx0XHRcdDxsYWJlbD57e190IFxcXCJpbnN0YW5jZV9zdWJtaXRfZGF0ZVxcXCJ9fe+8mjwvbGFiZWw+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtcmlnaHQnPlxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0e3tmb3JtYXREYXRlIGluc3RhbmNlLnN1Ym1pdF9kYXRlICd7XFxcImZvcm1hdFxcXCI6XFxcIllZWVktTU0tRERcXFwifSd9fVxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdDwvdGQ+XFxuXHRcdDwvdHI+XFxuXHQ8L3RhYmxlPlxcbjwvZGl2PlwiO1xuICByZXR1cm4gdGVtcGxhdGU7XG59O1xuXG5UZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlID0ge1xuICBcImRlZmF1bHRcIjogZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICB2YXIgdGVtcGxhdGU7XG4gICAgdGVtcGxhdGUgPSBcIjxkaXYgY2xhc3M9XFxcIndpdGgtYm9yZGVyIGNvbC1tZC0xMlxcXCI+XFxuXHQ8ZGl2IGNsYXNzPVxcXCJpbnN0YW5jZS1uYW1lXFxcIj5cXG5cdFx0PGgzIGNsYXNzPVxcXCJib3gtdGl0bGVcXFwiPlwiICsgKFRlbXBsYXRlTWFuYWdlci5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZSkgKyBcIjwvaDM+XFxuXHRcdDxzcGFuIGNsYXNzPVxcXCJoZWxwLWJsb2NrXFxcIj48L3NwYW4+XFxuXHQ8L2Rpdj5cXG5cdDxzcGFuIGNsYXNzPVxcXCJoZWxwLWJsb2NrXFxcIj48L3NwYW4+XFxuPC9kaXY+XFxue3sjZWFjaCBzdGVlZG9zX2Zvcm0uZmllbGRzfX1cXG5cdHt7I2lmIGlzT3BpbmlvbkZpZWxkIHRoaXN9fVxcblx0XHQ8ZGl2IGNsYXNzPVxcXCJ7eyNpZiB0aGlzLmlzX3dpZGV9fWNvbC1tZC0xMnt7ZWxzZX19Y29sLW1kLTZ7ey9pZn19IGZpZWxkLXt7dGhpcy5jb2RlfX1cXFwiPlxcblx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgYXV0b21hdGljIG9waW5pb24tZmllbGQte3t0aGlzLmNvZGV9fVxcXCI+XFxuXHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPXRoaXMuY29kZX19PC9sYWJlbD5cXG5cXG5cdFx0XHRcdHt7PiBpbnN0YW5jZVNpZ25UZXh0IG5hbWU9dGhpcy5jb2RlfX1cXG5cdFx0XHQ8L2Rpdj5cXG5cdFx0PC9kaXY+XFxuXHR7e2Vsc2V9fVxcblx0XHR7eyNpZiBpbmNsdWRlcyB0aGlzLnR5cGUgJ3NlY3Rpb24sdGFibGUnfX1cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMTIgZmllbGQte3t0aGlzLmNvZGV9fVxcXCI+XFxuXHRcdFx0XHR7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGUgbGFiZWw9ZmFsc2V9fVxcblx0XHRcdDwvZGl2Plxcblx0XHR7e2Vsc2V9fVxcblx0XHRcdDxkaXYgY2xhc3M9XFxcInt7I2lmIHRoaXMuaXNfd2lkZX19Y29sLW1kLTEye3tlbHNlfX1jb2wtbWQtNnt7L2lmfX0gZmllbGQte3t0aGlzLmNvZGV9fVxcXCI+XFxuXHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlfX1cXG5cdFx0XHQ8L2Rpdj5cXG5cdFx0e3svaWZ9fVxcblx0e3svaWZ9fVxcbnt7L2VhY2h9fVxcbjxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxuXHQ8ZGl2IGNsYXNzPVxcXCJhcHBsaWNhbnQtd3JhcHBlciBmb3JtLWdyb3VwIGZvcm0taG9yaXpvbnRhbFxcXCI+XFxuXHQ8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+XFxuXHRcdDxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwLWFkZG9uXFxcIj5cXG5cdFx0ICB7e190IFxcXCJpbnN0YW5jZV9pbml0aWF0b3JcXFwifX0mbmJzcDs6XFxuXHRcdDwvZGl2Plxcblx0XHR7ez5UZW1wbGF0ZS5keW5hbWljICB0ZW1wbGF0ZT1cXFwiYWZTZWxlY3RVc2VyXFxcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxcblx0ICA8L2Rpdj5cXG5cdDwvZGl2PlxcbjwvZGl2PlwiO1xuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfSxcbiAgdGFibGU6IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlKGluc3RhbmNlKTtcbiAgfVxufTtcblxuVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZUhlbHBzID0ge1xuICBhcHBsaWNhbnRDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGF0YSwgc3RlZWRvc19pbnN0YW5jZTtcbiAgICBzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgZGF0YSA9IHtcbiAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgIGF0dHM6IHtcbiAgICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBpZDogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBcImNsYXNzXCI6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCcsXG4gICAgICAgIHN0eWxlOiAncGFkZGluZzo2cHggMTJweDt3aWR0aDoxNDBweDtkaXNwbGF5OmlubGluZSdcbiAgICAgIH1cbiAgICB9O1xuICAgIGRhdGEuYXR0cy5kaXNhYmxlZCA9IHRydWU7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbn07XG5cbih7XG4gIGluc3RhbmNlSWQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnaW5zdGFuY2Vmb3JtJztcbiAgfSxcbiAgZm9ybV90eXBlczogZnVuY3Rpb24oKSB7XG4gICAgaWYgKEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKSkge1xuICAgICAgcmV0dXJuICdkaXNhYmxlZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnbWV0aG9kJztcbiAgICB9XG4gIH0sXG4gIHN0ZWVkb3NfZm9ybTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBmb3JtX3ZlcnNpb247XG4gICAgfVxuICB9LFxuICBpbm5lcnN1YmZvcm1Db250ZXh0OiBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgZG9jX3ZhbHVlcztcbiAgICBkb2NfdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICAgIG9ialtcInRhYmxlVmFsdWVzXCJdID0gZG9jX3ZhbHVlcyA/IGRvY192YWx1ZXNbb2JqLmNvZGVdIDogW107XG4gICAgb2JqW1wiZm9ybUlkXCJdID0gZm9ybUlkO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gIGluc3RhbmNlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RlZWRvc19pbnN0YW5jZTtcbiAgICBTZXNzaW9uLmdldChcImNoYW5nZV9kYXRlXCIpO1xuICAgIGlmIChTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpIHtcbiAgICAgIHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgIHJldHVybiBzdGVlZG9zX2luc3RhbmNlO1xuICAgIH1cbiAgfSxcbiAgZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0sXG4gIGluY2x1ZGVzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcbiAgfSxcbiAgZmllbGRzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcbiAgICB9XG4gIH0sXG4gIGRvY192YWx1ZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gIH0sXG4gIGluc3RhbmNlX2JveF9zdHlsZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGJveCwgaW5zLCBqdWRnZTtcbiAgICBib3ggPSBTZXNzaW9uLmdldChcImJveFwiKTtcbiAgICBpZiAoYm94ID09PSBcImluYm94XCIgfHwgYm94ID09PSBcImRyYWZ0XCIpIHtcbiAgICAgIGp1ZGdlID0gU2Vzc2lvbi5nZXQoXCJqdWRnZVwiKTtcbiAgICAgIGlmIChqdWRnZSkge1xuICAgICAgICBpZiAoanVkZ2UgPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgICAgIHJldHVybiBcImJveC1zdWNjZXNzXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoanVkZ2UgPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICAgIHJldHVybiBcImJveC1kYW5nZXJcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBpZiAoaW5zICYmIGlucy5maW5hbF9kZWNpc2lvbikge1xuICAgICAgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PT0gXCJhcHByb3ZlZFwiKSB7XG4gICAgICAgIHJldHVybiBcImJveC1zdWNjZXNzXCI7XG4gICAgICB9IGVsc2UgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICAgIHJldHVybiBcImJveC1kYW5nZXJcIjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0pO1xuXG5UZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUgPSBmdW5jdGlvbihpbnN0YW5jZSwgdGVtcGxhdGVOYW1lKSB7XG4gIHZhciBmbG93LCBmb3JtO1xuICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcbiAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG4gIGlmICh0ZW1wbGF0ZU5hbWUpIHtcbiAgICBpZiAodGVtcGxhdGVOYW1lID09PSAndGFibGUnKSB7XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSk7XG4gICAgfVxuICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlW1wiZGVmYXVsdFwiXShpbnN0YW5jZSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBTZXNzaW9uICE9PSBcInVuZGVmaW5lZFwiICYmIFNlc3Npb24gIT09IG51bGwgPyBTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikgOiB2b2lkIDApIHtcbiAgICBpZiAoZmxvdyAhPSBudWxsID8gZmxvdy5wcmludF90ZW1wbGF0ZSA6IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5wcmludF90ZW1wbGF0ZSArIFwiPC9kaXY+XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChmbG93ICE9IG51bGwgPyBmbG93Lmluc3RhbmNlX3RlbXBsYXRlIDogdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgKyBcIjwvZGl2PlwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZVtcImRlZmF1bHRcIl0oaW5zdGFuY2UpO1xuICAgIH1cbiAgICBpZiAoZmxvdyAhPSBudWxsID8gZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSA6IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSArIFwiPC9kaXY+XCI7XG4gICAgfVxuICAgIGlmIChmb3JtICE9IG51bGwgPyBmb3JtLmluc3RhbmNlX3N0eWxlIDogdm9pZCAwKSB7XG4gICAgICBpZiAoZm9ybS5pbnN0YW5jZV9zdHlsZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZVtcImRlZmF1bHRcIl0oaW5zdGFuY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZVtcImRlZmF1bHRcIl0oaW5zdGFuY2UpO1xuICAgIH1cbiAgfVxufTtcbiIsIlN0ZWVkb3NUYWJsZSA9IHt9O1xuXG5TdGVlZG9zVGFibGUuZm9ybUlkID0gXCJpbnN0YW5jZWZvcm1cIjtcblxuU3RlZWRvc1RhYmxlLmNoZWNrSXRlbSA9IGZ1bmN0aW9uIChmaWVsZCwgaXRlbV9pbmRleCkge1xuICAgIHZhciBmaWVsZE9iaiA9IFN0ZWVkb3NUYWJsZS5nZXRGaWVsZChmaWVsZCk7XG5cbiAgICB2YXIgZmllbGRWYWwgPSBTdGVlZG9zVGFibGUuZ2V0SXRlbU1vZGFsVmFsdWUoZmllbGQsIGl0ZW1faW5kZXgpO1xuXG4gICAgdmFyIHNmX25hbWUgPSAnJztcbiAgICB2YXIgcmV2ID0gdHJ1ZTtcbiAgICBmaWVsZE9iai5zZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKHNmKSB7XG4gICAgICAgIGlmIChzZi5wZXJtaXNzaW9uID09ICdlZGl0YWJsZScpIHtcbiAgICAgICAgICAgIHNmX25hbWUgPSBmaWVsZE9iai5jb2RlICsgXCIuXCIgKyBzZi5jb2RlO1xuICAgICAgICAgICAgaWYgKCFJbnN0YW5jZU1hbmFnZXIuY2hlY2tGb3JtRmllbGRWYWx1ZSgkKFwiW25hbWU9J1wiICsgc2ZfbmFtZSArIFwiJ11cIilbMF0sIHNmX25hbWUsIGZpZWxkVmFsW3NmLmNvZGVdKSkge1xuICAgICAgICAgICAgICAgIHJldiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmV2O1xufVxuXG5TdGVlZG9zVGFibGUuc2V0VGFibGVJdGVtVmFsdWUgPSBmdW5jdGlvbiAoZmllbGQsIGl0ZW1faW5kZXgsIGl0ZW1fdmFsdWUpIHtcblxuICAgIHZhciB0YWJsZVZhbHVlID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUoZmllbGQpO1xuICAgIHRhYmxlVmFsdWVbaXRlbV9pbmRleF0gPSBpdGVtX3ZhbHVlO1xufVxuXG5TdGVlZG9zVGFibGUuZ2V0VGFibGVJdGVtVmFsdWUgPSBmdW5jdGlvbiAoZmllbGQsIGl0ZW1faW5kZXgpIHtcbiAgICByZXR1cm4gU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUoZmllbGQpW2l0ZW1faW5kZXhdO1xufVxuXG5TdGVlZG9zVGFibGUucmVtb3ZlVGFibGVJdGVtID0gZnVuY3Rpb24gKGZpZWxkLCBpdGVtX2luZGV4KSB7XG4gICAgdmFyIGl0ZW1fdmFsdWUgPSBTdGVlZG9zVGFibGUuZ2V0VGFibGVJdGVtVmFsdWUoZmllbGQsIGl0ZW1faW5kZXgpO1xuICAgIGl0ZW1fdmFsdWUucmVtb3ZlZCA9IHRydWU7XG59XG5cblN0ZWVkb3NUYWJsZS5zZXRUYWJsZVZhbHVlID0gZnVuY3Rpb24gKGZpZWxkLCB2YWx1ZSkge1xuICAgICQoXCJ0YWJsZVtuYW1lPSdcIiArIGZpZWxkICsgXCInXVwiKS52YWwoe1xuICAgICAgICB2YWw6IHZhbHVlXG4gICAgfSk7XG59XG5cblN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlID0gZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgcmV0dXJuICQoXCJ0YWJsZVtuYW1lPSdcIiArIGZpZWxkICsgXCInXVwiKS52YWwoKS52YWw7XG59XG5cblN0ZWVkb3NUYWJsZS5nZXRWYWxpZFZhbHVlID0gZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgdmFyIHZhbHVlID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUoZmllbGQpO1xuXG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB2YXIgdmFsaWRWYWx1ZSA9IFtdO1xuXG4gICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICBpZiAoIXYucmVtb3ZlZCkge1xuICAgICAgICAgICAgdmFsaWRWYWx1ZS5wdXNoKHYpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbGlkVmFsdWU7XG59XG5cblxuU3RlZWRvc1RhYmxlLmhhbmRsZURhdGEgPSBmdW5jdGlvbiAoZmllbGQsIHZhbHVlcykge1xuXG4gICAgaWYgKCF2YWx1ZXMgfHwgISh2YWx1ZXMgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICB2YXIgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xuXG4gICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgZmllbGRPYmouc2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICBpZiAoZi50eXBlID09ICd1c2VyJyB8fCBmLnR5cGUgPT0gJ2dyb3VwJykge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZbZi5jb2RlXVxuICAgICAgICAgICAgICAgIGlmIChmLmlzX211bHRpc2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPiAwICYmIHR5cGVvZiAodmFsdWVbMF0pID09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2W2YuY29kZV0gPSB2W2YuY29kZV0uZ2V0UHJvcGVydHkoXCJpZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgKHZhbHVlKSA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdltmLmNvZGVdID0gdltmLmNvZGVdLmlkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChmLnR5cGUgPT0gJ2RhdGVUaW1lJykge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZbZi5jb2RlXVxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHZhbHVlLnNwbGl0KFwiVFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0MCA9IHRbMF0uc3BsaXQoXCItXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQxID0gdFsxXS5zcGxpdChcIjpcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHllYXIgPSB0MFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gdDBbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlID0gdDBbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBob3VycyA9IHQxWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kcyA9IHQxWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUsIGhvdXJzLCBzZWNvbmRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZbZi5jb2RlXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB2YWx1ZXM7XG59XG5cblN0ZWVkb3NUYWJsZS5nZXRGaWVsZCA9IGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIHZhciBpbnN0YW5jZUZpZWxkcyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZpZWxkcygpO1xuICAgIGlmICghaW5zdGFuY2VGaWVsZHMpXG4gICAgICAgIHJldHVybjtcblxuICAgIHZhciBmaWVsZE9iaiA9IGluc3RhbmNlRmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGZpZWxkKTtcblxuICAgIHJldHVybiBmaWVsZE9iajtcbn1cblxuXG5TdGVlZG9zVGFibGUuZ2V0TW9kYWxEYXRhID0gZnVuY3Rpb24gKGZpZWxkLCBpbmRleCkge1xuXG4gICAgdmFyIGRhdGEgPSB7fTtcblxuICAgIHZhciBmaWVsZE9iaiA9IFN0ZWVkb3NUYWJsZS5nZXRGaWVsZChmaWVsZCk7XG5cbiAgICBpZiAoIWZpZWxkT2JqKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkYXRhLmZpZWxkID0gZmllbGRPYmo7XG5cbiAgICBkYXRhLmZpZWxkLmZvcm11bGEgPSBGb3JtX2Zvcm11bGEuZ2V0Rm9ybXVsYUZpZWxkVmFyaWFibGUoXCJGb3JtX2Zvcm11bGEuZmllbGRfdmFsdWVzXCIsIGZpZWxkT2JqLnNmaWVsZHMpO1xuXG4gICAgZGF0YS52YWx1ZSA9IHt9O1xuXG4gICAgZGF0YS52YWx1ZVtmaWVsZF0gPSBTdGVlZG9zVGFibGUuZ2V0VGFibGVJdGVtVmFsdWUoZmllbGQsIGluZGV4KTtcblxuICAgIGRhdGEuaW5kZXggPSBpbmRleDtcblxuICAgIHJldHVybiBkYXRhO1xufVxuXG5cblxuU3RlZWRvc1RhYmxlLmdldEl0ZW1Nb2RhbFZhbHVlID0gZnVuY3Rpb24gKGZpZWxkLCBpdGVtX2luZGV4KSB7XG5cbiAgICBpZiAoIUF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJzdGVlZG9zX3RhYmxlX21vZGFsX1wiICsgZmllbGQgKyBcIl9cIiArIGl0ZW1faW5kZXgpKSB7XG4gICAgICAgIHJldHVybiB7fVxuICAgIH1cblxuICAgIHZhciBpdGVtX3ZhbHVlID0gQXV0b0Zvcm0uZ2V0Rm9ybVZhbHVlcyhcInN0ZWVkb3NfdGFibGVfbW9kYWxfXCIgKyBmaWVsZCArIFwiX1wiICsgaXRlbV9pbmRleCkuaW5zZXJ0RG9jW2ZpZWxkXTtcbiAgICByZXR1cm4gaXRlbV92YWx1ZTtcbn1cblxuXG5TdGVlZG9zVGFibGUuYWRkSXRlbSA9IGZ1bmN0aW9uIChmaWVsZCwgaW5kZXgsIF9pdGVtX3ZhbHVlKSB7XG4gICAgdmFyIGtleXMgPSBTdGVlZG9zVGFibGUuZ2V0S2V5cyhmaWVsZCk7XG4gICAgdmFyIGl0ZW1fdmFsdWUgPSBfaXRlbV92YWx1ZSB8fCBTdGVlZG9zVGFibGUuZ2V0SXRlbU1vZGFsVmFsdWUoZmllbGQsIGluZGV4KTtcbiAgICAkKFwidGJvZHlbbmFtZT0nXCIgKyBmaWVsZCArIFwiVGJvZHknXVwiKS5hcHBlbmQoU3RlZWRvc1RhYmxlLmdldFRyKGtleXMsIGl0ZW1fdmFsdWUsIGluZGV4LCBmaWVsZCwgdHJ1ZSkpXG5cbn1cblxuU3RlZWRvc1RhYmxlLnVwZGF0ZUl0ZW0gPSBmdW5jdGlvbiAoZmllbGQsIGluZGV4LCBfaXRlbV92YWx1ZSkge1xuXG4gICAgdmFyIGl0ZW0gPSAkKFwidHJbbmFtZT0nXCIgKyBmaWVsZCArIFwiX2l0ZW1fXCIgKyBpbmRleCArIFwiJ11cIik7XG5cbiAgICB2YXIgaXRlbV92YWx1ZSA9IF9pdGVtX3ZhbHVlIHx8IFN0ZWVkb3NUYWJsZS5nZXRJdGVtTW9kYWxWYWx1ZShmaWVsZCwgaW5kZXgpO1xuXG4gICAgaWYgKGl0ZW0gJiYgaXRlbS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gU3RlZWRvc1RhYmxlLmdldEtleXMoZmllbGQpO1xuICAgICAgICB2YXIgdGRzID0gU3RlZWRvc1RhYmxlLmdldFJlbW92ZVRkKGZpZWxkLCBpbmRleCk7XG5cbiAgICAgICAgdmFyIHNmaWVsZHMgPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpLnNmaWVsZHM7XG5cbiAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciBzZmllbGQgPSBzZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGtleSk7XG5cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGl0ZW1fdmFsdWVba2V5XTtcblxuICAgICAgICAgICAgdGRzID0gdGRzICsgU3RlZWRvc1RhYmxlLmdldFRkKHNmaWVsZCwgaW5kZXgsIHZhbHVlKTtcblxuICAgICAgICB9KTtcblxuICAgICAgICBpdGVtLmVtcHR5KCk7XG5cbiAgICAgICAgaXRlbS5hcHBlbmQodGRzKTtcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgICAgU3RlZWRvc1RhYmxlLmFkZEl0ZW0oZmllbGQsIGluZGV4KTtcbiAgICB9XG5cbiAgICBpZiAoU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUoZmllbGQpKSB7XG5cbiAgICAgICAgU3RlZWRvc1RhYmxlLnNldFRhYmxlSXRlbVZhbHVlKGZpZWxkLCBpbmRleCwgaXRlbV92YWx1ZSk7XG5cbiAgICAgICAgLy9TdGVlZG9zVGFibGUudmFsdWVIYXNoW2ZpZWxkXVtpbmRleF0gPSBpdGVtX3ZhbHVlO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy9TdGVlZG9zVGFibGUudmFsdWVIYXNoW2ZpZWxkXSA9IFtpdGVtX3ZhbHVlXTtcblxuICAgICAgICBTdGVlZG9zVGFibGUuc2V0VGFibGVWYWx1ZShmaWVsZCwgW2l0ZW1fdmFsdWVdKVxuXG4gICAgfVxuXG4gICAgLy/miafooYzkuLvooajlhazlvI/orqHnrpdcbiAgICBJbnN0YW5jZU1hbmFnZXIucnVuRm9ybXVsYShmaWVsZCk7XG5cbn1cblxuU3RlZWRvc1RhYmxlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoZmllbGQsIGluZGV4KSB7XG5cbiAgICAkKFwidHJbbmFtZT0nXCIgKyBmaWVsZCArIFwiX2l0ZW1fXCIgKyBpbmRleCArIFwiJ11cIikuaGlkZSgpO1xuXG4gICAgU3RlZWRvc1RhYmxlLnJlbW92ZVRhYmxlSXRlbShmaWVsZCwgaW5kZXgpO1xuXG4gICAgSW5zdGFuY2VNYW5hZ2VyLnJ1bkZvcm11bGEoZmllbGQpO1xufVxuXG5TdGVlZG9zVGFibGUuc2hvd01vZGFsID0gZnVuY3Rpb24gKGZpZWxkLCBpbmRleCwgbWV0aG9kKSB7XG5cblxuICAgIHZhciBtb2RhbERhdGEgPSBTdGVlZG9zVGFibGUuZ2V0TW9kYWxEYXRhKGZpZWxkLCBpbmRleCk7XG5cbiAgICBtb2RhbERhdGEubWV0aG9kID0gbWV0aG9kO1xuXG4gICAgTW9kYWwuc2hvdyhcInN0ZWVkb3NUYWJsZU1vZGFsXCIsIG1vZGFsRGF0YSk7XG5cbn1cblxuU3RlZWRvc1RhYmxlLmdldEtleXMgPSBmdW5jdGlvbiAoZmllbGQpIHtcbiAgICBpZiAoIUF1dG9Gb3JtLmdldEN1cnJlbnREYXRhRm9yRm9ybShTdGVlZG9zVGFibGUuZm9ybUlkKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgdmFyIHNzID0gQXV0b0Zvcm0uZ2V0Rm9ybVNjaGVtYShTdGVlZG9zVGFibGUuZm9ybUlkKTtcblxuICAgIHZhciBrZXlzID0gW107XG5cbiAgICBpZiAoc3Muc2NoZW1hKGZpZWxkICsgXCIuJFwiKS50eXBlID09PSBPYmplY3QpIHtcbiAgICAgICAga2V5cyA9IHNzLm9iamVjdEtleXMoU2ltcGxlU2NoZW1hLl9tYWtlR2VuZXJpYyhmaWVsZCkgKyAnLiQnKVxuICAgIH1cblxuICAgIHJldHVybiBrZXlzO1xuXG59XG5cblN0ZWVkb3NUYWJsZS5nZXRUaGVhZCA9IGZ1bmN0aW9uIChmaWVsZCwgZWRpdGFibGUpIHtcblxuICAgIHZhciBmaWVsZE9iaiA9IGZpZWxkO1xuICAgIGlmICghXy5pc09iamVjdChmaWVsZCkpXG4gICAgICAgIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcblxuICAgIGlmICghZmllbGRPYmopIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHZhciB0aGVhZCA9ICcnLFxuICAgICAgICB0cnMgPSAnJyxcbiAgICAgICAgbGFiZWwgPSAnJyxcbiAgICAgICAgd2lkdGggPSAxMDA7XG5cbiAgICBpZiAoZWRpdGFibGUpIHtcbiAgICAgICAgLy8gdHJzID0gXCI8dGggY2xhc3M9J3JlbW92ZWQnPjwvdGg+XCJcbiAgICAgICAgdHJzID0gXCJcIlxuICAgIH1cblxuICAgIHZhciBzZmllbGRzID0gZmllbGRPYmouc2ZpZWxkcztcblxuICAgIGlmICghc2ZpZWxkcykge1xuICAgICAgICByZXR1cm4gdGhlYWQ7XG4gICAgfVxuXG4gICAgdmFyIHNmX2xlbmd0aCA9IHNmaWVsZHMubGVuZ3RoO1xuXG4gICAgaWYgKHNmX2xlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIHdpZGVfZmllbGRzID0gc2ZpZWxkcy5maWx0ZXJQcm9wZXJ0eShcImlzX3dpZGVcIiwgdHJ1ZSk7XG5cbiAgICAgICAgd2lkdGggPSAxMDAgLyAoc2ZfbGVuZ3RoICsgd2lkZV9maWVsZHMubGVuZ3RoKTtcbiAgICB9XG5cbiAgICBzZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKHNmLCBpbmRleCkge1xuXG4gICAgICAgIGxhYmVsID0gKHNmLm5hbWUgIT0gbnVsbCAmJiBzZi5uYW1lLmxlbmd0aCA+IDApID8gc2YubmFtZSA6IHNmLmNvZGU7XG5cbiAgICAgICAgdHJzID0gdHJzICsgXCI8dGQgXCI7IC8vIG5vd3JhcD0nbm93cmFwJ1xuXG4gICAgICAgIHRycyA9IHRycyArIFwiIGNsYXNzPSd0aXRsZSBcIiArIHNmLnR5cGUgKyBcIidcIjtcblxuICAgICAgICBpZiAoaW5kZXggIT0gKHNmX2xlbmd0aCAtIDEpKSB7XG4gICAgICAgICAgICBpZiAoc2YuaXNfd2lkZSkge1xuICAgICAgICAgICAgICAgIHRycyA9IHRycyArIFwic3R5bGU9J3dpZHRoOlwiICsgd2lkdGggKiAyICsgXCIlJ1wiXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRycyA9IHRycyArIFwic3R5bGU9J3dpZHRoOlwiICsgd2lkdGggKyBcIiUnXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRycyA9IHRycyArIFwiPlwiICsgbGFiZWwgKyBcIjwvdGQ+XCJcbiAgICB9KTtcblxuICAgIHRoZWFkID0gJzx0cj4nICsgdHJzICsgJzwvdHI+JztcblxuICAgIHJldHVybiB0aGVhZDtcbn1cblxuU3RlZWRvc1RhYmxlLmdldFRib2R5ID0gZnVuY3Rpb24gKGtleXMsIGZpZWxkLCB2YWx1ZXMsIGVkaXRhYmxlLCBzZmllbGRzRWRpdGFibGUpIHtcbiAgICB2YXIgdGJvZHkgPSBcIlwiO1xuXG4gICAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHRib2R5ID0gdGJvZHkgKyBTdGVlZG9zVGFibGUuZ2V0VHIoa2V5cywgdmFsdWUsIGluZGV4LCBmaWVsZCwgZWRpdGFibGUsIHNmaWVsZHNFZGl0YWJsZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0Ym9keTtcbn1cblxuU3RlZWRvc1RhYmxlLmdldFRyID0gZnVuY3Rpb24gKGtleXMsIGl0ZW1fdmFsdWUsIGluZGV4LCBmaWVsZCwgZWRpdGFibGUsIHNmaWVsZHNFZGl0YWJsZSkge1xuXG4gICAgdmFyIGZpZWxkT2JqID0gZmllbGQ7XG4gICAgaWYgKCFfLmlzT2JqZWN0KGZpZWxkKSlcbiAgICAgICAgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xuXG4gICAgdmFyIHRyID0gXCI8dHIgaWQ9J1wiICsgZmllbGRPYmouY29kZSArIFwiX2l0ZW1fXCIgKyBpbmRleCArIFwiJyBuYW1lPSdcIiArIGZpZWxkT2JqLmNvZGUgKyBcIl9pdGVtX1wiICsgaW5kZXggKyBcIicgZGF0YS1pbmRleD0nXCIgKyBpbmRleCArIFwiJ1wiXG5cbiAgICBpZiAoZWRpdGFibGUgfHwgc2ZpZWxkc0VkaXRhYmxlKSB7XG4gICAgICAgIHRyID0gdHIgKyBcIicgY2xhc3M9J2l0ZW0gZWRpdCdcIlxuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgIHRyID0gdHIgKyBcIiBjbGFzcz0naXRlbSBpdGVtLXJlYWRvbmx5J1wiXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0ciA9IHRyICsgXCIgY2xhc3M9J2l0ZW0gJ1wiXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXRlbV92YWx1ZS5yZW1vdmVkKSB7XG4gICAgICAgIHRyID0gdHIgKyBcIiBzdHlsZT0nZGlzcGxheTpub25lJyBcIjtcbiAgICB9XG5cbiAgICB0ciA9IHRyICsgXCInPlwiO1xuXG4gICAgdmFyIHRkcyA9IFwiXCI7XG5cbiAgICBpZiAoZWRpdGFibGUpIHtcbiAgICAgICAgdGRzID0gU3RlZWRvc1RhYmxlLmdldFJlbW92ZVRkKGZpZWxkT2JqLmNvZGUsIGluZGV4KTtcbiAgICB9XG5cbiAgICB2YXIgc2ZpZWxkcyA9IGZpZWxkT2JqLnNmaWVsZHM7XG5cbiAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgc2ZpZWxkID0gc2ZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBrZXkpO1xuXG4gICAgICAgIHZhciB2YWx1ZSA9IGl0ZW1fdmFsdWVba2V5XTtcblxuICAgICAgICB0ZHMgPSB0ZHMgKyBTdGVlZG9zVGFibGUuZ2V0VGQoc2ZpZWxkLCBpbmRleCwgdmFsdWUpO1xuXG4gICAgfSk7XG5cbiAgICB0ciA9IHRyICsgdGRzICsgXCI8L3RyPlwiO1xuICAgIHJldHVybiB0cjtcbn1cblxuU3RlZWRvc1RhYmxlLmdldFJlbW92ZVRkID0gZnVuY3Rpb24gKGZpZWxkLCBpbmRleCkge1xuICAgIC8vIHJldHVybiBcIjx0ZCBjbGFzcz0nc3RlZWRvc1RhYmxlLWl0ZW0tcmVtb3ZlIHJlbW92ZWQnIGRhdGEtaW5kZXg9J1wiICsgaW5kZXggKyBcIic+PGkgY2xhc3M9J2ZhIGZhLXRpbWVzJyBhcmlhLWhpZGRlbj0ndHJ1ZSc+PC90ZD5cIjtcbiAgICByZXR1cm4gXCJcIlxufVxuXG5TdGVlZG9zVGFibGUuZ2V0VGQgPSBmdW5jdGlvbiAoZmllbGQsIGluZGV4LCB2YWx1ZSkge1xuICAgIHZhciB0ZCA9IFwiPHRkIFwiO1xuXG4gICAgdGQgPSB0ZCArIFwiIGNsYXNzPSdzdGVlZG9zVGFibGUtaXRlbS1maWVsZCBcIiArIGZpZWxkLnR5cGUgKyBcIicgXCI7XG5cbiAgICB2YXIgdGRfdmFsdWUgPSBcIlwiO1xuXG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgICB0ZF92YWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRURFZhbHVlKGZpZWxkLCB2YWx1ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXG5cbiAgICAgICAgdXRjT2Zmc2V0ID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnV0Y09mZnNldFxuXG4gICAgICAgIHRkX3ZhbHVlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFZhbHVlKHZhbHVlLCBmaWVsZCwgbG9jYWxlLCB1dGNPZmZzZXQpXG4gICAgfVxuXG4gICAgdGQgPSB0ZCArIFwiIGRhdGEtaW5kZXg9J1wiICsgaW5kZXggKyBcIic+XCIgKyB0ZF92YWx1ZSArIFwiPC90ZD5cIlxuXG4gICAgcmV0dXJuIHRkO1xufVxuXG5cblN0ZWVkb3NUYWJsZS5nZXRURFZhbHVlID0gZnVuY3Rpb24gKGZpZWxkLCB2YWx1ZSkge1xuICAgIHZhciB0ZF92YWx1ZSA9IFwiXCI7XG4gICAgaWYgKCFmaWVsZCkge1xuICAgICAgICByZXR1cm4gdGRfdmFsdWVcbiAgICB9XG4gICAgdHJ5IHtcblxuICAgICAgICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3VzZXInOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mICh2YWx1ZVswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFTcGFjZVVzZXJzKHZhbHVlKS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiAodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHUgPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFTcGFjZVVzZXJzKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHUgPyB1Lm5hbWUgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB2YWx1ZS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mICh2YWx1ZVswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFPcmdhbml6YXRpb25zKHZhbHVlKS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiAodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFPcmdhbml6YXRpb24odmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gbyA/IG8ubmFtZSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlID8gXCI8YSBocmVmPSdtYWlsdG86XCIgKyB2YWx1ZSArIFwiJz5cIiArIHZhbHVlICsgXCI8L2E+XCIgOiBcIlwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndXJsJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YoXCJodHRwXCIpID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBcIjxhIGhyZWY9J1wiICsgZW5jb2RlVVJJKHZhbHVlKSArIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXCI8YSBocmVmPScnIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXCI8YSBocmVmPSdodHRwOi8vXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5odHRwOi8vXCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcbiAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9ICcqKioqKionO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdmFsdWUuc3BsaXQoXCItXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgeWVhciA9IHRbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlID0gdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSAkLmZvcm1hdC5kYXRlKHZhbHVlLCAneXl5eS1NTS1kZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RhdGVUaW1lJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB2YWx1ZS5zcGxpdChcIlRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdDAgPSB0WzBdLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0MSA9IHRbMV0uc3BsaXQoXCI6XCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyID0gdDBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IHQwWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IHQwWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaG91cnMgPSB0MVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSB0MVsxXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUsIGhvdXJzLCBzZWNvbmRzKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gJC5mb3JtYXQuZGF0ZSh2YWx1ZSwgJ3l5eXktTU0tZGQgSEg6bW0nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSB8fCB2YWx1ZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gU3RlZWRvcy5udW1iZXJUb1N0cmluZyh2YWx1ZSwgZmllbGQuZGlnaXRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdvZGF0YSc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZC5pc19tdWx0aXNlbGVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBfLnBsdWNrKHZhbHVlLCAnQGxhYmVsJykudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB2YWx1ZVsnQGxhYmVsJ11cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB2YWx1ZSA/IHZhbHVlIDogJyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGU7XG5cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gdGRfdmFsdWU7XG59O1xuXG5pZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgQXV0b0Zvcm0uYWRkSW5wdXRUeXBlKFwidGFibGVcIiwge1xuICAgICAgICB0ZW1wbGF0ZTogXCJhZlRhYmxlXCIsXG4gICAgICAgIHZhbHVlT3V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHRoaXMuZGF0YShcInNjaGVtYUtleVwiKTtcbiAgICAgICAgICAgIHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VmFsaWRWYWx1ZShuYW1lKTtcbiAgICAgICAgfSxcbiAgICAgICAgdmFsdWVDb252ZXJ0ZXJzOiB7XG4gICAgICAgICAgICBcInN0cmluZ0FycmF5XCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb1N0cmluZ0FycmF5LFxuICAgICAgICAgICAgXCJudW1iZXJcIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvTnVtYmVyLFxuICAgICAgICAgICAgXCJudW1lckFycmF5XCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb051bWJlckFycmF5LFxuICAgICAgICAgICAgXCJib29sZWFuXCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb0Jvb2xlYW4sXG4gICAgICAgICAgICBcImJvb2xlYW5BcnJheVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9Cb29sZWFuQXJyYXksXG4gICAgICAgICAgICBcImRhdGVcIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvRGF0ZSxcbiAgICAgICAgICAgIFwiZGF0ZUFycmF5XCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb0RhdGVBcnJheVxuICAgICAgICB9LFxuICAgICAgICBjb250ZXh0QWRqdXN0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0LmF0dHMubWF4bGVuZ3RoID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29udGV4dC5tYXggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5hdHRzLm1heGxlbmd0aCA9IGNvbnRleHQubWF4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIFRlbXBsYXRlLmFmVGFibGUuZXZlbnRzKHtcbiAgICAgICAgJ3RhcCAuc3RlZWRvcy10YWJsZSAuc3RlZWRvc1RhYmxlLWl0ZW0tYWRkLC5hZGQtaXRlbS10cic6IGZ1bmN0aW9uIChldmVudCwgdGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gdGVtcGxhdGUuZGF0YS5uYW1lO1xuXG4gICAgICAgICAgICB2YXIgdGFibGVWYWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKG5hbWUpO1xuXG4gICAgICAgICAgICB2YXIgbmV3X2l0ZW1faW5kZXggPSB0YWJsZVZhbHVlID8gdGFibGVWYWx1ZS5sZW5ndGggOiAwO1xuXG4gICAgICAgICAgICBTdGVlZG9zVGFibGUuc2hvd01vZGFsKG5hbWUsIG5ld19pdGVtX2luZGV4LCBcImFkZFwiKTtcbiAgICAgICAgfSxcblxuICAgICAgICAndGFwIC5zdGVlZG9zLXRhYmxlIC5zdGVlZG9zVGFibGUtaXRlbS1maWVsZCc6IGZ1bmN0aW9uIChldmVudCwgdGVtcGxhdGUpIHtcbiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZS5kYXRhLmF0dHMuZWRpdGFibGUgfHwgdGVtcGxhdGUuZGF0YS5hdHRzLnNmaWVsZHNFZGl0YWJsZSkge1xuICAgICAgICAgICAgICAgIHZhciBmaWVsZCA9IHRlbXBsYXRlLmRhdGEubmFtZTtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuaW5kZXg7XG4gICAgICAgICAgICAgICAgU3RlZWRvc1RhYmxlLnNob3dNb2RhbChmaWVsZCwgaW5kZXgsIFwiZWRpdFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAndGFwIC5zdGVlZG9zLXRhYmxlIC5zdGVlZG9zVGFibGUtaXRlbS1yZW1vdmUnOiBmdW5jdGlvbiAoZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgICAgICAgICB2YXIgZmllbGQgPSB0ZW1wbGF0ZS5kYXRhLm5hbWU7XG4gICAgICAgICAgICB2YXIgaXRlbV9pbmRleCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pbmRleDtcbiAgICAgICAgICAgIFNlc3Npb24uc2V0KFwiaW5zdGFuY2VfY2hhbmdlXCIsIHRydWUpO1xuICAgICAgICAgICAgU3RlZWRvc1RhYmxlLnJlbW92ZUl0ZW0oZmllbGQsIGl0ZW1faW5kZXgpO1xuICAgICAgICB9LFxuXG4gICAgICAgICd0YXAgLnN0ZWVkb3MtdGFibGUgLml0ZW0tcmVhZG9ubHknOiBmdW5jdGlvbiAoZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgICAgICAgICBpZiAoIXRlbXBsYXRlLmRhdGEuYXR0cy5lZGl0YWJsZSkge1xuICAgICAgICAgICAgICAgIHZhciBmaWVsZCA9IHRlbXBsYXRlLmRhdGEubmFtZTtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuaW5kZXg7XG4gICAgICAgICAgICAgICAgU3RlZWRvc1RhYmxlLnNob3dNb2RhbChmaWVsZCwgaW5kZXgsIFwicmVhZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG5cblxuICAgIFRlbXBsYXRlLmFmVGFibGUucmVuZGVyZWQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5kYXRhLm5hbWU7XG5cbiAgICAgICAgdmFyIHNmaWVsZHNFZGl0YWJsZSA9IHRoaXMuZGF0YS5hdHRzLnNmaWVsZHNFZGl0YWJsZTtcblxuICAgICAgICB2YXIga2V5cyA9IFN0ZWVkb3NUYWJsZS5nZXRLZXlzKGZpZWxkKTtcbiAgICAgICAgdmFyIHZhbGlkVmFsdWUgPSBTdGVlZG9zVGFibGUuaGFuZGxlRGF0YShmaWVsZCwgdGhpcy5kYXRhLnZhbHVlKTtcbiAgICAgICAgU3RlZWRvc1RhYmxlLnNldFRhYmxlVmFsdWUoZmllbGQsIHZhbGlkVmFsdWUpO1xuXG4gICAgICAgICQoXCJ0aGVhZFtuYW1lPSdcIiArIGZpZWxkICsgXCJUaGVhZCddXCIpLmh0bWwoU3RlZWRvc1RhYmxlLmdldFRoZWFkKGZpZWxkLCB0aGlzLmRhdGEuYXR0cy5lZGl0YWJsZSkpO1xuXG4gICAgICAgICQoXCJ0Ym9keVtuYW1lPSdcIiArIGZpZWxkICsgXCJUYm9keSddXCIpLmh0bWwoU3RlZWRvc1RhYmxlLmdldFRib2R5KGtleXMsIGZpZWxkLCBTdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZShmaWVsZCksIHRoaXMuZGF0YS5hdHRzLmVkaXRhYmxlLCBzZmllbGRzRWRpdGFibGUpKTtcblxuICAgICAgICBzdHIgPSB0KFwic3RlZWRvc190YWJsZV9hZGRfaXRlbVwiKTtcbiAgICAgICAgYWRkSXRlbVRyID0gXCI8dHIgY2xhc3M9J2FkZC1pdGVtLXRyJz48dGQgY29sc3Bhbj0nXCIgKyBrZXlzLmxlbmd0aCArIFwiJz48aSBjbGFzcz0naW9uIGlvbi1wbHVzLXJvdW5kJz48L2k+XCIgKyBzdHIgKyBcIjwvdGQ+PC90cj5cIjtcblxuICAgICAgICBpZiAodGhpcy5kYXRhLmF0dHMuZWRpdGFibGUpIHtcbiAgICAgICAgICAgICQoXCJ0Zm9vdFtuYW1lPSdcIiArIGZpZWxkICsgXCJUZm9vdCddXCIpLmFwcGVuZChhZGRJdGVtVHIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGMgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcbiAgICAgICAgaWYgKGMuc3RlcF90eXBlID09ICdjb3VudGVyU2lnbicgfHwgSW5zdGFuY2VNYW5hZ2VyLmNjSGFzRWRpdFBlcm1pc3Npb24oKSkge1xuICAgICAgICAgICAgdGhpcy5hdXRvcnVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IFRlbXBsYXRlLmN1cnJlbnREYXRhKCk7XG4gICAgICAgICAgICAgICAgdmFyIGZpZWxkID0gZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgIHZhciBrZXlzID0gU3RlZWRvc1RhYmxlLmdldEtleXMoZmllbGQpO1xuICAgICAgICAgICAgICAgIHZhciB2YWxpZFZhbHVlID0gU3RlZWRvc1RhYmxlLmhhbmRsZURhdGEoZmllbGQsIGRhdGEudmFsdWUpO1xuICAgICAgICAgICAgICAgIFN0ZWVkb3NUYWJsZS5zZXRUYWJsZVZhbHVlKGZpZWxkLCB2YWxpZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAkKFwidGJvZHlbbmFtZT0nXCIgKyBmaWVsZCArIFwiVGJvZHknXVwiKS5odG1sKFN0ZWVkb3NUYWJsZS5nZXRUYm9keShrZXlzLCBmaWVsZCwgU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUoZmllbGQpLCBkYXRhLmF0dHMuZWRpdGFibGUsIHNmaWVsZHNFZGl0YWJsZSkpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgfTtcbn0iLCJJbWFnZVNpZ24uaGVscGVycyA9XG5cdHNwYWNlVXNlclNpZ246ICh1c2VySWQpLT5cblx0XHRzcGFjZSA9IFwiXCJcblxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdFx0c3BhY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3BhY2Vcblx0XHRlbHNlXG5cdFx0XHRzcGFjZSA9IFNlc3Npb24uZ2V0KFwic3BhY2VJZFwiKVxuXG5cdFx0c3BhY2VVc2VyU2lnbiA9IGRiLnNwYWNlX3VzZXJfc2lnbnMuZmluZE9uZSh7c3BhY2U6IHNwYWNlLCB1c2VyOiB1c2VySWR9KTtcblx0XHRyZXR1cm4gc3BhY2VVc2VyU2lnblxuXG5cdGltYWdlVVJMOiAodXNlcklkKS0+XG5cblx0XHRzcGFjZVVzZXJTaWduID0gSW1hZ2VTaWduLmhlbHBlcnMuc3BhY2VVc2VyU2lnbih1c2VySWQpO1xuXG5cdFx0YWJzb2x1dGUgPSBmYWxzZVxuXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRhYnNvbHV0ZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5hYnNvbHV0ZVxuXG5cdFx0aWYgc3BhY2VVc2VyU2lnbj8uc2lnblxuXHRcdFx0aWYgYWJzb2x1dGVcblx0XHRcdFx0cmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9hdmF0YXJzL1wiICsgc3BhY2VVc2VyU2lnbi5zaWduKTtcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmV0dXJuIFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvYXZhdGFycy9cIiArIHNwYWNlVXNlclNpZ24uc2lnbik7XG4iLCJJbWFnZVNpZ24uaGVscGVycyA9IHtcbiAgc3BhY2VVc2VyU2lnbjogZnVuY3Rpb24odXNlcklkKSB7XG4gICAgdmFyIHNwYWNlLCBzcGFjZVVzZXJTaWduO1xuICAgIHNwYWNlID0gXCJcIjtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBzcGFjZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5zcGFjZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3BhY2UgPSBTZXNzaW9uLmdldChcInNwYWNlSWRcIik7XG4gICAgfVxuICAgIHNwYWNlVXNlclNpZ24gPSBkYi5zcGFjZV91c2VyX3NpZ25zLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IHNwYWNlLFxuICAgICAgdXNlcjogdXNlcklkXG4gICAgfSk7XG4gICAgcmV0dXJuIHNwYWNlVXNlclNpZ247XG4gIH0sXG4gIGltYWdlVVJMOiBmdW5jdGlvbih1c2VySWQpIHtcbiAgICB2YXIgYWJzb2x1dGUsIHNwYWNlVXNlclNpZ247XG4gICAgc3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24odXNlcklkKTtcbiAgICBhYnNvbHV0ZSA9IGZhbHNlO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGFic29sdXRlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmFic29sdXRlO1xuICAgIH1cbiAgICBpZiAoc3BhY2VVc2VyU2lnbiAhPSBudWxsID8gc3BhY2VVc2VyU2lnbi5zaWduIDogdm9pZCAwKSB7XG4gICAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgICAgcmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9hdmF0YXJzL1wiICsgc3BhY2VVc2VyU2lnbi5zaWduKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBTdGVlZG9zLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2F2YXRhcnMvXCIgKyBzcGFjZVVzZXJTaWduLnNpZ24pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbiIsIlRyYWNlc0hhbmRsZXIuaGVscGVycyA9XG5cdHNob3dTaWduSW1hZ2U6IChoYW5kbGVyLCBpc19maW5pc2hlZCwganVkZ2UpIC0+XG5cdFx0aWYgIWlzX2ZpbmlzaGVkXG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRpZiBbJ3JldHVybmVkJywgJ3Rlcm1pbmF0ZWQnLCAncmV0cmlldmVkJ10uaW5jbHVkZXMoanVkZ2UpXG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRzcGFjZVVzZXJTaWduID0gSW1hZ2VTaWduLmhlbHBlcnMuc3BhY2VVc2VyU2lnbihoYW5kbGVyKVxuXG5cdFx0aWYgc3BhY2VVc2VyU2lnbj8uc2lnblxuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRvYmplY3RVcmw6IChvYmplY3RfbmFtZSwgcmVjb3JkX2lkLCBhcHBfaWQpLT5cblx0XHRyZXR1cm4gQ3JlYXRvci5nZXRPYmplY3RVcmwob2JqZWN0X25hbWUsIHJlY29yZF9pZCwgYXBwX2lkKSIsIlRyYWNlc0hhbmRsZXIuaGVscGVycyA9IHtcbiAgc2hvd1NpZ25JbWFnZTogZnVuY3Rpb24oaGFuZGxlciwgaXNfZmluaXNoZWQsIGp1ZGdlKSB7XG4gICAgdmFyIHNwYWNlVXNlclNpZ247XG4gICAgaWYgKCFpc19maW5pc2hlZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoWydyZXR1cm5lZCcsICd0ZXJtaW5hdGVkJywgJ3JldHJpZXZlZCddLmluY2x1ZGVzKGp1ZGdlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzcGFjZVVzZXJTaWduID0gSW1hZ2VTaWduLmhlbHBlcnMuc3BhY2VVc2VyU2lnbihoYW5kbGVyKTtcbiAgICBpZiAoc3BhY2VVc2VyU2lnbiAhPSBudWxsID8gc3BhY2VVc2VyU2lnbi5zaWduIDogdm9pZCAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgb2JqZWN0VXJsOiBmdW5jdGlvbihvYmplY3RfbmFtZSwgcmVjb3JkX2lkLCBhcHBfaWQpIHtcbiAgICByZXR1cm4gQ3JlYXRvci5nZXRPYmplY3RVcmwob2JqZWN0X25hbWUsIHJlY29yZF9pZCwgYXBwX2lkKTtcbiAgfVxufTtcbiIsIkluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMgPVxuXHRhcHBsaWNhbnRDb250ZXh0OiAtPlxuXHRcdHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRkYXRhID0ge1xuXHRcdFx0bmFtZTogJ2luc19hcHBsaWNhbnQnLFxuXHRcdFx0YXR0czoge25hbWU6ICdpbnNfYXBwbGljYW50JywgaWQ6ICdpbnNfYXBwbGljYW50JywgY2xhc3M6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50J30sXG5cdFx0XHR2YWx1ZTogc3RlZWRvc19pbnN0YW5jZS5hcHBsaWNhbnRfbmFtZVxuXHRcdH1cblx0XHRpZiBub3Qgc3RlZWRvc19pbnN0YW5jZSB8fCBzdGVlZG9zX2luc3RhbmNlLnN0YXRlICE9IFwiZHJhZnRcIlxuXHRcdFx0ZGF0YS5hdHRzLmRpc2FibGVkID0gdHJ1ZVxuXHRcdHJldHVybiBkYXRhO1xuXG5cdGluc3RhbmNlSWQ6IC0+XG5cdFx0cmV0dXJuICdpbnN0YW5jZWZvcm0nOyNcImluc3RhbmNlX1wiICsgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpO1xuXG5cdGZvcm1fdHlwZXM6IC0+XG5cdFx0aWYgQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpXG5cdFx0XHRyZXR1cm4gJ2Rpc2FibGVkJztcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gJ21ldGhvZCc7XG5cblx0c3RlZWRvc19mb3JtOiAtPlxuXHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG5cdFx0aWYgZm9ybV92ZXJzaW9uXG5cdFx0XHRyZXR1cm4gZm9ybV92ZXJzaW9uXG5cblx0aW5uZXJzdWJmb3JtQ29udGV4dDogKG9iaiktPlxuXHRcdGRvY192YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG5cdFx0b2JqW1widGFibGVWYWx1ZXNcIl0gPSBpZiBkb2NfdmFsdWVzIHRoZW4gZG9jX3ZhbHVlc1tvYmouY29kZV0gZWxzZSBbXVxuXHRcdG9ialtcImZvcm1JZFwiXSA9IFwiaW5zdGFuY2Vmb3JtXCI7XG5cdFx0cmV0dXJuIG9iajtcblxuXHRpbnN0YW5jZTogLT5cblx0XHRTZXNzaW9uLmdldChcImNoYW5nZV9kYXRlXCIpXG5cdFx0aWYgKFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSlcblx0XHRcdHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRcdHJldHVybiBzdGVlZG9zX2luc3RhbmNlO1xuXG5cdGVtcHR5OiAodmFsKSAtPlxuXHRcdGlmIHZhbFxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cblx0dW5lbXB0eTogKHZhbCkgLT5cblx0XHRpZiB2YWxcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRlcXVhbHM6IChhLCBiKSAtPlxuXHRcdHJldHVybiAoYSA9PSBiKVxuXG5cdHVuZXF1YWxzOiAoYSwgYikgLT5cblx0XHRyZXR1cm4gIShhID09IGIpXG5cblx0aW5jbHVkZXM6IChhLCBiKSAtPlxuXHRcdHJldHVybiBiLnNwbGl0KCcsJykuaW5jbHVkZXMoYSk7XG5cblx0aW5jbHVkZTogKGEsIGIpIC0+XG5cdFx0cmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcblxuXHRmaWVsZHM6IC0+XG5cdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcblx0XHRpZiBmb3JtX3ZlcnNpb25cblx0XHRcdHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XG5cblx0Zm9ybWF0RGF0ZTogKGRhdGUsIG9wdGlvbnMpLT5cblx0XHRpZiAhZGF0ZVxuXHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0aWYgb3B0aW9ucyAmJiB0eXBlb2Yob3B0aW9ucykgPT0gJ3N0cmluZydcblx0XHRcdG9wdGlvbnMgPSBKU09OLnBhcnNlKG9wdGlvbnMpO1xuXG5cdFx0aWYgIW9wdGlvbnMuZm9ybWF0XG5cdFx0XHRvcHRpb25zID0ge2Zvcm1hdDogXCJZWVlZLU1NLUREIEhIOm1tXCJ9XG5cblx0XHRyZXR1cm4gbW9tZW50KGRhdGUpLmZvcm1hdChvcHRpb25zLmZvcm1hdCk7XG5cblx0dHJhY2VzOiAtPlxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdFx0c3RlZWRvc0RhdGEgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy52aWV3Py50ZW1wbGF0ZT8uc3RlZWRvc0RhdGFcblx0XHRcdGluc3RhbmNlID0gc3RlZWRvc0RhdGE/Lmluc3RhbmNlXG5cdFx0XHRmbG93ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEZsb3dWZXJzaW9uKGluc3RhbmNlKTtcblx0XHRcdGxvY2FsZSA9IHN0ZWVkb3NEYXRhPy5sb2NhbGVcblx0XHRcdGlmIGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICd6aC1jbidcblx0XHRcdFx0bG9jYWxlID0gXCJ6aC1DTlwiXG5cdFx0ZWxzZVxuXHRcdFx0aW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblxuXHRcdFx0ZmxvdyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZsb3dWZXJzaW9uKClcblxuXHRcdFx0bG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKVxuXG5cdFx0aWYgIWluc3RhbmNlIHx8ICFmbG93XG5cdFx0XHRyZXR1cm4ge307XG5cblx0XHRzdGVwcyA9IGZsb3cuc3RlcHM7XG5cblx0XHR0cmFjZXMgPSB7fTtcblxuXHRcdGluc3RhbmNlLnRyYWNlcz8uZm9yRWFjaCAodHJhY2UpLT5cblx0XHRcdHN0ZXAgPSBzdGVwcy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHRyYWNlLnN0ZXApXG5cblx0XHRcdGFwcHJvdmVzID0gW11cblxuXHRcdFx0dHJhY2UuYXBwcm92ZXM/LmZvckVhY2ggKGFwcHJvdmUpIC0+XG5cdFx0XHRcdGlmIHRyYWNlLmlzX2ZpbmlzaGVkID09IHRydWVcbiMg5bey57uT5p2f55qE5pi+56S65Li65qC45YeGL+mps+Wbni/lj5bmtojnlLPor7dcblx0XHRcdFx0XHRpZiBhcHByb3ZlLmp1ZGdlID09ICdhcHByb3ZlZCdcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgYXBwcm92ZWRcIiwge30sIGxvY2FsZSlcblx0XHRcdFx0XHRlbHNlIGlmIGFwcHJvdmUuanVkZ2UgPT0gJ3JlamVjdGVkJ1xuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSByZWplY3RlZFwiLCB7fSwgbG9jYWxlKVxuXHRcdFx0XHRcdGVsc2UgaWYgYXBwcm92ZS5qdWRnZSA9PSAndGVybWluYXRlZCdcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgdGVybWluYXRlZFwiLCB7fSwgbG9jYWxlKVxuXHRcdFx0XHRcdGVsc2UgaWYgYXBwcm92ZS5qdWRnZSA9PSAncmVhc3NpZ25lZCdcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVhc3NpZ25lZFwiLCB7fSwgbG9jYWxlKVxuXHRcdFx0XHRcdGVsc2UgaWYgYXBwcm92ZS5qdWRnZSA9PSAncmVsb2NhdGVkJ1xuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSByZWxvY2F0ZWRcIiwge30sIGxvY2FsZSlcblx0XHRcdFx0XHRlbHNlIGlmIGFwcHJvdmUuanVkZ2UgPT0gJydcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBcIlwiXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFwiXCJcblxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSBwZW5kaW5nXCIsIHt9LCBsb2NhbGUpXG5cblx0XHRcdFx0YXBwcm92ZXMucHVzaFxuXHRcdFx0XHRcdF9pZDogYXBwcm92ZS5faWRcblx0XHRcdFx0XHRoYW5kbGVyOiBhcHByb3ZlLnVzZXJcblx0XHRcdFx0XHRoYW5kbGVyX25hbWU6IGFwcHJvdmUuaGFuZGxlcl9uYW1lXG5cdFx0XHRcdFx0aGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZTogYXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lXG5cdFx0XHRcdFx0aGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWU6IGFwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWVcblx0XHRcdFx0XHRmaW5pc2hfZGF0ZTogYXBwcm92ZS5maW5pc2hfZGF0ZVxuXHRcdFx0XHRcdGp1ZGdlOiBhcHByb3ZlLmp1ZGdlXG5cdFx0XHRcdFx0anVkZ2VfbmFtZToganVkZ2VfbmFtZVxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBhcHByb3ZlLmRlc2NyaXB0aW9uXG5cdFx0XHRcdFx0aXNfZmluaXNoZWQ6IGFwcHJvdmUuaXNfZmluaXNoZWRcblx0XHRcdFx0XHR0eXBlOiBhcHByb3ZlLnR5cGVcblx0XHRcdFx0XHRvcGluaW9uX2ZpZWxkc19jb2RlOiBhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGVcblx0XHRcdFx0XHRzaWduX2ZpZWxkX2NvZGU6IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlXG5cdFx0XHRcdFx0aXNfcmVhZDogYXBwcm92ZS5pc19yZWFkXG5cdFx0XHRcdFx0c2lnbl9zaG93OiBhcHByb3ZlLnNpZ25fc2hvd1xuXG5cblx0XHRcdGlmIHN0ZXBcblx0XHRcdFx0aWYgc3RlcC5uYW1lIG9mIHRyYWNlc1xuXHRcdFx0XHRcdHRyYWNlc1tzdGVwLm5hbWVdID0gdHJhY2VzW3N0ZXAubmFtZV0uY29uY2F0KGFwcHJvdmVzKVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0dHJhY2VzW3N0ZXAubmFtZV0gPSBhcHByb3Zlc1xuXG5cdFx0cmV0dXJuIHRyYWNlcztcblxuXG5cblx0ZG9jX3ZhbHVlczogLT5cblx0XHRXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG5cblx0aW5zdGFuY2VfYm94X3N0eWxlOiAtPlxuXHRcdGJveCA9IFNlc3Npb24uZ2V0KFwiYm94XCIpXG5cdFx0aWYgYm94ID09IFwiaW5ib3hcIiB8fCBib3ggPT0gXCJkcmFmdFwiXG5cdFx0XHRqdWRnZSA9IFNlc3Npb24uZ2V0KFwianVkZ2VcIilcblx0XHRcdGlmIGp1ZGdlXG5cdFx0XHRcdGlmIChqdWRnZSA9PSBcImFwcHJvdmVkXCIpXG5cdFx0XHRcdFx0cmV0dXJuIFwiYm94LXN1Y2Nlc3NcIlxuXHRcdFx0XHRlbHNlIGlmIChqdWRnZSA9PSBcInJlamVjdGVkXCIpXG5cdFx0XHRcdFx0cmV0dXJuIFwiYm94LWRhbmdlclwiXG5cdFx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0aWYgaW5zICYmIGlucy5maW5hbF9kZWNpc2lvblxuXHRcdFx0aWYgaW5zLmZpbmFsX2RlY2lzaW9uID09IFwiYXBwcm92ZWRcIlxuXHRcdFx0XHRyZXR1cm4gXCJib3gtc3VjY2Vzc1wiXG5cdFx0XHRlbHNlIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT0gXCJyZWplY3RlZFwiKVxuXHRcdFx0XHRyZXR1cm4gXCJib3gtZGFuZ2VyXCJcblxuI2lzX2Rpc2FibGVkOiAtPlxuIyAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiMgICAgaWYgIWluc1xuIyAgICAgICAgcmV0dXJuO1xuIyAgICBpZiBpbnMuc3RhdGUhPVwiZHJhZnRcIlxuIyAgICAgICAgcmV0dXJuIFwiZGlzYWJsZWRcIjtcbiMgICAgcmV0dXJuO1xuXG5cdHRhYmxlX2ZpZWxkczogKGluc3RhbmNlKS0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuXHRcdGVsc2Vcblx0XHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pXG5cdFx0aWYgZm9ybV92ZXJzaW9uXG5cdFx0XHRmaWVsZHMgPSBfLmNsb25lKGZvcm1fdmVyc2lvbi5maWVsZHMpO1xuXG5cdFx0XHRmaWVsZHMuZm9yRWFjaCAoZmllbGQsIGluZGV4KSAtPlxuXHRcdFx0XHRmaWVsZC50cl9zdGFydCA9IFwiXCI7XG5cdFx0XHRcdGZpZWxkLnRyX2VuZCA9IFwiXCI7XG5cdFx0XHRcdHRkX2NvbHNwYW4gPSAxO1xuI1x0XHRcdFx05by65Yi26K6+572u5qCH5aS05a2X5q615Li65a695a2X5q61XG5cdFx0XHRcdGlmIENvcmVGb3JtPy5wYWdlVGl0bGVGaWVsZE5hbWUgPT0gZmllbGQuY29kZVxuXHRcdFx0XHRcdGZpZWxkLmlzX3dpZGUgPSB0cnVlXG5cblx0XHRcdFx0aWYgZmllbGQuZm9ybXVsYSAmJiBmaWVsZC50eXBlICE9ICdvZGF0YSdcblx0XHRcdFx0XHRmaWVsZC5wZXJtaXNzaW9uID0gXCJyZWFkb25seVwiO1xuXG5cdFx0XHRcdGlmIFN0ZWVkb3MuaXNNb2JpbGUoKVxuIyDlpoLmnpzlvZPliY3lrZfmrrXmmK/liIbnu4TjgIHooajmoLzjgIHlrr3lrZfmrrVcblx0XHRcdFx0XHRpZiBmaWVsZC50eXBlID09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09ICd0YWJsZSdcblx0XHRcdFx0XHRcdGZpZWxkLnRkX2NvbHNwYW4gPSA0O1xuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGZpZWxkLnRkX2NvbHNwYW4gPSAzO1xuXG5cdFx0XHRcdFx0aWYgaW5kZXggIT0gMFxuXHRcdFx0XHRcdFx0ZmllbGQudHJfc3RhcnQgPSBcIjx0cj5cIjtcblx0XHRcdFx0XHRcdGZpZWxkLnRyX2VuZCA9IFwiPC90cj5cIjtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHByZV9maWVsZHMgPSBmaWVsZHMuc2xpY2UoMCwgaW5kZXgpO1xuXG5cdFx0XHRcdFx0cHJlX3dpZGVfZmllbGRzID0gcHJlX2ZpZWxkcy5maWx0ZXJQcm9wZXJ0eShcImlzX3dpZGVcIiwgdHJ1ZSk7XG5cblx0XHRcdFx0XHR0cl9zdGFydCA9IFwiXCI7XG5cblx0XHRcdFx0XHR0cl9lbmQgPSBcIlwiO1xuXG5cdFx0XHRcdFx0IyDlhYjorqHnrpflvZPliY3lrZfmrrXmmK/lkKbkuLrlrr3lrZfmrrVcblx0XHRcdFx0XHRiZWZvcmVfZmllbGQgPSBudWxsO1xuXHRcdFx0XHRcdGFmdGVyX2ZpZWxkID0gbnVsbDtcblxuXHRcdFx0XHRcdGlmIGluZGV4ID4gMFxuXHRcdFx0XHRcdFx0YmVmb3JlX2ZpZWxkID0gZmllbGRzW2luZGV4IC0gMV1cblxuXHRcdFx0XHRcdGlmIGluZGV4IDwgZmllbGRzLmxlbmd0aCAtIDFcblx0XHRcdFx0XHRcdGFmdGVyX2ZpZWxkID0gZmllbGRzW2luZGV4ICsgMV1cblxuXHRcdFx0XHRcdCMg5aaC5p6c5b2T5YmN5a2X5q615piv5YiG57uE44CB6KGo5qC844CB5a695a2X5q61XG5cdFx0XHRcdFx0aWYgZmllbGQudHlwZSA9PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PSAndGFibGUnXG5cdFx0XHRcdFx0XHR0ZF9jb2xzcGFuID0gNDtcblx0XHRcdFx0XHRlbHNlIGlmIGZpZWxkLmlzX3dpZGVcblx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSAzO1xuXHRcdFx0XHRcdGVsc2VcbiMg5YmN5ZCO6YO95piv5a695a2X5q61XG5cdFx0XHRcdFx0XHRpZiBiZWZvcmVfZmllbGQgJiYgYWZ0ZXJfZmllbGQgJiYgYmVmb3JlX2ZpZWxkLmlzX3dpZGUgJiYgYWZ0ZXJfZmllbGQuaXNfd2lkZVxuXHRcdFx0XHRcdFx0XHRmaWVsZC5pc193aWRlID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0dGRfY29sc3BhbiA9IDM7XG5cblx0XHRcdFx0XHRcdCMg5b2T5YmN5pivdHIg5LiL55qEIOesrOS4gOS4qnRkICYg5ZCO6L6555qE5a2X5q615piv5a695a2X5q61XG5cdFx0XHRcdFx0XHRpZiAocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT0gMCAmJiBhZnRlcl9maWVsZCAmJiBhZnRlcl9maWVsZC5pc193aWRlXG5cdFx0XHRcdFx0XHRcdGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR0ZF9jb2xzcGFuID0gMztcblxuXHRcdFx0XHRcdFx0IyDlvZPliY3mmK90ciDkuIvnmoQg56ys5LiA5LiqdGQgJiDlvZPliY3lrZfmrrXmmK/mnIDlkI7kuIDkuKrlrZfmrrVcblx0XHRcdFx0XHRcdGlmIChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PSAwICYmIGFmdGVyX2ZpZWxkID09IG51bGxcblx0XHRcdFx0XHRcdFx0ZmllbGQuaXNfd2lkZSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSAzO1xuXG5cdFx0XHRcdFx0ZmllbGQudGRfY29sc3BhbiA9IHRkX2NvbHNwYW47XG5cblxuXHRcdFx0XHRcdGlmIGluZGV4ID09IDBcbiMgdHJfc3RhcnQgPSBcIjx0cj5cIjsg55Sx5LqOVGVtcGxhdGXnmoTnvJbor5FidWfvvIzlr7zoh7Tmr4/mrKHnu5nkuIDkuKp0cuW8gOWni+aXtu+8jOS8muiHquWKqOihpeWktOaIluihpeWwvuOAguWboOatpOWcqOesrOS4gOihjOi/lOWbnuS4gOS4quepuuWtl+espuS4si5cblx0XHRcdFx0XHRcdHRyX3N0YXJ0ID0gXCI8dHI+XCI7XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0aWYgKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09IDAgfHwgZmllbGQuaXNfd2lkZVxuXHRcdFx0XHRcdFx0XHRpZiBmaWVsZC50eXBlID09ICd0YWJsZSdcblx0XHRcdFx0XHRcdFx0XHR0cl9zdGFydCA9IFwiPHRyIGNsYXNzID0gXFxcInRyLWNoaWxkLXRhYmxlXFxcIj5cIjtcblx0XHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRcdHRyX3N0YXJ0ID0gXCI8dHI+XCI7XG5cblx0XHRcdFx0XHRmaWVsZC50cl9zdGFydCA9IHRyX3N0YXJ0O1xuXG5cblx0XHRcdFx0XHRpZiBpbmRleCArIDEgPT0gZmllbGRzLmxlbmd0aCB8fCBmaWVsZC50eXBlID09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09ICd0YWJsZScgfHwgZmllbGQuaXNfd2lkZVxuXHRcdFx0XHRcdFx0dHJfZW5kID0gXCI8L3RyPlwiO1xuXG5cdFx0XHRcdFx0aWYgKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyICE9IDBcblx0XHRcdFx0XHRcdHRyX2VuZCA9IFwiPC90cj5cIjtcblxuXHRcdFx0XHRcdGZpZWxkLnRyX2VuZCA9IHRyX2VuZDtcblxuXHRcdFx0cmV0dXJuIGZpZWxkcztcblxuXHRzb3J0X2FwcHJvdmU6IChhcHByb3Zlcywgb3JkZXIpLT5cblx0XHRpZiAhYXBwcm92ZXNcblx0XHRcdHJldHVybiBbXVxuXG5cdFx0aWYgIWFwcHJvdmVzIGluc3RhbmNlb2YgQXJyYXlcblx0XHRcdHJldHVybiBbXVxuXHRcdGVsc2Vcblx0XHRcdGlmIG9yZGVyID09ICdkZXNjJ1xuXHRcdFx0XHRhcHByb3Zlcy5zb3J0IChwMSwgcDIpIC0+XG5cdFx0XHRcdFx0X3AxID0gMFxuXHRcdFx0XHRcdF9wMiA9IDBcblxuXHRcdFx0XHRcdGlmIHAxLmZpbmlzaF9kYXRlXG5cdFx0XHRcdFx0XHRfcDEgPSBwMS5maW5pc2hfZGF0ZS5nZXRUaW1lKClcblxuXHRcdFx0XHRcdGlmIHAyLmZpbmlzaF9kYXRlXG5cdFx0XHRcdFx0XHRfcDIgPSBwMi5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XG5cblx0XHRcdFx0XHRyZXR1cm4gX3AyIC0gX3AxXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGFwcHJvdmVzLnNvcnQgKHAxLCBwMikgLT5cblx0XHRcdFx0XHRfcDEgPSAwXG5cdFx0XHRcdFx0X3AyID0gMFxuXG5cdFx0XHRcdFx0aWYgcDEuZmluaXNoX2RhdGVcblx0XHRcdFx0XHRcdF9wMSA9IHAxLmZpbmlzaF9kYXRlLmdldFRpbWUoKVxuXG5cdFx0XHRcdFx0aWYgcDIuZmluaXNoX2RhdGVcblx0XHRcdFx0XHRcdF9wMiA9IHAyLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcblxuXHRcdFx0XHRcdHJldHVybiBfcDEgLSBfcDJcblx0XHRyZXR1cm4gYXBwcm92ZXNcblxuXHRfdDogKGtleSktPlxuXHRcdHJldHVybiBUQVBpMThuLl9fKGtleSlcblx0Z2V0RmllbGQ6IChjb2RlKS0+XG5cdFx0Zm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvblxuXHRcdGlmIGZvcm1fdmVyc2lvblxuXHRcdFx0cmV0dXJuIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSlcblxuXHRnZXRWYWx1ZTogKGNvZGUpLT5cblx0XHRpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZVxuXG5cdFx0Zm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvblxuXG5cdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXG5cdFx0dXRjT2Zmc2V0ID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnV0Y09mZnNldFxuXG5cdFx0dmFsdWVzID0gaW5zdGFuY2UudmFsdWVzIHx8IHt9XG5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdHZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKVxuXG5cdFx0cmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSB2YWx1ZXNbY29kZV0sIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSksIGxvY2FsZSwgdXRjT2Zmc2V0XG5cblx0Z2V0TGFiZWw6IChjb2RlKS0+XG5cdFx0Zm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvblxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbCBmb3JtX3ZlcnNpb24uZmllbGRzLCBjb2RlXG5cblx0Z2V0Q2ZDbGFzczogKGZpZWxkKS0+XG5cdFx0aWYgZmllbGQ/LnR5cGUgPT0gXCJpbnB1dFwiICYmIGZpZWxkPy5pc190ZXh0YXJlYVxuXHRcdFx0cmV0dXJuIFwiY2ZUZXh0YXJlYVwiXG5cblx0Z2V0VGFibGVUaGVhZDogKGZpZWxkKS0+XG5cdFx0cmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUaGVhZChmaWVsZCwgZmFsc2UpXG5cblx0Z2V0VGFibGVCb2R5OiAoZmllbGQpLT5cblxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdFx0aW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2Vcblx0XHRcdHZhbHVlcyA9IGluc3RhbmNlLnZhbHVlcyB8fCB7fVxuXHRcdGVsc2Vcblx0XHRcdHZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKVxuXG5cdFx0dGFibGVWYWx1ZSA9IHZhbHVlc1tmaWVsZC5jb2RlXTtcblx0XHRyZXR1cm4gU3RlZWRvc1RhYmxlLmdldFRib2R5KGZpZWxkLnNmaWVsZHMuZ2V0UHJvcGVydHkoXCJjb2RlXCIpLCBmaWVsZCwgdGFibGVWYWx1ZSwgZmFsc2UpXG5cblx0c2hvd0xhYmVsOiAoZmllbGQpLT5cblx0XHR0ZW1wbGF0ZURhdGEgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGFcblx0XHRpZiB0ZW1wbGF0ZURhdGEubGFiZWwgPT0gZmFsc2Vcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdHJldHVybiB0cnVlXG5cbiNcdGFmRmllbGRMYWJlbFRleHQ6IChvcCktPlxuI1x0XHRpZiAhVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhXG4jXHRcdFx0cmV0dXJuIEF1dG9Gb3JtLmdldExhYmVsRm9yRmllbGQob3AubmFtZSlcbiNcdFx0ZWxzZVxuI1x0XHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cbiNcdFx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgZm9ybV92ZXJzaW9uLmZpZWxkcywgb3A/Lmhhc2g/Lm5hbWVcblxuXHRpc09waW5pb25GaWVsZDogKGZpZWxkKS0+XG5cdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGQuZm9ybXVsYSlcblxuXHRpc09waW5pb25GaWVsZF9mcm9tX3N0cmluZzogKGZpZWxkX2Zvcm11bGEpLT5cblx0XHRyZXR1cm4gSW5zdGFuY2VTaWduVGV4dC5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKVxuXG5cdGluY2x1ZGVzT3BpbmlvbkZpZWxkOiAoZm9ybSwgZm9ybV92ZXJzaW9uKS0+XG5cblx0XHRmaWVsZF9mb3JtdWxhcyA9IG5ldyBBcnJheSgpO1xuXG5cdFx0ZmllbGRzID0gZGIuZm9ybV92ZXJzaW9ucy5maW5kT25lKHtfaWQ6IGZvcm1fdmVyc2lvbiwgZm9ybTogZm9ybX0pPy5maWVsZHMgfHwgW11cblxuXHRcdGZpZWxkcy5mb3JFYWNoIChmKS0+XG5cdFx0XHRpZiBmLnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0XHRjb25zb2xlLmxvZyAnaWdub3JlIG9waW5pb24gZmllbGQgaW4gdGFibGUnXG5cdFx0XHRlbHNlIGlmIGYudHlwZSA9PSAnc2VjdGlvbidcblx0XHRcdFx0Zj8uZmllbGRzPy5mb3JFYWNoIChmMSktPlxuXHRcdFx0XHRcdGZpZWxkX2Zvcm11bGFzLnB1c2ggZjEuZm9ybXVsYVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRmaWVsZF9mb3JtdWxhcy5wdXNoIGYuZm9ybXVsYVxuXG5cdFx0Xy5zb21lIGZpZWxkX2Zvcm11bGFzLCAoZmllbGRfZm9ybXVsYSktPlxuXHRcdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSlcblxuXHRnZXRPcGluaW9uRmllbGRTdGVwc05hbWU6IChmaWVsZF9mb3JtdWxhLCB0b3Bfa2V5d29yZHMpLT5cblxuXHRcdG9waW5pb25GaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiNcdFx0Y29uc29sZS5sb2coXCJmaWVsZF9mb3JtdWxhXCIsIGZpZWxkX2Zvcm11bGEpXG5cdFx0aWYgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKVxuXHRcdFx0aWYgZmllbGRfZm9ybXVsYVxuXG4jXHRcdFx0XHRmb28xID0gZmllbGRfZm9ybXVsYS5zcGxpdChcIixcIilcblx0XHRcdFx0Zm9vMSA9IGZpZWxkX2Zvcm11bGEuc3BsaXQoXCI7XCIpXG5cbiNcdFx0XHRcdGlmIHRvcF9rZXl3b3Jkc1xuI1x0XHRcdFx0XHRmb28xID0gZmllbGRfZm9ybXVsYS5zcGxpdChcIjtcIilcblxuXHRcdFx0XHRmb28xLmZvckVhY2ggKGZvbyktPlxuXHRcdFx0XHRcdGpzb25fZm9ybXVsYSA9IHt9XG5cblx0XHRcdFx0XHR0cnlcblx0XHRcdFx0XHRcdGpzb25fZm9ybXVsYSA9IGV2YWwoXCIoXCIgKyBmb28gKyBcIilcIilcblx0XHRcdFx0XHRjYXRjaFxuXHRcdFx0XHRcdFx0anNvbl9mb3JtdWxhID0ge31cblxuXHRcdFx0XHRcdGlmIGpzb25fZm9ybXVsYT8ueWlqaWFubGFuXG5cdFx0XHRcdFx0XHRzZiA9IHt9XG5cblx0XHRcdFx0XHRcdHNmLnN0ZXBOYW1lID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5zdGVwXG5cblx0XHRcdFx0XHRcdHNmLmltYWdlX3NpZ24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLmltYWdlX3NpZ24gfHwgZmFsc2VcblxuXHRcdFx0XHRcdFx0c2Yub25seV9jY19vcGluaW9uID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5vbmx5X2NjIHx8IGZhbHNlXG5cblx0XHRcdFx0XHRcdHNmLmRlZmF1bHRfZGVzY3JpcHRpb24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLmRlZmF1bHRcblxuXHRcdFx0XHRcdFx0c2Yub25seV9oYW5kbGVyID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5vbmx5X2hhbmRsZXJcblxuXHRcdFx0XHRcdFx0c2YudG9wX2tleXdvcmRzID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi50b3Bfa2V5d29yZHMgfHwgdG9wX2tleXdvcmRzXG5cblx0XHRcdFx0XHRcdG9waW5pb25GaWVsZHMucHVzaChzZik7XG5cblx0XHRcdFx0XHRlbHNlIGlmKGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7dHJhY2VzLlwiKSA+IC0xIHx8IGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgPiAtMSlcblxuXHRcdFx0XHRcdFx0c2YgPSB7b25seV9jY19vcGluaW9uOiBmYWxzZSwgaW1hZ2Vfc2lnbjogZmFsc2UsIHRvcF9rZXl3b3JkczogdG9wX2tleXdvcmRzfVxuXG5cdFx0XHRcdFx0XHRpZiBmb28uaW5kZXhPZihcIntzaWduYXR1cmUuXCIpID4gLTFcblx0XHRcdFx0XHRcdFx0c2YuaW1hZ2Vfc2lnbiA9IHRydWVcblx0XHRcdFx0XHRcdFx0Zm9vID0gZm9vLnJlcGxhY2UoXCJ7c2lnbmF0dXJlLlwiLFwiXCIpO1xuXG5cdFx0XHRcdFx0XHRzMSA9IGZvby5yZXBsYWNlKFwie1wiLFwiXCIpLnJlcGxhY2UoXCJ9XCIsXCJcIilcblx0XHRcdFx0XHRcdGlmIHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAxXG5cdFx0XHRcdFx0XHRcdHNmLnN0ZXBOYW1lID0gczEuc3BsaXQoXCIuXCIpWzFdXG5cdFx0XHRcdFx0XHRcdGlmIG9waW5pb25GaWVsZHMuZmlsdGVyUHJvcGVydHkoXCJzdGVwTmFtZVwiLHNmLnN0ZXBOYW1lKS5sZW5ndGggPiAwXG5cdFx0XHRcdFx0XHRcdFx0b3BpbmlvbkZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwic3RlcE5hbWVcIiwgc2Yuc3RlcE5hbWUpPy5vbmx5X2NjX29waW5pb24gPSB0cnVlXG5cdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRpZiBzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMlxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpWzJdPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICdjYydcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2Yub25seV9jY19vcGluaW9uID0gdHJ1ZVxuXHRcdFx0XHRcdFx0b3BpbmlvbkZpZWxkcy5wdXNoKHNmKTtcblxuXHRcdHJldHVybiBvcGluaW9uRmllbGRzXG5cblx0c2hvd0NDT3BpbmlvbjogKGZpZWxkKS0+XG5cdFx0aWYgZmllbGQuZm9ybXVsYT8uaW5kZXhPZihcInt0cmFjZXMuXCIpID4gLTEgfHwgZmllbGQuZm9ybXVsYT8uaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA+IC0xXG5cdFx0XHRzMSA9IGZpZWxkLmZvcm11bGEucmVwbGFjZShcIntzaWduYXR1cmUuXCIsXCJcIikucmVwbGFjZShcIntcIixcIlwiKS5yZXBsYWNlKFwifVwiLFwiXCIpXG5cdFx0XHRpZiBzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMlxuXHRcdFx0XHRpZiBzMS5zcGxpdChcIi5cIilbMl0/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ2NjJ1xuXHRcdFx0XHRcdHJldHVybiB0cnVlXG5cdFx0cmV0dXJuIGZhbHNlXG5cblx0bWFya0Rvd25Ub0h0bWw6IChtYXJrRG93blN0cmluZyktPlxuXHRcdGlmIG1hcmtEb3duU3RyaW5nXG5cdFx0XHRyZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xuXHRcdFx0cmVuZGVyZXIubGluayA9ICggaHJlZiwgdGl0bGUsIHRleHQgKSAtPlxuXHRcdFx0XHRyZXR1cm4gXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nI3tocmVmfScgdGl0bGU9JyN7dGl0bGV9Jz4je3RleHR9PC9hPlwiXG5cdFx0XHRyZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24obWFya0Rvd25TdHJpbmcsIHtyZW5kZXJlcjpyZW5kZXJlcn0pKVxuXG5cdGZfbGFiZWw6ICh0aGF0KS0+XG5cdFx0cmV0dXJuIHRoYXQubmFtZSB8fCB0aGF0LmNvZGVcblxuaWYgTWV0ZW9yLmlzU2VydmVyXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuc3RlZWRvc19mb3JtID0gLT5cblx0XHRyZXR1cm4gdGhpcy5mb3JtX3ZlcnNpb25cblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzU2VjdGlvbiA9IChjb2RlKS0+XG5cdFx0Zm9ybV92ZXJzaW9uID0gdGhpcy5mb3JtX3ZlcnNpb25cblx0XHRyZXR1cm4gZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKS50eXBlID09ICdzZWN0aW9uJ1xuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZG9jX3ZhbHVlcyA9IC0+XG5cdFx0aW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlO1xuXHRcdHJldHVybiBpbnN0YW5jZS52YWx1ZXM7XG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5hcHBsaWNhbnRDb250ZXh0ID0gLT5cblx0XHRpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2U7XG5cdFx0ZGF0YSA9IHtcblx0XHRcdG5hbWU6ICdpbnNfYXBwbGljYW50Jyxcblx0XHRcdGF0dHM6IHtuYW1lOiAnaW5zX2FwcGxpY2FudCcsIGlkOiAnaW5zX2FwcGxpY2FudCcsIGNsYXNzOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCd9LFxuXHRcdFx0dmFsdWU6IGluc3RhbmNlLmFwcGxpY2FudF9uYW1lXG5cdFx0fVxuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5zdGFuY2UgPSAtPlxuXHRcdHJldHVybiB0aGlzLmluc3RhbmNlXG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5maWVsZHMgPSAtPlxuXHRcdGZvcm1fdmVyc2lvbiA9IHRoaXMuZm9ybV92ZXJzaW9uXG5cdFx0aWYgZm9ybV92ZXJzaW9uXG5cdFx0XHRyZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZm9ybV90eXBlcyA9IC0+XG5cdFx0cmV0dXJuIFwiZGlzYWJsZWRcIlxuXG5cdFRlbXBsYXRlLnJlZ2lzdGVySGVscGVyIFwiYWZGaWVsZExhYmVsVGV4dFwiLCAob3ApLT5cblx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsIGZvcm1fdmVyc2lvbi5maWVsZHMsIG9wPy5oYXNoPy5uYW1lXG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5fdCA9IChrZXkpLT5cblx0XHRsb2NhbGUgPSB0aGlzLmxvY2FsZVxuXG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKVxuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5zX2F0dGFjaF9kb3dubG9hZF91cmwgPSAoX2lkLCBhYnNvbHV0ZSktPlxuXHRcdGlmIGFic29sdXRlXG5cdFx0XHRyZXR1cm4gTWV0ZW9yLmFic29sdXRlVXJsKFwiL2FwaS9maWxlcy9pbnN0YW5jZXMvI3tfaWR9P2Rvd25sb2FkPXRydWVcIik7XG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIFwiL2FwaS9maWxlcy9pbnN0YW5jZXMvI3tfaWR9P2Rvd25sb2FkPXRydWVcIjtcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLm9wdGlvbnMgPSAoZmllbGQpLT5cblx0XHRvcHRpb25zID0gZmllbGQ/Lm9wdGlvbnM/LnNwbGl0KFwiXFxuXCIpXG5cdFx0cmV2ID0gW11cblx0XHRvcHRpb25zPy5mb3JFYWNoIChpdGVtKS0+XG5cdFx0XHRyZXYucHVzaCh7bGFiZWw6IGl0ZW0sIHZhbHVlOiBpdGVtfSlcblxuXHRcdHJldHVybiByZXZcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmdldFBlcm1pc3Npb25zID0gKGNvZGUpLT5cblx0XHRpZiAhVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzPy5pbmNsdWRlcyhjb2RlKVxuXHRcdFx0cmV0dXJuIFwicmVhZG9ubHkgZGlzYWJsZWRcIlxuXHRcdHJldHVybiBcIlwiXG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLmV2ZW50cyA9XG5cdCdjaGFuZ2UgLmZvcm0tY29udHJvbCwuY2hlY2tib3ggaW5wdXQsLmFmLXJhZGlvLWdyb3VwIGlucHV0LC5hZi1jaGVja2JveC1ncm91cCBpbnB1dCc6IChldmVudCktPlxuXHRcdEluc3RhbmNlTWFuYWdlci5pbnN0YW5jZWZvcm1DaGFuZ2VFdmVudChldmVudClcblxuXHQndHlwZWFoZWFkOmNoYW5nZSAuZm9ybS1jb250cm9sJzogKGV2ZW50KSAtPlxuXHRcdEluc3RhbmNlTWFuYWdlci5pbnN0YW5jZWZvcm1DaGFuZ2VFdmVudChldmVudClcblxuXHQnY2xpY2sgLmNmVGV4dGFyZWEgYSc6IChldmVudCktPlxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0U3RlZWRvcy5vcGVuV2luZG93KGV2ZW50LnRhcmdldC5ocmVmKTtcblxuXG5JbnN0YW5jZWZvcm1UZW1wbGF0ZS5vbkNyZWF0ZWQgPSAoKS0+XG5cdGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdGlmICFpbnN0YW5jZVxuXHRcdHJldHVybjtcblxuXHR0ZW1wbGF0ZSA9IFRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShpbnN0YW5jZSk7XG5cblx0dHJ5XG5cdFx0Y29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRlbXBsYXRlLCB7aXNCb2R5OiB0cnVlfSk7XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmxvZyBcIkluc3RhbmNlIFRlbXBsYXRlIEVycm9yXCIsIGVcblx0XHRjb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoXCJcIiwge2lzQm9keTogdHJ1ZX0pO1xuXG5cblx0cmVuZGVyRnVuY3Rpb24gPSBldmFsKGNvbXBpbGVkKTtcblxuXHRpbnN0YW5jZVZpZXcgPSBuZXcgQmxhemUuVmlldyhcImN1c3RvbV9pbnN0YW5jZV90ZW1wbGF0ZVwiLCByZW5kZXJGdW5jdGlvbik7XG5cblx0aW5zdGFuY2VDdXN0b21UZW1wbGF0ZSA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShpbnN0YW5jZVZpZXcubmFtZSwgcmVuZGVyRnVuY3Rpb24pO1xuXG5cdFRlbXBsYXRlLmluc3RhbmNlX2N1c3RvbV90ZW1wbGF0ZSA9IGluc3RhbmNlQ3VzdG9tVGVtcGxhdGVcblxuXHRUZW1wbGF0ZS5pbnN0YW5jZV9jdXN0b21fdGVtcGxhdGUuaGVscGVycyBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzXG5cblxuXG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLm9uUmVuZGVyZWQgPSAoKS0+XG5cdCMgdCA9IHRoaXM7XG5cblx0I3Quc3Vic2NyaWJlIFwiaW5zdGFuY2VfZGF0YVwiLCBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIiksIC0+XG5cdCMgICAgVHJhY2tlci5hZnRlckZsdXNoIC0+XG5cdGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdGlmICFpbnN0YW5jZVxuXHRcdHJldHVybjtcblxuXHQjJChcIiNpbnNfYXBwbGljYW50XCIpLnNlbGVjdDIoKS52YWwoaW5zdGFuY2UuYXBwbGljYW50KS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0IyQoXCIjaW5zX2FwcGxpY2FudFwiKS52YWwoaW5zdGFuY2UuYXBwbGljYW50KTtcblx0JChcImlucHV0W25hbWU9J2luc19hcHBsaWNhbnQnXVwiKVswXT8uZGF0YXNldC52YWx1ZXMgPSBpbnN0YW5jZS5hcHBsaWNhbnQ7XG5cdCQoXCJpbnB1dFtuYW1lPSdpbnNfYXBwbGljYW50J11cIikudmFsKGluc3RhbmNlLmFwcGxpY2FudF9uYW1lKVxuXG5cblx0QXBwcm92ZU1hbmFnZXIuZXJyb3IgPSB7bmV4dFN0ZXBzOiAnJywgbmV4dFN0ZXBVc2VyczogJyd9O1xuXG5cdCMgaW5zdGFuY2UgZnJvbee7keWumuS6i+S7tlxuXHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdkcmFmdCdcblx0XHRJbnN0YW5jZUV2ZW50LmluaXRFdmVudHMoaW5zdGFuY2UuZmxvdyk7XG5cblx0aWYgIUFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKVxuXG5cdFx0Y3VycmVudEFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKTtcblxuXG5cdFx0aW5zdGFuY2VOdW1iZXJGaWVsZHMgPSAkKFwiW2RhdGEtZm9ybXVsYV1cIiwgJChcIiNpbnN0YW5jZWZvcm1cIikpXG5cblx0XHRpbnN0YW5jZU51bWJlckZpZWxkcy5lYWNoICgpLT5cblx0XHRcdHNjaGVtYUtleSA9IHRoaXMuZGF0YXNldC5zY2hlbWFLZXlcblx0XHRcdGVsZW1lbnQgPSAkKHRoaXMpXG5cdFx0XHRpZiAhJCh0aGlzKS52YWwoKSAmJiBzY2hlbWFLZXkgJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpXG5cdFx0XHRcdE1ldGVvci5jYWxsICdnZXRJbnN0YW5jZVZhbHVlcycsIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSwgKGVycm9yLCByZXN1bHQpLT5cblx0XHRcdFx0XHRpZiBlcnJvclxuXHRcdFx0XHRcdFx0dG9hc3RyLmVycm9yKGVycm9yLnJlYXNvbilcblxuXHRcdFx0XHRcdGlmICFyZXN1bHRbc2NoZW1hS2V5XVxuXHRcdFx0XHRcdFx0a2V5ID0gZWxlbWVudC5kYXRhKFwiZm9ybXVsYVwiKT8ucmVwbGFjZShcImF1dG9fbnVtYmVyKFwiLCBcIlwiKS5yZXBsYWNlKFwiKVwiLCBcIlwiKVxuXG5cdFx0XHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZSgvXFxcIi9nLCBcIlwiKS5yZXBsYWNlKC9cXCcvZywgXCJcIilcblxuXHRcdFx0XHRcdFx0aWYga2V5LmluZGV4T2YoXCJ7XCIpID4gLTFcblx0XHRcdFx0XHRcdFx0a2V5ID0ga2V5LnJlcGxhY2UoXCJ7XCIsXCJcIikucmVwbGFjZShcIn1cIixcIlwiKVxuXHRcdFx0XHRcdFx0XHRrZXkgPSBrZXkudHJpbSgpXG5cdFx0XHRcdFx0XHRcdGtleSA9IEF1dG9Gb3JtLmdldEZpZWxkVmFsdWUoa2V5LCAnaW5zdGFuY2Vmb3JtJylcblx0XHRcdFx0XHRcdEluc3RhbmNlTnVtYmVyUnVsZXMuaW5zdGFuY2VOdW1iZXJCdWlsZGVyIGVsZW1lbnQsIGtleVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGVsZW1lbnQ/LnZhbChyZXN1bHRbc2NoZW1hS2V5XSkudHJpZ2dlcihcImNoYW5nZVwiKVxuXG5cdFx0anVkZ2UgPSBjdXJyZW50QXBwcm92ZS5qdWRnZVxuXHRcdGN1cnJlbnRTdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG5cdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcblxuXHRcdGZvcm11bGFfZmllbGRzID0gRm9ybV9mb3JtdWxhLmdldEZvcm11bGFGaWVsZFZhcmlhYmxlKFwiRm9ybV9mb3JtdWxhLmZpZWxkX3ZhbHVlc1wiLCBmb3JtX3ZlcnNpb24uZmllbGRzKTtcblx0XHRGb3JtX2Zvcm11bGEucnVuKFwiXCIsIFwiXCIsIGZvcm11bGFfZmllbGRzLCBBdXRvRm9ybS5nZXRGb3JtVmFsdWVzKFwiaW5zdGFuY2Vmb3JtXCIpLmluc2VydERvYywgZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG5cdFx0I+WcqOatpOWkhOWIneWni+WMlnNlc3Npb24g5Lit55qEIGZvcm1fdmFsdWVzIOWPmOmHj++8jOeUqOS6juinpuWPkeS4i+S4gOatpeatpemqpOiuoeeul1xuXHRcdFNlc3Npb24uc2V0KFwiaW5zdGFuY2VfZm9ybV92YWx1ZXNcIiwge2luc3RhbmNlSWQ6IGluc3RhbmNlLl9pZCwgdmFsdWVzOiBBdXRvRm9ybS5nZXRGb3JtVmFsdWVzKFwiaW5zdGFuY2Vmb3JtXCIpLmluc2VydERvY30pO1xuXG5cblxuIiwiSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycyA9IHtcbiAgYXBwbGljYW50Q29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRhdGEsIHN0ZWVkb3NfaW5zdGFuY2U7XG4gICAgc3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGRhdGEgPSB7XG4gICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICBhdHRzOiB7XG4gICAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgaWQ6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgXCJjbGFzc1wiOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCdcbiAgICAgIH0sXG4gICAgICB2YWx1ZTogc3RlZWRvc19pbnN0YW5jZS5hcHBsaWNhbnRfbmFtZVxuICAgIH07XG4gICAgaWYgKCFzdGVlZG9zX2luc3RhbmNlIHx8IHN0ZWVkb3NfaW5zdGFuY2Uuc3RhdGUgIT09IFwiZHJhZnRcIikge1xuICAgICAgZGF0YS5hdHRzLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH0sXG4gIGluc3RhbmNlSWQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnaW5zdGFuY2Vmb3JtJztcbiAgfSxcbiAgZm9ybV90eXBlczogZnVuY3Rpb24oKSB7XG4gICAgaWYgKEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKSkge1xuICAgICAgcmV0dXJuICdkaXNhYmxlZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnbWV0aG9kJztcbiAgICB9XG4gIH0sXG4gIHN0ZWVkb3NfZm9ybTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBmb3JtX3ZlcnNpb247XG4gICAgfVxuICB9LFxuICBpbm5lcnN1YmZvcm1Db250ZXh0OiBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgZG9jX3ZhbHVlcztcbiAgICBkb2NfdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICAgIG9ialtcInRhYmxlVmFsdWVzXCJdID0gZG9jX3ZhbHVlcyA/IGRvY192YWx1ZXNbb2JqLmNvZGVdIDogW107XG4gICAgb2JqW1wiZm9ybUlkXCJdID0gXCJpbnN0YW5jZWZvcm1cIjtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuICBpbnN0YW5jZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0ZWVkb3NfaW5zdGFuY2U7XG4gICAgU2Vzc2lvbi5nZXQoXCJjaGFuZ2VfZGF0ZVwiKTtcbiAgICBpZiAoU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpKSB7XG4gICAgICBzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgICByZXR1cm4gc3RlZWRvc19pbnN0YW5jZTtcbiAgICB9XG4gIH0sXG4gIGVtcHR5OiBmdW5jdGlvbih2YWwpIHtcbiAgICBpZiAodmFsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgdW5lbXB0eTogZnVuY3Rpb24odmFsKSB7XG4gICAgaWYgKHZhbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIGVxdWFsczogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBhID09PSBiO1xuICB9LFxuICB1bmVxdWFsczogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiAhKGEgPT09IGIpO1xuICB9LFxuICBpbmNsdWRlczogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBiLnNwbGl0KCcsJykuaW5jbHVkZXMoYSk7XG4gIH0sXG4gIGluY2x1ZGU6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xuICB9LFxuICBmaWVsZHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xuICAgIH1cbiAgfSxcbiAgZm9ybWF0RGF0ZTogZnVuY3Rpb24oZGF0ZSwgb3B0aW9ucykge1xuICAgIGlmICghZGF0ZSkge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJykge1xuICAgICAgb3B0aW9ucyA9IEpTT04ucGFyc2Uob3B0aW9ucyk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5mb3JtYXQpIHtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIGZvcm1hdDogXCJZWVlZLU1NLUREIEhIOm1tXCJcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBtb21lbnQoZGF0ZSkuZm9ybWF0KG9wdGlvbnMuZm9ybWF0KTtcbiAgfSxcbiAgdHJhY2VzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZmxvdywgaW5zdGFuY2UsIGxvY2FsZSwgcmVmLCByZWYxLCByZWYyLCByZWYzLCBzdGVlZG9zRGF0YSwgc3RlcHMsIHRyYWNlcztcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBzdGVlZG9zRGF0YSA9IChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpKSAhPSBudWxsID8gKHJlZjEgPSByZWYudmlldykgIT0gbnVsbCA/IChyZWYyID0gcmVmMS50ZW1wbGF0ZSkgIT0gbnVsbCA/IHJlZjIuc3RlZWRvc0RhdGEgOiB2b2lkIDAgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICBpbnN0YW5jZSA9IHN0ZWVkb3NEYXRhICE9IG51bGwgPyBzdGVlZG9zRGF0YS5pbnN0YW5jZSA6IHZvaWQgMDtcbiAgICAgIGZsb3cgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0Rmxvd1ZlcnNpb24oaW5zdGFuY2UpO1xuICAgICAgbG9jYWxlID0gc3RlZWRvc0RhdGEgIT0gbnVsbCA/IHN0ZWVkb3NEYXRhLmxvY2FsZSA6IHZvaWQgMDtcbiAgICAgIGlmIChsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gJ3poLWNuJykge1xuICAgICAgICBsb2NhbGUgPSBcInpoLUNOXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgICBmbG93ID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRmxvd1ZlcnNpb24oKTtcbiAgICAgIGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIik7XG4gICAgfVxuICAgIGlmICghaW5zdGFuY2UgfHwgIWZsb3cpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgc3RlcHMgPSBmbG93LnN0ZXBzO1xuICAgIHRyYWNlcyA9IHt9O1xuICAgIGlmICgocmVmMyA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCkge1xuICAgICAgcmVmMy5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICAgIHZhciBhcHByb3ZlcywgcmVmNCwgc3RlcDtcbiAgICAgICAgc3RlcCA9IHN0ZXBzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdHJhY2Uuc3RlcCk7XG4gICAgICAgIGFwcHJvdmVzID0gW107XG4gICAgICAgIGlmICgocmVmNCA9IHRyYWNlLmFwcHJvdmVzKSAhPSBudWxsKSB7XG4gICAgICAgICAgcmVmNC5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgICAgIHZhciBqdWRnZV9uYW1lO1xuICAgICAgICAgICAgaWYgKHRyYWNlLmlzX2ZpbmlzaGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgIGlmIChhcHByb3ZlLmp1ZGdlID09PSAnYXBwcm92ZWQnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSBhcHByb3ZlZFwiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHByb3ZlLmp1ZGdlID09PSAncmVqZWN0ZWQnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSByZWplY3RlZFwiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHByb3ZlLmp1ZGdlID09PSAndGVybWluYXRlZCcpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHRlcm1pbmF0ZWRcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJ3JlYXNzaWduZWQnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSByZWFzc2lnbmVkXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICdyZWxvY2F0ZWQnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSByZWxvY2F0ZWRcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSBwZW5kaW5nXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFwcHJvdmVzLnB1c2goe1xuICAgICAgICAgICAgICBfaWQ6IGFwcHJvdmUuX2lkLFxuICAgICAgICAgICAgICBoYW5kbGVyOiBhcHByb3ZlLnVzZXIsXG4gICAgICAgICAgICAgIGhhbmRsZXJfbmFtZTogYXBwcm92ZS5oYW5kbGVyX25hbWUsXG4gICAgICAgICAgICAgIGhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWU6IGFwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSxcbiAgICAgICAgICAgICAgaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWU6IGFwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUsXG4gICAgICAgICAgICAgIGZpbmlzaF9kYXRlOiBhcHByb3ZlLmZpbmlzaF9kYXRlLFxuICAgICAgICAgICAgICBqdWRnZTogYXBwcm92ZS5qdWRnZSxcbiAgICAgICAgICAgICAganVkZ2VfbmFtZToganVkZ2VfbmFtZSxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGFwcHJvdmUuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgIGlzX2ZpbmlzaGVkOiBhcHByb3ZlLmlzX2ZpbmlzaGVkLFxuICAgICAgICAgICAgICB0eXBlOiBhcHByb3ZlLnR5cGUsXG4gICAgICAgICAgICAgIG9waW5pb25fZmllbGRzX2NvZGU6IGFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZSxcbiAgICAgICAgICAgICAgc2lnbl9maWVsZF9jb2RlOiBhcHByb3ZlLnNpZ25fZmllbGRfY29kZSxcbiAgICAgICAgICAgICAgaXNfcmVhZDogYXBwcm92ZS5pc19yZWFkLFxuICAgICAgICAgICAgICBzaWduX3Nob3c6IGFwcHJvdmUuc2lnbl9zaG93XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RlcCkge1xuICAgICAgICAgIGlmIChzdGVwLm5hbWUgaW4gdHJhY2VzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhY2VzW3N0ZXAubmFtZV0gPSB0cmFjZXNbc3RlcC5uYW1lXS5jb25jYXQoYXBwcm92ZXMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhY2VzW3N0ZXAubmFtZV0gPSBhcHByb3ZlcztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdHJhY2VzO1xuICB9LFxuICBkb2NfdmFsdWVzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICB9LFxuICBpbnN0YW5jZV9ib3hfc3R5bGU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBib3gsIGlucywganVkZ2U7XG4gICAgYm94ID0gU2Vzc2lvbi5nZXQoXCJib3hcIik7XG4gICAgaWYgKGJveCA9PT0gXCJpbmJveFwiIHx8IGJveCA9PT0gXCJkcmFmdFwiKSB7XG4gICAgICBqdWRnZSA9IFNlc3Npb24uZ2V0KFwianVkZ2VcIik7XG4gICAgICBpZiAoanVkZ2UpIHtcbiAgICAgICAgaWYgKGp1ZGdlID09PSBcImFwcHJvdmVkXCIpIHtcbiAgICAgICAgICByZXR1cm4gXCJib3gtc3VjY2Vzc1wiO1xuICAgICAgICB9IGVsc2UgaWYgKGp1ZGdlID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgICAgICByZXR1cm4gXCJib3gtZGFuZ2VyXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgaWYgKGlucyAmJiBpbnMuZmluYWxfZGVjaXNpb24pIHtcbiAgICAgIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgICByZXR1cm4gXCJib3gtc3VjY2Vzc1wiO1xuICAgICAgfSBlbHNlIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICByZXR1cm4gXCJib3gtZGFuZ2VyXCI7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICB0YWJsZV9maWVsZHM6IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgdmFyIGZpZWxkcywgZm9ybV92ZXJzaW9uO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xuICAgIH1cbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICBmaWVsZHMgPSBfLmNsb25lKGZvcm1fdmVyc2lvbi5maWVsZHMpO1xuICAgICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQsIGluZGV4KSB7XG4gICAgICAgIHZhciBhZnRlcl9maWVsZCwgYmVmb3JlX2ZpZWxkLCBwcmVfZmllbGRzLCBwcmVfd2lkZV9maWVsZHMsIHRkX2NvbHNwYW4sIHRyX2VuZCwgdHJfc3RhcnQ7XG4gICAgICAgIGZpZWxkLnRyX3N0YXJ0ID0gXCJcIjtcbiAgICAgICAgZmllbGQudHJfZW5kID0gXCJcIjtcbiAgICAgICAgdGRfY29sc3BhbiA9IDE7XG4gICAgICAgIGlmICgodHlwZW9mIENvcmVGb3JtICE9PSBcInVuZGVmaW5lZFwiICYmIENvcmVGb3JtICE9PSBudWxsID8gQ29yZUZvcm0ucGFnZVRpdGxlRmllbGROYW1lIDogdm9pZCAwKSA9PT0gZmllbGQuY29kZSkge1xuICAgICAgICAgIGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWVsZC5mb3JtdWxhICYmIGZpZWxkLnR5cGUgIT09ICdvZGF0YScpIHtcbiAgICAgICAgICBmaWVsZC5wZXJtaXNzaW9uID0gXCJyZWFkb25seVwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICAgIGZpZWxkLnRkX2NvbHNwYW4gPSA0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWVsZC50ZF9jb2xzcGFuID0gMztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGluZGV4ICE9PSAwKSB7XG4gICAgICAgICAgICBmaWVsZC50cl9zdGFydCA9IFwiPHRyPlwiO1xuICAgICAgICAgICAgcmV0dXJuIGZpZWxkLnRyX2VuZCA9IFwiPC90cj5cIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJlX2ZpZWxkcyA9IGZpZWxkcy5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgICAgcHJlX3dpZGVfZmllbGRzID0gcHJlX2ZpZWxkcy5maWx0ZXJQcm9wZXJ0eShcImlzX3dpZGVcIiwgdHJ1ZSk7XG4gICAgICAgICAgdHJfc3RhcnQgPSBcIlwiO1xuICAgICAgICAgIHRyX2VuZCA9IFwiXCI7XG4gICAgICAgICAgYmVmb3JlX2ZpZWxkID0gbnVsbDtcbiAgICAgICAgICBhZnRlcl9maWVsZCA9IG51bGw7XG4gICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgYmVmb3JlX2ZpZWxkID0gZmllbGRzW2luZGV4IC0gMV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbmRleCA8IGZpZWxkcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBhZnRlcl9maWVsZCA9IGZpZWxkc1tpbmRleCArIDFdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICAgIHRkX2NvbHNwYW4gPSA0O1xuICAgICAgICAgIH0gZWxzZSBpZiAoZmllbGQuaXNfd2lkZSkge1xuICAgICAgICAgICAgdGRfY29sc3BhbiA9IDM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChiZWZvcmVfZmllbGQgJiYgYWZ0ZXJfZmllbGQgJiYgYmVmb3JlX2ZpZWxkLmlzX3dpZGUgJiYgYWZ0ZXJfZmllbGQuaXNfd2lkZSkge1xuICAgICAgICAgICAgICBmaWVsZC5pc193aWRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGRfY29sc3BhbiA9IDM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09PSAwICYmIGFmdGVyX2ZpZWxkICYmIGFmdGVyX2ZpZWxkLmlzX3dpZGUpIHtcbiAgICAgICAgICAgICAgZmllbGQuaXNfd2lkZSA9IHRydWU7XG4gICAgICAgICAgICAgIHRkX2NvbHNwYW4gPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PT0gMCAmJiBhZnRlcl9maWVsZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICBmaWVsZC5pc193aWRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGRfY29sc3BhbiA9IDM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpZWxkLnRkX2NvbHNwYW4gPSB0ZF9jb2xzcGFuO1xuICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgdHJfc3RhcnQgPSBcIjx0cj5cIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PT0gMCB8fCBmaWVsZC5pc193aWRlKSB7XG4gICAgICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICAgICAgdHJfc3RhcnQgPSBcIjx0ciBjbGFzcyA9IFxcXCJ0ci1jaGlsZC10YWJsZVxcXCI+XCI7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJfc3RhcnQgPSBcIjx0cj5cIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmaWVsZC50cl9zdGFydCA9IHRyX3N0YXJ0O1xuICAgICAgICAgIGlmIChpbmRleCArIDEgPT09IGZpZWxkcy5sZW5ndGggfHwgZmllbGQudHlwZSA9PT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT09ICd0YWJsZScgfHwgZmllbGQuaXNfd2lkZSkge1xuICAgICAgICAgICAgdHJfZW5kID0gXCI8L3RyPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyICE9PSAwKSB7XG4gICAgICAgICAgICB0cl9lbmQgPSBcIjwvdHI+XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmaWVsZC50cl9lbmQgPSB0cl9lbmQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZpZWxkcztcbiAgICB9XG4gIH0sXG4gIHNvcnRfYXBwcm92ZTogZnVuY3Rpb24oYXBwcm92ZXMsIG9yZGVyKSB7XG4gICAgaWYgKCFhcHByb3Zlcykge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBpZiAoIWFwcHJvdmVzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG9yZGVyID09PSAnZGVzYycpIHtcbiAgICAgICAgYXBwcm92ZXMuc29ydChmdW5jdGlvbihwMSwgcDIpIHtcbiAgICAgICAgICB2YXIgX3AxLCBfcDI7XG4gICAgICAgICAgX3AxID0gMDtcbiAgICAgICAgICBfcDIgPSAwO1xuICAgICAgICAgIGlmIChwMS5maW5pc2hfZGF0ZSkge1xuICAgICAgICAgICAgX3AxID0gcDEuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocDIuZmluaXNoX2RhdGUpIHtcbiAgICAgICAgICAgIF9wMiA9IHAyLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF9wMiAtIF9wMTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcHByb3Zlcy5zb3J0KGZ1bmN0aW9uKHAxLCBwMikge1xuICAgICAgICAgIHZhciBfcDEsIF9wMjtcbiAgICAgICAgICBfcDEgPSAwO1xuICAgICAgICAgIF9wMiA9IDA7XG4gICAgICAgICAgaWYgKHAxLmZpbmlzaF9kYXRlKSB7XG4gICAgICAgICAgICBfcDEgPSBwMS5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwMi5maW5pc2hfZGF0ZSkge1xuICAgICAgICAgICAgX3AyID0gcDIuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3AxIC0gX3AyO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFwcHJvdmVzO1xuICB9LFxuICBfdDogZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5KTtcbiAgfSxcbiAgZ2V0RmllbGQ6IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb247XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSk7XG4gICAgfVxuICB9LFxuICBnZXRWYWx1ZTogZnVuY3Rpb24oY29kZSkge1xuICAgIHZhciBmb3JtX3ZlcnNpb24sIGluc3RhbmNlLCBsb2NhbGUsIHV0Y09mZnNldCwgdmFsdWVzO1xuICAgIGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlO1xuICAgIGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb247XG4gICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICB1dGNPZmZzZXQgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEudXRjT2Zmc2V0O1xuICAgIHZhbHVlcyA9IGluc3RhbmNlLnZhbHVlcyB8fCB7fTtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICB2YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gICAgfVxuICAgIHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VmFsdWUodmFsdWVzW2NvZGVdLCBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpLCBsb2NhbGUsIHV0Y09mZnNldCk7XG4gIH0sXG4gIGdldExhYmVsOiBmdW5jdGlvbihjb2RlKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uO1xuICAgIHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwoZm9ybV92ZXJzaW9uLmZpZWxkcywgY29kZSk7XG4gIH0sXG4gIGdldENmQ2xhc3M6IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgaWYgKChmaWVsZCAhPSBudWxsID8gZmllbGQudHlwZSA6IHZvaWQgMCkgPT09IFwiaW5wdXRcIiAmJiAoZmllbGQgIT0gbnVsbCA/IGZpZWxkLmlzX3RleHRhcmVhIDogdm9pZCAwKSkge1xuICAgICAgcmV0dXJuIFwiY2ZUZXh0YXJlYVwiO1xuICAgIH1cbiAgfSxcbiAgZ2V0VGFibGVUaGVhZDogZnVuY3Rpb24oZmllbGQpIHtcbiAgICByZXR1cm4gU3RlZWRvc1RhYmxlLmdldFRoZWFkKGZpZWxkLCBmYWxzZSk7XG4gIH0sXG4gIGdldFRhYmxlQm9keTogZnVuY3Rpb24oZmllbGQpIHtcbiAgICB2YXIgaW5zdGFuY2UsIHRhYmxlVmFsdWUsIHZhbHVlcztcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZTtcbiAgICAgIHZhbHVlcyA9IGluc3RhbmNlLnZhbHVlcyB8fCB7fTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICAgIH1cbiAgICB0YWJsZVZhbHVlID0gdmFsdWVzW2ZpZWxkLmNvZGVdO1xuICAgIHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VGJvZHkoZmllbGQuc2ZpZWxkcy5nZXRQcm9wZXJ0eShcImNvZGVcIiksIGZpZWxkLCB0YWJsZVZhbHVlLCBmYWxzZSk7XG4gIH0sXG4gIHNob3dMYWJlbDogZnVuY3Rpb24oZmllbGQpIHtcbiAgICB2YXIgdGVtcGxhdGVEYXRhO1xuICAgIHRlbXBsYXRlRGF0YSA9IFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YTtcbiAgICBpZiAodGVtcGxhdGVEYXRhLmxhYmVsID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgaXNPcGluaW9uRmllbGQ6IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGQuZm9ybXVsYSk7XG4gIH0sXG4gIGlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nOiBmdW5jdGlvbihmaWVsZF9mb3JtdWxhKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlU2lnblRleHQuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSk7XG4gIH0sXG4gIGluY2x1ZGVzT3BpbmlvbkZpZWxkOiBmdW5jdGlvbihmb3JtLCBmb3JtX3ZlcnNpb24pIHtcbiAgICB2YXIgZmllbGRfZm9ybXVsYXMsIGZpZWxkcywgcmVmO1xuICAgIGZpZWxkX2Zvcm11bGFzID0gbmV3IEFycmF5KCk7XG4gICAgZmllbGRzID0gKChyZWYgPSBkYi5mb3JtX3ZlcnNpb25zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmb3JtX3ZlcnNpb24sXG4gICAgICBmb3JtOiBmb3JtXG4gICAgfSkpICE9IG51bGwgPyByZWYuZmllbGRzIDogdm9pZCAwKSB8fCBbXTtcbiAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICB2YXIgcmVmMTtcbiAgICAgIGlmIChmLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZScpO1xuICAgICAgfSBlbHNlIGlmIChmLnR5cGUgPT09ICdzZWN0aW9uJykge1xuICAgICAgICByZXR1cm4gZiAhPSBudWxsID8gKHJlZjEgPSBmLmZpZWxkcykgIT0gbnVsbCA/IHJlZjEuZm9yRWFjaChmdW5jdGlvbihmMSkge1xuICAgICAgICAgIHJldHVybiBmaWVsZF9mb3JtdWxhcy5wdXNoKGYxLmZvcm11bGEpO1xuICAgICAgICB9KSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmaWVsZF9mb3JtdWxhcy5wdXNoKGYuZm9ybXVsYSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIF8uc29tZShmaWVsZF9mb3JtdWxhcywgZnVuY3Rpb24oZmllbGRfZm9ybXVsYSkge1xuICAgICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSk7XG4gICAgfSk7XG4gIH0sXG4gIGdldE9waW5pb25GaWVsZFN0ZXBzTmFtZTogZnVuY3Rpb24oZmllbGRfZm9ybXVsYSwgdG9wX2tleXdvcmRzKSB7XG4gICAgdmFyIGZvbzEsIG9waW5pb25GaWVsZHM7XG4gICAgb3BpbmlvbkZpZWxkcyA9IG5ldyBBcnJheSgpO1xuICAgIGlmIChJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpKSB7XG4gICAgICBpZiAoZmllbGRfZm9ybXVsYSkge1xuICAgICAgICBmb28xID0gZmllbGRfZm9ybXVsYS5zcGxpdChcIjtcIik7XG4gICAgICAgIGZvbzEuZm9yRWFjaChmdW5jdGlvbihmb28pIHtcbiAgICAgICAgICB2YXIganNvbl9mb3JtdWxhLCByZWYsIHJlZjEsIHMxLCBzZjtcbiAgICAgICAgICBqc29uX2Zvcm11bGEgPSB7fTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAganNvbl9mb3JtdWxhID0gZXZhbChcIihcIiArIGZvbyArIFwiKVwiKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcjEpIHtcbiAgICAgICAgICAgIGpzb25fZm9ybXVsYSA9IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoanNvbl9mb3JtdWxhICE9IG51bGwgPyBqc29uX2Zvcm11bGEueWlqaWFubGFuIDogdm9pZCAwKSB7XG4gICAgICAgICAgICBzZiA9IHt9O1xuICAgICAgICAgICAgc2Yuc3RlcE5hbWUgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLnN0ZXA7XG4gICAgICAgICAgICBzZi5pbWFnZV9zaWduID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5pbWFnZV9zaWduIHx8IGZhbHNlO1xuICAgICAgICAgICAgc2Yub25seV9jY19vcGluaW9uID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5vbmx5X2NjIHx8IGZhbHNlO1xuICAgICAgICAgICAgc2YuZGVmYXVsdF9kZXNjcmlwdGlvbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW5bXCJkZWZhdWx0XCJdO1xuICAgICAgICAgICAgc2Yub25seV9oYW5kbGVyID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5vbmx5X2hhbmRsZXI7XG4gICAgICAgICAgICBzZi50b3Bfa2V5d29yZHMgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLnRvcF9rZXl3b3JkcyB8fCB0b3Bfa2V5d29yZHM7XG4gICAgICAgICAgICByZXR1cm4gb3BpbmlvbkZpZWxkcy5wdXNoKHNmKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7dHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSB8fCAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpIDogdm9pZCAwKSA+IC0xKSB7XG4gICAgICAgICAgICBzZiA9IHtcbiAgICAgICAgICAgICAgb25seV9jY19vcGluaW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgaW1hZ2Vfc2lnbjogZmFsc2UsXG4gICAgICAgICAgICAgIHRvcF9rZXl3b3JkczogdG9wX2tleXdvcmRzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGZvby5pbmRleE9mKFwie3NpZ25hdHVyZS5cIikgPiAtMSkge1xuICAgICAgICAgICAgICBzZi5pbWFnZV9zaWduID0gdHJ1ZTtcbiAgICAgICAgICAgICAgZm9vID0gZm9vLnJlcGxhY2UoXCJ7c2lnbmF0dXJlLlwiLCBcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMxID0gZm9vLnJlcGxhY2UoXCJ7XCIsIFwiXCIpLnJlcGxhY2UoXCJ9XCIsIFwiXCIpO1xuICAgICAgICAgICAgaWYgKHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgIHNmLnN0ZXBOYW1lID0gczEuc3BsaXQoXCIuXCIpWzFdO1xuICAgICAgICAgICAgICBpZiAob3BpbmlvbkZpZWxkcy5maWx0ZXJQcm9wZXJ0eShcInN0ZXBOYW1lXCIsIHNmLnN0ZXBOYW1lKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKChyZWYgPSBvcGluaW9uRmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJzdGVwTmFtZVwiLCBzZi5zdGVwTmFtZSkpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIHJlZi5vbmx5X2NjX29waW5pb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgICAgICAgIGlmICgoKHJlZjEgPSBzMS5zcGxpdChcIi5cIilbMl0pICE9IG51bGwgPyByZWYxLnRvTG9jYWxlTG93ZXJDYXNlKCkgOiB2b2lkIDApID09PSAnY2MnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNmLm9ubHlfY2Nfb3BpbmlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3BpbmlvbkZpZWxkcy5wdXNoKHNmKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3BpbmlvbkZpZWxkcztcbiAgfSxcbiAgc2hvd0NDT3BpbmlvbjogZnVuY3Rpb24oZmllbGQpIHtcbiAgICB2YXIgcmVmLCByZWYxLCByZWYyLCBzMTtcbiAgICBpZiAoKChyZWYgPSBmaWVsZC5mb3JtdWxhKSAhPSBudWxsID8gcmVmLmluZGV4T2YoXCJ7dHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSB8fCAoKHJlZjEgPSBmaWVsZC5mb3JtdWxhKSAhPSBudWxsID8gcmVmMS5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpIDogdm9pZCAwKSA+IC0xKSB7XG4gICAgICBzMSA9IGZpZWxkLmZvcm11bGEucmVwbGFjZShcIntzaWduYXR1cmUuXCIsIFwiXCIpLnJlcGxhY2UoXCJ7XCIsIFwiXCIpLnJlcGxhY2UoXCJ9XCIsIFwiXCIpO1xuICAgICAgaWYgKHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAyKSB7XG4gICAgICAgIGlmICgoKHJlZjIgPSBzMS5zcGxpdChcIi5cIilbMl0pICE9IG51bGwgPyByZWYyLnRvTG9jYWxlTG93ZXJDYXNlKCkgOiB2b2lkIDApID09PSAnY2MnKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBtYXJrRG93blRvSHRtbDogZnVuY3Rpb24obWFya0Rvd25TdHJpbmcpIHtcbiAgICB2YXIgcmVuZGVyZXI7XG4gICAgaWYgKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgICByZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xuICAgICAgcmVuZGVyZXIubGluayA9IGZ1bmN0aW9uKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdcIiArIGhyZWYgKyBcIicgdGl0bGU9J1wiICsgdGl0bGUgKyBcIic+XCIgKyB0ZXh0ICsgXCI8L2E+XCI7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKG1hcmtEb3duU3RyaW5nLCB7XG4gICAgICAgIHJlbmRlcmVyOiByZW5kZXJlclxuICAgICAgfSkpO1xuICAgIH1cbiAgfSxcbiAgZl9sYWJlbDogZnVuY3Rpb24odGhhdCkge1xuICAgIHJldHVybiB0aGF0Lm5hbWUgfHwgdGhhdC5jb2RlO1xuICB9XG59O1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuc3RlZWRvc19mb3JtID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9ybV92ZXJzaW9uO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzU2VjdGlvbiA9IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IHRoaXMuZm9ybV92ZXJzaW9uO1xuICAgIHJldHVybiBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpLnR5cGUgPT09ICdzZWN0aW9uJztcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5kb2NfdmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluc3RhbmNlO1xuICAgIGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZTtcbiAgICByZXR1cm4gaW5zdGFuY2UudmFsdWVzO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmFwcGxpY2FudENvbnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGF0YSwgaW5zdGFuY2U7XG4gICAgaW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlO1xuICAgIHJldHVybiBkYXRhID0ge1xuICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgYXR0czoge1xuICAgICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIGlkOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIFwiY2xhc3NcIjogJ3NlbGVjdFVzZXIgZm9ybS1jb250cm9sIGluc19hcHBsaWNhbnQnXG4gICAgICB9LFxuICAgICAgdmFsdWU6IGluc3RhbmNlLmFwcGxpY2FudF9uYW1lXG4gICAgfTtcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnN0YW5jZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmZpZWxkcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gdGhpcy5mb3JtX3ZlcnNpb247XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcbiAgICB9XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZm9ybV90eXBlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcImRpc2FibGVkXCI7XG4gIH07XG4gIFRlbXBsYXRlLnJlZ2lzdGVySGVscGVyKFwiYWZGaWVsZExhYmVsVGV4dFwiLCBmdW5jdGlvbihvcCkge1xuICAgIHZhciBmb3JtX3ZlcnNpb24sIHJlZjtcbiAgICBmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uO1xuICAgIHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwoZm9ybV92ZXJzaW9uLmZpZWxkcywgb3AgIT0gbnVsbCA/IChyZWYgPSBvcC5oYXNoKSAhPSBudWxsID8gcmVmLm5hbWUgOiB2b2lkIDAgOiB2b2lkIDApO1xuICB9KTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5fdCA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBsb2NhbGU7XG4gICAgbG9jYWxlID0gdGhpcy5sb2NhbGU7XG4gICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKTtcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnNfYXR0YWNoX2Rvd25sb2FkX3VybCA9IGZ1bmN0aW9uKF9pZCwgYWJzb2x1dGUpIHtcbiAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgIHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy9cIiArIF9pZCArIFwiP2Rvd25sb2FkPXRydWVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIi9hcGkvZmlsZXMvaW5zdGFuY2VzL1wiICsgX2lkICsgXCI/ZG93bmxvYWQ9dHJ1ZVwiO1xuICAgIH1cbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5vcHRpb25zID0gZnVuY3Rpb24oZmllbGQpIHtcbiAgICB2YXIgb3B0aW9ucywgcmVmLCByZXY7XG4gICAgb3B0aW9ucyA9IGZpZWxkICE9IG51bGwgPyAocmVmID0gZmllbGQub3B0aW9ucykgIT0gbnVsbCA/IHJlZi5zcGxpdChcIlxcblwiKSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICByZXYgPSBbXTtcbiAgICBpZiAob3B0aW9ucyAhPSBudWxsKSB7XG4gICAgICBvcHRpb25zLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gcmV2LnB1c2goe1xuICAgICAgICAgIGxhYmVsOiBpdGVtLFxuICAgICAgICAgIHZhbHVlOiBpdGVtXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXY7XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0UGVybWlzc2lvbnMgPSBmdW5jdGlvbihjb2RlKSB7XG4gICAgdmFyIHJlZjtcbiAgICBpZiAoISgocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKGNvZGUpIDogdm9pZCAwKSkge1xuICAgICAgcmV0dXJuIFwicmVhZG9ubHkgZGlzYWJsZWRcIjtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG4gIH07XG59XG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLmV2ZW50cyA9IHtcbiAgJ2NoYW5nZSAuZm9ybS1jb250cm9sLC5jaGVja2JveCBpbnB1dCwuYWYtcmFkaW8tZ3JvdXAgaW5wdXQsLmFmLWNoZWNrYm94LWdyb3VwIGlucHV0JzogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gSW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KTtcbiAgfSxcbiAgJ3R5cGVhaGVhZDpjaGFuZ2UgLmZvcm0tY29udHJvbCc6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgcmV0dXJuIEluc3RhbmNlTWFuYWdlci5pbnN0YW5jZWZvcm1DaGFuZ2VFdmVudChldmVudCk7XG4gIH0sXG4gICdjbGljayAuY2ZUZXh0YXJlYSBhJzogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJldHVybiBTdGVlZG9zLm9wZW5XaW5kb3coZXZlbnQudGFyZ2V0LmhyZWYpO1xuICB9XG59O1xuXG5JbnN0YW5jZWZvcm1UZW1wbGF0ZS5vbkNyZWF0ZWQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNvbXBpbGVkLCBlLCBpbnN0YW5jZSwgaW5zdGFuY2VDdXN0b21UZW1wbGF0ZSwgaW5zdGFuY2VWaWV3LCByZW5kZXJGdW5jdGlvbiwgdGVtcGxhdGU7XG4gIGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gIGlmICghaW5zdGFuY2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGVtcGxhdGUgPSBUZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUoaW5zdGFuY2UpO1xuICB0cnkge1xuICAgIGNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0ZW1wbGF0ZSwge1xuICAgICAgaXNCb2R5OiB0cnVlXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yMSkge1xuICAgIGUgPSBlcnJvcjE7XG4gICAgY29uc29sZS5sb2coXCJJbnN0YW5jZSBUZW1wbGF0ZSBFcnJvclwiLCBlKTtcbiAgICBjb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoXCJcIiwge1xuICAgICAgaXNCb2R5OiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgcmVuZGVyRnVuY3Rpb24gPSBldmFsKGNvbXBpbGVkKTtcbiAgaW5zdGFuY2VWaWV3ID0gbmV3IEJsYXplLlZpZXcoXCJjdXN0b21faW5zdGFuY2VfdGVtcGxhdGVcIiwgcmVuZGVyRnVuY3Rpb24pO1xuICBpbnN0YW5jZUN1c3RvbVRlbXBsYXRlID0gbmV3IEJsYXplLlRlbXBsYXRlKGluc3RhbmNlVmlldy5uYW1lLCByZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmluc3RhbmNlX2N1c3RvbV90ZW1wbGF0ZSA9IGluc3RhbmNlQ3VzdG9tVGVtcGxhdGU7XG4gIHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZV9jdXN0b21fdGVtcGxhdGUuaGVscGVycyhJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzKTtcbn07XG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLm9uUmVuZGVyZWQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGN1cnJlbnRBcHByb3ZlLCBjdXJyZW50U3RlcCwgZm9ybV92ZXJzaW9uLCBmb3JtdWxhX2ZpZWxkcywgaW5zdGFuY2UsIGluc3RhbmNlTnVtYmVyRmllbGRzLCBqdWRnZSwgcmVmO1xuICBpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICBpZiAoIWluc3RhbmNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICgocmVmID0gJChcImlucHV0W25hbWU9J2luc19hcHBsaWNhbnQnXVwiKVswXSkgIT0gbnVsbCkge1xuICAgIHJlZi5kYXRhc2V0LnZhbHVlcyA9IGluc3RhbmNlLmFwcGxpY2FudDtcbiAgfVxuICAkKFwiaW5wdXRbbmFtZT0naW5zX2FwcGxpY2FudCddXCIpLnZhbChpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZSk7XG4gIEFwcHJvdmVNYW5hZ2VyLmVycm9yID0ge1xuICAgIG5leHRTdGVwczogJycsXG4gICAgbmV4dFN0ZXBVc2VyczogJydcbiAgfTtcbiAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnZHJhZnQnKSB7XG4gICAgSW5zdGFuY2VFdmVudC5pbml0RXZlbnRzKGluc3RhbmNlLmZsb3cpO1xuICB9XG4gIGlmICghQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpKSB7XG4gICAgY3VycmVudEFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKTtcbiAgICBpbnN0YW5jZU51bWJlckZpZWxkcyA9ICQoXCJbZGF0YS1mb3JtdWxhXVwiLCAkKFwiI2luc3RhbmNlZm9ybVwiKSk7XG4gICAgaW5zdGFuY2VOdW1iZXJGaWVsZHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlbGVtZW50LCBzY2hlbWFLZXk7XG4gICAgICBzY2hlbWFLZXkgPSB0aGlzLmRhdGFzZXQuc2NoZW1hS2V5O1xuICAgICAgZWxlbWVudCA9ICQodGhpcyk7XG4gICAgICBpZiAoISQodGhpcykudmFsKCkgJiYgc2NoZW1hS2V5ICYmIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSkge1xuICAgICAgICByZXR1cm4gTWV0ZW9yLmNhbGwoJ2dldEluc3RhbmNlVmFsdWVzJywgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpLCBmdW5jdGlvbihlcnJvciwgcmVzdWx0KSB7XG4gICAgICAgICAgdmFyIGtleSwgcmVmMTtcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRvYXN0ci5lcnJvcihlcnJvci5yZWFzb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXJlc3VsdFtzY2hlbWFLZXldKSB7XG4gICAgICAgICAgICBrZXkgPSAocmVmMSA9IGVsZW1lbnQuZGF0YShcImZvcm11bGFcIikpICE9IG51bGwgPyByZWYxLnJlcGxhY2UoXCJhdXRvX251bWJlcihcIiwgXCJcIikucmVwbGFjZShcIilcIiwgXCJcIikgOiB2b2lkIDA7XG4gICAgICAgICAgICBrZXkgPSBrZXkucmVwbGFjZSgvXFxcIi9nLCBcIlwiKS5yZXBsYWNlKC9cXCcvZywgXCJcIik7XG4gICAgICAgICAgICBpZiAoa2V5LmluZGV4T2YoXCJ7XCIpID4gLTEpIHtcbiAgICAgICAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UoXCJ7XCIsIFwiXCIpLnJlcGxhY2UoXCJ9XCIsIFwiXCIpO1xuICAgICAgICAgICAgICBrZXkgPSBrZXkudHJpbSgpO1xuICAgICAgICAgICAgICBrZXkgPSBBdXRvRm9ybS5nZXRGaWVsZFZhbHVlKGtleSwgJ2luc3RhbmNlZm9ybScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEluc3RhbmNlTnVtYmVyUnVsZXMuaW5zdGFuY2VOdW1iZXJCdWlsZGVyKGVsZW1lbnQsIGtleSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50ICE9IG51bGwgPyBlbGVtZW50LnZhbChyZXN1bHRbc2NoZW1hS2V5XSkudHJpZ2dlcihcImNoYW5nZVwiKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGp1ZGdlID0gY3VycmVudEFwcHJvdmUuanVkZ2U7XG4gICAgY3VycmVudFN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIGZvcm11bGFfZmllbGRzID0gRm9ybV9mb3JtdWxhLmdldEZvcm11bGFGaWVsZFZhcmlhYmxlKFwiRm9ybV9mb3JtdWxhLmZpZWxkX3ZhbHVlc1wiLCBmb3JtX3ZlcnNpb24uZmllbGRzKTtcbiAgICBGb3JtX2Zvcm11bGEucnVuKFwiXCIsIFwiXCIsIGZvcm11bGFfZmllbGRzLCBBdXRvRm9ybS5nZXRGb3JtVmFsdWVzKFwiaW5zdGFuY2Vmb3JtXCIpLmluc2VydERvYywgZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG4gICAgcmV0dXJuIFNlc3Npb24uc2V0KFwiaW5zdGFuY2VfZm9ybV92YWx1ZXNcIiwge1xuICAgICAgaW5zdGFuY2VJZDogaW5zdGFuY2UuX2lkLFxuICAgICAgdmFsdWVzOiBBdXRvRm9ybS5nZXRGb3JtVmFsdWVzKFwiaW5zdGFuY2Vmb3JtXCIpLmluc2VydERvY1xuICAgIH0pO1xuICB9XG59O1xuIiwiSW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycyA9IHtcblxuXHRzaG93TWFpblRpdGxlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS53b3JrZmxvd01haW5BdHRhY2hUaXRsZS5nZXQoKTtcblx0fSxcblx0ZW5hYmxlZF9hZGRfbWFpbl9hdHRhY2htZW50OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0aWYgKCFpbnMpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdGlmIChTZXNzaW9uICYmIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSlcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0aWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpICE9IFwiZHJhZnRcIiAmJiBTZXNzaW9uLmdldChcImJveFwiKSAhPSBcImluYm94XCIpIHtcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdH1cblxuXHRcdC8vIOW3sue7j+e7k+adn+eahOWNleWtkOS4jeiDveaUuemZhOS7tlxuXHRcdGlmIChpbnMuc3RhdGUgPT0gXCJjb21wbGV0ZWRcIikge1xuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0fVxuXG5cdFx0dmFyIGN1cnJlbnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuXG5cdFx0aWYgKCFjdXJyZW50X3N0ZXApXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHQvLyDliIblj5HnmoTmraPmlofmiJbogIXpmYTku7bkuI3mmL7npLrovazkuLpwZGbmjInpkq5cblx0XHQvLyDlpoLmnpzmnInmraPmlofmnYPpmZDliJnkuLrmraPmlofvvIzlkKbliJnliIblj5HkuLrpmYTku7Zcblx0XHQvLyDliIblj5HnmoTpmYTku7bkuI3lhYHorrjkv67mlLkg5Yig6ZmkIOaWsOWinueJiOacrFxuXHRcdHZhciBtYWluX2F0dGFjaF9jb3VudCA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnMuX2lkLFxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuXHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXG5cdFx0fSkuY291bnQoKTtcblxuXHRcdHZhciBkaXN0cmlidXRlX21haW5fYXR0YWNoX2NvdW50ID0gMDtcblxuXHRcdGlmIChpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlKSB7XG5cdFx0XHR2YXIgc3RhcnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRTdGFydFN0ZXAoKTtcblx0XHRcdGlmIChzdGFydF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoKSB7XG5cdFx0XHRcdHZhciBkaXN0cmlidXRlX21haW5fYXR0YWNoX2NvdW50ID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcblx0XHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlLFxuXHRcdFx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcblx0XHRcdFx0fSkuY291bnQoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoY3VycmVudF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoID09IHRydWUgJiYgbWFpbl9hdHRhY2hfY291bnQgPCAxICYmIGRpc3RyaWJ1dGVfbWFpbl9hdHRhY2hfY291bnQgPCAxKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdH1cblxuXHRcdC8vIOato+aWh+acgOWkmuWPquiDveacieS4gOS4qlxuXHRcdGlmIChtYWluX2F0dGFjaF9jb3VudCA+PSAxIHx8IGRpc3RyaWJ1dGVfbWFpbl9hdHRhY2hfY291bnQgPj0gMSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIOW8gOWni+iKgueCueW5tuS4lOiuvue9ruS6huWPr+S7peS4iuS8oOato+aWh+aJjeaYvuekuuS4iuS8oOato+aWh+eahOaMiemSrlxuXHRcdHZhciBjdXJyZW50X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcblx0XHRpZiAoY3VycmVudF9zdGVwICYmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgPT0gXCJzdGFydFwiICYmIGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCA9PSB0cnVlKVxuXHRcdFx0cmV0dXJuIHRydWVcblxuXHRcdHJldHVybiBmYWxzZVxuXHR9LFxuXG5cdGVuYWJsZWRfZWRpdF9ub3JtYWxfYXR0YWNobWVudDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmICghaW5zKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRpZiAoU2Vzc2lvbiAmJiBTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdHZhciBmbG93ID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZsb3coaW5zLmZsb3cpO1xuXHRcdGlmICghZmxvdylcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cblx0XHQvLyDliIblj5HlkI7nmoQg6ZmE5Lu277yM5LiN5Y+v5Lul57yW6L6RL+WIoOmZpO+8jOS5n+S4jeiuqeS4iuS8oOaWsOeahOmZhOS7tiwg5rWB56iL5YiX6KGo77ya5re75Yqg5bGe5oCnIOKAmOiiq+WIhuWPkeWQjuaYr+WQpuWFgeiuuOS4iuS8oOmZhOS7tuKAmSAjMTgzN1xuXHRcdGlmIChpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlICYmICFmbG93LnVwbG9hZF9hZnRlcl9iZWluZ19kaXN0cmlidXRlZClcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0aWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpICE9IFwiZHJhZnRcIiAmJiBTZXNzaW9uLmdldChcImJveFwiKSAhPSBcImluYm94XCIpIHtcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdH1cblxuXHRcdC8vIOW3sue7j+e7k+adn+eahOWNleWtkOS4jeiDveaUuemZhOS7tlxuXHRcdGlmIChpbnMuc3RhdGUgPT0gXCJjb21wbGV0ZWRcIikge1xuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0fVxuXG5cdFx0aWYgKEluc3RhbmNlTWFuYWdlci5pc0NDKGlucykpIHtcblx0XHRcdHZhciBzdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldENDU3RlcCgpO1xuXHRcdFx0aWYgKHN0ZXAgJiYgKHN0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PSB0cnVlIHx8IHN0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PSB1bmRlZmluZWQpKVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgY3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG5cdFx0XHRpZiAoY3VycmVudF9zdGVwICYmIChjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PSB0cnVlIHx8IGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHVuZGVmaW5lZCkpXG5cdFx0XHRcdHJldHVybiB0cnVlXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlXG5cdH0sXG5cblx0bWFpbl9hdHRhY2htZW50OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0aWYgKCFpbnMpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdHZhciBzdGFydF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldFN0YXJ0U3RlcCgpO1xuXG5cdFx0Ly8g5aaC5p6c5piv6KKr5YiG5Y+R55qE55Sz6K+35Y2V5bm25LiU5pyJ5L+u5pS55q2j5paH55qE5p2D6ZmQ77yM5YiZ5LyY5YWI5pi+56S65Y6f55Sz6K+35Y2V5paH5Lu2XG5cdFx0dmFyIG1haW5fYXR0YWNoID0gbnVsbDtcblx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSAmJiBzdGFydF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoID09IHRydWUpIHtcblx0XHRcdG1haW5fYXR0YWNoID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKHtcblx0XHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzogaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSxcblx0XHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuXHRcdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGlmICghbWFpbl9hdHRhY2gpIHtcblx0XHRcdG1haW5fYXR0YWNoID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKHtcblx0XHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzogaW5zLl9pZCxcblx0XHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuXHRcdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBtYWluX2F0dGFjaDtcblx0fSxcblxuXHRub3JtYWxfYXR0YWNobWVudHM6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRpZiAoIWlucylcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0dmFyIHNlbGVjdG9yID0ge1xuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuXHRcdFx0J21ldGFkYXRhLm1haW4nOiB7XG5cdFx0XHRcdCRuZTogdHJ1ZVxuXHRcdFx0fSxcblx0XHR9O1xuXG5cdFx0dmFyIGF0dHMgPSBuZXcgQXJyYXkoKTtcblxuXHRcdGlmIChpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlKSB7XG5cdFx0XHQvLyDlpoLmnpzmmK/ooqvliIblj5HnmoTnlLPor7fljZXvvIzliJnmmL7npLrljp/nlLPor7fljZXmlofku7YsIOWmguaenOmAieaLqeS6huWwhuWOn+ihqOWNleWtmOWCqOS4uumZhOS7tuS5n+imgeaYvuekuiwg5ZCM5pe25Lmf6KaB5pi+56S65paw5LiK5Lyg55qE6ZmE5Lu2XG5cdFx0XHR2YXIgZGZpcyA9IF8uY2xvbmUoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMpIHx8IFtdO1xuXHRcdFx0ZGZpcy5wdXNoKGlucy5faWQpO1xuXHRcdFx0c2VsZWN0b3JbJ21ldGFkYXRhLmluc3RhbmNlJ10gPSB7XG5cdFx0XHRcdCRpbjogZGZpc1xuXHRcdFx0fTtcblxuXG5cdFx0XHRzZWxlY3RvcltcIiRvclwiXSA9IFt7XG5cdFx0XHRcdFwibWV0YWRhdGEuaW5zdGFuY2VcIjogaW5zLl9pZFxuXHRcdFx0fSwge1xuXHRcdFx0XHRcIm1ldGFkYXRhLmluc3RhbmNlXCI6IHtcblx0XHRcdFx0XHQkaW46IGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzXG5cdFx0XHRcdH0sXG5cdFx0XHRcdFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XG5cdFx0XHRcdFx0JG5lOiB0cnVlXG5cdFx0XHRcdH1cblx0XHRcdH1dXG5cblx0XHRcdC8vIOWmguaenOWOn+eUs+ivt+WNleacieato+aWh+S9huaYr+WIhuWPkeWQjuayoeacieato+aWh+adg+mZkO+8jOWImeWOn+eUs+ivt+WNleato+aWh+aYvuekuuWcqOmZhOS7tuagj1xuXHRcdFx0dmFyIHN0YXJ0X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0U3RhcnRTdGVwKCk7XG5cdFx0XHRpZiAoc3RhcnRfc3RlcCAmJiBzdGFydF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoICE9IHRydWUpIHtcblx0XHRcdFx0dmFyIGRpc3RyaWJ1dGVfbWFpbiA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZSh7XG5cdFx0XHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xuXHRcdFx0XHRcdFx0JGluOiBpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlc1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuXHRcdFx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZSxcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGlmIChkaXN0cmlidXRlX21haW4pIHtcblx0XHRcdFx0XHR2YXIgZmlyc3RWZXJzaW9uTWFpbiA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZShkaXN0cmlidXRlX21haW4ubWV0YWRhdGEucGFyZW50KTtcblx0XHRcdFx0XHRkaXN0cmlidXRlX21haW4uYXR0YWNobWVudFVwbG9hZGVkQXQgPSBmaXJzdFZlcnNpb25NYWluID8gZmlyc3RWZXJzaW9uTWFpbi51cGxvYWRlZEF0IDogZGlzdHJpYnV0ZV9tYWluLnVwbG9hZGVkQXQ7XG5cdFx0XHRcdFx0YXR0cy5wdXNoKGRpc3RyaWJ1dGVfbWFpbik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0c2VsZWN0b3JbJ21ldGFkYXRhLmluc3RhbmNlJ10gPSBpbnMuX2lkO1xuXHRcdH1cblxuXHRcdGNmcy5pbnN0YW5jZXMuZmluZChzZWxlY3RvcikuZm9yRWFjaChmdW5jdGlvbihjKSB7XG5cdFx0XHR2YXIgZmlyc3RWZXJzaW9uID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKGMubWV0YWRhdGEucGFyZW50KTtcblx0XHRcdGMuYXR0YWNobWVudFVwbG9hZGVkQXQgPSBmaXJzdFZlcnNpb24gPyBmaXJzdFZlcnNpb24udXBsb2FkZWRBdCA6IGMudXBsb2FkZWRBdDtcblx0XHRcdGF0dHMucHVzaChjKTtcblx0XHR9KVxuXG5cdFx0cmV0dXJuIF8uc29ydEJ5KGF0dHMsICdhdHRhY2htZW50VXBsb2FkZWRBdCcpO1xuXHR9LFxuXG5cdHNob3dBdHRhY2htZW50czogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmICghaW5zKVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdFx0Ly8g5aaC5p6c5piv6KKr5YiG5Y+R55qE55Sz6K+35Y2V77yM5YiZ5pi+56S65Y6f55Sz6K+35Y2V5paH5Lu2IOWSjOWIhuWPkeWQjueUs+ivt+WNleaWh+S7tlxuXHRcdHZhciBpbnN0YW5jZUlkcyA9IF8uY2xvbmUoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMpIHx8IFtdO1xuXHRcdGluc3RhbmNlSWRzLnB1c2goaW5zLl9pZCk7XG5cdFx0dmFyIGF0dGFjaG1lbnRzX2NvdW50ID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcblx0XHRcdFx0JGluOiBpbnN0YW5jZUlkc1xuXHRcdFx0fSxcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZVxuXHRcdH0pLmNvdW50KCk7XG5cblx0XHRpZiAoU2Vzc2lvbiAmJiBTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikgJiYgYXR0YWNobWVudHNfY291bnQgPCAxKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gXCJkcmFmdFwiIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09IFwiaW5ib3hcIiB8fCBhdHRhY2htZW50c19jb3VudCA+IDApXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdH0sXG5cblx0X3Q6IGZ1bmN0aW9uKGtleSkge1xuXHRcdHJldHVybiBUQVBpMThuLl9fKGtleSlcblx0fSxcblxuXHRfOiBmdW5jdGlvbihrZXkpIHtcblx0XHR2YXIgbG9jYWxlO1xuXHRcdGlmIChNZXRlb3IuaXNDbGllbnQpIHtcblx0XHRcdHJldHVybiBUQVBpMThuLl9fKGtleSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpO1xuXHRcdH1cblx0fSxcblxuXHRmbG93X2ZpbGVzOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0aWYgKCFpbnMpXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0cmV0dXJuIGNmcy5maWxlcy5maW5kKHsgJ21ldGFkYXRhLnNwYWNlJzogaW5zLnNwYWNlLCAnbWV0YWRhdGEub2JqZWN0X25hbWUnOiAnZmxvd3MnLCAnbWV0YWRhdGEucmVjb3JkX2lkJzogaW5zLmZsb3cgfSk7XG5cdH0sXG5cblx0aXNEcmFmdEFuZEZsb3dmaWxlc0V4aXN0OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0aWYgKCFpbnMpXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0cmV0dXJuIChTZXNzaW9uLmdldCgnYm94JykgPT0gJ2RyYWZ0JykgJiYgISFjZnMuZmlsZXMuZmluZCh7ICdtZXRhZGF0YS5zcGFjZSc6IGlucy5zcGFjZSwgJ21ldGFkYXRhLm9iamVjdF9uYW1lJzogJ2Zsb3dzJywgJ21ldGFkYXRhLnJlY29yZF9pZCc6IGlucy5mbG93IH0pLmNvdW50KCk7XG5cdH1cblxuXG59XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5fdCA9IGZ1bmN0aW9uKGtleSkge1xuXHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpXG5cdH1cblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5lbmFibGVkX2FkZF9tYWluX2F0dGFjaG1lbnQgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZmFsc2Vcblx0fTtcblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5lbmFibGVkX2VkaXRfbm9ybWFsX2F0dGFjaG1lbnQgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZmFsc2Vcblx0fTtcblxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLm1haW5fYXR0YWNobWVudCA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZTtcblx0XHR2YXIgaW5zdGFuY2VJZHMgPSBfLmNvbXBhY3QoW2luc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSwgaW5zdGFuY2UuX2lkXSk7XG5cdFx0dmFyIGF0dGFjaG1lbnQgPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoe1xuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xuXHRcdFx0XHQkaW46IGluc3RhbmNlSWRzXG5cdFx0XHR9LFxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuXHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gYXR0YWNobWVudDtcblx0fTtcblxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLm5vcm1hbF9hdHRhY2htZW50cyA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBzdGVlZG9zRGF0YSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YVxuXHRcdHZhciBpbnN0YW5jZSA9IHN0ZWVkb3NEYXRhLmluc3RhbmNlO1xuXHRcdHZhciBpbnN0YW5jZUlkcyA9IF8uY2xvbmUoaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XG5cdFx0aW5zdGFuY2VJZHMucHVzaChpbnN0YW5jZS5faWQpO1xuXHRcdHZhciBhdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcblx0XHRcdH0sXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHtcblx0XHRcdFx0JG5lOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0JG9yOiBbe1xuXHRcdFx0XHQnbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHtcblx0XHRcdFx0XHQkbmU6IHRydWVcblx0XHRcdFx0fVxuXHRcdFx0fSwge1xuXHRcdFx0XHQnbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHRydWUsXG5cdFx0XHRcdFwibWV0YWRhdGEub3duZXJcIjogc3RlZWRvc0RhdGEudXNlcklkXG5cdFx0XHR9XVxuXHRcdH0pLmZldGNoKCk7XG5cblx0XHRyZXR1cm4gYXR0YWNobWVudHM7XG5cdH07XG5cblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5zaG93QXR0YWNobWVudHMgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2U7XG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jbG9uZShpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcblx0XHRpbnN0YW5jZUlkcy5wdXNoKGluc3RhbmNlLl9pZCk7XG5cblx0XHR2YXIgYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xuXHRcdFx0XHQkaW46IGluc3RhbmNlSWRzXG5cdFx0XHR9LFxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlXG5cdFx0fSkuZmV0Y2goKTtcblxuXHRcdGlmIChhdHRhY2htZW50cyAmJiBhdHRhY2htZW50cy5sZW5ndGggPiAwKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5zaG93TWFpblRpdGxlID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlO1xuXHRcdHZhciBpbnN0YW5jZUlkcyA9IF8uY29tcGFjdChbaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlLCBpbnN0YW5jZS5faWRdKTtcblx0XHR2YXIgbWFpbl9hdHRhY2hfY291bnQgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xuXHRcdFx0XHQkaW46IGluc3RhbmNlSWRzXG5cdFx0XHR9LFxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuXHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXG5cdFx0fSkuY291bnQoKTtcblxuXHRcdHJldHVybiBtYWluX2F0dGFjaF9jb3VudCA+IDBcblx0fVxufVxuIiwiSW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzID1cblx0c2hvdzogKHN0ZXBOYW1lKS0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRpZiBTZXNzaW9uLmdldCgnaW5zdGFuY2VQcmludCcpXG5cdFx0XHRcdHJldHVybiBmYWxzZVxuXHRcdFx0aWYgSW5zdGFuY2VNYW5hZ2VyLmlzSW5ib3goKVxuXHRcdFx0XHRteUFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKVxuXHRcdFx0XHRpZiBteUFwcHJvdmVcblx0XHRcdFx0XHRpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdFx0XHRcdG15VHJhY2UgPSBpbnN0YW5jZT8udHJhY2VzPy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIG15QXBwcm92ZS50cmFjZSlcblx0XHRcdFx0XHRyZXR1cm4gbXlUcmFjZT8ubmFtZSA9PSBzdGVwTmFtZVxuXHRcdHJldHVybiBmYWxzZVxuXG5cdGRlZmF1bHREZXNjcmlwdGlvbjogKCktPlxuI1x0XHRyZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLmRlZmF1bHRfZGVzY3JpcHRpb24gfHwgVEFQaTE4bi5fXyhcImluc3RhbmNlX2RlZmF1bHRfb3BpbmlvblwiKVxuXHRcdHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvblxuXG5cdHRyYWNlczogKCktPlxuXHRcdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKClcblxuXHR0cmFjZTogKHN0ZXBOYW1lLCBvbmx5X2NjX29waW5pb24sIGltYWdlX3NpZ24sIHRvcF9rZXl3b3JkcyktPlxuXHRcdGluc3RhbmNlID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnN0YW5jZSgpXG5cblx0XHRpc19jb21wbGV0ZWQgPSBpbnN0YW5jZT8uc3RhdGUgPT0gXCJjb21wbGV0ZWRcIlxuXG5cdFx0Y29tcGxldGVkX2RhdGUgPSBpZiBpc19jb21wbGV0ZWQgdGhlbiBfLmxhc3QoaW5zdGFuY2UudHJhY2VzKT8uZmluaXNoX2RhdGU/LmdldFRpbWUoKSBlbHNlIDBcblxuXHRcdGlmIGlzX2NvbXBsZXRlZCAmJiBpbnN0YW5jZS5maW5pc2hfZGF0ZVxuXHRcdFx0Y29tcGxldGVkX2RhdGUgPSBpbnN0YW5jZS5maW5pc2hfZGF0ZT8uZ2V0VGltZSgpXG5cblx0XHR0cmFjZXMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpXG5cblx0XHRhcHByb3ZlcyA9IF8uY2xvbmUodHJhY2VzW3N0ZXBOYW1lXSlcblxuXHRcdGFwcHJvdmVfc29ydCA9IChhcHByb3ZlcywgdG9wX2tleXdvcmRzKS0+XG5cbiPlr7lBcHByb3Zlc+aOkuW6j++8jCDmjInnhafmj5DkuqTml7bpl7TmjpLlgJLluo/vvIzlpoLmnpzmsqHmnInmj5DkuqTliJnmmL7npLrlnKjmnIDkuIrovrlcblx0XHRcdGFwcHJvdmVzX3NvcnRlZCA9IF8uc29ydEJ5IGFwcHJvdmVzLCAoYXBwcm92ZSktPlxuXHRcdFx0XHRyZXR1cm4gLShhcHByb3ZlLmZpbmlzaF9kYXRlIHx8IG5ldyBEYXRlKCkpLmdldFRpbWUoKVxuXG5cdFx0XHQj6YCa6L+H5YWz6ZSu5a2X5o6S5bqPXG5cdFx0XHRpZiB0b3Bfa2V5d29yZHNcblx0XHRcdFx0dG9wX2FwcHJvdmVzID0gbmV3IEFycmF5KClcblxuXHRcdFx0XHR0b3Bfa2V5d29yZHMuc3BsaXQoXCIsXCIpLmZvckVhY2ggKGtleSkgLT5cblx0XHRcdFx0XHR0b3BfYXBwcm92ZXMgPSBfLnVuaW9uIHRvcF9hcHByb3ZlcywgXy5maWx0ZXIoYXBwcm92ZXNfc29ydGVkLCAoYXBwcm92ZSktPlxuXHRcdFx0XHRcdFx0cmV0dXJuIGFwcHJvdmU/LmhhbmRsZXJfbmFtZT8uaW5kZXhPZihrZXkpID4gLTFcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCMg5a+5572u6aG25oSP6KeB5oyJ54Wn5aSE55CG5LqL5Lu25o6S5YCS5bqPXG5cdFx0XHRcdHRvcF9hcHByb3ZlcyA9IF8uc29ydEJ5IHRvcF9hcHByb3ZlcywgKHRvcF9hcHByb3ZlKS0+XG5cdFx0XHRcdFx0cmV0dXJuIC0odG9wX2FwcHJvdmUuZmluaXNoX2RhdGUgfHwgbmV3IERhdGUoKSkuZ2V0VGltZSgpXG5cblx0XHRcdFx0YXBwcm92ZXNfc29ydGVkID0gXy51bmlvbiB0b3BfYXBwcm92ZXMsIGFwcHJvdmVzX3NvcnRlZFxuXHRcdFx0cmV0dXJuIGFwcHJvdmVzX3NvcnRlZCB8fCBbXVxuXG5cdFx0YXBwcm92ZXMgPSBfLmZpbHRlciBhcHByb3ZlcywgKGEpLT5cblx0XHRcdHJldHVybiBhLnR5cGUgaXNudCBcImZvcndhcmRcIiBhbmQgYS50eXBlIGlzbnQgXCJkaXN0cmlidXRlXCIgYW5kIGEudHlwZSBpc250IFwidGVybWluYXRlZFwiXG5cblx0XHRpZiBvbmx5X2NjX29waW5pb25cblx0XHRcdGFwcHJvdmVzID0gYXBwcm92ZXM/LmZpbHRlclByb3BlcnR5KFwidHlwZVwiLCBcImNjXCIpXG5cblx0XHRhcHByb3Zlc19zb3J0ZWQgPSBhcHByb3ZlX3NvcnQoYXBwcm92ZXMsIHRvcF9rZXl3b3JkcylcblxuXHRcdGFwcHJvdmVzR3JvdXAgPSBfLmdyb3VwQnkoYXBwcm92ZXMsIFwiaGFuZGxlclwiKTtcblxuXHRcdGhhc05leHQgPSAoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkgLT5cblx0XHRcdGhhbmRsZXJBcHByb3ZlcyA9IGFwcHJvdmVzR3JvdXBbYXBwcm92ZS5oYW5kbGVyXVxuXHRcdFx0cmV0dXJuIF8uaW5kZXhPZihoYW5kbGVyQXBwcm92ZXMsIGFwcHJvdmUpICsgMSA8IGhhbmRsZXJBcHByb3Zlcy5sZW5ndGhcblxuXHRcdGhhdmVEZXNjcmlwdGlvbkFwcHJvdmUgPSAoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkgLT5cblx0XHRcdGhhbmRsZXJBcHByb3ZlcyA9IGFwcHJvdmVzR3JvdXBbYXBwcm92ZS5oYW5kbGVyXVxuXG5cdFx0XHRkZXNjcmlwdGlvbkFwcHJvdmVzID0gXy5maWx0ZXIgaGFuZGxlckFwcHJvdmVzLCAoYSktPlxuXHRcdFx0XHRpZiBhLmRlc2NyaXB0aW9uXG5cdFx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRcdGlmIGRlc2NyaXB0aW9uQXBwcm92ZXMubGVuZ3RoID09IDBcblx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRcdHJldHVybiB0cnVlXG5cblxuXHRcdGFwcHJvdmVzX3NvcnRlZC5mb3JFYWNoIChhcHByb3ZlKSAtPlxuI1x0XHRcdOaciei+k+WFpeaEj+ingSDmiJYg5pyA5paw5LiA5p2h5bm25LiU55So5oi35rKh5pyJ6L6T5YWl6L+H5oSP6KeBXG4jXHRcdFx0aWYgIWFwcHJvdmUuaXNfZmluaXNoZWQgfHwgYXBwcm92ZS5kZXNjcmlwdGlvbiB8fCAoIWhhc05leHQoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkgJiYgIWhhdmVEZXNjcmlwdGlvbkFwcHJvdmUoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkpXG4jXHRcdFx0aWYgIWhhc05leHQoYXBwcm92ZSwgYXBwcm92ZXNHcm91cClcblx0XHRcdGlmIGFwcHJvdmUuc2lnbl9zaG93ICE9IGZhbHNlICYmIChhcHByb3ZlLmRlc2NyaXB0aW9uIHx8ICghYXBwcm92ZS5kZXNjcmlwdGlvbiAmJiAhaGFzTmV4dChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSAmJiAhYXBwcm92ZS5pc19maW5pc2hlZCkgfHwgTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy53b3JrZmxvdz8uc2hvd0JsYW5rQXBwcm92ZURlc2NyaXB0aW9uKVxuXHRcdFx0XHRpZiBhcHByb3ZlLmp1ZGdlIGlzbnQgJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRcdFx0YXBwcm92ZS5fZGlzcGxheSA9IHRydWVcblxuXHRcdGFwcHJvdmVzX3NvcnRlZCA9IF8uZmlsdGVyIGFwcHJvdmVzX3NvcnRlZCwgKGEpIC0+XG5cdFx0XHRpZiBpc19jb21wbGV0ZWRcblx0XHRcdFx0cmV0dXJuIGEuX2Rpc3BsYXkgPT0gdHJ1ZSAmJiBhLmlzX2ZpbmlzaGVkICYmIGEuZmluaXNoX2RhdGU/LmdldFRpbWUoKSA8PSBjb21wbGV0ZWRfZGF0ZVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXR1cm4gYS5fZGlzcGxheSA9PSB0cnVlXG5cdFx0cmV0dXJuIGFwcHJvdmVzX3NvcnRlZFxuXG5cdGluY2x1ZGU6IChhLCBiKSAtPlxuXHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluY2x1ZGUoYSwgYilcblxuXHR1bmVtcHR5OiAodmFsKS0+XG5cdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudW5lbXB0eSh2YWwpIHx8IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMud29ya2Zsb3c/LnNob3dCbGFua0FwcHJvdmVEZXNjcmlwdGlvblxuXG5cdGZvcm1hdERhdGU6IChkYXRlLCBvcHRpb25zKS0+XG5cdFx0aWYgIW9wdGlvbnNcblx0XHRcdG9wdGlvbnMgPSB7XCJmb3JtYXRcIjogXCJZWVlZLU1NLUREXCJ9XG5cblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5mb3JtYXREYXRlKGRhdGUsIG9wdGlvbnMpXG5cblx0aXNNeUFwcHJvdmU6IChhcHByb3ZlLCBvbmx5X2NjX29waW5pb24pIC0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblxuXHRcdFx0Y3VycmVudEFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKVxuXG5cdFx0XHRpZiAhYXBwcm92ZT8uX2lkXG5cdFx0XHRcdGFwcHJvdmUgPSBjdXJyZW50QXBwcm92ZVxuXG5cdFx0XHRpZiBhcHByb3ZlLl9pZCA9PSBjdXJyZW50QXBwcm92ZT8uX2lkICYmIGN1cnJlbnRBcHByb3ZlPy50eXBlID09ICdjYycgJiYgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWVcblx0XHRcdFx0aWYgXy5pbmRleE9mKGN1cnJlbnRBcHByb3ZlPy5vcGluaW9uX2ZpZWxkc19jb2RlLCBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSkgPiAtMVxuXHRcdFx0XHRcdHJldHVybiB0cnVlXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdFx0aWYgIShjdXJyZW50QXBwcm92ZT8udHlwZSA9PSAnY2MnKSAmJiBvbmx5X2NjX29waW5pb25cblx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRcdGlmIGN1cnJlbnRBcHByb3ZlICYmIGFwcHJvdmUuX2lkID09IGN1cnJlbnRBcHByb3ZlLl9pZFxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdHJldHVybiBmYWxzZVxuXG5cdG15QXBwcm92ZURlc2NyaXB0aW9uOiAoYXBwcm92ZUlkKS0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXG5cdFx0XHRcdG15QXBwcm92ZSA9IFRlbXBsYXRlLmluc3RhbmNlKCk/Lm15QXBwcm92ZT8uZ2V0KClcblx0XHRcdFx0aWYgbXlBcHByb3ZlICYmIG15QXBwcm92ZS5pZCA9PSBhcHByb3ZlSWRcblx0XHRcdFx0XHRpZiAhbXlBcHByb3ZlLnNpZ25fZmllbGRfY29kZSB8fCBteUFwcHJvdmUuc2lnbl9maWVsZF9jb2RlID09IFRlbXBsYXRlLmluc3RhbmNlKCk/LmRhdGE/Lm5hbWVcblx0XHRcdFx0XHRcdGlmICFTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIilcblx0XHRcdFx0XHRcdFx0cmV0dXJuIG15QXBwcm92ZT8uZGVzY3JpcHRpb24gfHwgXCJcIlxuXHRcdFx0XHRcdFx0cmV0dXJuIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKVxuXG5cdG5vdzogKCktPlxuXHRcdHJldHVybiBuZXcgRGF0ZSgpO1xuXG5cdGlzUmVhZE9ubHk6ICgpLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdHJldHVybiBBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KClcblx0XHRyZXR1cm4gZmFsc2VcblxuXHRpc09waW5pb25PZkZpZWxkOiAoYXBwcm92ZSktPlxuXHRcdGlmIGFwcHJvdmUudHlwZSA9PSBcImNjXCIgJiYgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWVcblx0XHRcdGlmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lID09IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlXG5cdFx0XHRcdHJldHVybiB0cnVlXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBmYWxzZVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiB0cnVlO1xuXG5cdG1hcmtEb3duVG9IdG1sOiAobWFya0Rvd25TdHJpbmcpLT5cblx0XHRpZiBtYXJrRG93blN0cmluZ1xuXHRcdFx0cmVuZGVyZXIgPSBuZXcgTWFya2Rvd24uUmVuZGVyZXIoKTtcblx0XHRcdHJlbmRlcmVyLmxpbmsgPSAoaHJlZiwgdGl0bGUsIHRleHQpIC0+XG5cdFx0XHRcdHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPScje2hyZWZ9JyB0aXRsZT0nI3t0aXRsZX0nPiN7dGV4dH08L2E+XCJcblx0XHRcdHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge3JlbmRlcmVyOiByZW5kZXJlcn0pKVxuXG5cdHN0ZXBzOiAoZmllbGRfZm9ybXVsYSwgc3RlcCwgb25seV9jY19vcGluaW9uLCBpbWFnZV9zaWduKS0+XG5cdFx0c3RlcHMgPSBbXVxuXHRcdGlmICFzdGVwXG5cdFx0XHRpZiAhZmllbGRfZm9ybXVsYVxuXHRcdFx0XHRmaWVsZF9mb3JtdWxhID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKT8uZmllbGRzPy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCB0aGlzLm5hbWUpLmZvcm11bGFcblx0XHRcdHN0ZXBzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5nZXRPcGluaW9uRmllbGRTdGVwc05hbWUoZmllbGRfZm9ybXVsYSwgVGVtcGxhdGUuaW5zdGFuY2UoKT8uZGF0YS50b3Bfa2V5d29yZHMpXG5cdFx0ZWxzZVxuXHRcdFx0c3RlcHMgPSBbe3N0ZXBOYW1lOiBzdGVwLCBvbmx5X2NjX29waW5pb246IG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbjogaW1hZ2Vfc2lnbn1dXG5cdFx0cmV0dXJuIHN0ZXBzXG5cblx0aW1hZ2VTaWduRGF0YTogKGhhbmRsZXIpIC0+XG5cdFx0cmV0dXJuIHt1c2VyOiBoYW5kbGVyfVxuXG5cdHNob3dTaWduSW1hZ2U6IChoYW5kbGVyLCBpbWFnZV9zaWduLCBqdWRnZSkgLT5cblx0XHRpZiBbJ3JldHVybmVkJywgJ3Rlcm1pbmF0ZWQnLCAncmV0cmlldmVkJ10uaW5jbHVkZXMoanVkZ2UpXG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRzcGFjZVVzZXJTaWduID0gSW1hZ2VTaWduLmhlbHBlcnMuc3BhY2VVc2VyU2lnbihoYW5kbGVyKVxuXG5cdFx0aWYgc3BhY2VVc2VyU2lnbj8uc2lnbiAmJiBpbWFnZV9zaWduXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdGdldExhc3RTaWduQXBwcm92ZTogKCktPlxuXHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG5cdFx0cmV0dXJuIF8ubGFzdChUcmFjZXNNYW5hZ2VyLmdldEhhbmRsZXJTaWduU2hvd0FwcHJvdmVzIGlucywgTWV0ZW9yLnVzZXJJZCgpKVxuXG5cblx0bGFzdE15QXBwcm92ZURlc2NyaXB0aW9uOiAoKS0+XG5cdFx0dHJhY2VzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKVxuXHRcdGN1cnJlbnRTdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG5cdFx0YXBwcm92ZXMgPSBfLmNsb25lKHRyYWNlc1tjdXJyZW50U3RlcC5uYW1lXSlcblxuXHRcdGFwcHJvdmVzID0gYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoXCJoYW5kbGVyXCIsIE1ldGVvci51c2VySWQoKSlcblxuXHRcdGlmIGFwcHJvdmVzLmxlbmd0aCA+IDFcblx0XHRcdHJldHVybiBhcHByb3Zlc1thcHByb3Zlcy5sZW5ndGggLSAyXT8uZGVzY3JpcHRpb25cblxuXHRcdHJldHVybiBcIlwiO1xuXG5cdHNob3dBcHByb3ZlOiAoYXBwcm92ZSktPlxuXHRcdGlmICFhcHByb3ZlLnNpZ25fZmllbGRfY29kZSB8fCBhcHByb3ZlLnNpZ25fZmllbGRfY29kZSA9PSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5kYXRhPy5uYW1lXG5cdFx0XHRpZiBhcHByb3ZlPy5pc19yZWFkXG5cdFx0XHRcdGlmIGFwcHJvdmUuaXNfZmluaXNoZWRcblx0XHRcdFx0XHRyZXR1cm4gW1wiYXBwcm92ZWRcIiwgXCJyZWplY3RlZFwiLCBcInN1Ym1pdHRlZFwiLCBcInJlYWRlZFwiXS5pbmNsdWRlcyhhcHByb3ZlLmp1ZGdlKVxuXHRcdHJldHVybiBmYWxzZTtcblxuXHRqdWRnZV9kZXNjcmlwdGlvbjogKGp1ZGdlKS0+XG5cdFx0cmV0dXJuIHQoanVkZ2UgKyBcIl9kZXNjcmlwdGlvblwiKVxuXG5cdGlzX2FwcHJvdmVkOiAoanVkZ2UpLT5cblx0XHRyZXR1cm4gXCJhcHByb3ZlZFwiID09IGp1ZGdlXG5cblx0aXNfcmVqZWN0ZWQ6IChqdWRnZSktPlxuXHRcdHJldHVybiBcInJlamVjdGVkXCIgPT0ganVkZ2VcblxuXHRpc19yZWFkZWQ6IChqdWRnZSktPlxuXHRcdHJldHVybiBbXCJhcHByb3ZlZFwiLCBcInJlamVjdGVkXCIsIFwic3VibWl0dGVkXCIsIFwicmVhZGVkXCJdLmluY2x1ZGVzKGp1ZGdlKVxuXG5cdGFkZENsYXNzOiAoKS0+XG5cdFx0bmFtZSA9IFRlbXBsYXRlLmluc3RhbmNlKCk/LmRhdGE/Lm5hbWVcblx0XHRzZXRUaW1lb3V0ICgpIC0+XG5cdFx0XHR0cnlcblx0XHRcdFx0ZWxlbWVudCA9ICQoXCIuYXV0b21hdGljLm9waW5pb24tZmllbGQtXCIgKyBuYW1lKVxuXHRcdFx0XHRpZiBlbGVtZW50Lmxlbmd0aCA+IDBcblx0XHRcdFx0XHRpZiBlbGVtZW50Py5pcyhcInRkXCIpXG5cdFx0XHRcdFx0XHRlbGVtZW50LmFkZENsYXNzKCdmaWVsZC1lZGl0YWJsZScpXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0JChcIi5pbnN0YW5jZS1zaWduXCIsIGVsZW1lbnQpLmFkZENsYXNzKCdmaWVsZC1lZGl0YWJsZScpXG5cdFx0XHRjYXRjaCBlXG5cdFx0XHRcdGNvbnNvbGUubG9nIGVcblx0XHQsIDFcblx0XHRyZXR1cm4gJydcblxuaWYgTWV0ZW9yLmlzU2VydmVyXG5cdEluc3RhbmNlU2lnblRleHQuaGVscGVycy5kZWZhdWx0RGVzY3JpcHRpb24gPSAtPlxuXHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblx0XHRyZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLmRlZmF1bHRfZGVzY3JpcHRpb24gfHwgVEFQaTE4bi5fXyhcImluc3RhbmNlX2RlZmF1bHRfb3BpbmlvblwiLCB7fSwgbG9jYWxlKSIsIkluc3RhbmNlU2lnblRleHQuaGVscGVycyA9IHtcbiAgc2hvdzogZnVuY3Rpb24oc3RlcE5hbWUpIHtcbiAgICB2YXIgaW5zdGFuY2UsIG15QXBwcm92ZSwgbXlUcmFjZSwgcmVmO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlmIChTZXNzaW9uLmdldCgnaW5zdGFuY2VQcmludCcpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChJbnN0YW5jZU1hbmFnZXIuaXNJbmJveCgpKSB7XG4gICAgICAgIG15QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpO1xuICAgICAgICBpZiAobXlBcHByb3ZlKSB7XG4gICAgICAgICAgaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgICBteVRyYWNlID0gaW5zdGFuY2UgIT0gbnVsbCA/IChyZWYgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwgPyByZWYuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCBteUFwcHJvdmUudHJhY2UpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICAgIHJldHVybiAobXlUcmFjZSAhPSBudWxsID8gbXlUcmFjZS5uYW1lIDogdm9pZCAwKSA9PT0gc3RlcE5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBkZWZhdWx0RGVzY3JpcHRpb246IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvbjtcbiAgfSxcbiAgdHJhY2VzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKTtcbiAgfSxcbiAgdHJhY2U6IGZ1bmN0aW9uKHN0ZXBOYW1lLCBvbmx5X2NjX29waW5pb24sIGltYWdlX3NpZ24sIHRvcF9rZXl3b3Jkcykge1xuICAgIHZhciBhcHByb3ZlX3NvcnQsIGFwcHJvdmVzLCBhcHByb3Zlc0dyb3VwLCBhcHByb3Zlc19zb3J0ZWQsIGNvbXBsZXRlZF9kYXRlLCBoYXNOZXh0LCBoYXZlRGVzY3JpcHRpb25BcHByb3ZlLCBpbnN0YW5jZSwgaXNfY29tcGxldGVkLCByZWYsIHJlZjEsIHJlZjIsIHRyYWNlcztcbiAgICBpbnN0YW5jZSA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5zdGFuY2UoKTtcbiAgICBpc19jb21wbGV0ZWQgPSAoaW5zdGFuY2UgIT0gbnVsbCA/IGluc3RhbmNlLnN0YXRlIDogdm9pZCAwKSA9PT0gXCJjb21wbGV0ZWRcIjtcbiAgICBjb21wbGV0ZWRfZGF0ZSA9IGlzX2NvbXBsZXRlZCA/IChyZWYgPSBfLmxhc3QoaW5zdGFuY2UudHJhY2VzKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmZpbmlzaF9kYXRlKSAhPSBudWxsID8gcmVmMS5nZXRUaW1lKCkgOiB2b2lkIDAgOiB2b2lkIDAgOiAwO1xuICAgIGlmIChpc19jb21wbGV0ZWQgJiYgaW5zdGFuY2UuZmluaXNoX2RhdGUpIHtcbiAgICAgIGNvbXBsZXRlZF9kYXRlID0gKHJlZjIgPSBpbnN0YW5jZS5maW5pc2hfZGF0ZSkgIT0gbnVsbCA/IHJlZjIuZ2V0VGltZSgpIDogdm9pZCAwO1xuICAgIH1cbiAgICB0cmFjZXMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpO1xuICAgIGFwcHJvdmVzID0gXy5jbG9uZSh0cmFjZXNbc3RlcE5hbWVdKTtcbiAgICBhcHByb3ZlX3NvcnQgPSBmdW5jdGlvbihhcHByb3ZlcywgdG9wX2tleXdvcmRzKSB7XG4gICAgICB2YXIgYXBwcm92ZXNfc29ydGVkLCB0b3BfYXBwcm92ZXM7XG4gICAgICBhcHByb3Zlc19zb3J0ZWQgPSBfLnNvcnRCeShhcHByb3ZlcywgZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgICByZXR1cm4gLShhcHByb3ZlLmZpbmlzaF9kYXRlIHx8IG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHRvcF9rZXl3b3Jkcykge1xuICAgICAgICB0b3BfYXBwcm92ZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdG9wX2tleXdvcmRzLnNwbGl0KFwiLFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIHJldHVybiB0b3BfYXBwcm92ZXMgPSBfLnVuaW9uKHRvcF9hcHByb3ZlcywgXy5maWx0ZXIoYXBwcm92ZXNfc29ydGVkLCBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgICB2YXIgcmVmMztcbiAgICAgICAgICAgIHJldHVybiAoYXBwcm92ZSAhPSBudWxsID8gKHJlZjMgPSBhcHByb3ZlLmhhbmRsZXJfbmFtZSkgIT0gbnVsbCA/IHJlZjMuaW5kZXhPZihrZXkpIDogdm9pZCAwIDogdm9pZCAwKSA+IC0xO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRvcF9hcHByb3ZlcyA9IF8uc29ydEJ5KHRvcF9hcHByb3ZlcywgZnVuY3Rpb24odG9wX2FwcHJvdmUpIHtcbiAgICAgICAgICByZXR1cm4gLSh0b3BfYXBwcm92ZS5maW5pc2hfZGF0ZSB8fCBuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBhcHByb3Zlc19zb3J0ZWQgPSBfLnVuaW9uKHRvcF9hcHByb3ZlcywgYXBwcm92ZXNfc29ydGVkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcHByb3Zlc19zb3J0ZWQgfHwgW107XG4gICAgfTtcbiAgICBhcHByb3ZlcyA9IF8uZmlsdGVyKGFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gYS50eXBlICE9PSBcImZvcndhcmRcIiAmJiBhLnR5cGUgIT09IFwiZGlzdHJpYnV0ZVwiICYmIGEudHlwZSAhPT0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgfSk7XG4gICAgaWYgKG9ubHlfY2Nfb3Bpbmlvbikge1xuICAgICAgYXBwcm92ZXMgPSBhcHByb3ZlcyAhPSBudWxsID8gYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoXCJ0eXBlXCIsIFwiY2NcIikgOiB2b2lkIDA7XG4gICAgfVxuICAgIGFwcHJvdmVzX3NvcnRlZCA9IGFwcHJvdmVfc29ydChhcHByb3ZlcywgdG9wX2tleXdvcmRzKTtcbiAgICBhcHByb3Zlc0dyb3VwID0gXy5ncm91cEJ5KGFwcHJvdmVzLCBcImhhbmRsZXJcIik7XG4gICAgaGFzTmV4dCA9IGZ1bmN0aW9uKGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApIHtcbiAgICAgIHZhciBoYW5kbGVyQXBwcm92ZXM7XG4gICAgICBoYW5kbGVyQXBwcm92ZXMgPSBhcHByb3Zlc0dyb3VwW2FwcHJvdmUuaGFuZGxlcl07XG4gICAgICByZXR1cm4gXy5pbmRleE9mKGhhbmRsZXJBcHByb3ZlcywgYXBwcm92ZSkgKyAxIDwgaGFuZGxlckFwcHJvdmVzLmxlbmd0aDtcbiAgICB9O1xuICAgIGhhdmVEZXNjcmlwdGlvbkFwcHJvdmUgPSBmdW5jdGlvbihhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSB7XG4gICAgICB2YXIgZGVzY3JpcHRpb25BcHByb3ZlcywgaGFuZGxlckFwcHJvdmVzO1xuICAgICAgaGFuZGxlckFwcHJvdmVzID0gYXBwcm92ZXNHcm91cFthcHByb3ZlLmhhbmRsZXJdO1xuICAgICAgZGVzY3JpcHRpb25BcHByb3ZlcyA9IF8uZmlsdGVyKGhhbmRsZXJBcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICBpZiAoYS5kZXNjcmlwdGlvbikge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGRlc2NyaXB0aW9uQXBwcm92ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgYXBwcm92ZXNfc29ydGVkLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgdmFyIHJlZjM7XG4gICAgICBpZiAoYXBwcm92ZS5zaWduX3Nob3cgIT09IGZhbHNlICYmIChhcHByb3ZlLmRlc2NyaXB0aW9uIHx8ICghYXBwcm92ZS5kZXNjcmlwdGlvbiAmJiAhaGFzTmV4dChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSAmJiAhYXBwcm92ZS5pc19maW5pc2hlZCkgfHwgKChyZWYzID0gTWV0ZW9yLnNldHRpbmdzW1wicHVibGljXCJdLndvcmtmbG93KSAhPSBudWxsID8gcmVmMy5zaG93QmxhbmtBcHByb3ZlRGVzY3JpcHRpb24gOiB2b2lkIDApKSkge1xuICAgICAgICBpZiAoYXBwcm92ZS5qdWRnZSAhPT0gJ3Rlcm1pbmF0ZWQnKSB7XG4gICAgICAgICAgcmV0dXJuIGFwcHJvdmUuX2Rpc3BsYXkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwcm92ZXNfc29ydGVkID0gXy5maWx0ZXIoYXBwcm92ZXNfc29ydGVkLCBmdW5jdGlvbihhKSB7XG4gICAgICB2YXIgcmVmMztcbiAgICAgIGlmIChpc19jb21wbGV0ZWQpIHtcbiAgICAgICAgcmV0dXJuIGEuX2Rpc3BsYXkgPT09IHRydWUgJiYgYS5pc19maW5pc2hlZCAmJiAoKHJlZjMgPSBhLmZpbmlzaF9kYXRlKSAhPSBudWxsID8gcmVmMy5nZXRUaW1lKCkgOiB2b2lkIDApIDw9IGNvbXBsZXRlZF9kYXRlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGEuX2Rpc3BsYXkgPT09IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGFwcHJvdmVzX3NvcnRlZDtcbiAgfSxcbiAgaW5jbHVkZTogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluY2x1ZGUoYSwgYik7XG4gIH0sXG4gIHVuZW1wdHk6IGZ1bmN0aW9uKHZhbCkge1xuICAgIHZhciByZWY7XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudW5lbXB0eSh2YWwpIHx8ICgocmVmID0gTWV0ZW9yLnNldHRpbmdzW1wicHVibGljXCJdLndvcmtmbG93KSAhPSBudWxsID8gcmVmLnNob3dCbGFua0FwcHJvdmVEZXNjcmlwdGlvbiA6IHZvaWQgMCk7XG4gIH0sXG4gIGZvcm1hdERhdGU6IGZ1bmN0aW9uKGRhdGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIFwiZm9ybWF0XCI6IFwiWVlZWS1NTS1ERFwiXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5mb3JtYXREYXRlKGRhdGUsIG9wdGlvbnMpO1xuICB9LFxuICBpc015QXBwcm92ZTogZnVuY3Rpb24oYXBwcm92ZSwgb25seV9jY19vcGluaW9uKSB7XG4gICAgdmFyIGN1cnJlbnRBcHByb3ZlLCBpbnM7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgICBjdXJyZW50QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpO1xuICAgICAgaWYgKCEoYXBwcm92ZSAhPSBudWxsID8gYXBwcm92ZS5faWQgOiB2b2lkIDApKSB7XG4gICAgICAgIGFwcHJvdmUgPSBjdXJyZW50QXBwcm92ZTtcbiAgICAgIH1cbiAgICAgIGlmIChhcHByb3ZlLl9pZCA9PT0gKGN1cnJlbnRBcHByb3ZlICE9IG51bGwgPyBjdXJyZW50QXBwcm92ZS5faWQgOiB2b2lkIDApICYmIChjdXJyZW50QXBwcm92ZSAhPSBudWxsID8gY3VycmVudEFwcHJvdmUudHlwZSA6IHZvaWQgMCkgPT09ICdjYycgJiYgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUpIHtcbiAgICAgICAgaWYgKF8uaW5kZXhPZihjdXJyZW50QXBwcm92ZSAhPSBudWxsID8gY3VycmVudEFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZSA6IHZvaWQgMCwgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUpID4gLTEpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghKChjdXJyZW50QXBwcm92ZSAhPSBudWxsID8gY3VycmVudEFwcHJvdmUudHlwZSA6IHZvaWQgMCkgPT09ICdjYycpICYmIG9ubHlfY2Nfb3Bpbmlvbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudEFwcHJvdmUgJiYgYXBwcm92ZS5faWQgPT09IGN1cnJlbnRBcHByb3ZlLl9pZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBteUFwcHJvdmVEZXNjcmlwdGlvbjogZnVuY3Rpb24oYXBwcm92ZUlkKSB7XG4gICAgdmFyIG15QXBwcm92ZSwgcmVmLCByZWYxLCByZWYyLCByZWYzO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICBteUFwcHJvdmUgPSAocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLm15QXBwcm92ZSkgIT0gbnVsbCA/IHJlZjEuZ2V0KCkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgIGlmIChteUFwcHJvdmUgJiYgbXlBcHByb3ZlLmlkID09PSBhcHByb3ZlSWQpIHtcbiAgICAgICAgICBpZiAoIW15QXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgfHwgbXlBcHByb3ZlLnNpZ25fZmllbGRfY29kZSA9PT0gKChyZWYyID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYzID0gcmVmMi5kYXRhKSAhPSBudWxsID8gcmVmMy5uYW1lIDogdm9pZCAwIDogdm9pZCAwKSkge1xuICAgICAgICAgICAgaWYgKCFTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIikpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIChteUFwcHJvdmUgIT0gbnVsbCA/IG15QXBwcm92ZS5kZXNjcmlwdGlvbiA6IHZvaWQgMCkgfHwgXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBub3c6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSgpO1xuICB9LFxuICBpc1JlYWRPbmx5OiBmdW5jdGlvbigpIHtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICByZXR1cm4gQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGlzT3Bpbmlvbk9mRmllbGQ6IGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICBpZiAoYXBwcm92ZS50eXBlID09PSBcImNjXCIgJiYgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUpIHtcbiAgICAgIGlmIChUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSA9PT0gYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgbWFya0Rvd25Ub0h0bWw6IGZ1bmN0aW9uKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgdmFyIHJlbmRlcmVyO1xuICAgIGlmIChtYXJrRG93blN0cmluZykge1xuICAgICAgcmVuZGVyZXIgPSBuZXcgTWFya2Rvd24uUmVuZGVyZXIoKTtcbiAgICAgIHJlbmRlcmVyLmxpbmsgPSBmdW5jdGlvbihocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgICAgICByZXR1cm4gXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nXCIgKyBocmVmICsgXCInIHRpdGxlPSdcIiArIHRpdGxlICsgXCInPlwiICsgdGV4dCArIFwiPC9hPlwiO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge1xuICAgICAgICByZW5kZXJlcjogcmVuZGVyZXJcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sXG4gIHN0ZXBzOiBmdW5jdGlvbihmaWVsZF9mb3JtdWxhLCBzdGVwLCBvbmx5X2NjX29waW5pb24sIGltYWdlX3NpZ24pIHtcbiAgICB2YXIgcmVmLCByZWYxLCByZWYyLCBzdGVwcztcbiAgICBzdGVwcyA9IFtdO1xuICAgIGlmICghc3RlcCkge1xuICAgICAgaWYgKCFmaWVsZF9mb3JtdWxhKSB7XG4gICAgICAgIGZpZWxkX2Zvcm11bGEgPSAocmVmID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmZpZWxkcykgIT0gbnVsbCA/IHJlZjEuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgdGhpcy5uYW1lKS5mb3JtdWxhIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgfVxuICAgICAgc3RlcHMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmdldE9waW5pb25GaWVsZFN0ZXBzTmFtZShmaWVsZF9mb3JtdWxhLCAocmVmMiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyByZWYyLmRhdGEudG9wX2tleXdvcmRzIDogdm9pZCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RlcHMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBzdGVwTmFtZTogc3RlcCxcbiAgICAgICAgICBvbmx5X2NjX29waW5pb246IG9ubHlfY2Nfb3BpbmlvbixcbiAgICAgICAgICBpbWFnZV9zaWduOiBpbWFnZV9zaWduXG4gICAgICAgIH1cbiAgICAgIF07XG4gICAgfVxuICAgIHJldHVybiBzdGVwcztcbiAgfSxcbiAgaW1hZ2VTaWduRGF0YTogZnVuY3Rpb24oaGFuZGxlcikge1xuICAgIHJldHVybiB7XG4gICAgICB1c2VyOiBoYW5kbGVyXG4gICAgfTtcbiAgfSxcbiAgc2hvd1NpZ25JbWFnZTogZnVuY3Rpb24oaGFuZGxlciwgaW1hZ2Vfc2lnbiwganVkZ2UpIHtcbiAgICB2YXIgc3BhY2VVc2VyU2lnbjtcbiAgICBpZiAoWydyZXR1cm5lZCcsICd0ZXJtaW5hdGVkJywgJ3JldHJpZXZlZCddLmluY2x1ZGVzKGp1ZGdlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzcGFjZVVzZXJTaWduID0gSW1hZ2VTaWduLmhlbHBlcnMuc3BhY2VVc2VyU2lnbihoYW5kbGVyKTtcbiAgICBpZiAoKHNwYWNlVXNlclNpZ24gIT0gbnVsbCA/IHNwYWNlVXNlclNpZ24uc2lnbiA6IHZvaWQgMCkgJiYgaW1hZ2Vfc2lnbikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIGdldExhc3RTaWduQXBwcm92ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlucztcbiAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICByZXR1cm4gXy5sYXN0KFRyYWNlc01hbmFnZXIuZ2V0SGFuZGxlclNpZ25TaG93QXBwcm92ZXMoaW5zLCBNZXRlb3IudXNlcklkKCkpKTtcbiAgfSxcbiAgbGFzdE15QXBwcm92ZURlc2NyaXB0aW9uOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXBwcm92ZXMsIGN1cnJlbnRTdGVwLCByZWYsIHRyYWNlcztcbiAgICB0cmFjZXMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpO1xuICAgIGN1cnJlbnRTdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG4gICAgYXBwcm92ZXMgPSBfLmNsb25lKHRyYWNlc1tjdXJyZW50U3RlcC5uYW1lXSk7XG4gICAgYXBwcm92ZXMgPSBhcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eShcImhhbmRsZXJcIiwgTWV0ZW9yLnVzZXJJZCgpKTtcbiAgICBpZiAoYXBwcm92ZXMubGVuZ3RoID4gMSkge1xuICAgICAgcmV0dXJuIChyZWYgPSBhcHByb3Zlc1thcHByb3Zlcy5sZW5ndGggLSAyXSkgIT0gbnVsbCA/IHJlZi5kZXNjcmlwdGlvbiA6IHZvaWQgMDtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG4gIH0sXG4gIHNob3dBcHByb3ZlOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgdmFyIHJlZiwgcmVmMTtcbiAgICBpZiAoIWFwcHJvdmUuc2lnbl9maWVsZF9jb2RlIHx8IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlID09PSAoKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5kYXRhKSAhPSBudWxsID8gcmVmMS5uYW1lIDogdm9pZCAwIDogdm9pZCAwKSkge1xuICAgICAgaWYgKGFwcHJvdmUgIT0gbnVsbCA/IGFwcHJvdmUuaXNfcmVhZCA6IHZvaWQgMCkge1xuICAgICAgICBpZiAoYXBwcm92ZS5pc19maW5pc2hlZCkge1xuICAgICAgICAgIHJldHVybiBbXCJhcHByb3ZlZFwiLCBcInJlamVjdGVkXCIsIFwic3VibWl0dGVkXCIsIFwicmVhZGVkXCJdLmluY2x1ZGVzKGFwcHJvdmUuanVkZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAganVkZ2VfZGVzY3JpcHRpb246IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIHQoanVkZ2UgKyBcIl9kZXNjcmlwdGlvblwiKTtcbiAgfSxcbiAgaXNfYXBwcm92ZWQ6IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIFwiYXBwcm92ZWRcIiA9PT0ganVkZ2U7XG4gIH0sXG4gIGlzX3JlamVjdGVkOiBmdW5jdGlvbihqdWRnZSkge1xuICAgIHJldHVybiBcInJlamVjdGVkXCIgPT09IGp1ZGdlO1xuICB9LFxuICBpc19yZWFkZWQ6IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIFtcImFwcHJvdmVkXCIsIFwicmVqZWN0ZWRcIiwgXCJzdWJtaXR0ZWRcIiwgXCJyZWFkZWRcIl0uaW5jbHVkZXMoanVkZ2UpO1xuICB9LFxuICBhZGRDbGFzczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5hbWUsIHJlZiwgcmVmMTtcbiAgICBuYW1lID0gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5kYXRhKSAhPSBudWxsID8gcmVmMS5uYW1lIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZSwgZWxlbWVudDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGVsZW1lbnQgPSAkKFwiLmF1dG9tYXRpYy5vcGluaW9uLWZpZWxkLVwiICsgbmFtZSk7XG4gICAgICAgIGlmIChlbGVtZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBpZiAoZWxlbWVudCAhPSBudWxsID8gZWxlbWVudC5pcyhcInRkXCIpIDogdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5hZGRDbGFzcygnZmllbGQtZWRpdGFibGUnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICQoXCIuaW5zdGFuY2Utc2lnblwiLCBlbGVtZW50KS5hZGRDbGFzcygnZmllbGQtZWRpdGFibGUnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUpO1xuICAgICAgfVxuICAgIH0sIDEpO1xuICAgIHJldHVybiAnJztcbiAgfVxufTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMuZGVmYXVsdERlc2NyaXB0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxvY2FsZTtcbiAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgIHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvbiB8fCBUQVBpMThuLl9fKFwiaW5zdGFuY2VfZGVmYXVsdF9vcGluaW9uXCIsIHt9LCBsb2NhbGUpO1xuICB9O1xufVxuIiwiVHJhY2VzVGVtcGxhdGUuaGVscGVycyA9XG5cdGVxdWFsczogKGEsIGIpIC0+XG5cdFx0YSA9PSBiXG5cdGVtcHR5OiAoYSkgLT5cblx0XHRpZiBhXG5cdFx0XHRhLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA8IDFcblx0XHRlbHNlXG5cdFx0XHR0cnVlXG5cdHVuZW1wdHk6IChhKSAtPlxuXHRcdGlmIGFcblx0XHRcdGEudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID4gMFxuXHRcdGVsc2Vcblx0XHRcdGZhbHNlXG5cblx0YXBwZW5kOiAoYSwgYikgLT5cblx0XHRhICsgYlxuXG5cdGRhdGVGb3JtYXQ6IChkYXRlKSAtPlxuXHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpICYmIGRhdGU/LmdldEZ1bGxZZWFyKCkgPT0gKG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpXG5cdFx0XHRcdHJldHVybiAkLmZvcm1hdC5kYXRlIG5ldyBEYXRlKGRhdGUpLCBcIk1NLWRkIEhIOm1tXCJcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmV0dXJuICQuZm9ybWF0LmRhdGUgbmV3IERhdGUoZGF0ZSksIFwieXl5eS1NTS1kZCBISDptbVwiXG5cblx0Z2V0U3RlcE5hbWU6IChzdGVwSWQpIC0+XG5cdFx0c3RlcCA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZVN0ZXAoc3RlcElkKVxuXHRcdGlmIHN0ZXBcblx0XHRcdHJldHVybiBzdGVwLm5hbWVcblx0XHRudWxsXG5cdHNob3dEZWxldGVCdXR0b246IChhcHByb3ZlZCkgLT5cblx0XHRpZiBhcHByb3ZlZCBhbmQgYXBwcm92ZWQudHlwZSA9PSAnY2MnIGFuZCBhcHByb3ZlZC5mcm9tX3VzZXIgPT0gTWV0ZW9yLnVzZXJJZCgpIGFuZCBhcHByb3ZlZC5pc19maW5pc2hlZCAhPSB0cnVlIGFuZCAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdGZhbHNlXG5cdGlzU2hvd01vZGlmaWNhdGlvbkJ1dHRvbjogKGFwcHJvdmVkKSAtPlxuXHRcdGFwcHJvdmVfYWRtaW5zID0gTWV0ZW9yLnNldHRpbmdzPy5wdWJsaWM/LndvcmtmbG93Py5hcHByb3ZlX2FkbWluc1xuXHRcdGlmIGFwcHJvdmVfYWRtaW5zPy5sZW5ndGhcblx0XHRcdGlzU2hvdyA9IGFwcHJvdmVfYWRtaW5zPy5jb250YWlucyBNZXRlb3IudXNlcklkKClcblx0XHR1bmxlc3MgaXNTaG93XG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRyZXR1cm4gYXBwcm92ZWQuaGFuZGxlciA9PSBNZXRlb3IudXNlcklkKClcblx0aXNFZGl0aW5nOiAoKSAtPlxuXHRcdCByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5pc19lZGl0aW5nPy5nZXQoKVxuXHRpc1Nob3dEZXNjcmlwdGlvbjogKGFwcHJvdmVkKS0+XG5cdFx0IyBkZWJ1Z2dlclxuXHRcdGlmIFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuaXNTaG93TW9kaWZpY2F0aW9uQnV0dG9uIGFwcHJvdmVkXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdHJldHVybiBhcHByb3ZlZC5kZXNjcmlwdGlvbj8udG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID4gMFxuXHRpc0NDOiAoYXBwcm92ZWQpIC0+XG5cdFx0aWYgYXBwcm92ZWQgYW5kIGFwcHJvdmVkLnR5cGUgPT0gJ2NjJ1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRmYWxzZVxuXHRnZXRBcHByb3ZlU3RhdHVzSWNvbjogKGFwcHJvdmVKdWRnZSwgYXV0b1N1Ym1pdHRlZCkgLT5cblx0XHRpZiBhdXRvU3VibWl0dGVkID09IHRydWVcblx0XHRcdHJldHVybiAnaW9uIGlvbi1hbmRyb2lkLWFsYXJtLWNsb2NrJ1xuXHRcdCPlt7Lnu5PmnZ/nmoTmmL7npLrkuLrmoLjlh4Yv6amz5ZueL+WPlua2iOeUs+ivt++8jOW5tuaYvuekuuWkhOeQhueKtuaAgeWbvuagh1xuXHRcdGFwcHJvdmVTdGF0dXNJY29uID0gdW5kZWZpbmVkXG5cdFx0c3dpdGNoIGFwcHJvdmVKdWRnZVxuXHRcdFx0d2hlbiAnYXBwcm92ZWQnXG5cdFx0XHRcdCMg5bey5qC45YeGXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tY2hlY2ttYXJrLXJvdW5kJ1xuXHRcdFx0d2hlbiAncmVqZWN0ZWQnXG5cdFx0XHRcdCMg5bey6amz5ZueXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tY2xvc2Utcm91bmQnXG5cdFx0XHR3aGVuICd0ZXJtaW5hdGVkJ1xuXHRcdFx0XHQjIOW3suWPlua2iFxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICdmYSBmYS1iYW4nXG5cdFx0XHR3aGVuICdyZWFzc2lnbmVkJ1xuXHRcdFx0XHQjIOi9rOetvuaguFxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWFuZHJvaWQtY29udGFjdCdcblx0XHRcdHdoZW4gJ3JlbG9jYXRlZCdcblx0XHRcdFx0IyDph43lrprkvY1cblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1hcnJvdy1zaHJpbmsnXG5cdFx0XHR3aGVuICdyZXRyaWV2ZWQnXG5cdFx0XHRcdCMg5bey5Y+W5ZueXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2ZhIGZhLXVuZG8nXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJydcblx0XHRcdFx0YnJlYWtcblx0XHRhcHByb3ZlU3RhdHVzSWNvblxuXHRnZXRBcHByb3ZlU3RhdHVzVGV4dDogKGFwcHJvdmVKdWRnZSwgYXV0b1N1Ym1pdHRlZCkgLT5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblx0XHRcdGlmIGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICd6aC1jbidcblx0XHRcdFx0bG9jYWxlID0gXCJ6aC1DTlwiXG5cdFx0ZWxzZVxuXHRcdFx0bG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKVxuXHRcdCPlt7Lnu5PmnZ/nmoTmmL7npLrkuLrmoLjlh4Yv6amz5ZueL+WPlua2iOeUs+ivt++8jOW5tuaYvuekuuWkhOeQhueKtuaAgeWbvuagh1xuXHRcdGlmIGF1dG9TdWJtaXR0ZWQgPT0gdHJ1ZVxuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfdGltZW91dF9hdXRvX3N1Ym1pdHRlZCcsIHt9LCBsb2NhbGUpXG5cdFx0YXBwcm92ZVN0YXR1c1RleHQgPSB1bmRlZmluZWRcblx0XHRzd2l0Y2ggYXBwcm92ZUp1ZGdlXG5cdFx0XHR3aGVuICdhcHByb3ZlZCdcblx0XHRcdFx0IyDlt7LmoLjlh4Zcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSBhcHByb3ZlZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHR3aGVuICdyZWplY3RlZCdcblx0XHRcdFx0IyDlt7LpqbPlm55cblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWplY3RlZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHR3aGVuICd0ZXJtaW5hdGVkJ1xuXHRcdFx0XHQjIOW3suWPlua2iFxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHRlcm1pbmF0ZWQnLCB7fSwgbG9jYWxlKVxuXHRcdFx0d2hlbiAncmVhc3NpZ25lZCdcblx0XHRcdFx0IyDovaznrb7moLhcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWFzc2lnbmVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3JlbG9jYXRlZCdcblx0XHRcdFx0IyDph43lrprkvY1cblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWxvY2F0ZWQnLCB7fSwgbG9jYWxlKVxuXHRcdFx0d2hlbiAncmV0cmlldmVkJ1xuXHRcdFx0XHQjIOW3suWPluWbnlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJldHJpZXZlZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHR3aGVuICdyZXR1cm5lZCdcblx0XHRcdFx0IyDlt7LpgIDlm55cblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZXR1cm5lZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHR3aGVuICdyZWFkZWQnXG5cdFx0XHRcdCMg5bey6ZiFXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmVhZGVkJywge30sIGxvY2FsZSlcblx0XHRcdGVsc2Vcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSAnJ1xuXHRcdFx0XHRicmVha1xuXHRcdGFwcHJvdmVTdGF0dXNUZXh0XG5cdFxuXHRnZXRBcHByb3ZlSnVkZ2VDbGFzczogKGFwcHJvdmVKdWRnZSwgYXV0b1N1Ym1pdHRlZCkgLT5cblx0XHRpZiBhdXRvU3VibWl0dGVkID09IHRydWVcblx0XHRcdHJldHVybiAnYXV0b1N1Ym1pdHRlZCdcblx0XHRyZXR1cm4gYXBwcm92ZUp1ZGdlXG5cblx0X3Q6IChrZXkpLT5cblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpXG5cblx0bXlBcHByb3ZlRGVzY3JpcHRpb246IChhcHByb3ZlSWQpLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcblx0XHRcdFx0bXlBcHByb3ZlID0gVGVtcGxhdGUuaW5zdGFuY2UoKT8ubXlBcHByb3ZlPy5nZXQoKVxuXHRcdFx0XHRpZiBteUFwcHJvdmUgJiYgbXlBcHByb3ZlLmlkID09IGFwcHJvdmVJZFxuXHRcdFx0XHRcdGlmICFTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIilcblx0XHRcdFx0XHRcdHJldHVybiBteUFwcHJvdmU/LmRlc2NyaXB0aW9uIHx8IFwiXCJcblx0XHRcdFx0XHRyZXR1cm4gU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpXG5cdGlzRm9yd2FyZDogKGFwcHJvdmVkKSAtPlxuXHRcdGlmIGFwcHJvdmVkIGFuZCBhcHByb3ZlZC50eXBlID09ICdmb3J3YXJkJ1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRmYWxzZVxuXHRzaG93Rm9yd2FyZERlbGV0ZUJ1dHRvbjogKGFwcHJvdmUpIC0+XG5cdFx0aWYgZGIuaW5zdGFuY2VzLmZpbmQoYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlKS5jb3VudCgpIGlzIDBcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdGlmIGFwcHJvdmUgYW5kIGFwcHJvdmUudHlwZSA9PSAnZm9yd2FyZCcgYW5kIGFwcHJvdmUuZnJvbV91c2VyID09IE1ldGVvci51c2VySWQoKSBhbmQgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSBhbmQgYXBwcm92ZS5qdWRnZSBpc250ICd0ZXJtaW5hdGVkJ1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRmYWxzZVxuXHRtYXJrRG93blRvSHRtbDogKG1hcmtEb3duU3RyaW5nKS0+XG5cdFx0aWYgbWFya0Rvd25TdHJpbmdcblx0XHRcdHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XG5cdFx0XHRyZW5kZXJlci5saW5rID0gKCBocmVmLCB0aXRsZSwgdGV4dCApIC0+XG5cdFx0XHRcdHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPScje2hyZWZ9JyB0aXRsZT0nI3t0aXRsZX0nPiN7dGV4dH08L2E+XCJcblx0XHRcdHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge3JlbmRlcmVyOnJlbmRlcmVyfSkpXG5cdGlzRGlzdHJpYnV0ZTogKGFwcHJvdmUpIC0+XG5cdFx0aWYgYXBwcm92ZSBhbmQgYXBwcm92ZS50eXBlID09ICdkaXN0cmlidXRlJ1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRmYWxzZVxuXHRzaG93RGlzdHJpYnV0ZURlbGV0ZUJ1dHRvbjogKGFwcHJvdmUpIC0+XG5cdFx0aWYgZGIuaW5zdGFuY2VzLmZpbmQoYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlKS5jb3VudCgpIGlzIDBcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0aWYgYXBwcm92ZSBhbmQgYXBwcm92ZS50eXBlID09ICdkaXN0cmlidXRlJyBhbmQgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSBhbmQgYXBwcm92ZS5qdWRnZSBpc250ICd0ZXJtaW5hdGVkJyBhbmQgU3RlZWRvcy5oYXNGZWF0dXJlKCdmaWxlX2Rpc3RyaWJ1dGlvbicsIFN0ZWVkb3MuZ2V0U3BhY2VJZCgpKVxuXHRcdFx0IyDmtYHnqIvnrqHnkIblkZjlkozns7vnu5/nrqHnkIblkZjvvIzlj6/ku6XmiafooYzku7vkvZXmg4XlhrXkuIvnmoTmlofku7blj5bmtojliIblj5Fcblx0XHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGFwcHJvdmUuaW5zdGFuY2V9LCB7ZmllbGRzOiB7ZmxvdzogMSwgc3BhY2U6IDF9fSlcblx0XHRcdGlmIGlucyBhbmQgaW5zLmZsb3cgYW5kIGlucy5zcGFjZVxuXHRcdFx0XHRpZiBXb3JrZmxvd01hbmFnZXIuaGFzRmxvd0FkbWluUGVybWlzc2lvbihpbnMuZmxvdywgaW5zLnNwYWNlLCBNZXRlb3IudXNlcklkKCkpXG5cdFx0XHRcdFx0cmV0dXJuIHRydWVcblxuXHRcdFx0aWYgYXBwcm92ZS5mcm9tX3VzZXIgPT0gTWV0ZW9yLnVzZXJJZCgpXG5cdFx0XHRcdHJldHVybiB0cnVlXG5cblx0XHRmYWxzZVxuXG5cdGZpbmlzaERhdGVTY2hlbWE6ICgpIC0+XG5cdFx0aWYgU3RlZWRvcy5pc0FuZHJvaWRPcklPUygpXG5cdFx0XHRyZXR1cm4gbmV3IFNpbXBsZVNjaGVtYSh7XG5cdFx0XHRcdGZpbmlzaF9kYXRlOiB7XG5cdFx0XHRcdFx0YXV0b2Zvcm06IHtcblx0XHRcdFx0XHRcdHR5cGU6IFwiZGF0ZXRpbWUtbG9jYWxcIlxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0b3B0aW9uYWw6IGZhbHNlLFxuXHRcdFx0XHRcdHR5cGU6IERhdGVcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gbmV3IFNpbXBsZVNjaGVtYSh7XG5cdFx0XHRcdGZpbmlzaF9kYXRlOiB7XG5cdFx0XHRcdFx0YXV0b2Zvcm06IHtcblx0XHRcdFx0XHRcdHR5cGU6IFwiYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyXCJcblx0XHRcdFx0XHRcdHJlYWRvbmx5OiB0cnVlXG5cdFx0XHRcdFx0XHRkYXRlVGltZVBpY2tlck9wdGlvbnM6e1xuXHRcdFx0XHRcdFx0XHRmb3JtYXQ6IFwiWVlZWS1NTS1ERCBISDptbVwiLFxuXHRcdFx0XHRcdFx0XHRpZ25vcmVSZWFkb25seTp0cnVlLFxuXHRcdFx0XHRcdFx0XHRsb2NhbGU6IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIiksXG5cdFx0XHRcdFx0XHRcdHdpZGdldFBvc2l0aW9uaW5nOntcblx0XHRcdFx0XHRcdFx0XHRob3Jpem9udGFsOiAncmlnaHQnXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdG9wdGlvbmFsOiBmYWxzZSxcblx0XHRcdFx0XHR0eXBlOiBEYXRlXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cblx0ZmluaXNoRGF0ZVZhbHVlczogKCkgLT5cblx0XHRyZXR1cm4ge1xuXHRcdFx0ZmluaXNoX2RhdGU6dGhpcy5maW5pc2hfZGF0ZVxuXHRcdH07XG5cblx0IyMjXG4gICAgXHTmraTlh73mlbDnlKjkuo7mjqfliLbmmK/lkKbmmL7npLp0cmFjZXMgdmlld1xuICAgIFx0dHJ1ZTog5pi+56S6dHJhY2VzIHZpZXcs562+5qC45Y6G56iL5oyJ6ZKu54K55Ye75ZCO5piv55u05o6l5a6a5L2N5YiwdHJhY2VzIHZpZXdcbiAgICBcdGZhbHNlOiDkuI3mmL7npLp0cmFjZXMgdmlld++8jOetvuaguOWOhueoi+aMiemSrueCueWHu+WQjizku6VNb2RhbCDmlrnlvI/mmL7npLp0cmFjZXMgdmlld1xuXHQjIyNcblx0c2hvd1RyYWNlc1ZpZXc6IChmb3JtLCBmb3JtX3ZlcnNpb24pLT5cbiNcdFx0cmV0dXJuICEoSW5zdGFuY2VNYW5hZ2VyLmlzVGFibGVTdHlsZShmb3JtKSAmJiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluY2x1ZGVzT3BpbmlvbkZpZWxkKGZvcm0sIGZvcm1fdmVyc2lvbikpXG5cblx0XHRzaG93X21vZGFsX3RyYWNlc19saXN0ID0gZGIuc3BhY2Vfc2V0dGluZ3MuZmluZE9uZSh7c3BhY2U6IFNlc3Npb24uZ2V0KFwic3BhY2VJZFwiKSwga2V5OiBcInNob3dfbW9kYWxfdHJhY2VzX2xpc3RcIn0pPy52YWx1ZXMgfHwgZmFsc2VcblxuXHRcdHJldHVybiAhc2hvd19tb2RhbF90cmFjZXNfbGlzdFxuXG5cdGdldEluc3RhbmNlU3RhdGVUZXh0OiAoaW5zdGFuY2VfaWQpLT5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblx0XHRcdGlmIGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICd6aC1jbidcblx0XHRcdFx0bG9jYWxlID0gXCJ6aC1DTlwiXG5cdFx0ZWxzZVxuXHRcdFx0bG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKVxuXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VfaWR9LCB7ZmllbGRzOiB7c3RhdGU6IDEsIGlzX3JlYWQ6IDF9fSlcblx0XHRpZiBub3QgaW5zXG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXygnaW5zdGFuY2VfZGVsZXRlZCcsIHt9LCBsb2NhbGUpXG5cblx0XHR0ZXh0ID0gJydcblx0XHRpZiBpbnMuc3RhdGUgaXMgJ2NvbXBsZXRlZCdcblx0XHRcdHRleHQgPSBUQVBpMThuLl9fKCdjb21wbGV0ZWQnLCB7fSwgbG9jYWxlKVxuXHRcdGVsc2UgaWYgaW5zLnN0YXRlIGlzICdwZW5kaW5nJ1xuXHRcdFx0dGV4dCA9IFRBUGkxOG4uX18oJ3BlbmRpbmcnLCB7fSwgbG9jYWxlKVxuXHRcdGVsc2UgaWYgaW5zLnN0YXRlIGlzICdkcmFmdCdcblx0XHRcdGlmIGlucy5pc19yZWFkXG5cdFx0XHRcdHRleHQgPSBUQVBpMThuLl9fKCdpbnN0YW5jZV9hcHByb3ZlX3JlYWQnLCB7fSwgbG9jYWxlKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR0ZXh0ID0gVEFQaTE4bi5fXygnaW5zdGFuY2VfYXBwcm92ZV9ub3RfeWV0X2hhbmRsZWQnLCB7fSwgbG9jYWxlKVxuXG5cdFx0cmV0dXJuIHRleHRcblxuXHRnZXRJbnN0YW5jZVN0YXRlQ29sb3I6IChpbnN0YW5jZV9pZCktPlxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlX2lkfSwge2ZpZWxkczoge3N0YXRlOiAxLCBpc19yZWFkOiAxfX0pXG5cdFx0aWYgbm90IGluc1xuXHRcdFx0cmV0dXJuIFwiXCJcblxuXHRcdGNsYSA9ICcnXG5cdFx0aWYgaW5zLnN0YXRlIGlzICdkcmFmdCdcblx0XHRcdGlmIGlucy5pc19yZWFkXG5cdFx0XHRcdGNsYSA9ICdibHVlJ1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRjbGEgPSAncmVkJ1xuXHRcdHJldHVybiBjbGFcblxuXHRmaXJzdFRyYWNlOiAoaW5kZXgpLT5cblx0XHRyZXR1cm4gaW5kZXggaXMgMFxuXG5cdGxhc3RfZGlzdHJpYnV0ZV9mcm9tOiAoaW5zdGFuY2VfaWQpLT5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZV9pZCwgZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlOiB7JGV4aXN0czogdHJ1ZX19LHtmaWVsZHM6e2NyZWF0ZWQ6IDEsIGNyZWF0ZWRfYnk6IDF9fSlcblx0XHRpZiBpbnNcblx0XHRcdGRpc19pbmZvID0ge31cblx0XHRcdHVzZXIgPSB7fVxuXHRcdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRcdHVzZXIgPSBVVWZsb3dfYXBpLmdldE5hbWVGb3JVc2VyKGlucy5jcmVhdGVkX2J5KVxuXHRcdFx0ZWxzZSBpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdFx0dXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe19pZDogaW5zLmNyZWF0ZWRfYnl9LCB7ZmllbGRzOiB7bmFtZTogMX19KVxuXG5cdFx0XHRpZiB1c2VyLm5hbWVcblx0XHRcdFx0ZGlzX2luZm8uZnJvbV91c2VyID0gdXNlci5faWRcblx0XHRcdFx0ZGlzX2luZm8uZnJvbV91c2VyX25hbWUgPSB1c2VyLm5hbWVcblx0XHRcdFx0ZGlzX2luZm8uY3JlYXRlZCA9IGlucy5jcmVhdGVkXG5cblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoZGlzX2luZm8pXG5cdFx0XHRcdHJldHVybiBkaXNfaW5mb1xuXHRcdHJldHVyblxuXG5cdGlzQ0NPckRpc3RyaWJ1dGVPckZvcndhcmRUZXJtaW5hdGVkOiAoYXBwcm92ZSktPlxuXHRcdGlmIChhcHByb3ZlLnR5cGUgaXMgJ2NjJyBvciBhcHByb3ZlLnR5cGUgaXMgJ2Rpc3RyaWJ1dGUnIG9yIGFwcHJvdmUudHlwZSBpcyAnZm9yd2FyZCcpIGFuZCBhcHByb3ZlLmp1ZGdlIGlzICd0ZXJtaW5hdGVkJ1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRyZXR1cm4gZmFsc2VcblxuXHRqdWRnZVRlcm1pbmF0ZWQ6IChqdWRnZSktPlxuXHRcdHJldHVybiBqdWRnZSBpcyAndGVybWluYXRlZCdcblxuXHRpbnN0YW5jZUV4aXN0czogKGluc3RhbmNlX2lkKS0+XG5cdFx0cmV0dXJuICEhZGIuaW5zdGFuY2VzLmZpbmQoaW5zdGFuY2VfaWQpLmNvdW50KClcblxuXHRhZ2VudERlc2NyaXB0aW9uOiAodXNlck5hbWUpLT5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblx0XHRcdGlmIGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICd6aC1jbidcblx0XHRcdFx0bG9jYWxlID0gXCJ6aC1DTlwiXG5cdFx0ZWxzZVxuXHRcdFx0bG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKVxuXG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHt1c2VyTmFtZTogdXNlck5hbWV9LCBsb2NhbGUpXG5cdFxuXHR0cmFjZU5hbWU6IChpbnN0YW5jZV9pZCwgdHJhY2VJZCktPlxuXHRcdHJldHVybiBfLmZpbmQoZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQsIHtmaWVsZHM6IHt0cmFjZXM6IDF9fSk/LnRyYWNlcywgKHRyYWNlKS0+XG5cdFx0XHRcdFx0cmV0dXJuIHRyYWNlLl9pZCA9PSAgdHJhY2VJZFxuXHRcdCk/Lm5hbWVcblxuXHRvYmplY3RVcmw6IChvYmplY3RfbmFtZSwgcmVjb3JkX2lkLCBhcHBfaWQpLT5cblx0XHRyZXR1cm4gQ3JlYXRvci5nZXRPYmplY3RVcmwob2JqZWN0X25hbWUsIHJlY29yZF9pZCwgYXBwX2lkKVxuXG5pZiBNZXRlb3IuaXNTZXJ2ZXJcblx0VHJhY2VzVGVtcGxhdGUuaGVscGVycy5kYXRlRm9ybWF0ID0gKGRhdGUpLT5cblx0XHRpZiBkYXRlXG5cdFx0XHR1dGNPZmZzZXQgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEudXRjT2Zmc2V0XG5cdFx0XHRyZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUoZGF0ZSwgdXRjT2Zmc2V0KTtcblxuXHRUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLl90ID0gKGtleSktPlxuXHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpXG5cblx0VHJhY2VzVGVtcGxhdGUuaGVscGVycy5zaG93RGVsZXRlQnV0dG9uID0gKGFwcHJvdmVkKSAtPlxuXHRcdHJldHVybiBmYWxzZTtcblxuVHJhY2VzVGVtcGxhdGUuZXZlbnRzID1cblx0J2NsaWNrIC5jYy1hcHByb3ZlLXJlbW92ZSc6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcblx0XHRpZiBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyAqIDEgIT0gMVxuXHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgPSAxXG5cdFx0XHQkKFwiaVwiLGV2ZW50LmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKFwiZmEtc3BpblwiKVxuXHRcdFx0aW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJylcblx0XHRcdGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmVcblx0XHRcdCMgQ0FMTCDliKDpmaRhcHByb3Zl5Ye95pWw44CCXG5cdFx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIilcblx0XHRcdE1ldGVvci5jYWxsICdjY19yZW1vdmUnLCBpbnN0YW5jZUlkLCBhcHByb3ZlSWQsIChlcnIsIHJlc3VsdCkgLT5cblx0XHRcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpXG5cdFx0XHRcdGlmIGVyclxuXHRcdFx0XHRcdHRvYXN0ci5lcnJvciBlcnJcblx0XHRcdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyA9IDBcblx0XHRcdFx0XHQkKFwiaVwiLGV2ZW50LmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKFwiZmEtc3BpblwiKVxuXHRcdFx0XHRpZiByZXN1bHQgPT0gdHJ1ZVxuXHRcdFx0XHRcdHRvYXN0ci5zdWNjZXNzKFRBUGkxOG4uX18oXCJyZW1vdmVfY2NfYXBwcm92ZVwiKSk7XG5cdFx0XHRcdFx0aWYgJChcIi5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWxcIikubGVuZ3RoXG5cdFx0XHRcdFx0XHRNb2RhbC5oaWRlIFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCJcblx0XHRcdFx0cmV0dXJuXG5cdFx0XHRyZXR1cm5cblxuXHQnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWNjLWFwcHJvdmUtcmVtb3ZlJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHRpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKVxuXHRcdGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmVcblx0XHQjIENBTEwg5Yig6ZmkYXBwcm92ZeWHveaVsOOAglxuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKVxuXHRcdE1ldGVvci5jYWxsICdjY19yZW1vdmUnLCBpbnN0YW5jZUlkLCBhcHByb3ZlSWQsIChlcnIsIHJlc3VsdCkgLT5cblx0XHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKVxuXHRcdFx0aWYgZXJyXG5cdFx0XHRcdHRvYXN0ci5lcnJvciBlcnJcblx0XHRcdGlmIHJlc3VsdCA9PSB0cnVlXG5cdFx0XHRcdHRvYXN0ci5zdWNjZXNzKFRBUGkxOG4uX18oXCJyZW1vdmVfY2NfYXBwcm92ZVwiKSk7XG5cdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxuXHRcdFx0cmV0dXJuXG5cdFx0cmV0dXJuXG5cblx0J2NsaWNrIC5hcHByb3ZlLWl0ZW0sLmFwcHJvdmUtZGVzY3JpcHRpb24nOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdCMgUEPkuIrpk77mjqXlhYHorrjnm7TmjqXngrnlvIDvvIzkuI3lho3miZPlvIDnrb7mibnljobnqIvor6bnu4Zcblx0XHR1bmxlc3MgJChldmVudC50YXJnZXQpLmNsb3Nlc3QoXCJhLmJ0bi1saW5rXCIpLmxlbmd0aFxuXHRcdFx0TW9kYWwuc2hvdyBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiLCB0aGlzXG5cblx0J3RhcGhvbGQgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0IyDmiYvmnLrkuIrplb/mjInmiZPlvIDnrb7mibnljobnqIvor6bnu4bvvIzlpoLmnpzmmK/pk77mjqXplb/mjInmiZPlvIDlkI7kuIDmlL7miYvnqpflj6PlsLHlj4jlhbPmjonkuobvvIzmiYDku6XkuI3orqnpk77mjqXmiZPlvIDnrb7mibnljobnqIvor6bnu4Zcblx0XHR1bmxlc3MgJChldmVudC50YXJnZXQpLmNsb3Nlc3QoXCJhLmJ0bi1saW5rXCIpLmxlbmd0aFxuXHRcdFx0TW9kYWwuc2hvdyBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiLCB0aGlzXG5cblx0J2NsaWNrIC5hcHByb3ZlLWl0ZW0gYS5idG4tbGluaywuYXBwcm92ZS1kZXNjcmlwdGlvbiBhLmJ0bi1saW5rLC5hcHByb3ZlLWl0ZW0tZGlzdHJpYnV0ZSBhLmJ0bi1saW5rJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHQjIOaJi+acuuS4iueCueWHu+mTvuaOpe+8jOW8ueWHuuaWsOeql+WPo++8jOS4jeaUr+aMge+8jOWboOS4umFuZHJvaWTkuIrkvJrlvLnlh7rnmbvlvZXnlYzpnaJcblx0XHRpZiBTdGVlZG9zLmlzTW9iaWxlKClcblx0XHRcdHVzZXJJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0Py50YXJnZXRfdXNlcl9pZFxuXHRcdFx0Q3JlYXRvci5vcGVuU2FmZU9iamVjdFVybCgndXNlcnMnLCB1c2VySWQpXG5cblx0J3RhcGVuZCAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHQjIOS4iui/sOmVv+aMieaJk+W8gGFwcHJvdmXor6bnu4bnqpflj6PnmoTkuovku7Z0YXBob2xk5Lya6Kem5Y+R5omT5byA56qX5Y+j5ZCO55qEdG91Y2hlbmTkuovku7bvvIzpgKDmiJDplb/mjInmiZPlvIDnqpflj6PlkI7kuIDmlL7miYvnqpflj6PlsLHlj4jlhbPmjonkuoZcblx0XHQjIOi/memHjOWPquiDvemAmui/h+mYu+atonRhcGVuZOS6i+S7tijkuI3lj6/ku6XnlKh0b3VjaGVuZOS6i+S7tu+8jOWboOS4uuS8muW9seWTjXRhcGhvbGTlip/og73vvIzpgKDmiJDmsqHmnInplb/mjInmlYjmnpzml7bkuZ/kvJrop6blj5F0YXBob2xk5LqL5Lu2KeWGkuazoeadpemBv+WFjemXrumimOOAglxuXHRcdCMg6ZO+5o6l5YWB6K6455u05o6l54K55byAXG5cdFx0dW5sZXNzICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFwiYS5idG4tbGlua1wiKS5sZW5ndGhcblx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHQnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtYXBwcm92ZS1yZW1vdmUnOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpXG5cdFx0YXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZVxuXHRcdHRyYWNlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC50cmFjZVxuXHRcdCMgQ0FMTCDliKDpmaRhcHByb3Zl5Ye95pWw44CCXG5cdFx0JChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpXG5cdFx0TWV0ZW9yLmNhbGwgJ2ZvcndhcmRfcmVtb3ZlJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCAoZXJyLCByZXN1bHQpIC0+XG5cdFx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIilcblx0XHRcdGlmIGVyclxuXHRcdFx0XHR0b2FzdHIuZXJyb3IgVEFQaTE4bi5fXyhlcnIucmVhc29uKVxuXHRcdFx0aWYgcmVzdWx0ID09IHRydWVcblx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcImluc3RhbmNlX2FwcHJvdmVfZm9yd2FyZF9yZW1vdmVfc3VjY2Vzc1wiKSk7XG5cdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxuXHRcdFx0cmV0dXJuXG5cdFx0cmV0dXJuXG5cblx0J2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1mb3J3YXJkLWluc3RhbmNlLWxvb2snOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdGZvcndhcmRfc3BhY2UgPSBldmVudC50YXJnZXQuZGF0YXNldC5mb3J3YXJkc3BhY2Vcblx0XHRmb3J3YXJkX2luc3RhbmNlID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuZm9yd2FyZGluc3RhbmNlXG5cdFx0U3RlZWRvcy5vcGVuV2luZG93KFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGZvcndhcmRfc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgZm9yd2FyZF9pbnN0YW5jZSkpXG5cblx0J2NsaWNrIC5idG4tbW9kaWZpY2F0aW9uJ1x0OiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKTtcblx0XHR1bmxlc3MgU3RlZWRvcy5pc0FuZHJvaWRPcklPUygpXG5cdFx0XHRUcmFja2VyLmFmdGVyRmx1c2ggLT5cblx0XHRcdFx0IyDmmL7npLrml6Xlv5fnmoTml7blgJnmiormu5rliqjmnaHlvoDkuIvnp7vngrnvvIzorqnml6XmnJ/mjqfku7bmmL7npLrlh7rkuIDpg6jliIbvvIzku6Xpgb/lhY3nlKjmiLfnnIvkuI3liLDml6XmnJ/mjqfku7Zcblx0XHRcdFx0JChcIiNpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWwgI2ZpbmlzaF9pbnB1dFwiKS5vbiBcImRwLnNob3dcIiwgKCkgLT5cblx0XHRcdFx0XHQkKFwiLm1vZGFsLWJvZHlcIikuc2Nyb2xsVG9wKDEwMClcblxuXHQnY2xpY2sgLmJ0bi1jYW5jZWxCdXQnIDogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblxuXHRcdHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKTtcblxuXHQnY2xpY2sgLmJ0bi1zYXZlQnV0JyA6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0IyB0ZW1wbGF0ZS5pc19lZGl0aW5nLnNldCghdGVtcGxhdGUuaXNfZWRpdGluZy5nZXQoKSlcblxuXHRcdGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpXG5cdFx0YXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZVxuXHRcdHRyYWNlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC50cmFjZVxuXHRcdG9waW5pb25faW5wdXQgPSAkKCcjb3Bpbmlvbl9pbnB1dCcpLnZhbCgpXG5cdFx0ZmluaXNoX2lucHV0ID0gQXV0b0Zvcm0uZ2V0RmllbGRWYWx1ZShcImZpbmlzaF9kYXRlXCIsIFwiZmluaXNoRGF0ZUF1dG9Gb3JtXCIpXG5cblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIilcblx0XHRNZXRlb3IuY2FsbCAnY2hhbmdlX2FwcHJvdmVfaW5mbycsIGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgb3Bpbmlvbl9pbnB1dCwgZmluaXNoX2lucHV0LCAoZXJyLCByZXN1bHQpLT5cblx0XHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKVxuXHRcdFx0aWYgZXJyXG5cdFx0XHRcdHRvYXN0ci5lcnJvciBUQVBpMThuLl9fKGVyci5yZWFzb24pXG5cdFx0XHRpZiByZXN1bHQgPT0gdHJ1ZVxuXHRcdFx0XHR0b2FzdHIuc3VjY2Vzcyh0KFwiaW5zdGFuY2VfYXBwcm92ZV9tb2RhbF9tb2RpZmljYXRpb25zYXZlXCIpKVxuXHRcdFx0XHRNb2RhbC5oaWRlIFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCJcblx0XHRcdHJldHVyblxuXG5cdCdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZGlzdHJpYnV0ZS1hcHByb3ZlLXJlbW92ZSc6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0TW9kYWwuYWxsb3dNdWx0aXBsZSA9IHRydWVcblx0XHRNb2RhbC5zaG93ICdjYW5jZWxfZGlzdHJpYnV0ZV9tb2RhbCdcbiIsIlRyYWNlc1RlbXBsYXRlLmhlbHBlcnMgPSB7XG4gIGVxdWFsczogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBhID09PSBiO1xuICB9LFxuICBlbXB0eTogZnVuY3Rpb24oYSkge1xuICAgIGlmIChhKSB7XG4gICAgICByZXR1cm4gYS50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPCAxO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIHVuZW1wdHk6IGZ1bmN0aW9uKGEpIHtcbiAgICBpZiAoYSkge1xuICAgICAgcmV0dXJuIGEudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgYXBwZW5kOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgKyBiO1xuICB9LFxuICBkYXRlRm9ybWF0OiBmdW5jdGlvbihkYXRlKSB7XG4gICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSAmJiAoZGF0ZSAhPSBudWxsID8gZGF0ZS5nZXRGdWxsWWVhcigpIDogdm9pZCAwKSA9PT0gKG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpKSB7XG4gICAgICByZXR1cm4gJC5mb3JtYXQuZGF0ZShuZXcgRGF0ZShkYXRlKSwgXCJNTS1kZCBISDptbVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICQuZm9ybWF0LmRhdGUobmV3IERhdGUoZGF0ZSksIFwieXl5eS1NTS1kZCBISDptbVwiKTtcbiAgICB9XG4gIH0sXG4gIGdldFN0ZXBOYW1lOiBmdW5jdGlvbihzdGVwSWQpIHtcbiAgICB2YXIgc3RlcDtcbiAgICBzdGVwID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlU3RlcChzdGVwSWQpO1xuICAgIGlmIChzdGVwKSB7XG4gICAgICByZXR1cm4gc3RlcC5uYW1lO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgc2hvd0RlbGV0ZUJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICBpZiAoYXBwcm92ZWQgJiYgYXBwcm92ZWQudHlwZSA9PT0gJ2NjJyAmJiBhcHByb3ZlZC5mcm9tX3VzZXIgPT09IE1ldGVvci51c2VySWQoKSAmJiBhcHByb3ZlZC5pc19maW5pc2hlZCAhPT0gdHJ1ZSAmJiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBpc1Nob3dNb2RpZmljYXRpb25CdXR0b246IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgdmFyIGFwcHJvdmVfYWRtaW5zLCBpc1Nob3csIHJlZiwgcmVmMSwgcmVmMjtcbiAgICBhcHByb3ZlX2FkbWlucyA9IChyZWYgPSBNZXRlb3Iuc2V0dGluZ3MpICE9IG51bGwgPyAocmVmMSA9IHJlZltcInB1YmxpY1wiXSkgIT0gbnVsbCA/IChyZWYyID0gcmVmMS53b3JrZmxvdykgIT0gbnVsbCA/IHJlZjIuYXBwcm92ZV9hZG1pbnMgOiB2b2lkIDAgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgaWYgKGFwcHJvdmVfYWRtaW5zICE9IG51bGwgPyBhcHByb3ZlX2FkbWlucy5sZW5ndGggOiB2b2lkIDApIHtcbiAgICAgIGlzU2hvdyA9IGFwcHJvdmVfYWRtaW5zICE9IG51bGwgPyBhcHByb3ZlX2FkbWlucy5jb250YWlucyhNZXRlb3IudXNlcklkKCkpIDogdm9pZCAwO1xuICAgIH1cbiAgICBpZiAoIWlzU2hvdykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gYXBwcm92ZWQuaGFuZGxlciA9PT0gTWV0ZW9yLnVzZXJJZCgpO1xuICB9LFxuICBpc0VkaXRpbmc6IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZWY7XG4gICAgcmV0dXJuIChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLmlzX2VkaXRpbmcpICE9IG51bGwgPyByZWYuZ2V0KCkgOiB2b2lkIDA7XG4gIH0sXG4gIGlzU2hvd0Rlc2NyaXB0aW9uOiBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIHZhciByZWY7XG4gICAgaWYgKFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuaXNTaG93TW9kaWZpY2F0aW9uQnV0dG9uKGFwcHJvdmVkKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiAoKHJlZiA9IGFwcHJvdmVkLmRlc2NyaXB0aW9uKSAhPSBudWxsID8gcmVmLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA6IHZvaWQgMCkgPiAwO1xuICB9LFxuICBpc0NDOiBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIGlmIChhcHByb3ZlZCAmJiBhcHByb3ZlZC50eXBlID09PSAnY2MnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBnZXRBcHByb3ZlU3RhdHVzSWNvbjogZnVuY3Rpb24oYXBwcm92ZUp1ZGdlLCBhdXRvU3VibWl0dGVkKSB7XG4gICAgdmFyIGFwcHJvdmVTdGF0dXNJY29uO1xuICAgIGlmIChhdXRvU3VibWl0dGVkID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gJ2lvbiBpb24tYW5kcm9pZC1hbGFybS1jbG9jayc7XG4gICAgfVxuICAgIGFwcHJvdmVTdGF0dXNJY29uID0gdm9pZCAwO1xuICAgIHN3aXRjaCAoYXBwcm92ZUp1ZGdlKSB7XG4gICAgICBjYXNlICdhcHByb3ZlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tY2hlY2ttYXJrLXJvdW5kJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWplY3RlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tY2xvc2Utcm91bmQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3Rlcm1pbmF0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzSWNvbiA9ICdmYSBmYS1iYW4nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlYXNzaWduZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWFuZHJvaWQtY29udGFjdCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVsb2NhdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1hcnJvdy1zaHJpbmsnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JldHJpZXZlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2ZhIGZhLXVuZG8nO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJyc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gYXBwcm92ZVN0YXR1c0ljb247XG4gIH0sXG4gIGdldEFwcHJvdmVTdGF0dXNUZXh0OiBmdW5jdGlvbihhcHByb3ZlSnVkZ2UsIGF1dG9TdWJtaXR0ZWQpIHtcbiAgICB2YXIgYXBwcm92ZVN0YXR1c1RleHQsIGxvY2FsZTtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgICAgaWYgKGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSAnemgtY24nKSB7XG4gICAgICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKTtcbiAgICB9XG4gICAgaWYgKGF1dG9TdWJtaXR0ZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBUQVBpMThuLl9fKCdpbnN0YW5jZV9hcHByb3ZlX3RpbWVvdXRfYXV0b19zdWJtaXR0ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICB9XG4gICAgYXBwcm92ZVN0YXR1c1RleHQgPSB2b2lkIDA7XG4gICAgc3dpdGNoIChhcHByb3ZlSnVkZ2UpIHtcbiAgICAgIGNhc2UgJ2FwcHJvdmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSBhcHByb3ZlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlamVjdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWplY3RlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3Rlcm1pbmF0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHRlcm1pbmF0ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWFzc2lnbmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWFzc2lnbmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVsb2NhdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWxvY2F0ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZXRyaWV2ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJldHJpZXZlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JldHVybmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZXR1cm5lZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlYWRlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmVhZGVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSAnJztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlU3RhdHVzVGV4dDtcbiAgfSxcbiAgZ2V0QXBwcm92ZUp1ZGdlQ2xhc3M6IGZ1bmN0aW9uKGFwcHJvdmVKdWRnZSwgYXV0b1N1Ym1pdHRlZCkge1xuICAgIGlmIChhdXRvU3VibWl0dGVkID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gJ2F1dG9TdWJtaXR0ZWQnO1xuICAgIH1cbiAgICByZXR1cm4gYXBwcm92ZUp1ZGdlO1xuICB9LFxuICBfdDogZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5KTtcbiAgfSxcbiAgbXlBcHByb3ZlRGVzY3JpcHRpb246IGZ1bmN0aW9uKGFwcHJvdmVJZCkge1xuICAgIHZhciBteUFwcHJvdmUsIHJlZiwgcmVmMTtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgbXlBcHByb3ZlID0gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5teUFwcHJvdmUpICE9IG51bGwgPyByZWYxLmdldCgpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICBpZiAobXlBcHByb3ZlICYmIG15QXBwcm92ZS5pZCA9PT0gYXBwcm92ZUlkKSB7XG4gICAgICAgICAgaWYgKCFTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIikpIHtcbiAgICAgICAgICAgIHJldHVybiAobXlBcHByb3ZlICE9IG51bGwgPyBteUFwcHJvdmUuZGVzY3JpcHRpb24gOiB2b2lkIDApIHx8IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGlzRm9yd2FyZDogZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICBpZiAoYXBwcm92ZWQgJiYgYXBwcm92ZWQudHlwZSA9PT0gJ2ZvcndhcmQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBzaG93Rm9yd2FyZERlbGV0ZUJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIGlmIChkYi5pbnN0YW5jZXMuZmluZChhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2UpLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGFwcHJvdmUgJiYgYXBwcm92ZS50eXBlID09PSAnZm9yd2FyZCcgJiYgYXBwcm92ZS5mcm9tX3VzZXIgPT09IE1ldGVvci51c2VySWQoKSAmJiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpICYmIGFwcHJvdmUuanVkZ2UgIT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgbWFya0Rvd25Ub0h0bWw6IGZ1bmN0aW9uKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgdmFyIHJlbmRlcmVyO1xuICAgIGlmIChtYXJrRG93blN0cmluZykge1xuICAgICAgcmVuZGVyZXIgPSBuZXcgTWFya2Rvd24uUmVuZGVyZXIoKTtcbiAgICAgIHJlbmRlcmVyLmxpbmsgPSBmdW5jdGlvbihocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgICAgICByZXR1cm4gXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nXCIgKyBocmVmICsgXCInIHRpdGxlPSdcIiArIHRpdGxlICsgXCInPlwiICsgdGV4dCArIFwiPC9hPlwiO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge1xuICAgICAgICByZW5kZXJlcjogcmVuZGVyZXJcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sXG4gIGlzRGlzdHJpYnV0ZTogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIGlmIChhcHByb3ZlICYmIGFwcHJvdmUudHlwZSA9PT0gJ2Rpc3RyaWJ1dGUnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBzaG93RGlzdHJpYnV0ZURlbGV0ZUJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIHZhciBpbnM7XG4gICAgaWYgKGRiLmluc3RhbmNlcy5maW5kKGFwcHJvdmUuZm9yd2FyZF9pbnN0YW5jZSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYXBwcm92ZSAmJiBhcHByb3ZlLnR5cGUgPT09ICdkaXN0cmlidXRlJyAmJiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpICYmIGFwcHJvdmUuanVkZ2UgIT09ICd0ZXJtaW5hdGVkJyAmJiBTdGVlZG9zLmhhc0ZlYXR1cmUoJ2ZpbGVfZGlzdHJpYnV0aW9uJywgU3RlZWRvcy5nZXRTcGFjZUlkKCkpKSB7XG4gICAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogYXBwcm92ZS5pbnN0YW5jZVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmbG93OiAxLFxuICAgICAgICAgIHNwYWNlOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGlucyAmJiBpbnMuZmxvdyAmJiBpbnMuc3BhY2UpIHtcbiAgICAgICAgaWYgKFdvcmtmbG93TWFuYWdlci5oYXNGbG93QWRtaW5QZXJtaXNzaW9uKGlucy5mbG93LCBpbnMuc3BhY2UsIE1ldGVvci51c2VySWQoKSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGFwcHJvdmUuZnJvbV91c2VyID09PSBNZXRlb3IudXNlcklkKCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgZmluaXNoRGF0ZVNjaGVtYTogZnVuY3Rpb24oKSB7XG4gICAgaWYgKFN0ZWVkb3MuaXNBbmRyb2lkT3JJT1MoKSkge1xuICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoe1xuICAgICAgICBmaW5pc2hfZGF0ZToge1xuICAgICAgICAgIGF1dG9mb3JtOiB7XG4gICAgICAgICAgICB0eXBlOiBcImRhdGV0aW1lLWxvY2FsXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9wdGlvbmFsOiBmYWxzZSxcbiAgICAgICAgICB0eXBlOiBEYXRlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYSh7XG4gICAgICAgIGZpbmlzaF9kYXRlOiB7XG4gICAgICAgICAgYXV0b2Zvcm06IHtcbiAgICAgICAgICAgIHR5cGU6IFwiYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyXCIsXG4gICAgICAgICAgICByZWFkb25seTogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGVUaW1lUGlja2VyT3B0aW9uczoge1xuICAgICAgICAgICAgICBmb3JtYXQ6IFwiWVlZWS1NTS1ERCBISDptbVwiLFxuICAgICAgICAgICAgICBpZ25vcmVSZWFkb25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgbG9jYWxlOiBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpLFxuICAgICAgICAgICAgICB3aWRnZXRQb3NpdGlvbmluZzoge1xuICAgICAgICAgICAgICAgIGhvcml6b250YWw6ICdyaWdodCdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3B0aW9uYWw6IGZhbHNlLFxuICAgICAgICAgIHR5cGU6IERhdGVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBmaW5pc2hEYXRlVmFsdWVzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZmluaXNoX2RhdGU6IHRoaXMuZmluaXNoX2RhdGVcbiAgICB9O1xuICB9LFxuXG4gIC8qXG4gICAgIFx05q2k5Ye95pWw55So5LqO5o6n5Yi25piv5ZCm5pi+56S6dHJhY2VzIHZpZXdcbiAgICAgXHR0cnVlOiDmmL7npLp0cmFjZXMgdmlldyznrb7moLjljobnqIvmjInpkq7ngrnlh7vlkI7mmK/nm7TmjqXlrprkvY3liLB0cmFjZXMgdmlld1xuICAgICBcdGZhbHNlOiDkuI3mmL7npLp0cmFjZXMgdmlld++8jOetvuaguOWOhueoi+aMiemSrueCueWHu+WQjizku6VNb2RhbCDmlrnlvI/mmL7npLp0cmFjZXMgdmlld1xuICAgKi9cbiAgc2hvd1RyYWNlc1ZpZXc6IGZ1bmN0aW9uKGZvcm0sIGZvcm1fdmVyc2lvbikge1xuICAgIHZhciByZWYsIHNob3dfbW9kYWxfdHJhY2VzX2xpc3Q7XG4gICAgc2hvd19tb2RhbF90cmFjZXNfbGlzdCA9ICgocmVmID0gZGIuc3BhY2Vfc2V0dGluZ3MuZmluZE9uZSh7XG4gICAgICBzcGFjZTogU2Vzc2lvbi5nZXQoXCJzcGFjZUlkXCIpLFxuICAgICAga2V5OiBcInNob3dfbW9kYWxfdHJhY2VzX2xpc3RcIlxuICAgIH0pKSAhPSBudWxsID8gcmVmLnZhbHVlcyA6IHZvaWQgMCkgfHwgZmFsc2U7XG4gICAgcmV0dXJuICFzaG93X21vZGFsX3RyYWNlc19saXN0O1xuICB9LFxuICBnZXRJbnN0YW5jZVN0YXRlVGV4dDogZnVuY3Rpb24oaW5zdGFuY2VfaWQpIHtcbiAgICB2YXIgaW5zLCBsb2NhbGUsIHRleHQ7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICAgIGlmIChsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gJ3poLWNuJykge1xuICAgICAgICBsb2NhbGUgPSBcInpoLUNOXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIik7XG4gICAgfVxuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGlzX3JlYWQ6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWlucykge1xuICAgICAgcmV0dXJuIFRBUGkxOG4uX18oJ2luc3RhbmNlX2RlbGV0ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICB9XG4gICAgdGV4dCA9ICcnO1xuICAgIGlmIChpbnMuc3RhdGUgPT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICB0ZXh0ID0gVEFQaTE4bi5fXygnY29tcGxldGVkJywge30sIGxvY2FsZSk7XG4gICAgfSBlbHNlIGlmIChpbnMuc3RhdGUgPT09ICdwZW5kaW5nJykge1xuICAgICAgdGV4dCA9IFRBUGkxOG4uX18oJ3BlbmRpbmcnLCB7fSwgbG9jYWxlKTtcbiAgICB9IGVsc2UgaWYgKGlucy5zdGF0ZSA9PT0gJ2RyYWZ0Jykge1xuICAgICAgaWYgKGlucy5pc19yZWFkKSB7XG4gICAgICAgIHRleHQgPSBUQVBpMThuLl9fKCdpbnN0YW5jZV9hcHByb3ZlX3JlYWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRleHQgPSBUQVBpMThuLl9fKCdpbnN0YW5jZV9hcHByb3ZlX25vdF95ZXRfaGFuZGxlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbiAgfSxcbiAgZ2V0SW5zdGFuY2VTdGF0ZUNvbG9yOiBmdW5jdGlvbihpbnN0YW5jZV9pZCkge1xuICAgIHZhciBjbGEsIGlucztcbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICBpc19yZWFkOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnMpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBjbGEgPSAnJztcbiAgICBpZiAoaW5zLnN0YXRlID09PSAnZHJhZnQnKSB7XG4gICAgICBpZiAoaW5zLmlzX3JlYWQpIHtcbiAgICAgICAgY2xhID0gJ2JsdWUnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xhID0gJ3JlZCc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjbGE7XG4gIH0sXG4gIGZpcnN0VHJhY2U6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgcmV0dXJuIGluZGV4ID09PSAwO1xuICB9LFxuICBsYXN0X2Rpc3RyaWJ1dGVfZnJvbTogZnVuY3Rpb24oaW5zdGFuY2VfaWQpIHtcbiAgICB2YXIgZGlzX2luZm8sIGlucywgdXNlcjtcbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkLFxuICAgICAgZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlOiB7XG4gICAgICAgICRleGlzdHM6IHRydWVcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgY3JlYXRlZDogMSxcbiAgICAgICAgY3JlYXRlZF9ieTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnMpIHtcbiAgICAgIGRpc19pbmZvID0ge307XG4gICAgICB1c2VyID0ge307XG4gICAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICAgIHVzZXIgPSBVVWZsb3dfYXBpLmdldE5hbWVGb3JVc2VyKGlucy5jcmVhdGVkX2J5KTtcbiAgICAgIH0gZWxzZSBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICAgIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICBfaWQ6IGlucy5jcmVhdGVkX2J5XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHVzZXIubmFtZSkge1xuICAgICAgICBkaXNfaW5mby5mcm9tX3VzZXIgPSB1c2VyLl9pZDtcbiAgICAgICAgZGlzX2luZm8uZnJvbV91c2VyX25hbWUgPSB1c2VyLm5hbWU7XG4gICAgICAgIGRpc19pbmZvLmNyZWF0ZWQgPSBpbnMuY3JlYXRlZDtcbiAgICAgIH1cbiAgICAgIGlmICghXy5pc0VtcHR5KGRpc19pbmZvKSkge1xuICAgICAgICByZXR1cm4gZGlzX2luZm87XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBpc0NDT3JEaXN0cmlidXRlT3JGb3J3YXJkVGVybWluYXRlZDogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIGlmICgoYXBwcm92ZS50eXBlID09PSAnY2MnIHx8IGFwcHJvdmUudHlwZSA9PT0gJ2Rpc3RyaWJ1dGUnIHx8IGFwcHJvdmUudHlwZSA9PT0gJ2ZvcndhcmQnKSAmJiBhcHByb3ZlLmp1ZGdlID09PSAndGVybWluYXRlZCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGp1ZGdlVGVybWluYXRlZDogZnVuY3Rpb24oanVkZ2UpIHtcbiAgICByZXR1cm4ganVkZ2UgPT09ICd0ZXJtaW5hdGVkJztcbiAgfSxcbiAgaW5zdGFuY2VFeGlzdHM6IGZ1bmN0aW9uKGluc3RhbmNlX2lkKSB7XG4gICAgcmV0dXJuICEhZGIuaW5zdGFuY2VzLmZpbmQoaW5zdGFuY2VfaWQpLmNvdW50KCk7XG4gIH0sXG4gIGFnZW50RGVzY3JpcHRpb246IGZ1bmN0aW9uKHVzZXJOYW1lKSB7XG4gICAgdmFyIGxvY2FsZTtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgICAgaWYgKGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSAnemgtY24nKSB7XG4gICAgICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHtcbiAgICAgIHVzZXJOYW1lOiB1c2VyTmFtZVxuICAgIH0sIGxvY2FsZSk7XG4gIH0sXG4gIHRyYWNlTmFtZTogZnVuY3Rpb24oaW5zdGFuY2VfaWQsIHRyYWNlSWQpIHtcbiAgICB2YXIgcmVmLCByZWYxO1xuICAgIHJldHVybiAocmVmID0gXy5maW5kKChyZWYxID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQsIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICB0cmFjZXM6IDFcbiAgICAgIH1cbiAgICB9KSkgIT0gbnVsbCA/IHJlZjEudHJhY2VzIDogdm9pZCAwLCBmdW5jdGlvbih0cmFjZSkge1xuICAgICAgcmV0dXJuIHRyYWNlLl9pZCA9PT0gdHJhY2VJZDtcbiAgICB9KSkgIT0gbnVsbCA/IHJlZi5uYW1lIDogdm9pZCAwO1xuICB9LFxuICBvYmplY3RVcmw6IGZ1bmN0aW9uKG9iamVjdF9uYW1lLCByZWNvcmRfaWQsIGFwcF9pZCkge1xuICAgIHJldHVybiBDcmVhdG9yLmdldE9iamVjdFVybChvYmplY3RfbmFtZSwgcmVjb3JkX2lkLCBhcHBfaWQpO1xuICB9XG59O1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICB2YXIgdXRjT2Zmc2V0O1xuICAgIGlmIChkYXRlKSB7XG4gICAgICB1dGNPZmZzZXQgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEudXRjT2Zmc2V0O1xuICAgICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5mb3JtYXREYXRlKGRhdGUsIHV0Y09mZnNldCk7XG4gICAgfVxuICB9O1xuICBUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLl90ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIGxvY2FsZTtcbiAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgIHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSk7XG4gIH07XG4gIFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuc2hvd0RlbGV0ZUJ1dHRvbiA9IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xufVxuXG5UcmFjZXNUZW1wbGF0ZS5ldmVudHMgPSB7XG4gICdjbGljayAuY2MtYXBwcm92ZS1yZW1vdmUnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB2YXIgYXBwcm92ZUlkLCBpbnN0YW5jZUlkO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyAqIDEgIT09IDEpIHtcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYWxsaW5nID0gMTtcbiAgICAgICQoXCJpXCIsIGV2ZW50LmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKFwiZmEtc3BpblwiKTtcbiAgICAgIGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpO1xuICAgICAgYXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZTtcbiAgICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKTtcbiAgICAgIE1ldGVvci5jYWxsKCdjY19yZW1vdmUnLCBpbnN0YW5jZUlkLCBhcHByb3ZlSWQsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKTtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHRvYXN0ci5lcnJvcihlcnIpO1xuICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYWxsaW5nID0gMDtcbiAgICAgICAgICAkKFwiaVwiLCBldmVudC5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcyhcImZhLXNwaW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFRBUGkxOG4uX18oXCJyZW1vdmVfY2NfYXBwcm92ZVwiKSk7XG4gICAgICAgICAgaWYgKCQoXCIuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsXCIpLmxlbmd0aCkge1xuICAgICAgICAgICAgTW9kYWwuaGlkZShcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgJ2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1jYy1hcHByb3ZlLXJlbW92ZSc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHZhciBhcHByb3ZlSWQsIGluc3RhbmNlSWQ7XG4gICAgaW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJyk7XG4gICAgYXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZTtcbiAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgTWV0ZW9yLmNhbGwoJ2NjX3JlbW92ZScsIGluc3RhbmNlSWQsIGFwcHJvdmVJZCwgZnVuY3Rpb24oZXJyLCByZXN1bHQpIHtcbiAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKTtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgdG9hc3RyLmVycm9yKGVycik7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIHRvYXN0ci5zdWNjZXNzKFRBUGkxOG4uX18oXCJyZW1vdmVfY2NfYXBwcm92ZVwiKSk7XG4gICAgICAgIE1vZGFsLmhpZGUoXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gICdjbGljayAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgaWYgKCEkKGV2ZW50LnRhcmdldCkuY2xvc2VzdChcImEuYnRuLWxpbmtcIikubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gTW9kYWwuc2hvdyhcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiLCB0aGlzKTtcbiAgICB9XG4gIH0sXG4gICd0YXBob2xkIC5hcHByb3ZlLWl0ZW0sLmFwcHJvdmUtZGVzY3JpcHRpb24nOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICBpZiAoISQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFwiYS5idG4tbGlua1wiKS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBNb2RhbC5zaG93KFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIsIHRoaXMpO1xuICAgIH1cbiAgfSxcbiAgJ2NsaWNrIC5hcHByb3ZlLWl0ZW0gYS5idG4tbGluaywuYXBwcm92ZS1kZXNjcmlwdGlvbiBhLmJ0bi1saW5rLC5hcHByb3ZlLWl0ZW0tZGlzdHJpYnV0ZSBhLmJ0bi1saW5rJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIHJlZiwgdXNlcklkO1xuICAgIGlmIChTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICAgIHVzZXJJZCA9IChyZWYgPSBldmVudC50YXJnZXQuZGF0YXNldCkgIT0gbnVsbCA/IHJlZi50YXJnZXRfdXNlcl9pZCA6IHZvaWQgMDtcbiAgICAgIHJldHVybiBDcmVhdG9yLm9wZW5TYWZlT2JqZWN0VXJsKCd1c2VycycsIHVzZXJJZCk7XG4gICAgfVxuICB9LFxuICAndGFwZW5kIC5hcHByb3ZlLWl0ZW0sLmFwcHJvdmUtZGVzY3JpcHRpb24nOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICBpZiAoISQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFwiYS5idG4tbGlua1wiKS5sZW5ndGgpIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gICdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZm9yd2FyZC1hcHByb3ZlLXJlbW92ZSc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHZhciBhcHByb3ZlSWQsIGluc3RhbmNlSWQsIHRyYWNlSWQ7XG4gICAgaW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJyk7XG4gICAgYXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZTtcbiAgICB0cmFjZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQudHJhY2U7XG4gICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgIE1ldGVvci5jYWxsKCdmb3J3YXJkX3JlbW92ZScsIGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgZnVuY3Rpb24oZXJyLCByZXN1bHQpIHtcbiAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKTtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgdG9hc3RyLmVycm9yKFRBUGkxOG4uX18oZXJyLnJlYXNvbikpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICB0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwiaW5zdGFuY2VfYXBwcm92ZV9mb3J3YXJkX3JlbW92ZV9zdWNjZXNzXCIpKTtcbiAgICAgICAgTW9kYWwuaGlkZShcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgJ2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1mb3J3YXJkLWluc3RhbmNlLWxvb2snOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB2YXIgZm9yd2FyZF9pbnN0YW5jZSwgZm9yd2FyZF9zcGFjZTtcbiAgICBmb3J3YXJkX3NwYWNlID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuZm9yd2FyZHNwYWNlO1xuICAgIGZvcndhcmRfaW5zdGFuY2UgPSBldmVudC50YXJnZXQuZGF0YXNldC5mb3J3YXJkaW5zdGFuY2U7XG4gICAgcmV0dXJuIFN0ZWVkb3Mub3BlbldpbmRvdyhTdGVlZG9zLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIgKyBmb3J3YXJkX3NwYWNlICsgXCIvdmlldy9yZWFkb25seS9cIiArIGZvcndhcmRfaW5zdGFuY2UpKTtcbiAgfSxcbiAgJ2NsaWNrIC5idG4tbW9kaWZpY2F0aW9uJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpO1xuICAgIGlmICghU3RlZWRvcy5pc0FuZHJvaWRPcklPUygpKSB7XG4gICAgICByZXR1cm4gVHJhY2tlci5hZnRlckZsdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJChcIiNpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWwgI2ZpbmlzaF9pbnB1dFwiKS5vbihcImRwLnNob3dcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuICQoXCIubW9kYWwtYm9keVwiKS5zY3JvbGxUb3AoMTAwKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gICdjbGljayAuYnRuLWNhbmNlbEJ1dCc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHJldHVybiB0ZW1wbGF0ZS5pc19lZGl0aW5nLnNldCghdGVtcGxhdGUuaXNfZWRpdGluZy5nZXQoKSk7XG4gIH0sXG4gICdjbGljayAuYnRuLXNhdmVCdXQnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB2YXIgYXBwcm92ZUlkLCBmaW5pc2hfaW5wdXQsIGluc3RhbmNlSWQsIG9waW5pb25faW5wdXQsIHRyYWNlSWQ7XG4gICAgaW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJyk7XG4gICAgYXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZTtcbiAgICB0cmFjZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQudHJhY2U7XG4gICAgb3Bpbmlvbl9pbnB1dCA9ICQoJyNvcGluaW9uX2lucHV0JykudmFsKCk7XG4gICAgZmluaXNoX2lucHV0ID0gQXV0b0Zvcm0uZ2V0RmllbGRWYWx1ZShcImZpbmlzaF9kYXRlXCIsIFwiZmluaXNoRGF0ZUF1dG9Gb3JtXCIpO1xuICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKTtcbiAgICByZXR1cm4gTWV0ZW9yLmNhbGwoJ2NoYW5nZV9hcHByb3ZlX2luZm8nLCBpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIG9waW5pb25faW5wdXQsIGZpbmlzaF9pbnB1dCwgZnVuY3Rpb24oZXJyLCByZXN1bHQpIHtcbiAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKTtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgdG9hc3RyLmVycm9yKFRBUGkxOG4uX18oZXJyLnJlYXNvbikpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICB0b2FzdHIuc3VjY2Vzcyh0KFwiaW5zdGFuY2VfYXBwcm92ZV9tb2RhbF9tb2RpZmljYXRpb25zYXZlXCIpKTtcbiAgICAgICAgTW9kYWwuaGlkZShcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgJ2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1kaXN0cmlidXRlLWFwcHJvdmUtcmVtb3ZlJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgTW9kYWwuYWxsb3dNdWx0aXBsZSA9IHRydWU7XG4gICAgcmV0dXJuIE1vZGFsLnNob3coJ2NhbmNlbF9kaXN0cmlidXRlX21vZGFsJyk7XG4gIH1cbn07XG4iLCJSZWxhdGVkSW5zdGFuY2VzLmhlbHBlcnMgPVxuXHRzaG93UmVsYXRlZEluc3RhY2VzOiAtPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0ZWxzZVxuXHRcdFx0aW5zID0gdGhpcy5pbnN0YW5jZVxuXHRcdGlmIGlucz8ucmVsYXRlZF9pbnN0YW5jZXMgJiYgXy5pc0FycmF5KGlucz8ucmVsYXRlZF9pbnN0YW5jZXMpXG5cdFx0XHRpZiBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiB7JGluOiBpbnMucmVsYXRlZF9pbnN0YW5jZXN9fSwge2ZpZWxkczoge3NwYWNlOiAxLCBuYW1lOiAxfX0pLmNvdW50KCkgPiAwXG5cdFx0XHRcdHJldHVybiB0cnVlXG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRyZWxhdGVkX2luc3RhY2VzOiAtPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0ZWxzZVxuXHRcdFx0aW5zID0gdGhpcy5pbnN0YW5jZVxuXHRcdGlmIGlucz8ucmVsYXRlZF9pbnN0YW5jZXMgJiYgXy5pc0FycmF5KGlucz8ucmVsYXRlZF9pbnN0YW5jZXMpXG5cdFx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbjogaW5zLnJlbGF0ZWRfaW5zdGFuY2VzfX0sIHtmaWVsZHM6IHtzcGFjZTogMSwgbmFtZTogMX19KS5mZXRjaCgpXG5cblx0cmVsYXRlZF9pbnN0YWNlX3VybDogKGlucykgLT5cblxuXHRcdGlmIE1ldGVvci5pc0NsaWVudCAmJiAoU3RlZWRvcy5pc01vYmlsZSgpIHx8IFN0ZWVkb3MuaXNDb3Jkb3ZhKCkpXG5cdFx0XHRyZXR1cm4gJydcblxuXHRcdGFic29sdXRlID0gZmFsc2VcblxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdFx0YWJzb2x1dGUgPSB0aGlzLmFic29sdXRlXG5cdFx0aWYgYWJzb2x1dGVcblx0XHRcdHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIitpbnMuc3BhY2UrXCIvdmlldy9yZWFkb25seS9cIiArIGlucy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBTdGVlZG9zLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIraW5zLnNwYWNlK1wiL3ZpZXcvcmVhZG9ubHkvXCIgKyBpbnMuX2lkICsgJz9oaWRlX3RyYWNlcz0wJylcblxuXHRfdDogKGtleSktPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5KVxuXHRcdGVsc2Vcblx0XHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblx0XHRcdHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSlcblxuXHRzaG93X2RlbGV0ZTogKCktPlxuXHRcdGlmICFNZXRlb3IuaXNDbGllbnRcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdGVsc2Vcblx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09IFwiZHJhZnRcIiB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXG5cdFx0XHRcdGN1cnJlbnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpXG5cdFx0XHRcdGlmIGN1cnJlbnRfc3RlcFxuXHRcdFx0XHRcdGlmIChjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggfHwgY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdHJ1ZSB8fCBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PSB1bmRlZmluZWQpXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZSIsIlJlbGF0ZWRJbnN0YW5jZXMuaGVscGVycyA9IHtcbiAgc2hvd1JlbGF0ZWRJbnN0YWNlczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlucztcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zID0gdGhpcy5pbnN0YW5jZTtcbiAgICB9XG4gICAgaWYgKChpbnMgIT0gbnVsbCA/IGlucy5yZWxhdGVkX2luc3RhbmNlcyA6IHZvaWQgMCkgJiYgXy5pc0FycmF5KGlucyAhPSBudWxsID8gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIDogdm9pZCAwKSkge1xuICAgICAgaWYgKGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgJGluOiBpbnMucmVsYXRlZF9pbnN0YW5jZXNcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICBuYW1lOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmNvdW50KCkgPiAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICByZWxhdGVkX2luc3RhY2VzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnMgPSB0aGlzLmluc3RhbmNlO1xuICAgIH1cbiAgICBpZiAoKGlucyAhPSBudWxsID8gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIDogdm9pZCAwKSAmJiBfLmlzQXJyYXkoaW5zICE9IG51bGwgPyBpbnMucmVsYXRlZF9pbnN0YW5jZXMgOiB2b2lkIDApKSB7XG4gICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGlucy5yZWxhdGVkX2luc3RhbmNlc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICB9XG4gIH0sXG4gIHJlbGF0ZWRfaW5zdGFjZV91cmw6IGZ1bmN0aW9uKGlucykge1xuICAgIHZhciBhYnNvbHV0ZTtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50ICYmIChTdGVlZG9zLmlzTW9iaWxlKCkgfHwgU3RlZWRvcy5pc0NvcmRvdmEoKSkpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgYWJzb2x1dGUgPSBmYWxzZTtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBhYnNvbHV0ZSA9IHRoaXMuYWJzb2x1dGU7XG4gICAgfVxuICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgcmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgaW5zLnNwYWNlICsgXCIvdmlldy9yZWFkb25seS9cIiArIGlucy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGlucy5zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBpbnMuX2lkICsgJz9oaWRlX3RyYWNlcz0wJyk7XG4gICAgfVxuICB9LFxuICBfdDogZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIGxvY2FsZTtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKTtcbiAgICB9XG4gIH0sXG4gIHNob3dfZGVsZXRlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgY3VycmVudF9zdGVwO1xuICAgIGlmICghTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gXCJkcmFmdFwiIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgIGN1cnJlbnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuICAgICAgICBpZiAoY3VycmVudF9zdGVwKSB7XG4gICAgICAgICAgaWYgKGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCB8fCBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PT0gdHJ1ZSB8fCBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG4iLCJSZWxhdGVkUmVjb3Jkcy5oZWxwZXJzID1cblx0c2hvd1JlbGF0ZWRSZWNvcmRzOiAoKS0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRlbHNlXG5cdFx0XHRpbnMgPSB0aGlzLmluc3RhbmNlXG5cdFx0aWYgIWluc1xuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0cmV0dXJuICFfLmlzRW1wdHkoaW5zLnJlY29yZF9pZHMpIiwiUmVsYXRlZFJlY29yZHMuaGVscGVycyA9IHtcbiAgc2hvd1JlbGF0ZWRSZWNvcmRzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnMgPSB0aGlzLmluc3RhbmNlO1xuICAgIH1cbiAgICBpZiAoIWlucykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gIV8uaXNFbXB0eShpbnMucmVjb3JkX2lkcyk7XG4gIH1cbn07XG4iLCJEZXNpZ25lckFQSSA9XG5cblx0Z2V0QWJzb2x1dGVVcmw6ICh1cmwpLT5cblx0XHRyb290VXJsID0gaWYgX19tZXRlb3JfcnVudGltZV9jb25maWdfXyB0aGVuIF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVggZWxzZSBcIlwiXG5cdFx0aWYgcm9vdFVybFxuXHRcdFx0dXJsID0gcm9vdFVybCArIHVybFxuXHRcdHJldHVybiB1cmw7XG5cblx0d3JpdGVSZXNwb25zZTogKHJlcywgaHR0cENvZGUsIGJvZHkpLT5cblx0XHRyZXMuc3RhdHVzQ29kZSA9IGh0dHBDb2RlO1xuXHRcdHJlcy5lbmQoYm9keSk7XG5cdFx0XG5cdHNlbmRJbnZhbGlkVVJMUmVzcG9uc2U6IChyZXMpLT5cblx0XHRyZXR1cm4gQHdyaXRlUmVzcG9uc2UocmVzLCA0MDQsIFwidGhlIHBhcmFtICd1cmwnIGlzIHJlcXVpcmVkIGFzIHF1ZXJ5cy5cIik7XG5cdFx0XG5cdHNlbmRBdXRoVG9rZW5FeHBpcmVkUmVzcG9uc2U6IChyZXMpLT5cblx0XHRyZXR1cm4gQHdyaXRlUmVzcG9uc2UocmVzLCA0MDEsIFwidGhlIGF1dGhfdG9rZW4gaGFzIGV4cGlyZWQuXCIpO1xuXG5cdHNlbmRIdG1sUmVzcG9uc2U6IChyZXEsIHJlcywgdHlwZSktPlxuXHRcdHF1ZXJ5ID0gcmVxLnF1ZXJ5XG5cdFx0dXJsID0gcXVlcnkudXJsXG5cblx0XHRpZiB1cmxcblx0XHRcdHVybCA9IGRlY29kZVVSSUNvbXBvbmVudCh1cmwpXG5cdFx0ZWxzZVxuXHRcdFx0RGVzaWduZXJBUEkuc2VuZEludmFsaWRVUkxSZXNwb25zZSByZXNcblx0XHRcblx0XHR0aXRsZSA9IHF1ZXJ5LnRpdGxlXG5cdFx0aWYgdGl0bGVcblx0XHRcdHRpdGxlID0gZGVjb2RlVVJJQ29tcG9uZW50KHRpdGxlKVxuXHRcdGVsc2Vcblx0XHRcdHRpdGxlID0gXCJTdGVlZG9zIERlc2lnbmVyXCJcblx0XHRcblx0XHRlcnJvcl9tc2cgPSBcIlwiXG5cblx0XHRyZXR1cm4gQHdyaXRlUmVzcG9uc2UgcmVzLCAyMDAsIFwiXCJcIlxuXHRcdFx0PGh0bWw+XG5cdFx0XHRcdDxoZWFkPlxuXHRcdFx0XHRcdDxzdHlsZT5cblx0XHRcdFx0XHRcdGh0bWwsYm9keXtcblx0XHRcdFx0XHRcdFx0bWFyZ2luOiAwO1xuXHRcdFx0XHRcdFx0XHRwYWRkaW5nOiAwO1xuXHRcdFx0XHRcdFx0XHRoZWlnaHQ6IDEwMCU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRib2R5IHsgXG5cdFx0XHRcdFx0XHRcdGZvbnQtZmFtaWx5OiAnU291cmNlIFNhbnMgUHJvJywgJ0hlbHZldGljYSBOZXVlJywgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjtcblx0XHRcdFx0XHRcdFx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHRcdFx0XHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0LmxvYWRpbmd7XG5cdFx0XHRcdFx0XHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0XHRcdFx0XHRcdFx0bGVmdDogMHB4O1xuXHRcdFx0XHRcdFx0XHRyaWdodDogMHB4O1xuXHRcdFx0XHRcdFx0XHR0b3A6IDUwJTtcblx0XHRcdFx0XHRcdFx0ei1pbmRleDogLTE7Lyrorr7nva7kuLotMe+8jOWPr+S7peWcqGlmcmFtZeWKoOi9veWHuuadpeWQjuiHquWKqOa2iOWksSovXG5cdFx0XHRcdFx0XHRcdHRleHQtYWxpZ246IGNlbnRlcjtcblx0XHRcdFx0XHRcdFx0bWFyZ2luLXRvcDogLTMwcHg7XG5cdFx0XHRcdFx0XHRcdGZvbnQtc2l6ZTogMzZweDtcblx0XHRcdFx0XHRcdFx0Y29sb3I6ICNkZmRmZGY7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQuZXJyb3ItbXNne1xuXHRcdFx0XHRcdFx0XHRwb3NpdGlvbjogYWJzb2x1dGU7XG5cdFx0XHRcdFx0XHRcdGxlZnQ6IDBweDtcblx0XHRcdFx0XHRcdFx0cmlnaHQ6IDBweDtcblx0XHRcdFx0XHRcdFx0Ym90dG9tOiAyMHB4O1xuXHRcdFx0XHRcdFx0XHR6LWluZGV4OiAxMTAwO1xuXHRcdFx0XHRcdFx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdFx0XHRcdFx0XHRcdGZvbnQtc2l6ZTogMjBweDtcblx0XHRcdFx0XHRcdFx0Y29sb3I6ICNhOTQ0NDI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0PC9zdHlsZT5cblx0XHRcdFx0XHQ8bWV0YSBjaGFyc2V0PVwidXRmLThcIj5cblx0XHRcdFx0XHQ8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEsIG1heGltdW0tc2NhbGU9MSwgdXNlci1zY2FsYWJsZT1ub1wiPlxuXHRcdFx0XHRcdDx0aXRsZT4je3RpdGxlfTwvdGl0bGU+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiaWNvblwiIHR5cGU9XCJpbWFnZS9wbmdcIiBzaXplcz1cIjE5MngxOTJcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYW5kcm9pZC1jaHJvbWUtMTkyeDE5Mi5wbmdcIil9XCI+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwibWFuaWZlc3RcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvbWFuaWZlc3QuanNvblwiKX1cIj5cblx0XHRcdFx0XHQ8bWV0YSBuYW1lPVwibW9iaWxlLXdlYi1hcHAtY2FwYWJsZVwiIGNvbnRlbnQ9XCJ5ZXNcIj5cblx0XHRcdFx0XHQ8bWV0YSBuYW1lPVwidGhlbWUtY29sb3JcIiBjb250ZW50PVwiIzAwMFwiPlxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJhcHBsaWNhdGlvbi1uYW1lXCI+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiYXBwbGUtdG91Y2gtaWNvblwiIHNpemVzPVwiNTd4NTdcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi01N3g1Ny5wbmdcIil9XCI+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiYXBwbGUtdG91Y2gtaWNvblwiIHNpemVzPVwiNjB4NjBcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi02MHg2MC5wbmdcIil9XCI+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiYXBwbGUtdG91Y2gtaWNvblwiIHNpemVzPVwiNzJ4NzJcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi03Mng3Mi5wbmdcIil9XCI+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiYXBwbGUtdG91Y2gtaWNvblwiIHNpemVzPVwiNzZ4NzZcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi03Nng3Ni5wbmdcIil9XCI+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiYXBwbGUtdG91Y2gtaWNvblwiIHNpemVzPVwiMTE0eDExNFwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTExNHgxMTQucG5nXCIpfVwiPlxuXHRcdFx0XHRcdDxsaW5rIHJlbD1cImFwcGxlLXRvdWNoLWljb25cIiBzaXplcz1cIjEyMHgxMjBcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi0xMjB4MTIwLnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJhcHBsZS10b3VjaC1pY29uXCIgc2l6ZXM9XCIxNDR4MTQ0XCIgaHJlZj1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tMTQ0eDE0NC5wbmdcIil9XCI+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiYXBwbGUtdG91Y2gtaWNvblwiIHNpemVzPVwiMTUyeDE1MlwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTE1MngxNTIucG5nXCIpfVwiPlxuXHRcdFx0XHRcdDxsaW5rIHJlbD1cImFwcGxlLXRvdWNoLWljb25cIiBzaXplcz1cIjE4MHgxODBcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi0xODB4MTgwLnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bWV0YSBuYW1lPVwiYXBwbGUtbW9iaWxlLXdlYi1hcHAtY2FwYWJsZVwiIGNvbnRlbnQ9XCJ5ZXNcIj5cblx0XHRcdFx0XHQ8bWV0YSBuYW1lPVwiYXBwbGUtbW9iaWxlLXdlYi1hcHAtc3RhdHVzLWJhci1zdHlsZVwiIGNvbnRlbnQ9XCJibGFjay10cmFuc2x1Y2VudFwiPlxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJhcHBsZS1tb2JpbGUtd2ViLWFwcC10aXRsZVwiPlxuXHRcdFx0XHRcdDxsaW5rIHJlbD1cImljb25cIiB0eXBlPVwiaW1hZ2UvcG5nXCIgc2l6ZXM9XCIyMjh4MjI4XCIgaHJlZj1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2NvYXN0LTIyOHgyMjgucG5nXCIpfVwiPlxuXHRcdFx0XHRcdDxsaW5rIHJlbD1cImljb25cIiB0eXBlPVwiaW1hZ2UvcG5nXCIgc2l6ZXM9XCIxNngxNlwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9mYXZpY29uLTE2eDE2LnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJpY29uXCIgdHlwZT1cImltYWdlL3BuZ1wiIHNpemVzPVwiMzJ4MzJcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvZmF2aWNvbi0zMngzMi5wbmdcIil9XCI+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiaWNvblwiIHR5cGU9XCJpbWFnZS9wbmdcIiBzaXplcz1cIjk2eDk2XCIgaHJlZj1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2Zhdmljb24tOTZ4OTYucG5nXCIpfVwiPlxuXHRcdFx0XHRcdDxsaW5rIHJlbD1cImljb25cIiB0eXBlPVwiaW1hZ2UvcG5nXCIgc2l6ZXM9XCIyMzB4MjMwXCIgaHJlZj1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2Zhdmljb24tMjMweDIzMC5wbmdcIil9XCI+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwic2hvcnRjdXQgaWNvblwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9mYXZpY29uLmljb1wiKX1cIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJ5YW5kZXgtdGFibGVhdS13aWRnZXRcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMveWFuZGV4LWJyb3dzZXItbWFuaWZlc3QuanNvblwiKX1cIj5cblx0XHRcdFx0XHQ8bWV0YSBuYW1lPVwibXNhcHBsaWNhdGlvbi1UaWxlQ29sb3JcIiBjb250ZW50PVwiI2ZmZlwiPlxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJtc2FwcGxpY2F0aW9uLVRpbGVJbWFnZVwiIGNvbnRlbnQ9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9tc3RpbGUtMTQ0eDE0NC5wbmdcIil9XCI+XG5cdFx0XHRcdFx0PG1ldGEgbmFtZT1cIm1zYXBwbGljYXRpb24tY29uZmlnXCIgY29udGVudD1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2Jyb3dzZXJjb25maWcueG1sXCIpfVwiPlxuXHRcdFx0XHRcdDxtZXRhIHByb3BlcnR5PVwidHdpdHRlcjppbWFnZVwiIGNvbnRlbnQ9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy90d2l0dGVyLnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bWV0YSBwcm9wZXJ0eT1cIm9nOmltYWdlXCIgY29udGVudD1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL29wZW4tZ3JhcGgucG5nXCIpfVwiPlxuXHRcdFx0XHQ8L2hlYWQ+XG5cdFx0XHRcdDxib2R5PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3MgPSBcImxvYWRpbmdcIj5Mb2FkaW5nLi4uPC9kaXY+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcyA9IFwiZXJyb3ItbXNnXCI+I3tlcnJvcl9tc2d9PC9kaXY+XG5cdFx0XHRcdFx0PGlmcmFtZSBpZD1cImlmckRlc2lnbmVyXCIgc3JjPVwiXCIgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiIG53ZGlzYWJsZT1cInRydWVcIiBmcmFtZWJvcmRlcj1cIm5vXCIgYm9yZGVyPVwiMFwiIG1hcmdpbndpZHRoPVwiMFwiIG1hcmdpbmhlaWdodD1cIjBcIiBzY3JvbGxpbmc9XCJub1wiIGFsbG93dHJhbnNwYXJlbmN5PVwieWVzXCI+PC9pZnJhbWU+XG5cdFx0XHRcdFx0PHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIgc3JjPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvbGliL2pxdWVyeS9qcXVlcnktMS4xMS4yLm1pbi5qc1wiKX1cIj48L3NjcmlwdD5cblx0XHRcdFx0XHQ8c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj5cblx0XHRcdFx0XHRcdHZhciBkZXNpZ25lciA9IHtcblx0XHRcdFx0XHRcdFx0dXJsUXVlcnk6ZnVuY3Rpb24obmFtZSl7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJlZyA9IG5ldyBSZWdFeHAoXCIoXnwmKVwiICsgbmFtZSArIFwiPShbXiZdKikoJnwkKVwiKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgciA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyKDEpLm1hdGNoKHJlZyk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHIgIT0gbnVsbCkgcmV0dXJuIHVuZXNjYXBlKHJbMl0pO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRydW46ZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdFx0XHR2YXIgdXJsID0gdGhpcy51cmxRdWVyeShcInVybFwiKTtcblx0XHRcdFx0XHRcdFx0XHR1cmwgPSBkZWNvZGVVUklDb21wb25lbnQodXJsKTtcblx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHRpZih1cmwpe1xuXHRcdFx0XHRcdFx0XHRcdFx0JChcIiNpZnJEZXNpZ25lclwiKS5hdHRyKFwic3JjXCIsdXJsKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0dmFyIFN0ZWVkb3MgPSB3aW5kb3cub3BlbmVyLlN0ZWVkb3MgfHwgbnVsbDtcblx0XHRcdFx0XHRcdFx0XHRpZiAoU3RlZWRvcykge1xuXHRcdFx0XHRcdFx0XHRcdFx0U3RlZWRvcy5mb3JiaWROb2RlQ29udGV4dG1lbnUod2luZG93KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHQkKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRcdGRlc2lnbmVyLnJ1bigpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0PC9zY3JpcHQ+XG5cdFx0XHRcdDxib2R5PlxuXHRcdFx0PC9odG1sPlxuXHRcdFwiXCJcIlxuXG5Kc29uUm91dGVzLmFkZCAnZ2V0JywgJy9hcGkvd29ya2Zsb3cvZGVzaWduZXI/dXJsPTp1cmwnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdERlc2lnbmVyQVBJLnNlbmRIdG1sUmVzcG9uc2UgcmVxLCByZXNcblxuIiwidmFyIERlc2lnbmVyQVBJO1xuXG5EZXNpZ25lckFQSSA9IHtcbiAgZ2V0QWJzb2x1dGVVcmw6IGZ1bmN0aW9uKHVybCkge1xuICAgIHZhciByb290VXJsO1xuICAgIHJvb3RVcmwgPSBfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fID8gX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTF9QQVRIX1BSRUZJWCA6IFwiXCI7XG4gICAgaWYgKHJvb3RVcmwpIHtcbiAgICAgIHVybCA9IHJvb3RVcmwgKyB1cmw7XG4gICAgfVxuICAgIHJldHVybiB1cmw7XG4gIH0sXG4gIHdyaXRlUmVzcG9uc2U6IGZ1bmN0aW9uKHJlcywgaHR0cENvZGUsIGJvZHkpIHtcbiAgICByZXMuc3RhdHVzQ29kZSA9IGh0dHBDb2RlO1xuICAgIHJldHVybiByZXMuZW5kKGJvZHkpO1xuICB9LFxuICBzZW5kSW52YWxpZFVSTFJlc3BvbnNlOiBmdW5jdGlvbihyZXMpIHtcbiAgICByZXR1cm4gdGhpcy53cml0ZVJlc3BvbnNlKHJlcywgNDA0LCBcInRoZSBwYXJhbSAndXJsJyBpcyByZXF1aXJlZCBhcyBxdWVyeXMuXCIpO1xuICB9LFxuICBzZW5kQXV0aFRva2VuRXhwaXJlZFJlc3BvbnNlOiBmdW5jdGlvbihyZXMpIHtcbiAgICByZXR1cm4gdGhpcy53cml0ZVJlc3BvbnNlKHJlcywgNDAxLCBcInRoZSBhdXRoX3Rva2VuIGhhcyBleHBpcmVkLlwiKTtcbiAgfSxcbiAgc2VuZEh0bWxSZXNwb25zZTogZnVuY3Rpb24ocmVxLCByZXMsIHR5cGUpIHtcbiAgICB2YXIgZXJyb3JfbXNnLCBxdWVyeSwgdGl0bGUsIHVybDtcbiAgICBxdWVyeSA9IHJlcS5xdWVyeTtcbiAgICB1cmwgPSBxdWVyeS51cmw7XG4gICAgaWYgKHVybCkge1xuICAgICAgdXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KHVybCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIERlc2lnbmVyQVBJLnNlbmRJbnZhbGlkVVJMUmVzcG9uc2UocmVzKTtcbiAgICB9XG4gICAgdGl0bGUgPSBxdWVyeS50aXRsZTtcbiAgICBpZiAodGl0bGUpIHtcbiAgICAgIHRpdGxlID0gZGVjb2RlVVJJQ29tcG9uZW50KHRpdGxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGl0bGUgPSBcIlN0ZWVkb3MgRGVzaWduZXJcIjtcbiAgICB9XG4gICAgZXJyb3JfbXNnID0gXCJcIjtcbiAgICByZXR1cm4gdGhpcy53cml0ZVJlc3BvbnNlKHJlcywgMjAwLCBcIjxodG1sPlxcblx0PGhlYWQ+XFxuXHRcdDxzdHlsZT5cXG5cdFx0XHRodG1sLGJvZHl7XFxuXHRcdFx0XHRtYXJnaW46IDA7XFxuXHRcdFx0XHRwYWRkaW5nOiAwO1xcblx0XHRcdFx0aGVpZ2h0OiAxMDAlO1xcblx0XHRcdH1cXG5cdFx0XHRib2R5IHsgXFxuXHRcdFx0XHRmb250LWZhbWlseTogJ1NvdXJjZSBTYW5zIFBybycsICdIZWx2ZXRpY2EgTmV1ZScsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7XFxuXHRcdFx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XFxuXHRcdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcblx0XHRcdH1cXG5cdFx0XHQubG9hZGluZ3tcXG5cdFx0XHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cdFx0XHRcdGxlZnQ6IDBweDtcXG5cdFx0XHRcdHJpZ2h0OiAwcHg7XFxuXHRcdFx0XHR0b3A6IDUwJTtcXG5cdFx0XHRcdHotaW5kZXg6IC0xOy8q6K6+572u5Li6LTHvvIzlj6/ku6XlnKhpZnJhbWXliqDovb3lh7rmnaXlkI7oh6rliqjmtojlpLEqL1xcblx0XHRcdFx0dGV4dC1hbGlnbjogY2VudGVyO1xcblx0XHRcdFx0bWFyZ2luLXRvcDogLTMwcHg7XFxuXHRcdFx0XHRmb250LXNpemU6IDM2cHg7XFxuXHRcdFx0XHRjb2xvcjogI2RmZGZkZjtcXG5cdFx0XHR9XFxuXHRcdFx0LmVycm9yLW1zZ3tcXG5cdFx0XHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG5cdFx0XHRcdGxlZnQ6IDBweDtcXG5cdFx0XHRcdHJpZ2h0OiAwcHg7XFxuXHRcdFx0XHRib3R0b206IDIwcHg7XFxuXHRcdFx0XHR6LWluZGV4OiAxMTAwO1xcblx0XHRcdFx0dGV4dC1hbGlnbjogY2VudGVyO1xcblx0XHRcdFx0Zm9udC1zaXplOiAyMHB4O1xcblx0XHRcdFx0Y29sb3I6ICNhOTQ0NDI7XFxuXHRcdFx0fVxcblx0XHQ8L3N0eWxlPlxcblx0XHQ8bWV0YSBjaGFyc2V0PVxcXCJ1dGYtOFxcXCI+XFxuXHRcdDxtZXRhIG5hbWU9XFxcInZpZXdwb3J0XFxcIiBjb250ZW50PVxcXCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSwgbWF4aW11bS1zY2FsZT0xLCB1c2VyLXNjYWxhYmxlPW5vXFxcIj5cXG5cdFx0PHRpdGxlPlwiICsgdGl0bGUgKyBcIjwvdGl0bGU+XFxuXHRcdDxsaW5rIHJlbD1cXFwiaWNvblxcXCIgdHlwZT1cXFwiaW1hZ2UvcG5nXFxcIiBzaXplcz1cXFwiMTkyeDE5MlxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hbmRyb2lkLWNocm9tZS0xOTJ4MTkyLnBuZ1wiKSkgKyBcIlxcXCI+XFxuXHRcdDxsaW5rIHJlbD1cXFwibWFuaWZlc3RcXFwiIGhyZWY9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvbWFuaWZlc3QuanNvblwiKSkgKyBcIlxcXCI+XFxuXHRcdDxtZXRhIG5hbWU9XFxcIm1vYmlsZS13ZWItYXBwLWNhcGFibGVcXFwiIGNvbnRlbnQ9XFxcInllc1xcXCI+XFxuXHRcdDxtZXRhIG5hbWU9XFxcInRoZW1lLWNvbG9yXFxcIiBjb250ZW50PVxcXCIjMDAwXFxcIj5cXG5cdFx0PG1ldGEgbmFtZT1cXFwiYXBwbGljYXRpb24tbmFtZVxcXCI+XFxuXHRcdDxsaW5rIHJlbD1cXFwiYXBwbGUtdG91Y2gtaWNvblxcXCIgc2l6ZXM9XFxcIjU3eDU3XFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tNTd4NTcucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJhcHBsZS10b3VjaC1pY29uXFxcIiBzaXplcz1cXFwiNjB4NjBcXFwiIGhyZWY9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi02MHg2MC5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcImFwcGxlLXRvdWNoLWljb25cXFwiIHNpemVzPVxcXCI3Mng3MlxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTcyeDcyLnBuZ1wiKSkgKyBcIlxcXCI+XFxuXHRcdDxsaW5rIHJlbD1cXFwiYXBwbGUtdG91Y2gtaWNvblxcXCIgc2l6ZXM9XFxcIjc2eDc2XFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tNzZ4NzYucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJhcHBsZS10b3VjaC1pY29uXFxcIiBzaXplcz1cXFwiMTE0eDExNFxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTExNHgxMTQucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJhcHBsZS10b3VjaC1pY29uXFxcIiBzaXplcz1cXFwiMTIweDEyMFxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTEyMHgxMjAucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJhcHBsZS10b3VjaC1pY29uXFxcIiBzaXplcz1cXFwiMTQ0eDE0NFxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTE0NHgxNDQucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJhcHBsZS10b3VjaC1pY29uXFxcIiBzaXplcz1cXFwiMTUyeDE1MlxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTE1MngxNTIucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJhcHBsZS10b3VjaC1pY29uXFxcIiBzaXplcz1cXFwiMTgweDE4MFxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTE4MHgxODAucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PG1ldGEgbmFtZT1cXFwiYXBwbGUtbW9iaWxlLXdlYi1hcHAtY2FwYWJsZVxcXCIgY29udGVudD1cXFwieWVzXFxcIj5cXG5cdFx0PG1ldGEgbmFtZT1cXFwiYXBwbGUtbW9iaWxlLXdlYi1hcHAtc3RhdHVzLWJhci1zdHlsZVxcXCIgY29udGVudD1cXFwiYmxhY2stdHJhbnNsdWNlbnRcXFwiPlxcblx0XHQ8bWV0YSBuYW1lPVxcXCJhcHBsZS1tb2JpbGUtd2ViLWFwcC10aXRsZVxcXCI+XFxuXHRcdDxsaW5rIHJlbD1cXFwiaWNvblxcXCIgdHlwZT1cXFwiaW1hZ2UvcG5nXFxcIiBzaXplcz1cXFwiMjI4eDIyOFxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9jb2FzdC0yMjh4MjI4LnBuZ1wiKSkgKyBcIlxcXCI+XFxuXHRcdDxsaW5rIHJlbD1cXFwiaWNvblxcXCIgdHlwZT1cXFwiaW1hZ2UvcG5nXFxcIiBzaXplcz1cXFwiMTZ4MTZcXFwiIGhyZWY9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvZmF2aWNvbi0xNngxNi5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcImljb25cXFwiIHR5cGU9XFxcImltYWdlL3BuZ1xcXCIgc2l6ZXM9XFxcIjMyeDMyXFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2Zhdmljb24tMzJ4MzIucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJpY29uXFxcIiB0eXBlPVxcXCJpbWFnZS9wbmdcXFwiIHNpemVzPVxcXCI5Nng5NlxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9mYXZpY29uLTk2eDk2LnBuZ1wiKSkgKyBcIlxcXCI+XFxuXHRcdDxsaW5rIHJlbD1cXFwiaWNvblxcXCIgdHlwZT1cXFwiaW1hZ2UvcG5nXFxcIiBzaXplcz1cXFwiMjMweDIzMFxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9mYXZpY29uLTIzMHgyMzAucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJzaG9ydGN1dCBpY29uXFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2Zhdmljb24uaWNvXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJ5YW5kZXgtdGFibGVhdS13aWRnZXRcXFwiIGhyZWY9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMveWFuZGV4LWJyb3dzZXItbWFuaWZlc3QuanNvblwiKSkgKyBcIlxcXCI+XFxuXHRcdDxtZXRhIG5hbWU9XFxcIm1zYXBwbGljYXRpb24tVGlsZUNvbG9yXFxcIiBjb250ZW50PVxcXCIjZmZmXFxcIj5cXG5cdFx0PG1ldGEgbmFtZT1cXFwibXNhcHBsaWNhdGlvbi1UaWxlSW1hZ2VcXFwiIGNvbnRlbnQ9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvbXN0aWxlLTE0NHgxNDQucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PG1ldGEgbmFtZT1cXFwibXNhcHBsaWNhdGlvbi1jb25maWdcXFwiIGNvbnRlbnQ9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYnJvd3NlcmNvbmZpZy54bWxcIikpICsgXCJcXFwiPlxcblx0XHQ8bWV0YSBwcm9wZXJ0eT1cXFwidHdpdHRlcjppbWFnZVxcXCIgY29udGVudD1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy90d2l0dGVyLnBuZ1wiKSkgKyBcIlxcXCI+XFxuXHRcdDxtZXRhIHByb3BlcnR5PVxcXCJvZzppbWFnZVxcXCIgY29udGVudD1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9vcGVuLWdyYXBoLnBuZ1wiKSkgKyBcIlxcXCI+XFxuXHQ8L2hlYWQ+XFxuXHQ8Ym9keT5cXG5cdFx0PGRpdiBjbGFzcyA9IFxcXCJsb2FkaW5nXFxcIj5Mb2FkaW5nLi4uPC9kaXY+XFxuXHRcdDxkaXYgY2xhc3MgPSBcXFwiZXJyb3ItbXNnXFxcIj5cIiArIGVycm9yX21zZyArIFwiPC9kaXY+XFxuXHRcdDxpZnJhbWUgaWQ9XFxcImlmckRlc2lnbmVyXFxcIiBzcmM9XFxcIlxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiIGhlaWdodD1cXFwiMTAwJVxcXCIgbndkaXNhYmxlPVxcXCJ0cnVlXFxcIiBmcmFtZWJvcmRlcj1cXFwibm9cXFwiIGJvcmRlcj1cXFwiMFxcXCIgbWFyZ2lud2lkdGg9XFxcIjBcXFwiIG1hcmdpbmhlaWdodD1cXFwiMFxcXCIgc2Nyb2xsaW5nPVxcXCJub1xcXCIgYWxsb3d0cmFuc3BhcmVuY3k9XFxcInllc1xcXCI+PC9pZnJhbWU+XFxuXHRcdDxzY3JpcHQgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIiBzcmM9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvbGliL2pxdWVyeS9qcXVlcnktMS4xMS4yLm1pbi5qc1wiKSkgKyBcIlxcXCI+PC9zY3JpcHQ+XFxuXHRcdDxzY3JpcHQgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj5cXG5cdFx0XHR2YXIgZGVzaWduZXIgPSB7XFxuXHRcdFx0XHR1cmxRdWVyeTpmdW5jdGlvbihuYW1lKXtcXG5cdFx0XHRcdFx0dmFyIHJlZyA9IG5ldyBSZWdFeHAoXFxcIihefCYpXFxcIiArIG5hbWUgKyBcXFwiPShbXiZdKikoJnwkKVxcXCIpO1xcblx0XHRcdFx0XHR2YXIgciA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyKDEpLm1hdGNoKHJlZyk7XFxuXHRcdFx0XHRcdGlmIChyICE9IG51bGwpIHJldHVybiB1bmVzY2FwZShyWzJdKTtcXG5cdFx0XHRcdFx0cmV0dXJuIG51bGw7XFxuXHRcdFx0XHR9LFxcblx0XHRcdFx0cnVuOmZ1bmN0aW9uKCl7XFxuXHRcdFx0XHRcdHZhciB1cmwgPSB0aGlzLnVybFF1ZXJ5KFxcXCJ1cmxcXFwiKTtcXG5cdFx0XHRcdFx0dXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KHVybCk7XFxuXHRcdFx0XHRcdFxcblx0XHRcdFx0XHRpZih1cmwpe1xcblx0XHRcdFx0XHRcdCQoXFxcIiNpZnJEZXNpZ25lclxcXCIpLmF0dHIoXFxcInNyY1xcXCIsdXJsKTtcXG5cdFx0XHRcdFx0fVxcblx0XHRcdFx0XHR2YXIgU3RlZWRvcyA9IHdpbmRvdy5vcGVuZXIuU3RlZWRvcyB8fCBudWxsO1xcblx0XHRcdFx0XHRpZiAoU3RlZWRvcykge1xcblx0XHRcdFx0XHRcdFN0ZWVkb3MuZm9yYmlkTm9kZUNvbnRleHRtZW51KHdpbmRvdyk7XFxuXHRcdFx0XHRcdH1cXG5cdFx0XHRcdH1cXG5cdFx0XHR9O1xcblx0XHRcdCQoZnVuY3Rpb24oKXtcXG5cdFx0XHRcdGRlc2lnbmVyLnJ1bigpO1xcblx0XHRcdH0pO1xcblx0XHQ8L3NjcmlwdD5cXG5cdDxib2R5PlxcbjwvaHRtbD5cIik7XG4gIH1cbn07XG5cbkpzb25Sb3V0ZXMuYWRkKCdnZXQnLCAnL2FwaS93b3JrZmxvdy9kZXNpZ25lcj91cmw9OnVybCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHJldHVybiBEZXNpZ25lckFQSS5zZW5kSHRtbFJlc3BvbnNlKHJlcSwgcmVzKTtcbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9uZXh0U3RlcFVzZXJzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG5cdHZhclxuXHRcdGRlYWxfdHlwZSA9IHJlcS5xdWVyeS5kZWFsX3R5cGUsXG5cdFx0c3BhY2VJZCA9IHJlcS5xdWVyeS5zcGFjZUlkLFxuXHRcdGVycm9yID0gXCJcIjtcblxuXHRpZiAoIWRlYWxfdHlwZSB8fCAhc3BhY2VJZCkge1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0J2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHR2YXJcblx0XHRib2R5ID0gcmVxLmJvZHksXG5cdFx0bmV4dFN0ZXBVc2VycyA9IFtdO1xuXG5cblx0c3dpdGNoIChkZWFsX3R5cGUpIHtcblx0XHRjYXNlICdzcGVjaWZ5VXNlcic6XG5cdFx0XHR2YXIgc3BlY2lmeVVzZXJJZHMgPSBib2R5LnNwZWNpZnlVc2VySWRzO1xuXG5cdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXJzKHNwYWNlSWQsIHNwZWNpZnlVc2VySWRzKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ2FwcGxpY2FudFJvbGUnOlxuXHRcdFx0dmFyXG5cdFx0XHRcdGFwcGxpY2FudElkID0gYm9keS5hcHBsaWNhbnRJZCxcblx0XHRcdFx0YXBwcm92ZVJvbGVJZHMgPSBib2R5LmFwcHJvdmVSb2xlSWRzO1xuXHRcdFx0dmFyIGFwcGxpY2FudCA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VyKHNwYWNlSWQsIGFwcGxpY2FudElkKTtcblxuXHRcdFx0aWYgKGFwcGxpY2FudClcblx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRSb2xlVXNlcnNCeU9yZ3NBbmRSb2xlcyhzcGFjZUlkLCBhcHBsaWNhbnQub3JnYW5pemF0aW9ucywgYXBwcm92ZVJvbGVJZHMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnaHJSb2xlJzpcblx0XHRcdHZhciBhcHByb3ZlSHJSb2xlSWRzID0gYm9keS5hcHByb3ZlSHJSb2xlSWRzO1xuXHRcdFx0aWYgKGFwcHJvdmVIclJvbGVJZHMpXG5cdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SHJSb2xlc1VzZXJzKHNwYWNlSWQsIGFwcHJvdmVIclJvbGVJZHMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnYXBwbGljYW50U3VwZXJpb3InOlxuXHRcdFx0dmFyIGFwcGxpY2FudElkID0gYm9keS5hcHBsaWNhbnRJZDtcblx0XHRcdHZhciBhcHBsaWNhbnQgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcihzcGFjZUlkLCBhcHBsaWNhbnRJZCk7XG5cdFx0XHRpZiAoYXBwbGljYW50Lm1hbmFnZXIpIHtcblx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VycyhzcGFjZUlkLCBhcHBsaWNhbnQubWFuYWdlcik7XG5cdFx0XHR9XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdhcHBsaWNhbnQnOlxuXHRcdFx0dmFyIGFwcGxpY2FudElkID0gYm9keS5hcHBsaWNhbnRJZDtcblx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcnMoc3BhY2VJZCwgYXBwbGljYW50SWQpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAndXNlckZpZWxkJzpcblx0XHRcdHZhclxuXHRcdFx0XHR1c2VyRmllbGQgPSBib2R5LnVzZXJGaWVsZCxcblx0XHRcdFx0dXNlckZpZWxkVmFsdWUgPSBib2R5LnVzZXJGaWVsZFZhbHVlO1xuXHRcdFx0aWYgKHVzZXJGaWVsZC5pc19tdWx0aXNlbGVjdCkgeyAvL+WmguaenOWkmumAie+8jOS7pXVzZXJGaWVsZFZhbHVl5YC85Li6QXJyYXlcblx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VycyhzcGFjZUlkLCB1c2VyRmllbGRWYWx1ZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRuZXh0U3RlcFVzZXJzLnB1c2goV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXIoc3BhY2VJZCwgdXNlckZpZWxkVmFsdWUpKTtcblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ29yZ0ZpZWxkJzpcblx0XHRcdHZhclxuXHRcdFx0XHRvcmdzLFxuXHRcdFx0XHRvcmdDaGlsZHJlbnMsXG5cdFx0XHRcdG9yZ0ZpZWxkID0gYm9keS5vcmdGaWVsZCxcblx0XHRcdFx0b3JnRmllbGRWYWx1ZSA9IGJvZHkub3JnRmllbGRWYWx1ZTtcblx0XHRcdGlmIChvcmdGaWVsZFZhbHVlKSB7XG5cdFx0XHRcdGlmIChvcmdGaWVsZC5pc19tdWx0aXNlbGVjdCkgeyAvL+WmguaenOWkmumAie+8jOS7pW9yZ0ZpZWxkVmFsdWXlgLzkuLpBcnJheVxuXHRcdFx0XHRcdG9yZ3MgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9ucyhvcmdGaWVsZFZhbHVlKTtcblx0XHRcdFx0XHRvcmdDaGlsZHJlbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uc0NoaWxkcmVucyhzcGFjZUlkLCBvcmdGaWVsZFZhbHVlKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRvcmdzID0gW1dvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb24ob3JnRmllbGRWYWx1ZSldO1xuXHRcdFx0XHRcdG9yZ0NoaWxkcmVucyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25DaGlsZHJlbnMoc3BhY2VJZCwgb3JnRmllbGRWYWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zVXNlcnMoc3BhY2VJZCwgb3JnQ2hpbGRyZW5zKTtcblxuXHRcdFx0XHRvcmdGaWVsZFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnNVc2VycyhzcGFjZUlkLCBvcmdzKTtcblxuXHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gbmV4dFN0ZXBVc2Vycy5jb25jYXQob3JnRmllbGRVc2Vycyk7XG5cblx0XHRcdFx0aWYgKCFuZXh0U3RlcFVzZXJzIHx8IG5leHRTdGVwVXNlcnMubGVuZ3RoIDwgMSkge1xuXHRcdFx0XHRcdGVycm9yID0gXCJPUkdfTk9fTUVNQkVSU1wiO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlcnJvciA9IFwiRklFTERfVkFMVUVfRU1QVFlcIjtcblx0XHRcdH1cblxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnc3BlY2lmeU9yZyc6XG5cdFx0XHR2YXIgc3BlY2lmeU9yZ0lkcyA9IGJvZHkuc3BlY2lmeU9yZ0lkcztcblx0XHRcdHZhciBzcGVjaWZ5T3JncyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zKHNwZWNpZnlPcmdJZHMpO1xuXHRcdFx0dmFyIHNwZWNpZnlPcmdDaGlsZHJlbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uc0NoaWxkcmVucyhzcGFjZUlkLCBzcGVjaWZ5T3JnSWRzKTtcblxuXHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zVXNlcnMoc3BhY2VJZCwgc3BlY2lmeU9yZ3MpO1xuXHRcdFx0bmV4dFN0ZXBVc2VycyA9IG5leHRTdGVwVXNlcnMuY29uY2F0KFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zVXNlcnMoc3BhY2VJZCwgc3BlY2lmeU9yZ0NoaWxkcmVucykpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAndXNlckZpZWxkUm9sZSc6XG5cdFx0XHR2YXJcblx0XHRcdFx0dXNlckZpZWxkID0gYm9keS51c2VyRmllbGQsXG5cdFx0XHRcdHVzZXJGaWVsZFZhbHVlID0gYm9keS51c2VyRmllbGRWYWx1ZSxcblx0XHRcdFx0YXBwcm92ZXJSb2xlSWRzID0gYm9keS5hcHByb3ZlclJvbGVJZHM7XG5cdFx0XHRpZiAodXNlckZpZWxkVmFsdWUpIHtcblx0XHRcdFx0aWYgKHVzZXJGaWVsZC5pc19tdWx0aXNlbGVjdCkgeyAvL+WmguaenOWkmumAie+8jOS7pXVzZXJGaWVsZFZhbHVl5YC85Li6QXJyYXlcblx0XHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFJvbGVVc2Vyc0J5VXNlcnNBbmRSb2xlcyhzcGFjZUlkLCB1c2VyRmllbGRWYWx1ZSwgYXBwcm92ZXJSb2xlSWRzKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFJvbGVVc2Vyc0J5VXNlcnNBbmRSb2xlcyhzcGFjZUlkLCBbdXNlckZpZWxkVmFsdWVdLCBhcHByb3ZlclJvbGVJZHMpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFuZXh0U3RlcFVzZXJzIHx8IG5leHRTdGVwVXNlcnMubGVuZ3RoIDwgMSkge1xuXHRcdFx0XHRcdGVycm9yID0gXCJST0xFX05PX01FTUJFUlNcIjtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZXJyb3IgPSBcIkZJRUxEX1ZBTFVFX0VNUFRZXCI7XG5cdFx0XHR9XG5cblxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnb3JnRmllbGRSb2xlJzpcblx0XHRcdHZhclxuXHRcdFx0XHRvcmdGaWVsZCA9IGJvZHkub3JnRmllbGQsXG5cdFx0XHRcdG9yZ0ZpZWxkVmFsdWUgPSBib2R5Lm9yZ0ZpZWxkVmFsdWUsXG5cdFx0XHRcdGFwcHJvdmVyUm9sZUlkcyA9IGJvZHkuYXBwcm92ZXJSb2xlSWRzO1xuXG5cdFx0XHRpZiAob3JnRmllbGRWYWx1ZSkge1xuXHRcdFx0XHRpZiAob3JnRmllbGQuaXNfbXVsdGlzZWxlY3QpIHsgLy/lpoLmnpzlpJrpgInvvIzku6VvcmdGaWVsZFZhbHVl5YC85Li6QXJyYXlcblx0XHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFJvbGVVc2Vyc0J5T3Jnc0FuZFJvbGVzKHNwYWNlSWQsIG9yZ0ZpZWxkVmFsdWUsIGFwcHJvdmVyUm9sZUlkcyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRSb2xlVXNlcnNCeU9yZ3NBbmRSb2xlcyhzcGFjZUlkLCBbb3JnRmllbGRWYWx1ZV0sIGFwcHJvdmVyUm9sZUlkcyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIW5leHRTdGVwVXNlcnMgfHwgbmV4dFN0ZXBVc2Vycy5sZW5ndGggPCAxKSB7XG5cdFx0XHRcdFx0ZXJyb3IgPSBcIlJPTEVfTk9fTUVNQkVSU1wiO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlcnJvciA9IFwiRklFTERfVkFMVUVfRU1QVFlcIjtcblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRicmVhaztcblx0fVxuXG5cdHZhciByZXN1bHQgPSBbXTtcblxuXHRuZXh0U3RlcFVzZXJzLmZvckVhY2goZnVuY3Rpb24oc3UpIHtcblx0XHRpZihzdS51c2VyX2FjY2VwdGVkKXtcblx0XHRcdHZhciBvID0ge1xuXHRcdFx0XHRpZDogc3UuaWQsXG5cdFx0XHRcdG5hbWU6IHN1Lm5hbWVcblx0XHRcdH07XG5cdFx0XHRyZXN1bHQucHVzaChvKTtcblx0XHR9XG5cdH0pO1xuXG5cdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRjb2RlOiAyMDAsXG5cdFx0ZGF0YToge1xuXHRcdFx0J25leHRTdGVwVXNlcnMnOiBXb3JrZmxvd01hbmFnZXIudW5pcVVzZXJzKHJlc3VsdCksXG5cdFx0XHQnZXJyb3InOiBlcnJvclxuXHRcdH1cblx0fSk7XG59KSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZ2V0U3BhY2VVc2Vyc1wiLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyXG4gICAgdXNlcklkcyA9IHJlcS5ib2R5LnVzZXJJZHMsXG4gICAgc3BhY2VJZCA9IHJlcS5xdWVyeS5zcGFjZUlkLFxuICAgIHNwYWNlVXNlcnMgPSBbXVxuICA7XG5cbiAgaWYgKCF1c2VySWRzIHx8ICFzcGFjZUlkKSB7XG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHNwYWNlVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcnMoc3BhY2VJZCwgdXNlcklkcyk7XG5cbiAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgIGNvZGU6IDIwMCxcbiAgICBkYXRhOiB7XG4gICAgICAnc3BhY2VVc2Vycyc6IHNwYWNlVXNlcnNcbiAgICB9XG4gIH0pO1xufSlcblxuXG4gIFxuICAiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2dldEZvcm11bGFVc2VyT2JqZWN0c1wiLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyXG4gICAgdXNlcklkcyA9IHJlcS5ib2R5LnVzZXJJZHMsXG4gICAgc3BhY2VJZCA9IHJlcS5xdWVyeS5zcGFjZUlkLFxuICAgIHNwYWNlVXNlcnMgPSBbXVxuICA7XG5cbiAgaWYgKCF1c2VySWRzIHx8ICFzcGFjZUlkKSB7XG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHZhciB1c2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhVXNlck9iamVjdChzcGFjZUlkLCB1c2VySWRzKTtcblxuICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgY29kZTogMjAwLFxuICAgIGRhdGE6IHtcbiAgICAgICdzcGFjZVVzZXJzJzogdXNlcnNcbiAgICB9XG4gIH0pO1xufSlcblxuXG4gIFxuICAiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2luaXRfZm9ybXVsYV92YWx1ZXNcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcblx0dmFyXG5cdFx0ZmllbGRzID0gcmVxLmJvZHkuZmllbGRzLFxuXHRcdGF1dG9Gb3JtRG9jID0gcmVxLmJvZHkuYXV0b0Zvcm1Eb2MsXG5cdFx0YXBwcm92ZXIgPSByZXEuYm9keS5hcHByb3Zlcixcblx0XHRhcHBsaWNhbnQgPSByZXEuYm9keS5hcHBsaWNhbnQsXG5cblx0XHRzcGFjZUlkID0gcmVxLnF1ZXJ5LnNwYWNlSWQsXG5cblx0XHRzcGFjZVVzZXJzID0gW107XG5cblx0aWYgKCFmaWVsZHMgfHwgIXNwYWNlSWQgfHwgIWF1dG9Gb3JtRG9jIHx8ICFhcHByb3ZlciB8fCAhYXBwbGljYW50KSB7XG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHQnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcblx0XHRcdH1cblx0XHR9KTtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRmb3JtdWxhX3ZhbHVlcyA9IEZvcm1fZm9ybXVsYS5pbml0X2Zvcm11bGFfdmFsdWVzKGZpZWxkcywgYXV0b0Zvcm1Eb2MsIGFwcHJvdmVyLCBhcHBsaWNhbnQsIHNwYWNlSWQpO1xuXG5cdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRjb2RlOiAyMDAsXG5cdFx0ZGF0YToge1xuXHRcdFx0J2Zvcm11bGFfdmFsdWVzJzogZm9ybXVsYV92YWx1ZXNcblx0XHR9XG5cdH0pO1xufSlcbiIsIkpzb25Sb3V0ZXMuYWRkIFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZ2V0TmFtZUZvclVzZXJcIiwgIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0dXNlcklkID0gcmVxLmJvZHkudXNlcklkXG5cblx0XHRpZiBub3QgdXNlcklkIFxuXHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywgXG5cdFx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdCdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuXHRcdFx0XHR9XG5cblx0XHR1c2VyID0gV29ya2Zsb3dNYW5hZ2VyLmdldE5hbWVGb3JVc2VyKHVzZXJJZClcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIFxuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge3VzZXI6IHVzZXJ9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cblx0XG5cdFx0XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2dldE5hbWVGb3JVc2VyXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBlLCB1c2VyLCB1c2VySWQ7XG4gIHRyeSB7XG4gICAgdXNlcklkID0gcmVxLmJvZHkudXNlcklkO1xuICAgIGlmICghdXNlcklkKSB7XG4gICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgdXNlciA9IFdvcmtmbG93TWFuYWdlci5nZXROYW1lRm9yVXNlcih1c2VySWQpO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHVzZXI6IHVzZXJcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdnZXQnLCAnL2FwaS9kZXNpZ25lci9zdGFydHVwJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRjb21wYW55SWQgPSByZXEucXVlcnk/LmNvbXBhbnlJZCB8fCAnJ1xuXG5cdFx0c3BhY2VzUXVlcnkgPSB7IGFkbWluczogY3VycmVudF91c2VyIH1cblxuXHRcdGlmIGNvbXBhbnlJZFxuXHRcdFx0b3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGNvbXBhbnlJZCwgeyBmaWVsZHM6IHsgc3BhY2U6MSB9IH0pXG5cdFx0XHRpZiBub3Qgb3JnXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NvbXBhbnlJZCBpcyBpbnZhbGlkJylcblxuXHRcdFx0c3BhY2VzUXVlcnkgPSB7IF9pZDogb3JnLnNwYWNlIH1cblxuXHRcdHNwYWNlcyA9IGRiLnNwYWNlcy5maW5kKHNwYWNlc1F1ZXJ5KS5mZXRjaCgpXG5cblx0XHRzcGFjZUlkcyA9IF8ucGx1Y2sgc3BhY2VzLCAnX2lkJ1xuXG5cdFx0cXVlcnkgPSB7IHNwYWNlOiB7ICRpbjogc3BhY2VJZHMgfSB9XG5cdFx0aWYgY29tcGFueUlkXG5cdFx0XHRxdWVyeS5jb21wYW55X2lkID0gY29tcGFueUlkXG5cblx0XHRzcGFjZVVzZXJzID0gZGIuc3BhY2VfdXNlcnMuZmluZChxdWVyeSkuZmV0Y2goKVxuXG5cdFx0Zm9ybXMgPSBkYi5mb3Jtcy5maW5kKHF1ZXJ5LCB7IGZpZWxkczogeyBuYW1lOjEsIHN0YXRlOjEsIGlzX2RlbGV0ZWQ6MSwgaXNfdmFsaWQ6MSwgc3BhY2U6MSwgZGVzY3JpcHRpb246MSwgaGVscF90ZXh0OjEsXG5cdFx0Y3JlYXRlZDoxLCBjcmVhdGVkX2J5OjEsIGN1cnJlbnQ6MSwgY2F0ZWdvcnk6MSwgaW5zdGFuY2Vfc3R5bGU6MSwgY29tcGFueV9pZDoxIH0gfSkuZmV0Y2goKVxuXG5cdFx0Zmxvd3MgPSBkYi5mbG93cy5maW5kKHF1ZXJ5LCB7IGZpZWxkczogeyBuYW1lOjEsIG5hbWVfZm9ybXVsYToxLCBjb2RlX2Zvcm11bGE6MSwgc3BhY2U6MSwgZGVzY3JpcHRpb246MSwgaXNfdmFsaWQ6MSwgZm9ybToxLFxuXHRcdGZsb3d0eXBlOjEsIHN0YXRlOjEsIGlzX2RlbGV0ZWQ6MSwgY3JlYXRlZDoxLCBjcmVhdGVkX2J5OjEsIGhlbHBfdGV4dDoxLCBjdXJyZW50X25vOjEsIGN1cnJlbnQ6MSwgcGVybXM6MSwgZXJyb3JfbWVzc2FnZToxLCBkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOjEsIGNvbXBhbnlfaWQ6MSB9IH0pLmZldGNoKClcblxuXHRcdHJvbGVzID0gZGIuZmxvd19yb2xlcy5maW5kKHF1ZXJ5KS5mZXRjaCgpXG5cblx0XHRvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHF1ZXJ5KS5mZXRjaCgpXG5cblx0XHRwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHF1ZXJ5KS5mZXRjaCgpXG5cblx0XHRjYXRlZ29yaWVzID0gZGIuY2F0ZWdvcmllcy5maW5kKHsgc3BhY2U6IHsgJGluOiBzcGFjZUlkcyB9IH0pLmZldGNoKClcblxuXHRcdHVzZXJJZHMgPSBfLnBsdWNrIHNwYWNlVXNlcnMsICd1c2VyJ1xuXHRcdHVzZXJzID0gZGIudXNlcnMuZmluZCh7IF9pZDogeyAkaW46IHVzZXJJZHMgfSB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSkuZmV0Y2goKVxuXG5cdFx0cmVzdWx0ID0ge31cblx0XHRyZXN1bHQuU3BhY2VVc2VycyA9IHNwYWNlVXNlcnNcblx0XHRyZXN1bHQuVXNlcnMgPSB1c2Vyc1xuXHRcdHJlc3VsdC5Gb3JtcyA9IGZvcm1zXG5cdFx0cmVzdWx0LkZsb3dzID0gZmxvd3Ncblx0XHRyZXN1bHQuT3JnYW5pemF0aW9ucyA9IG9yZ2FuaXphdGlvbnNcblx0XHRyZXN1bHQuUG9zaXRpb25zID0gcG9zaXRpb25zXG5cdFx0cmVzdWx0LlJvbGVzID0gcm9sZXNcblx0XHRyZXN1bHQuQ2F0ZWdvcmllcyA9IGNhdGVnb3JpZXNcblx0XHRyZXN1bHQuU3BhY2VzID0gc3BhY2VzXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRjb2RlOiAyMDBcblx0XHRcdFx0ZGF0YTogcmVzdWx0XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cblxuIiwiSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvYXBpL2Rlc2lnbmVyL3N0YXJ0dXAnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY2F0ZWdvcmllcywgY29tcGFueUlkLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93cywgZm9ybXMsIG9yZywgb3JnYW5pemF0aW9ucywgcG9zaXRpb25zLCBxdWVyeSwgcmVmLCByZXN1bHQsIHJvbGVzLCBzcGFjZUlkcywgc3BhY2VVc2Vycywgc3BhY2VzLCBzcGFjZXNRdWVyeSwgdXNlcklkcywgdXNlcnM7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgY29tcGFueUlkID0gKChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYuY29tcGFueUlkIDogdm9pZCAwKSB8fCAnJztcbiAgICBzcGFjZXNRdWVyeSA9IHtcbiAgICAgIGFkbWluczogY3VycmVudF91c2VyXG4gICAgfTtcbiAgICBpZiAoY29tcGFueUlkKSB7XG4gICAgICBvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY29tcGFueUlkLCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNwYWNlOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFvcmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY29tcGFueUlkIGlzIGludmFsaWQnKTtcbiAgICAgIH1cbiAgICAgIHNwYWNlc1F1ZXJ5ID0ge1xuICAgICAgICBfaWQ6IG9yZy5zcGFjZVxuICAgICAgfTtcbiAgICB9XG4gICAgc3BhY2VzID0gZGIuc3BhY2VzLmZpbmQoc3BhY2VzUXVlcnkpLmZldGNoKCk7XG4gICAgc3BhY2VJZHMgPSBfLnBsdWNrKHNwYWNlcywgJ19pZCcpO1xuICAgIHF1ZXJ5ID0ge1xuICAgICAgc3BhY2U6IHtcbiAgICAgICAgJGluOiBzcGFjZUlkc1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKGNvbXBhbnlJZCkge1xuICAgICAgcXVlcnkuY29tcGFueV9pZCA9IGNvbXBhbnlJZDtcbiAgICB9XG4gICAgc3BhY2VVc2VycyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQocXVlcnkpLmZldGNoKCk7XG4gICAgZm9ybXMgPSBkYi5mb3Jtcy5maW5kKHF1ZXJ5LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgbmFtZTogMSxcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGlzX2RlbGV0ZWQ6IDEsXG4gICAgICAgIGlzX3ZhbGlkOiAxLFxuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgZGVzY3JpcHRpb246IDEsXG4gICAgICAgIGhlbHBfdGV4dDogMSxcbiAgICAgICAgY3JlYXRlZDogMSxcbiAgICAgICAgY3JlYXRlZF9ieTogMSxcbiAgICAgICAgY3VycmVudDogMSxcbiAgICAgICAgY2F0ZWdvcnk6IDEsXG4gICAgICAgIGluc3RhbmNlX3N0eWxlOiAxLFxuICAgICAgICBjb21wYW55X2lkOiAxXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICBmbG93cyA9IGRiLmZsb3dzLmZpbmQocXVlcnksIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBuYW1lOiAxLFxuICAgICAgICBuYW1lX2Zvcm11bGE6IDEsXG4gICAgICAgIGNvZGVfZm9ybXVsYTogMSxcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAxLFxuICAgICAgICBpc192YWxpZDogMSxcbiAgICAgICAgZm9ybTogMSxcbiAgICAgICAgZmxvd3R5cGU6IDEsXG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICBpc19kZWxldGVkOiAxLFxuICAgICAgICBjcmVhdGVkOiAxLFxuICAgICAgICBjcmVhdGVkX2J5OiAxLFxuICAgICAgICBoZWxwX3RleHQ6IDEsXG4gICAgICAgIGN1cnJlbnRfbm86IDEsXG4gICAgICAgIGN1cnJlbnQ6IDEsXG4gICAgICAgIHBlcm1zOiAxLFxuICAgICAgICBlcnJvcl9tZXNzYWdlOiAxLFxuICAgICAgICBkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxuICAgICAgICBjb21wYW55X2lkOiAxXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICByb2xlcyA9IGRiLmZsb3dfcm9sZXMuZmluZChxdWVyeSkuZmV0Y2goKTtcbiAgICBvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHF1ZXJ5KS5mZXRjaCgpO1xuICAgIHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQocXVlcnkpLmZldGNoKCk7XG4gICAgY2F0ZWdvcmllcyA9IGRiLmNhdGVnb3JpZXMuZmluZCh7XG4gICAgICBzcGFjZToge1xuICAgICAgICAkaW46IHNwYWNlSWRzXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICB1c2VySWRzID0gXy5wbHVjayhzcGFjZVVzZXJzLCAndXNlcicpO1xuICAgIHVzZXJzID0gZGIudXNlcnMuZmluZCh7XG4gICAgICBfaWQ6IHtcbiAgICAgICAgJGluOiB1c2VySWRzXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIG5hbWU6IDFcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIHJlc3VsdCA9IHt9O1xuICAgIHJlc3VsdC5TcGFjZVVzZXJzID0gc3BhY2VVc2VycztcbiAgICByZXN1bHQuVXNlcnMgPSB1c2VycztcbiAgICByZXN1bHQuRm9ybXMgPSBmb3JtcztcbiAgICByZXN1bHQuRmxvd3MgPSBmbG93cztcbiAgICByZXN1bHQuT3JnYW5pemF0aW9ucyA9IG9yZ2FuaXphdGlvbnM7XG4gICAgcmVzdWx0LlBvc2l0aW9ucyA9IHBvc2l0aW9ucztcbiAgICByZXN1bHQuUm9sZXMgPSByb2xlcztcbiAgICByZXN1bHQuQ2F0ZWdvcmllcyA9IGNhdGVnb3JpZXM7XG4gICAgcmVzdWx0LlNwYWNlcyA9IHNwYWNlcztcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YTogcmVzdWx0XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L2VuZ2luZScsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydBcHByb3ZhbHMnXSwgKGFwcHJvdmVfZnJvbV9jbGllbnQpIC0+XG5cdFx0XHR1dWZsb3dNYW5hZ2VyLndvcmtmbG93X2VuZ2luZShhcHByb3ZlX2Zyb21fY2xpZW50LCBjdXJyZW50X3VzZXJfaW5mbywgY3VycmVudF91c2VyKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YToge31cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L2VuZ2luZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YTtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnQXBwcm92YWxzJ10sIGZ1bmN0aW9uKGFwcHJvdmVfZnJvbV9jbGllbnQpIHtcbiAgICAgIHJldHVybiB1dWZsb3dNYW5hZ2VyLndvcmtmbG93X2VuZ2luZShhcHByb3ZlX2Zyb21fY2xpZW50LCBjdXJyZW50X3VzZXJfaW5mbywgY3VycmVudF91c2VyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvZHJhZnRzJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cblx0XHRpbnNlcnRlZF9pbnN0YW5jZXMgPSBuZXcgQXJyYXlcblxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cblx0XHRcdG5ld19pbnNfaWQgPSB1dWZsb3dNYW5hZ2VyLmNyZWF0ZV9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgY3VycmVudF91c2VyX2luZm8pXG5cblx0XHRcdG5ld19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7IF9pZDogbmV3X2luc19pZCB9LCB7IGZpZWxkczogeyBzcGFjZTogMSwgZmxvdzogMSwgZmxvd192ZXJzaW9uOiAxLCBmb3JtOiAxLCBmb3JtX3ZlcnNpb246IDEgfSB9KVxuXG5cdFx0XHRpbnNlcnRlZF9pbnN0YW5jZXMucHVzaChuZXdfaW5zKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGluc2VydHM6IGluc2VydGVkX2luc3RhbmNlcyB9XG5cdFx0fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3sgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2UgfV0gfVxuXHRcdH1cblxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9kcmFmdHMnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGEsIGluc2VydGVkX2luc3RhbmNlcztcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIGluc2VydGVkX2luc3RhbmNlcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIG5ld19pbnMsIG5ld19pbnNfaWQ7XG4gICAgICBuZXdfaW5zX2lkID0gdXVmbG93TWFuYWdlci5jcmVhdGVfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgIG5ld19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogbmV3X2luc19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICBmbG93OiAxLFxuICAgICAgICAgIGZsb3dfdmVyc2lvbjogMSxcbiAgICAgICAgICBmb3JtOiAxLFxuICAgICAgICAgIGZvcm1fdmVyc2lvbjogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpbnNlcnRlZF9pbnN0YW5jZXMucHVzaChuZXdfaW5zKTtcbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBpbnNlcnRzOiBpbnNlcnRlZF9pbnN0YW5jZXNcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVtb3ZlJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cblx0XHRpbnNlcnRlZF9pbnN0YW5jZXMgPSBuZXcgQXJyYXlcblxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cblx0XHRcdCMg6I635Y+W5LiA5LiqaW5zdGFuY2Vcblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSlcblx0XHRcdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2Vcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2Vcblx0XHRcdHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2XkuIvnmoTkuIDkuKp1c2VyXG5cdFx0XHRzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblxuXHRcdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogaW5zdGFuY2UuZmxvd30pXG5cblx0XHRcdHNwYWNlVXNlck9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuXHRcdFx0XHRfaWQ6IHtcblx0XHRcdFx0XHQkaW46IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uc1xuXHRcdFx0XHR9XG5cdFx0XHR9KS5mZXRjaCgpO1xuXG5cdFx0XHQjIOWIpOaWreS4gOS4queUqOaIt+aYr+WQpuaYr+S4gOS4qmluc3RhbmNl55qE5o+Q5Lqk6ICF5oiW6ICF55Sz6K+35Lq6IOaIllNwYWNlQWRtaW5cblx0XHRcdGlmIChpbnN0YW5jZS5zdWJtaXR0ZXIgaXNudCBjdXJyZW50X3VzZXIpIGFuZCAobm90IHNwYWNlLmFkbWlucy5pbmNsdWRlcyBjdXJyZW50X3VzZXIpIGFuZCAhV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGZsb3csIHNwYWNlX3VzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpXG5cdFx0XHRcdHRocm93IG5ldyAgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaCqOS4jeiDveWIoOmZpOatpOeUs+ivt+WNleOAglwiKVxuXG5cdFx0XHRkZWxldGVfb2JqID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pXG5cdFx0XHRkZWxldGVfb2JqLmRlbGV0ZWQgPSBuZXcgRGF0ZVxuXHRcdFx0ZGVsZXRlX29iai5kZWxldGVkX2J5ID0gY3VycmVudF91c2VyXG5cblx0XHRcdGRiLmRlbGV0ZWRfaW5zdGFuY2VzLmluc2VydChkZWxldGVfb2JqKVxuXG5cdFx0XHQjIOWIoOmZpGluc3RhbmNlXG5cdFx0XHRkYi5pbnN0YW5jZXMucmVtb3ZlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKVxuXG5cdFx0XHRpZiBkZWxldGVfb2JqLnN0YXRlIGlzbnQgXCJkcmFmdFwiXG5cdFx0XHRcdCPlj5HpgIHnu5nlvoXlpITnkIbkurosICPlj5HpgIHnu5nooqvkvKDpmIXkurpcblx0XHRcdFx0aW5ib3hfdXNlcnMgPSBpZiBkZWxldGVfb2JqLmluYm94X3VzZXJzIHRoZW4gZGVsZXRlX29iai5pbmJveF91c2VycyBlbHNlIFtdXG5cdFx0XHRcdGNjX3VzZXJzID0gaWYgZGVsZXRlX29iai5jY191c2VycyB0aGVuIGRlbGV0ZV9vYmouY2NfdXNlcnMgZWxzZSBbXVxuXHRcdFx0XHR1c2VyX2lkcyA9IF8udW5pcShpbmJveF91c2Vycy5jb25jYXQoY2NfdXNlcnMpKVxuXHRcdFx0XHRfLmVhY2ggdXNlcl9pZHMsICh1X2lkKS0+XG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwidGVybWluYXRlX2FwcHJvdmFsXCIsIHVfaWQpXG5cblx0XHRcdFx0IyDlj5HpgIHliKDpmaTpgJrnn6Xpgq7ku7bnu5npgJrov4fmoKHpqoznmoTnlLPor7fkurov5aGr5Y2V5Lq677yM5a+555Sz6K+35Lq6L+Whq+WNleS6uuWQhOeUn+aIkOS4gOadoXNtdHAgbWVzc2FnZVxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcIm1vbml0b3JfZGVsZXRlX2FwcGxpY2FudFwiLCBkZWxldGVfb2JqLCBcIlwiLCBjdXJyZW50X3VzZXJfaW5mbylcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgaW5zZXJ0czogaW5zZXJ0ZWRfaW5zdGFuY2VzfVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cblx0XG5cdFx0IiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZW1vdmUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGEsIGluc2VydGVkX2luc3RhbmNlcztcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIGluc2VydGVkX2luc3RhbmNlcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIGNjX3VzZXJzLCBkZWxldGVfb2JqLCBmbG93LCBpbmJveF91c2VycywgaW5zdGFuY2UsIHNwYWNlLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zLCBzcGFjZV9pZCwgc3BhY2VfdXNlciwgdXNlcl9pZHM7XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pO1xuICAgICAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgICAgIHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgICBzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogaW5zdGFuY2UuZmxvd1xuICAgICAgfSk7XG4gICAgICBzcGFjZVVzZXJPcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgJGluOiBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbnNcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIGlmICgoaW5zdGFuY2Uuc3VibWl0dGVyICE9PSBjdXJyZW50X3VzZXIpICYmICghc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpICYmICFXb3JrZmxvd01hbmFnZXIuY2FuQWRtaW4oZmxvdywgc3BhY2VfdXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucykpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmgqjkuI3og73liKDpmaTmraTnlLPor7fljZXjgIJcIik7XG4gICAgICB9XG4gICAgICBkZWxldGVfb2JqID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pO1xuICAgICAgZGVsZXRlX29iai5kZWxldGVkID0gbmV3IERhdGU7XG4gICAgICBkZWxldGVfb2JqLmRlbGV0ZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICBkYi5kZWxldGVkX2luc3RhbmNlcy5pbnNlcnQoZGVsZXRlX29iaik7XG4gICAgICBkYi5pbnN0YW5jZXMucmVtb3ZlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKTtcbiAgICAgIGlmIChkZWxldGVfb2JqLnN0YXRlICE9PSBcImRyYWZ0XCIpIHtcbiAgICAgICAgaW5ib3hfdXNlcnMgPSBkZWxldGVfb2JqLmluYm94X3VzZXJzID8gZGVsZXRlX29iai5pbmJveF91c2VycyA6IFtdO1xuICAgICAgICBjY191c2VycyA9IGRlbGV0ZV9vYmouY2NfdXNlcnMgPyBkZWxldGVfb2JqLmNjX3VzZXJzIDogW107XG4gICAgICAgIHVzZXJfaWRzID0gXy51bmlxKGluYm94X3VzZXJzLmNvbmNhdChjY191c2VycykpO1xuICAgICAgICBfLmVhY2godXNlcl9pZHMsIGZ1bmN0aW9uKHVfaWQpIHtcbiAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwidGVybWluYXRlX2FwcHJvdmFsXCIsIHVfaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwibW9uaXRvcl9kZWxldGVfYXBwbGljYW50XCIsIGRlbGV0ZV9vYmosIFwiXCIsIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBpbnNlcnRzOiBpbnNlcnRlZF9pbnN0YW5jZXNcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvc3VibWl0JywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cdFx0cmVzdWx0ID0gW11cblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XG5cdFx0XHRyID0gdXVmbG93TWFuYWdlci5zdWJtaXRfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGN1cnJlbnRfdXNlcl9pbmZvKVxuXHRcdFx0aWYgci5hbGVydHNcblx0XHRcdFx0cmVzdWx0LnB1c2gocilcblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoaW5zdGFuY2VfZnJvbV9jbGllbnRbJ2luYm94X3VzZXJzJ10pXG5cdFx0XHRcdCMg5aaC5p6c5piv6L2s5Y+R5bCx6ZyA6KaB57uZ5b2T5YmN55So5oi35Y+R6YCBcHVzaCDph43mlrDorqHnrpdiYWRnZVxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgY3VycmVudF91c2VyKTtcblxuXHRcdFx0aWYgXy5pc0VtcHR5KHIuYWxlcnRzKVxuXHRcdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2Zyb21fY2xpZW50Ll9pZClcblx0XHRcdFx0Zmxvd19pZCA9IGluc3RhbmNlLmZsb3dcblx0XHRcdFx0Y3VycmVudF9hcHByb3ZlID0gaW5zdGFuY2VfZnJvbV9jbGllbnQudHJhY2VzWzBdLmFwcHJvdmVzWzBdXG5cdFx0XHRcdCMg5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxuXHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhmbG93X2lkLCBpbnN0YW5jZSwgY3VycmVudF9hcHByb3ZlLCAnZHJhZnRfc3VibWl0JywgY3VycmVudF91c2VyLCBpbnN0YW5jZS5pbmJveF91c2VycylcblxuXHRcdFx0IyDliKTmlq3nlLPor7fljZXmmK/lkKbliIblj5HvvIzliIblj5Hmlofku7bnu5PmnZ/mj5DphpLlj5Hotbfkurpcblx0XHRcdHV1Zmxvd01hbmFnZXIuZGlzdHJpYnV0ZWRJbnN0YW5jZXNSZW1pbmQoaW5zdGFuY2VfZnJvbV9jbGllbnQpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRjb2RlOiAyMDBcblx0XHRcdFx0ZGF0YTogeyByZXN1bHQ6IHJlc3VsdCB9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvc3VibWl0JywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhLCByZXN1bHQ7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICByZXN1bHQgPSBbXTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIGN1cnJlbnRfYXBwcm92ZSwgZmxvd19pZCwgaW5zdGFuY2UsIHI7XG4gICAgICByID0gdXVmbG93TWFuYWdlci5zdWJtaXRfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgIGlmIChyLmFsZXJ0cykge1xuICAgICAgICByZXN1bHQucHVzaChyKTtcbiAgICAgIH1cbiAgICAgIGlmICghXy5pc0VtcHR5KGluc3RhbmNlX2Zyb21fY2xpZW50WydpbmJveF91c2VycyddKSkge1xuICAgICAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgY3VycmVudF91c2VyKTtcbiAgICAgIH1cbiAgICAgIGlmIChfLmlzRW1wdHkoci5hbGVydHMpKSB7XG4gICAgICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfZnJvbV9jbGllbnQuX2lkKTtcbiAgICAgICAgZmxvd19pZCA9IGluc3RhbmNlLmZsb3c7XG4gICAgICAgIGN1cnJlbnRfYXBwcm92ZSA9IGluc3RhbmNlX2Zyb21fY2xpZW50LnRyYWNlc1swXS5hcHByb3Zlc1swXTtcbiAgICAgICAgcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soZmxvd19pZCwgaW5zdGFuY2UsIGN1cnJlbnRfYXBwcm92ZSwgJ2RyYWZ0X3N1Ym1pdCcsIGN1cnJlbnRfdXNlciwgaW5zdGFuY2UuaW5ib3hfdXNlcnMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHV1Zmxvd01hbmFnZXIuZGlzdHJpYnV0ZWRJbnN0YW5jZXNSZW1pbmQoaW5zdGFuY2VfZnJvbV9jbGllbnQpO1xuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHJlc3VsdDogcmVzdWx0XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L3Rlcm1pbmF0ZScsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cblx0XHRcdHRlcm1pbmF0ZV9yZWFzb24gPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRlcm1pbmF0ZV9yZWFzb25cIl1cblx0XHRcdGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl1cblx0XHRcdCMg6I635Y+W5LiA5LiqaW5zdGFuY2Vcblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRcdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2Vcblx0XHRcdGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93XG5cdFx0XHQjIOiOt+WPluS4gOS4qnNwYWNlXG5cdFx0XHRzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cdFx0XHQjIOiOt+WPluS4gOS4qmZsb3dcblx0XHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coZmxvd19pZClcblx0XHRcdCMg5Yik5pat5LiA5LiqaW5zdGFuY2XmmK/lkKbkuLrlrqHmoLjkuK3nirbmgIFcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVBlbmRpbmcoaW5zdGFuY2UpXG5cdFx0XHQjIOiOt+WPluS4gOS4qnNwYWNl5LiL55qE5LiA5LiqdXNlclxuXHRcdFx0c3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cdFx0XHQjIOiOt+WPlnNwYWNlX3VzZXLmiYDlnKjnmoTpg6jpl6jkv6Hmga9cblx0XHRcdHNwYWNlX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oc3BhY2VfdXNlcilcblx0XHRcdCMg6I635Y+W57uT5p2f6IqC54K5XG5cdFx0XHRpbnN0YW5jZV9mbG93X3ZlciA9IG51bGxcblx0XHRcdGZsb3dfdmVyX2VuZF9zdGVwID0gbnVsbFxuXHRcdFx0Zmxvd192ZXJzID0gbmV3IEFycmF5XG5cdFx0XHRmbG93X3ZlcnMucHVzaChmbG93LmN1cnJlbnQpXG5cdFx0XHRmbG93X3ZlcnMgPSBmbG93X3ZlcnMuY29uY2F0KGZsb3cuaGlzdG9yeXMpXG5cdFx0XHRpbnN0YW5jZV9mbG93X3ZlciA9IF8uZmluZChmbG93X3ZlcnMsIChmX3ZlciktPlxuXHRcdFx0XHRyZXR1cm4gZl92ZXIuX2lkIGlzIGluc3RhbmNlLmZsb3dfdmVyc2lvblxuXHRcdFx0KVxuXHRcdFx0aWYgbm90IGluc3RhbmNlX2Zsb3dfdmVyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw55Sz6K+35Y2V5a+55bqU5rWB56iL54mI5pysXCIpXG5cdFx0XHRmbG93X3Zlcl9lbmRfc3RlcCA9IF8uZmluZChpbnN0YW5jZV9mbG93X3Zlci5zdGVwcywgKGZfc3RlcCktPlxuXHRcdFx0XHRyZXR1cm4gZl9zdGVwLnN0ZXBfdHlwZSBpcyBcImVuZFwiXG5cdFx0XHQpXG5cdFx0XHQjIOiwg+eUqGdldEZsb3dQZXJtaXNzaW9uc+aWueazle+8jOeci+i/lOWbnueahOe7k+aenOS4reaYr+WQpuaciWFkbWluXG5cdFx0XHRwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhmbG93X2lkLCBjdXJyZW50X3VzZXIpXG5cdFx0XHRub3cgPSBuZXcgRGF0ZVxuXHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxuXHRcdFx0IyBzcGFjZeeahGFkbWluLCDloavljZXkurog55Sz6K+35Lq6IOacieadg+mZkCDlj5bmtojnlLPor7dcblx0XHRcdGlmIHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikgb3Igc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikgb3IgaW5zdGFuY2Uuc3VibWl0dGVyIGlzIGN1cnJlbnRfdXNlciBvciBpbnN0YW5jZS5hcHBsaWNhbnQgaXMgY3VycmVudF91c2VyXG5cdFx0XHRcdGlmIG5vdCB0ZXJtaW5hdGVfcmVhc29uXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJyxcIui/mOacquWhq+WGmeW8uuWItue7k+adn+eUs+ivt+WNleeahOeQhueUse+8jOaTjeS9nOWksei0pVwiKVxuXG5cdFx0XHRcdGluc3RhbmNlX3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgKHRyYWNlKS0+XG5cdFx0XHRcdFx0cmV0dXJuIHRyYWNlLmlzX2ZpbmlzaGVkIGlzIGZhbHNlXG5cdFx0XHRcdClcblxuXHRcdFx0XHR0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXNcblx0XHRcdFx0aSA9IDBcblx0XHRcdFx0d2hpbGUgaSA8IHRyYWNlcy5sZW5ndGhcblx0XHRcdFx0XHRpZiB0cmFjZXNbaV0uaXNfZmluaXNoZWQgaXMgZmFsc2Vcblx0XHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2XorrDlvZVcblx0XHRcdFx0XHRcdHRyYWNlc1tpXS5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0XHRcdHRyYWNlc1tpXS5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0aCA9IDBcblx0XHRcdFx0XHRcdHdoaWxlIGggPCB0cmFjZXNbaV0uYXBwcm92ZXMubGVuZ3RoXG5cdFx0XHRcdFx0XHRcdGlmIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCBpcyBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2UuYXBwcm92ZeiusOW9lVxuXHRcdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uanVkZ2UgPSBudWxsXG5cdFx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmRlc2NyaXB0aW9uID0gbnVsbFxuXHRcdFx0XHRcdFx0XHRoKytcblx0XHRcdFx0XHRcdCMg5o+S5YWl5b2T5YmNVHJhY2UgdHJhY2UuYXBwcm92ZeiusOW9le+8muW9k3RyYWNlLnR5cGXkuLrlj5blm57jgIHlvLrliLbnu5PmnZ/ml7bvvIxpc19yZWFkPXRydWXkuJRyZWFkX2RhdGXkuLrlvZPliY3ml7bpl7TjgIJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS50cmFjZSA9IGluc3RhbmNlX3RyYWNlLl9pZFxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUudXNlciA9IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl1cblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXVxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl1cblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5kdWVfZGF0ZSA9IGluc3RhbmNlX3RyYWNlLmR1ZV9kYXRlXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLnJlYWRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5qdWRnZSA9IFwidGVybWluYXRlZFwiXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX3JlYWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmRlc2NyaXB0aW9uID0gdGVybWluYXRlX3JlYXNvblxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3Rcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuY29zdF90aW1lID0gbmV3QXBwcm92ZS5maW5pc2hfZGF0ZSAtIG5ld0FwcHJvdmUuc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSlcblx0XHRcdFx0XHRpKytcblxuXHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNl6K6w5b2VXG5cdFx0XHRcdG5ld1RyYWNlID0gbmV3IE9iamVjdFxuXHRcdFx0XHRuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRcdG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdFx0bmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2luc3RhbmNlX3RyYWNlLl9pZF1cblx0XHRcdFx0IyB0eXBlLS0t5YGc55SoXG5cdFx0XHRcdCMgbmV3VHJhY2UudHlwZSA9IFwidGVybWluYXRlZFwiXG5cdFx0XHRcdG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRuZXdUcmFjZS5zdGVwID0gZmxvd192ZXJfZW5kX3N0ZXAuX2lkXG5cdFx0XHRcdG5ld1RyYWNlLm5hbWUgPSBmbG93X3Zlcl9lbmRfc3RlcC5uYW1lXG5cdFx0XHRcdG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0bmV3VHJhY2UuZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdFx0bmV3VHJhY2UuanVkZ2UgPSBcInRlcm1pbmF0ZWRcIlxuXG5cdFx0XHRcdHNldE9iai5zdGF0ZSA9IFwiY29tcGxldGVkXCJcblx0XHRcdFx0c2V0T2JqLmZpbmFsX2RlY2lzaW9uID0gXCJ0ZXJtaW5hdGVkXCJcblx0XHRcdFx0b2xkX2luYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnNcblx0XHRcdFx0b2xkX2NjX3VzZXJzID0gaW5zdGFuY2UuY2NfdXNlcnMgfHwgW11cblx0XHRcdFx0b2xkX291dGJveF91c2VycyA9IGluc3RhbmNlLm91dGJveF91c2Vyc1xuXHRcdFx0XHR0ZW1wVXNlcnMgPSBuZXcgQXJyYXlcblx0XHRcdFx0Xy5lYWNoKGluc3RhbmNlX3RyYWNlLmFwcHJvdmVzLCAobmZ0X2FwcHJvdmUpLT5cblx0XHRcdFx0XHR0ZW1wVXNlcnMucHVzaChuZnRfYXBwcm92ZS51c2VyKVxuXHRcdFx0XHRcdHRlbXBVc2Vycy5wdXNoKG5mdF9hcHByb3ZlLmhhbmRsZXIpXG5cdFx0XHRcdClcblx0XHRcdFx0c2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnN0YW5jZS5vdXRib3hfdXNlcnMuY29uY2F0KHRlbXBVc2VycykpXG5cdFx0XHRcdHNldE9iai5pbmJveF91c2VycyA9IG5ldyBBcnJheVxuXHRcdFx0XHRzZXRPYmouY2NfdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XG5cdFx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxuXHRcdFx0XHR0cmFjZXMucHVzaChuZXdUcmFjZSlcblx0XHRcdFx0c2V0T2JqLnRyYWNlcyA9IHRyYWNlc1xuXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IGZsb3dfdmVyX2VuZF9zdGVwLm5hbWVcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IGZhbHNlXG5cblx0XHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogc2V0T2JqfSlcblx0XHRcdFx0aWYgclxuXHRcdFx0XHRcdGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXG5cdFx0XHRcdFx0I+mAmuefpeWhq+WNleS6uuOAgeeUs+ivt+S6ulxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwic3VibWl0X3Rlcm1pbmF0ZV9hcHBsaWNhbnRcIiwgaW5zLCB0ZXJtaW5hdGVfcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbylcblxuXHRcdFx0XHRcdCPlj5HpgIHnu5nlvoXlpITnkIbkurog6KKr5Lyg6ZiF5Lq6XG5cdFx0XHRcdFx0aWYgb2xkX2luYm94X3VzZXJzXG5cdFx0XHRcdFx0XHRfLmVhY2goXy51bmlxKG9sZF9pbmJveF91c2Vycy5jb25jYXQob2xkX2NjX3VzZXJzKSksICh1c2VyX2lkKS0+XG5cdFx0XHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcInRlcm1pbmF0ZV9hcHByb3ZhbFwiLCB1c2VyX2lkKVxuXHRcdFx0XHRcdFx0KVxuXG5cdFx0XHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICd0ZXJtaW5hdGUnLCBjdXJyZW50X3VzZXIsIFtdKVxuXG5cdFx0I+WPkemAgea2iOaBr+e7meW9k+WJjeeUqOaIt1xuXHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0Y29kZTogMjAwXG5cdFx0XHRcdGRhdGE6IHt9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvdGVybWluYXRlJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBmbG93LCBmbG93X2lkLCBmbG93X3Zlcl9lbmRfc3RlcCwgZmxvd192ZXJzLCBoLCBpLCBpbnMsIGluc3RhbmNlLCBpbnN0YW5jZV9mbG93X3ZlciwgaW5zdGFuY2VfaWQsIGluc3RhbmNlX3RyYWNlLCBuZXdBcHByb3ZlLCBuZXdUcmFjZSwgbm93LCBvbGRfY2NfdXNlcnMsIG9sZF9pbmJveF91c2Vycywgb2xkX291dGJveF91c2VycywgcGVybWlzc2lvbnMsIHIsIHNldE9iaiwgc3BhY2UsIHNwYWNlX2lkLCBzcGFjZV91c2VyLCBzcGFjZV91c2VyX29yZ19pbmZvLCB0ZW1wVXNlcnMsIHRlcm1pbmF0ZV9yZWFzb24sIHRyYWNlcztcbiAgICAgIHRlcm1pbmF0ZV9yZWFzb24gPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRlcm1pbmF0ZV9yZWFzb25cIl07XG4gICAgICBpbnN0YW5jZV9pZCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICBmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcbiAgICAgIHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGZsb3dfaWQpO1xuICAgICAgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlUGVuZGluZyhpbnN0YW5jZSk7XG4gICAgICBzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICBzcGFjZV91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKHNwYWNlX3VzZXIpO1xuICAgICAgaW5zdGFuY2VfZmxvd192ZXIgPSBudWxsO1xuICAgICAgZmxvd192ZXJfZW5kX3N0ZXAgPSBudWxsO1xuICAgICAgZmxvd192ZXJzID0gbmV3IEFycmF5O1xuICAgICAgZmxvd192ZXJzLnB1c2goZmxvdy5jdXJyZW50KTtcbiAgICAgIGZsb3dfdmVycyA9IGZsb3dfdmVycy5jb25jYXQoZmxvdy5oaXN0b3J5cyk7XG4gICAgICBpbnN0YW5jZV9mbG93X3ZlciA9IF8uZmluZChmbG93X3ZlcnMsIGZ1bmN0aW9uKGZfdmVyKSB7XG4gICAgICAgIHJldHVybiBmX3Zlci5faWQgPT09IGluc3RhbmNlLmZsb3dfdmVyc2lvbjtcbiAgICAgIH0pO1xuICAgICAgaWYgKCFpbnN0YW5jZV9mbG93X3Zlcikge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquaJvuWIsOeUs+ivt+WNleWvueW6lOa1geeoi+eJiOacrFwiKTtcbiAgICAgIH1cbiAgICAgIGZsb3dfdmVyX2VuZF9zdGVwID0gXy5maW5kKGluc3RhbmNlX2Zsb3dfdmVyLnN0ZXBzLCBmdW5jdGlvbihmX3N0ZXApIHtcbiAgICAgICAgcmV0dXJuIGZfc3RlcC5zdGVwX3R5cGUgPT09IFwiZW5kXCI7XG4gICAgICB9KTtcbiAgICAgIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGZsb3dfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBpZiAocGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSB8fCBzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSB8fCBpbnN0YW5jZS5zdWJtaXR0ZXIgPT09IGN1cnJlbnRfdXNlciB8fCBpbnN0YW5jZS5hcHBsaWNhbnQgPT09IGN1cnJlbnRfdXNlcikge1xuICAgICAgICBpZiAoIXRlcm1pbmF0ZV9yZWFzb24pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIui/mOacquWhq+WGmeW8uuWItue7k+adn+eUs+ivt+WNleeahOeQhueUse+8jOaTjeS9nOWksei0pVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZV90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYWNlLmlzX2ZpbmlzaGVkID09PSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdHJhY2VzLmxlbmd0aCkge1xuICAgICAgICAgIGlmICh0cmFjZXNbaV0uaXNfZmluaXNoZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0cmFjZXNbaV0uaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgdHJhY2VzW2ldLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgaCA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoaCA8IHRyYWNlc1tpXS5hcHByb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgaWYgKHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uanVkZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5kZXNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3QXBwcm92ZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLnRyYWNlID0gaW5zdGFuY2VfdHJhY2UuX2lkO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLnVzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuZHVlX2RhdGUgPSBpbnN0YW5jZV90cmFjZS5kdWVfZGF0ZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUucmVhZF9kYXRlID0gbm93O1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5qdWRnZSA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5pc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuZGVzY3JpcHRpb24gPSB0ZXJtaW5hdGVfcmVhc29uO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5jb3N0X3RpbWUgPSBuZXdBcHByb3ZlLmZpbmlzaF9kYXRlIC0gbmV3QXBwcm92ZS5zdGFydF9kYXRlO1xuICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBuZXdUcmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgIG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtpbnN0YW5jZV90cmFjZS5faWRdO1xuICAgICAgICBuZXdUcmFjZS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgIG5ld1RyYWNlLnN0ZXAgPSBmbG93X3Zlcl9lbmRfc3RlcC5faWQ7XG4gICAgICAgIG5ld1RyYWNlLm5hbWUgPSBmbG93X3Zlcl9lbmRfc3RlcC5uYW1lO1xuICAgICAgICBuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBuZXdUcmFjZS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3VHJhY2UuanVkZ2UgPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgc2V0T2JqLnN0YXRlID0gXCJjb21wbGV0ZWRcIjtcbiAgICAgICAgc2V0T2JqLmZpbmFsX2RlY2lzaW9uID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgIG9sZF9pbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzO1xuICAgICAgICBvbGRfY2NfdXNlcnMgPSBpbnN0YW5jZS5jY191c2VycyB8fCBbXTtcbiAgICAgICAgb2xkX291dGJveF91c2VycyA9IGluc3RhbmNlLm91dGJveF91c2VycztcbiAgICAgICAgdGVtcFVzZXJzID0gbmV3IEFycmF5O1xuICAgICAgICBfLmVhY2goaW5zdGFuY2VfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKG5mdF9hcHByb3ZlKSB7XG4gICAgICAgICAgdGVtcFVzZXJzLnB1c2gobmZ0X2FwcHJvdmUudXNlcik7XG4gICAgICAgICAgcmV0dXJuIHRlbXBVc2Vycy5wdXNoKG5mdF9hcHByb3ZlLmhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnN0YW5jZS5vdXRib3hfdXNlcnMuY29uY2F0KHRlbXBVc2VycykpO1xuICAgICAgICBzZXRPYmouaW5ib3hfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgICAgIHNldE9iai5jY191c2VycyA9IG5ldyBBcnJheTtcbiAgICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgICAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgIHRyYWNlcy5wdXNoKG5ld1RyYWNlKTtcbiAgICAgICAgc2V0T2JqLnRyYWNlcyA9IHRyYWNlcztcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gZmxvd192ZXJfZW5kX3N0ZXAubmFtZTtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IGZhbHNlO1xuICAgICAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwic3VibWl0X3Rlcm1pbmF0ZV9hcHBsaWNhbnRcIiwgaW5zLCB0ZXJtaW5hdGVfcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgICAgaWYgKG9sZF9pbmJveF91c2Vycykge1xuICAgICAgICAgICAgXy5lYWNoKF8udW5pcShvbGRfaW5ib3hfdXNlcnMuY29uY2F0KG9sZF9jY191c2VycykpLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJ0ZXJtaW5hdGVfYXBwcm92YWxcIiwgdXNlcl9pZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAndGVybWluYXRlJywgY3VycmVudF91c2VyLCBbXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVhc3NpZ24nLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XG5cdFx0XHRpbnN0YW5jZV9pZCA9IGluc3RhbmNlX2Zyb21fY2xpZW50WydfaWQnXVxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxuXHRcdFx0IyDpqozor4FpbnN0YW5jZeS4uuWuoeaguOS4reeKtuaAgVxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlUGVuZGluZyhpbnN0YW5jZSlcblx0XHRcdCMg6aqM6K+B5b2T5YmN5omn6KGM6L2s562+5qC455qEdHJhY2XmnKrnu5PmnZ9cblx0XHRcdGxhc3RfdHJhY2VfZnJvbV9jbGllbnQgPSBfLmxhc3QoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJ0cmFjZXNcIl0pXG5cdFx0XHRsYXN0X3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgKHQpIC0+XG5cdFx0XHRcdHJldHVybiB0Ll9pZCBpcyBsYXN0X3RyYWNlX2Zyb21fY2xpZW50W1wiX2lkXCJdXG5cdFx0XHQpXG5cdFx0XHRpZiBsYXN0X3RyYWNlLmlzX2ZpbmlzaGVkIGlzIHRydWVcblx0XHRcdFx0cmV0dXJuXG5cblx0XHRcdCMg6aqM6K+BbG9naW4gdXNlcl9pZOWvueivpea1geeoi+acieeuoeeQhueUs+ivt+WNleeahOadg+mZkFxuXHRcdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgY3VycmVudF91c2VyKVxuXHRcdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7IF9pZDogc3BhY2VfaWQgfSwgeyBmaWVsZHM6IHsgYWRtaW5zOiAxIH0gfSlcblx0XHRcdGlmIChub3QgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgYW5kIChub3Qgc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpXG5cblx0XHRcdGluYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnNcblx0XHRcdGluYm94X3VzZXJzX2Zyb21fY2xpZW50ID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJpbmJveF91c2Vyc1wiXVxuXHRcdFx0cmVhc3NpZ25fcmVhc29uID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWFzc2lnbl9yZWFzb25cIl1cblx0XHRcdG5vdF9pbl9pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2VycywgaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQpXG5cdFx0XHRuZXdfaW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UoaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQsIGluYm94X3VzZXJzKVxuXHRcdFx0IyDoi6Vhc3NpZ25lZT3ljp9pbmJveF91c2Vyc++8jOivtOaYjuS4jemcgOimgeaJp+ihjOi9rOetvuaguO+8jOezu+e7n+S7gOS5iOmDveS4jeWBmlxuXHRcdFx0cmV0dXJuIGlmIG5vdF9pbl9pbmJveF91c2Vycy5sZW5ndGggaXMgMCBhbmQgbmV3X2luYm94X3VzZXJzLmxlbmd0aCBpcyAwXG5cdFx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XG5cdFx0XHRub3cgPSBuZXcgRGF0ZVxuXHRcdFx0aSA9IDBcblx0XHRcdGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMgPSBbXVxuXHRcdFx0d2hpbGUgaSA8IGxhc3RfdHJhY2UuYXBwcm92ZXMubGVuZ3RoXG5cdFx0XHRcdGlmIG5vdF9pbl9pbmJveF91c2Vycy5pbmNsdWRlcyhsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmhhbmRsZXIpXG5cdFx0XHRcdFx0aWYgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5pc19maW5pc2hlZCBpcyBmYWxzZSBhbmQgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS50eXBlIGlzbnQgXCJjY1wiIGFuZCBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnR5cGUgaXNudCBcImRpc3RyaWJ1dGVcIlxuXHRcdFx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlc1tpXS5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uanVkZ2UgPSBcInRlcm1pbmF0ZWRcIlxuXHRcdFx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlc1tpXS5kZXNjcmlwdGlvbiA9IFwiXCJcblx0XHRcdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uY29zdF90aW1lID0gbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5maW5pc2hfZGF0ZSAtIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdFx0YXBwcm92ZV91c2Vyc19oYW5kbGVycy5wdXNoKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udXNlcilcblx0XHRcdFx0XHRcdGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMucHVzaChsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmhhbmRsZXIpXG5cdFx0XHRcdGkrK1xuXHRcdFx0IyDlnKjlkIzkuIB0cmFjZeS4i+aPkuWFpei9rOetvuaguOaTjeS9nOiAheeahGFwcHJvdmXorrDlvZVcblx0XHRcdGN1cnJlbnRfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cdFx0XHRjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHsgX2lkOiBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEsIGZ1bGxuYW1lOiAxIH0gfSlcblx0XHRcdGFzc2lnbmVlX2FwcHIgPSBuZXcgT2JqZWN0XG5cdFx0XHRhc3NpZ25lZV9hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaW5zdGFuY2UgPSBsYXN0X3RyYWNlLmluc3RhbmNlXG5cdFx0XHRhc3NpZ25lZV9hcHByLnRyYWNlID0gbGFzdF90cmFjZS5faWRcblx0XHRcdGFzc2lnbmVlX2FwcHIuaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRhc3NpZ25lZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdGFzc2lnbmVlX2FwcHIudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxuXHRcdFx0YXNzaWduZWVfYXBwci5oYW5kbGVyID0gY3VycmVudF91c2VyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcblx0XHRcdGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uXG5cdFx0XHRhc3NpZ25lZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLm5hbWVcblx0XHRcdGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lXG5cdFx0XHRhc3NpZ25lZV9hcHByLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdGFzc2lnbmVlX2FwcHIuZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdGFzc2lnbmVlX2FwcHIuZHVlX2RhdGUgPSBsYXN0X3RyYWNlLmR1ZV9kYXRlXG5cdFx0XHRhc3NpZ25lZV9hcHByLnJlYWRfZGF0ZSA9IG5vd1xuXHRcdFx0YXNzaWduZWVfYXBwci5qdWRnZSA9IFwicmVhc3NpZ25lZFwiXG5cdFx0XHRhc3NpZ25lZV9hcHByLmlzX3JlYWQgPSB0cnVlXG5cdFx0XHRhc3NpZ25lZV9hcHByLmRlc2NyaXB0aW9uID0gcmVhc3NpZ25fcmVhc29uXG5cdFx0XHRhc3NpZ25lZV9hcHByLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdGFzc2lnbmVlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdFxuXHRcdFx0YXNzaWduZWVfYXBwci5jb3N0X3RpbWUgPSBhc3NpZ25lZV9hcHByLmZpbmlzaF9kYXRlIC0gYXNzaWduZWVfYXBwci5zdGFydF9kYXRlXG5cdFx0XHRsYXN0X3RyYWNlLmFwcHJvdmVzLnB1c2goYXNzaWduZWVfYXBwcilcblx0XHRcdCMg5a+55paw5aKe55qE5q+P5L2N5b6F5a6h5qC45Lq677yM5ZCE5aKe5Yqg5LiA5p2h5paw55qEYXBwcm92ZVxuXHRcdFx0Xy5lYWNoKG5ld19pbmJveF91c2VycywgKHVzZXJfaWQpIC0+XG5cdFx0XHRcdG5ld191c2VyID0gZGIudXNlcnMuZmluZE9uZSh1c2VyX2lkLCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcblx0XHRcdFx0c3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCB1c2VyX2lkKVxuXHRcdFx0XHR1c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShzcGFjZV91c2VyLm9yZ2FuaXphdGlvbiwgeyBmaWVsZHM6IHsgbmFtZTogMSwgZnVsbG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRuZXdfYXBwciA9IG5ldyBPYmplY3Rcblx0XHRcdFx0bmV3X2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0XHRuZXdfYXBwci5pbnN0YW5jZSA9IGxhc3RfdHJhY2UuaW5zdGFuY2Vcblx0XHRcdFx0bmV3X2FwcHIudHJhY2UgPSBsYXN0X3RyYWNlLl9pZFxuXHRcdFx0XHRuZXdfYXBwci5pc19maW5pc2hlZCA9IGZhbHNlXG5cdFx0XHRcdG5ld19hcHByLnVzZXIgPSB1c2VyX2lkXG5cdFx0XHRcdG5ld19hcHByLnVzZXJfbmFtZSA9IG5ld191c2VyLm5hbWVcblxuXHRcdFx0XHRoYW5kbGVyX2lkID0gdXNlcl9pZFxuXHRcdFx0XHRoYW5kbGVyX2luZm8gPSBuZXdfdXNlclxuXHRcdFx0XHRhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIHVzZXJfaWQpXG5cdFx0XHRcdGlmIGFnZW50XG5cdFx0XHRcdFx0aW5ib3hfdXNlcnNfZnJvbV9jbGllbnRbaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQuaW5kZXhPZih1c2VyX2lkKV0gPSBhZ2VudFxuXHRcdFx0XHRcdGhhbmRsZXJfaWQgPSBhZ2VudFxuXHRcdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IGFnZW50IH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRcdG5ld19hcHByLmFnZW50ID0gYWdlbnRcblxuXHRcdFx0XHRuZXdfYXBwci5oYW5kbGVyID0gaGFuZGxlcl9pZFxuXHRcdFx0XHRuZXdfYXBwci5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZVxuXHRcdFx0XHRuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uXG5cdFx0XHRcdG5ld19hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSB1c2VyX29yZ2FuaXphdGlvbi5uYW1lXG5cdFx0XHRcdG5ld19hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWVcblx0XHRcdFx0bmV3X2FwcHIuZnJvbV91c2VyID0gY3VycmVudF91c2VyXG5cdFx0XHRcdG5ld19hcHByLmZyb21fdXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxuXHRcdFx0XHRuZXdfYXBwci50eXBlID0gXCJyZWFzc2lnblwiXG5cdFx0XHRcdG5ld19hcHByLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0bmV3X2FwcHIuZHVlX2RhdGUgPSBsYXN0X3RyYWNlLmR1ZV9kYXRlXG5cdFx0XHRcdG5ld19hcHByLmlzX3JlYWQgPSBmYWxzZVxuXHRcdFx0XHRuZXdfYXBwci5pc19lcnJvciA9IGZhbHNlXG5cdFx0XHRcdG5ld19hcHByLnZhbHVlcyA9IG5ldyBPYmplY3Rcblx0XHRcdFx0dXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgbmV3X2FwcHIpXG5cdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXMucHVzaChuZXdfYXBwcilcblx0XHRcdClcblxuXHRcdFx0aW5zdGFuY2Uub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKVxuXHRcdFx0aW5zdGFuY2Uub3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmNvbmNhdChhcHByb3ZlX3VzZXJzX2hhbmRsZXJzKVxuXHRcdFx0c2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnN0YW5jZS5vdXRib3hfdXNlcnMpXG5cdFx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSBpbmJveF91c2Vyc19mcm9tX2NsaWVudFxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XG5cdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcblx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzXCJdID0gbGFzdF90cmFjZS5hcHByb3Zlc1xuXHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoeyBfaWQ6IGluc3RhbmNlX2lkLCBcInRyYWNlcy5faWRcIjogbGFzdF90cmFjZS5faWQgfSwgeyAkc2V0OiBzZXRPYmogfSlcblx0XHRcdGlmIHJcblx0XHRcdFx0aW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRcdFx0IyDnu5nooqvliKDpmaTnmoRpbmJveF91c2VycyDlkowg5b2T5YmN55So5oi3IOWPkemAgXB1c2hcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbylcblx0XHRcdFx0Xy5lYWNoKG5vdF9pbl9pbmJveF91c2VycywgKHVzZXJfaWQpIC0+XG5cdFx0XHRcdFx0aWYgdXNlcl9pZCBpc250IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpXG5cdFx0XHRcdClcblx0XHRcdFx0IyDmj5Dlj5ZpbnN0YW5jZXMub3V0Ym94X3VzZXJz5pWw57uE5ZKM5aGr5Y2V5Lq644CB55Sz6K+35Lq6XG5cdFx0XHRcdF91c2VycyA9IG5ldyBBcnJheVxuXHRcdFx0XHRfdXNlcnMucHVzaChpbnMuYXBwbGljYW50KVxuXHRcdFx0XHRfdXNlcnMucHVzaChpbnMuc3VibWl0dGVyKVxuXHRcdFx0XHRfdXNlcnMgPSBfLnVuaXEoX3VzZXJzLmNvbmNhdChpbnMub3V0Ym94X3VzZXJzKSlcblx0XHRcdFx0Xy5lYWNoKF91c2VycywgKHVzZXJfaWQpIC0+XG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpXG5cdFx0XHRcdClcblxuXHRcdFx0XHQjIOe7meaWsOWKoOWFpeeahGluYm94X3VzZXJz5Y+R6YCBcHVzaCBtZXNzYWdlXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwicmVhc3NpZ25fbmV3X2luYm94X3VzZXJzXCIsIGlucywgcmVhc3NpZ25fcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbylcblxuXHRcdFx0XHQjIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5Fcblx0XHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZWFzc2lnbicsIGN1cnJlbnRfdXNlciwgaW5zLmluYm94X3VzZXJzKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7fVxuXHRcdH1cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7IGVycm9yTWVzc2FnZTogZS5tZXNzYWdlIH1dIH1cblx0XHR9XG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3JlYXNzaWduJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBfdXNlcnMsIGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMsIGFzc2lnbmVlX2FwcHIsIGN1cnJlbnRfc3BhY2VfdXNlciwgY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiwgaSwgaW5ib3hfdXNlcnMsIGluYm94X3VzZXJzX2Zyb21fY2xpZW50LCBpbnMsIGluc3RhbmNlLCBpbnN0YW5jZV9pZCwgbGFzdF90cmFjZSwgbGFzdF90cmFjZV9mcm9tX2NsaWVudCwgbmV3X2luYm94X3VzZXJzLCBub3RfaW5faW5ib3hfdXNlcnMsIG5vdywgcGVybWlzc2lvbnMsIHIsIHJlYXNzaWduX3JlYXNvbiwgc2V0T2JqLCBzcGFjZSwgc3BhY2VfaWQ7XG4gICAgICBpbnN0YW5jZV9pZCA9IGluc3RhbmNlX2Zyb21fY2xpZW50WydfaWQnXTtcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICAgICAgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlUGVuZGluZyhpbnN0YW5jZSk7XG4gICAgICBsYXN0X3RyYWNlX2Zyb21fY2xpZW50ID0gXy5sYXN0KGluc3RhbmNlX2Zyb21fY2xpZW50W1widHJhY2VzXCJdKTtcbiAgICAgIGxhc3RfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiB0Ll9pZCA9PT0gbGFzdF90cmFjZV9mcm9tX2NsaWVudFtcIl9pZFwiXTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGxhc3RfdHJhY2UuaXNfZmluaXNoZWQgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgY3VycmVudF91c2VyKTtcbiAgICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IHNwYWNlX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGFkbWluczogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICgoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpICYmICghc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpO1xuICAgICAgfVxuICAgICAgaW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2VycztcbiAgICAgIGluYm94X3VzZXJzX2Zyb21fY2xpZW50ID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJpbmJveF91c2Vyc1wiXTtcbiAgICAgIHJlYXNzaWduX3JlYXNvbiA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVhc3NpZ25fcmVhc29uXCJdO1xuICAgICAgbm90X2luX2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKGluYm94X3VzZXJzLCBpbmJveF91c2Vyc19mcm9tX2NsaWVudCk7XG4gICAgICBuZXdfaW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UoaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQsIGluYm94X3VzZXJzKTtcbiAgICAgIGlmIChub3RfaW5faW5ib3hfdXNlcnMubGVuZ3RoID09PSAwICYmIG5ld19pbmJveF91c2Vycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgaSA9IDA7XG4gICAgICBhcHByb3ZlX3VzZXJzX2hhbmRsZXJzID0gW107XG4gICAgICB3aGlsZSAoaSA8IGxhc3RfdHJhY2UuYXBwcm92ZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChub3RfaW5faW5ib3hfdXNlcnMuaW5jbHVkZXMobGFzdF90cmFjZS5hcHByb3Zlc1tpXS5oYW5kbGVyKSkge1xuICAgICAgICAgIGlmIChsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmlzX2ZpbmlzaGVkID09PSBmYWxzZSAmJiBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnR5cGUgIT09IFwiY2NcIiAmJiBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnR5cGUgIT09IFwiZGlzdHJpYnV0ZVwiKSB7XG4gICAgICAgICAgICBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgICAgICBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmRlc2NyaXB0aW9uID0gXCJcIjtcbiAgICAgICAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uY29zdF90aW1lID0gbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5maW5pc2hfZGF0ZSAtIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgIGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMucHVzaChsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnVzZXIpO1xuICAgICAgICAgICAgYXBwcm92ZV91c2Vyc19oYW5kbGVycy5wdXNoKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaGFuZGxlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvblxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgIGZ1bGxuYW1lOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYXNzaWduZWVfYXBwciA9IG5ldyBPYmplY3Q7XG4gICAgICBhc3NpZ25lZV9hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICBhc3NpZ25lZV9hcHByLmluc3RhbmNlID0gbGFzdF90cmFjZS5pbnN0YW5jZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIudHJhY2UgPSBsYXN0X3RyYWNlLl9pZDtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgYXNzaWduZWVfYXBwci51c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgYXNzaWduZWVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgYXNzaWduZWVfYXBwci5oYW5kbGVyID0gY3VycmVudF91c2VyO1xuICAgICAgYXNzaWduZWVfYXBwci5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgYXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb247XG4gICAgICBhc3NpZ25lZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLm5hbWU7XG4gICAgICBhc3NpZ25lZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgIGFzc2lnbmVlX2FwcHIuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICBhc3NpZ25lZV9hcHByLmR1ZV9kYXRlID0gbGFzdF90cmFjZS5kdWVfZGF0ZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIucmVhZF9kYXRlID0gbm93O1xuICAgICAgYXNzaWduZWVfYXBwci5qdWRnZSA9IFwicmVhc3NpZ25lZFwiO1xuICAgICAgYXNzaWduZWVfYXBwci5pc19yZWFkID0gdHJ1ZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIuZGVzY3JpcHRpb24gPSByZWFzc2lnbl9yZWFzb247XG4gICAgICBhc3NpZ25lZV9hcHByLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICBhc3NpZ25lZV9hcHByLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICBhc3NpZ25lZV9hcHByLmNvc3RfdGltZSA9IGFzc2lnbmVlX2FwcHIuZmluaXNoX2RhdGUgLSBhc3NpZ25lZV9hcHByLnN0YXJ0X2RhdGU7XG4gICAgICBsYXN0X3RyYWNlLmFwcHJvdmVzLnB1c2goYXNzaWduZWVfYXBwcik7XG4gICAgICBfLmVhY2gobmV3X2luYm94X3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgIHZhciBhZ2VudCwgaGFuZGxlcl9pZCwgaGFuZGxlcl9pbmZvLCBuZXdfYXBwciwgbmV3X3VzZXIsIHNwYWNlX3VzZXIsIHVzZXJfb3JnYW5pemF0aW9uO1xuICAgICAgICBuZXdfdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUodXNlcl9pZCwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgdXNlcl9pZCk7XG4gICAgICAgIHVzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHNwYWNlX3VzZXIub3JnYW5pemF0aW9uLCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgICAgZnVsbG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBuZXdfYXBwciA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld19hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld19hcHByLmluc3RhbmNlID0gbGFzdF90cmFjZS5pbnN0YW5jZTtcbiAgICAgICAgbmV3X2FwcHIudHJhY2UgPSBsYXN0X3RyYWNlLl9pZDtcbiAgICAgICAgbmV3X2FwcHIuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgbmV3X2FwcHIudXNlciA9IHVzZXJfaWQ7XG4gICAgICAgIG5ld19hcHByLnVzZXJfbmFtZSA9IG5ld191c2VyLm5hbWU7XG4gICAgICAgIGhhbmRsZXJfaWQgPSB1c2VyX2lkO1xuICAgICAgICBoYW5kbGVyX2luZm8gPSBuZXdfdXNlcjtcbiAgICAgICAgYWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCB1c2VyX2lkKTtcbiAgICAgICAgaWYgKGFnZW50KSB7XG4gICAgICAgICAgaW5ib3hfdXNlcnNfZnJvbV9jbGllbnRbaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQuaW5kZXhPZih1c2VyX2lkKV0gPSBhZ2VudDtcbiAgICAgICAgICBoYW5kbGVyX2lkID0gYWdlbnQ7XG4gICAgICAgICAgaGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgICBfaWQ6IGFnZW50XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBuZXdfYXBwci5hZ2VudCA9IGFnZW50O1xuICAgICAgICB9XG4gICAgICAgIG5ld19hcHByLmhhbmRsZXIgPSBoYW5kbGVyX2lkO1xuICAgICAgICBuZXdfYXBwci5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcbiAgICAgICAgbmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcbiAgICAgICAgbmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IHVzZXJfb3JnYW5pemF0aW9uLm5hbWU7XG4gICAgICAgIG5ld19hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWU7XG4gICAgICAgIG5ld19hcHByLmZyb21fdXNlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgbmV3X2FwcHIuZnJvbV91c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICBuZXdfYXBwci50eXBlID0gXCJyZWFzc2lnblwiO1xuICAgICAgICBuZXdfYXBwci5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBuZXdfYXBwci5kdWVfZGF0ZSA9IGxhc3RfdHJhY2UuZHVlX2RhdGU7XG4gICAgICAgIG5ld19hcHByLmlzX3JlYWQgPSBmYWxzZTtcbiAgICAgICAgbmV3X2FwcHIuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgbmV3X2FwcHIudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgdXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgbmV3X2FwcHIpO1xuICAgICAgICByZXR1cm4gbGFzdF90cmFjZS5hcHByb3Zlcy5wdXNoKG5ld19hcHByKTtcbiAgICAgIH0pO1xuICAgICAgaW5zdGFuY2Uub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKTtcbiAgICAgIGluc3RhbmNlLm91dGJveF91c2VycyA9IGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQoYXBwcm92ZV91c2Vyc19oYW5kbGVycyk7XG4gICAgICBzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2Vycyk7XG4gICAgICBzZXRPYmouaW5ib3hfdXNlcnMgPSBpbmJveF91c2Vyc19mcm9tX2NsaWVudDtcbiAgICAgIHNldE9iai5tb2RpZmllZCA9IG5vdztcbiAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzXCJdID0gbGFzdF90cmFjZS5hcHByb3ZlcztcbiAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZV9pZCxcbiAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IGxhc3RfdHJhY2UuX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgfSk7XG4gICAgICBpZiAocikge1xuICAgICAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgIF8uZWFjaChub3RfaW5faW5ib3hfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICBpZiAodXNlcl9pZCAhPT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIF91c2VycyA9IG5ldyBBcnJheTtcbiAgICAgICAgX3VzZXJzLnB1c2goaW5zLmFwcGxpY2FudCk7XG4gICAgICAgIF91c2Vycy5wdXNoKGlucy5zdWJtaXR0ZXIpO1xuICAgICAgICBfdXNlcnMgPSBfLnVuaXEoX3VzZXJzLmNvbmNhdChpbnMub3V0Ym94X3VzZXJzKSk7XG4gICAgICAgIF8uZWFjaChfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZWFzc2lnbl9uZXdfaW5ib3hfdXNlcnNcIiwgaW5zLCByZWFzc2lnbl9yZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmVhc3NpZ24nLCBjdXJyZW50X3VzZXIsIGlucy5pbmJveF91c2Vycyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHt9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L3JlbG9jYXRlJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKVxuXG5cdFx0XHRsYXN0X3RyYWNlID0gXy5sYXN0KGluc3RhbmNlLnRyYWNlcylcblxuXHRcdFx0IyDpqozor4Fsb2dpbiB1c2VyX2lk5a+56K+l5rWB56iL5pyJ566h55CG55Sz6K+35Y2V55qE5p2D6ZmQXG5cdFx0XHRwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpXG5cdFx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKGluc3RhbmNlLnNwYWNlLCB7IGZpZWxkczogeyBhZG1pbnM6IDEgfSB9KVxuXHRcdFx0aWYgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSBhbmQgKG5vdCBzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSlcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIilcblxuXHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxuXHRcdFx0aW5zdGFuY2VfaWQgPSBsYXN0X3RyYWNlLmluc3RhbmNlXG5cdFx0XHRpbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzXG5cdFx0XHRyZWxvY2F0ZV9pbmJveF91c2VycyA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfaW5ib3hfdXNlcnNcIl1cblx0XHRcdHJlbG9jYXRlX2NvbW1lbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlbG9jYXRlX2NvbW1lbnRcIl1cblx0XHRcdHJlbG9jYXRlX25leHRfc3RlcCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfbmV4dF9zdGVwXCJdXG5cdFx0XHRub3RfaW5faW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UoaW5ib3hfdXNlcnMsIHJlbG9jYXRlX2luYm94X3VzZXJzKVxuXHRcdFx0bmV3X2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKHJlbG9jYXRlX2luYm94X3VzZXJzLCBpbmJveF91c2VycylcblxuXHRcdFx0YXBwcm92ZV91c2VycyA9IFtdXG5cblx0XHRcdCMg6I635Y+W5LiA5LiqZmxvd1xuXHRcdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxuXHRcdFx0bmV4dF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCByZWxvY2F0ZV9uZXh0X3N0ZXApXG5cdFx0XHRuZXh0X3N0ZXBfdHlwZSA9IG5leHRfc3RlcC5zdGVwX3R5cGVcblx0XHRcdG5leHRfc3RlcF9uYW1lID0gbmV4dF9zdGVwLm5hbWVcblx0XHRcdGN1cnJlbnRfc2V0cCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgbGFzdF90cmFjZS5zdGVwKVxuXHRcdFx0Y3VycmVudF9zZXRwX3R5cGUgPSBjdXJyZW50X3NldHAuc3RlcF90eXBlXG5cblx0XHRcdHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlc1xuXHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxuXHRcdFx0IyDph43lrprkvY3nmoTml7blgJnkvb/nlKhhcHByb3ZlLnZhbHVlc+WQiOW5tiBpbnN0YW5jZS52YWx1ZXPnlJ/miJDmlrDnmoRpbnN0YW5jZS52YWx1ZXMgIzEzMjhcblx0XHRcdHNldE9iai52YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpXG5cdFx0XHRub3cgPSBuZXcgRGF0ZVxuXHRcdFx0aSA9IDBcblx0XHRcdHdoaWxlIGkgPCB0cmFjZXMubGVuZ3RoXG5cdFx0XHRcdGlmIHRyYWNlc1tpXS5faWQgaXMgbGFzdF90cmFjZS5faWRcblx0XHRcdFx0XHRpZiBub3QgdHJhY2VzW2ldLmFwcHJvdmVzXG5cdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXMgPSBuZXcgQXJyYXlcblx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNlLmFwcHJvdmXorrDlvZVcblx0XHRcdFx0XHRoID0gMFxuXHRcdFx0XHRcdHdoaWxlIGggPCB0cmFjZXNbaV0uYXBwcm92ZXMubGVuZ3RoXG5cdFx0XHRcdFx0XHRpZiB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgaXMgZmFsc2UgYW5kIHRyYWNlc1tpXS5hcHByb3Zlc1toXS50eXBlIGlzbnQgXCJjY1wiIGFuZCB0cmFjZXNbaV0uYXBwcm92ZXNbaF0udHlwZSBpc250IFwiZGlzdHJpYnV0ZVwiXG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0ucmVhZF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19lcnJvciA9IGZhbHNlXG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19yZWFkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5qdWRnZSA9IFwidGVybWluYXRlZFwiXG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5jb3N0X3RpbWUgPSB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZmluaXNoX2RhdGUgLSB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdFx0XHRhcHByb3ZlX3VzZXJzLnB1c2godHJhY2VzW2ldLmFwcHJvdmVzW2hdLnVzZXIpXG5cblx0XHRcdFx0XHRcdFx0IyBiZWdpbiDooqvph43lrprkvY3nu5lB77yM5YaN6KKr6YeN5a6a5L2N6LWw77yM5LmL5YmNQeeahOaEj+ingeWcqOaEj+ingeagj+S4reaYvuekuuS4jeWHuuadpeS6huOAgiAjMTkyMVxuXHRcdFx0XHRcdFx0XHRpZiB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc2lnbl9zaG93ID09IHRydWVcblx0XHRcdFx0XHRcdFx0XHR0YSA9IHRyYWNlc1tpXS5hcHByb3Zlc1toXVxuXHRcdFx0XHRcdFx0XHRcdHNhbWVUcmFjZXMgPSBfLmZpbHRlciB0cmFjZXMsICh0KS0+XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdC5zdGVwID09IHRyYWNlc1tpXS5zdGVwXG5cblx0XHRcdFx0XHRcdFx0XHRsID0gc2FtZVRyYWNlcy5sZW5ndGggLSAxXG5cdFx0XHRcdFx0XHRcdFx0c2lnblNob3dBcHByb3ZlSWQgPSBudWxsXG5cblx0XHRcdFx0XHRcdFx0XHR3aGlsZSBsID4gLTFcblx0XHRcdFx0XHRcdFx0XHRcdF8uZWFjaCBzYW1lVHJhY2VzW2xdLmFwcHJvdmVzLCAoYSktPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiBhLnVzZXIgPT0gdGEudXNlciAmJiBhLmp1ZGdlICE9IFwidGVybWluYXRlZFwiICYmIGEuZGVzY3JpcHRpb24gJiYgIXNpZ25TaG93QXBwcm92ZUlkXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2lnblNob3dBcHByb3ZlSWQgPSBhLl9pZFxuXHRcdFx0XHRcdFx0XHRcdFx0bC0tXG5cblx0XHRcdFx0XHRcdFx0XHRpZiBzaWduU2hvd0FwcHJvdmVJZFxuXHRcdFx0XHRcdFx0XHRcdFx0dGkgPSAwXG5cdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSB0aSA8IHRyYWNlcy5sZW5ndGhcblx0XHRcdFx0XHRcdFx0XHRcdFx0YWggPSAwXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlIGFoIDwgdHJhY2VzW3RpXS5hcHByb3Zlcy5sZW5ndGhcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiB0cmFjZXNbdGldLmFwcHJvdmVzW2FoXS5faWQgPT0gc2lnblNob3dBcHByb3ZlSWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyYWNlc1t0aV0uYXBwcm92ZXNbYWhdLnNpZ25fc2hvdyA9IHRydWVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zaWduX3Nob3cgPSBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFoKytcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGkrK1xuXHRcdFx0XHRcdFx0XHQjIGVuZCDooqvph43lrprkvY3nu5lB77yM5YaN6KKr6YeN5a6a5L2N6LWw77yM5LmL5YmNQeeahOaEj+ingeWcqOaEj+ingeagj+S4reaYvuekuuS4jeWHuuadpeS6huOAgiAjMTkyMVxuXG5cdFx0XHRcdFx0XHRoKytcblxuXHRcdFx0XHRcdCMg5Zyo5ZCM5LiAdHJhY2XkuIvmj5LlhaXph43lrprkvY3mk43kvZzogIXnmoRhcHByb3Zl6K6w5b2VXG5cdFx0XHRcdFx0Y3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblx0XHRcdFx0XHRjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHsgZmllbGRzOiB7IG5hbWU6IDEgLCBmdWxsbmFtZTogMSB9IH0pXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwciA9IG5ldyBPYmplY3Rcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLnRyYWNlID0gdHJhY2VzW2ldLl9pZFxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci51c2VyID0gY3VycmVudF91c2VyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5oYW5kbGVyID0gY3VycmVudF91c2VyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb25cblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLm5hbWVcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZVxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmR1ZV9kYXRlID0gdHJhY2VzW2ldLmR1ZV9kYXRlXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5yZWFkX2RhdGUgPSBub3dcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmp1ZGdlID0gXCJyZWxvY2F0ZWRcIlxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaXNfcmVhZCA9IHRydWVcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmRlc2NyaXB0aW9uID0gcmVsb2NhdGVfY29tbWVudFxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZVxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdFxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuY29zdF90aW1lID0gcmVsb2NhdGVfYXBwci5maW5pc2hfZGF0ZSAtIHJlbG9jYXRlX2FwcHIuc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlcy5wdXNoKHJlbG9jYXRlX2FwcHIpXG5cblx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNl6K6w5b2VXG5cdFx0XHRcdFx0dHJhY2VzW2ldLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRcdHRyYWNlc1tpXS5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdHRyYWNlc1tpXS5qdWRnZSA9IFwicmVsb2NhdGVkXCJcblxuXHRcdFx0XHRpKytcblxuXHRcdFx0aWYgbmV4dF9zdGVwX3R5cGUgaXMgXCJlbmRcIlxuXHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNl6K6w5b2VXG5cdFx0XHRcdG5ld1RyYWNlID0gbmV3IE9iamVjdFxuXHRcdFx0XHRuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRcdG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdFx0bmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2UuX2lkXVxuXHRcdFx0XHRuZXdUcmFjZS5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0bmV3VHJhY2Uuc3RlcCA9IHJlbG9jYXRlX25leHRfc3RlcFxuXHRcdFx0XHRuZXdUcmFjZS5uYW1lID0gbmV4dF9zdGVwX25hbWVcblx0XHRcdFx0bmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRuZXdUcmFjZS5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRuZXdUcmFjZS5hcHByb3ZlcyA9IFtdXG5cdFx0XHRcdCMg5pu05pawaW5zdGFuY2XorrDlvZVcblx0XHRcdFx0c2V0T2JqLnN0YXRlID0gXCJjb21wbGV0ZWRcIlxuXHRcdFx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSBbXVxuXHRcdFx0XHRzZXRPYmouZmluYWxfZGVjaXNpb24gPSBcInRlcm1pbmF0ZWRcIlxuXHRcdFx0XHRzZXRPYmouZmluaXNoX2RhdGUgPSBuZXcgRGF0ZVxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBuZXh0X3N0ZXBfbmFtZVxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gZmFsc2Vcblx0XHRcdGVsc2Vcblx0XHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZeiusOW9lVxuXHRcdFx0XHRuZXdUcmFjZSA9IG5ldyBPYmplY3Rcblx0XHRcdFx0bmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0XHRuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0XHRcdG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlLl9pZF1cblx0XHRcdFx0bmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZVxuXHRcdFx0XHRuZXdUcmFjZS5zdGVwID0gcmVsb2NhdGVfbmV4dF9zdGVwXG5cdFx0XHRcdG5ld1RyYWNlLm5hbWUgPSBuZXh0X3N0ZXBfbmFtZVxuXHRcdFx0XHRuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKG5leHRfc3RlcC50aW1lb3V0X2hvdXJzLCBzcGFjZV9pZClcblx0XHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMgPSBbXVxuXHRcdFx0XHRfLmVhY2gocmVsb2NhdGVfaW5ib3hfdXNlcnMsIChuZXh0X3N0ZXBfdXNlcl9pZCwgaWR4KS0+XG5cdFx0XHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZS5hcHByb3Zl6K6w5b2VXG5cdFx0XHRcdFx0bmV3QXBwcm92ZSA9IG5ldyBPYmplY3Rcblx0XHRcdFx0XHRuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdFx0XHRuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IGZhbHNlXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS51c2VyID0gbmV4dF9zdGVwX3VzZXJfaWRcblxuXHRcdFx0XHRcdHVzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUobmV4dF9zdGVwX3VzZXJfaWQsIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRcdG5ld0FwcHJvdmUudXNlcl9uYW1lID0gdXNlcl9pbmZvLm5hbWVcblxuXHRcdFx0XHRcdGhhbmRsZXJfaWQgPSBuZXh0X3N0ZXBfdXNlcl9pZFxuXHRcdFx0XHRcdGhhbmRsZXJfaW5mbyA9IHVzZXJfaW5mb1xuXHRcdFx0XHRcdGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgbmV4dF9zdGVwX3VzZXJfaWQpXG5cdFx0XHRcdFx0aWYgYWdlbnRcblx0XHRcdFx0XHRcdHJlbG9jYXRlX2luYm94X3VzZXJzW2lkeF0gPSBhZ2VudFxuXHRcdFx0XHRcdFx0aGFuZGxlcl9pZCA9IGFnZW50XG5cdFx0XHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHsgX2lkOiBhZ2VudCB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuYWdlbnQgPSBhZ2VudFxuXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyID0gaGFuZGxlcl9pZFxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWVcblxuXHRcdFx0XHRcdG5leHRfc3RlcF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGhhbmRsZXJfaWQpXG5cdFx0XHRcdFx0IyDojrflj5ZuZXh0X3N0ZXBfdXNlcuaJgOWcqOeahOmDqOmXqOS/oeaBr1xuXHRcdFx0XHRcdG5leHRfc3RlcF91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKG5leHRfc3RlcF9zcGFjZV91c2VyKVxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXVxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl1cblx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl1cblxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdG5ld0FwcHJvdmUuZHVlX2RhdGUgPSBuZXdUcmFjZS5kdWVfZGF0ZVxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaXNfcmVhZCA9IGZhbHNlXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdFx0dXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgbmV3QXBwcm92ZSlcblx0XHRcdFx0XHRuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpXG5cdFx0XHRcdClcblx0XHRcdFx0c2V0T2JqLmluYm94X3VzZXJzID0gcmVsb2NhdGVfaW5ib3hfdXNlcnNcblx0XHRcdFx0c2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCJcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gbmV4dF9zdGVwX25hbWVcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IHV1Zmxvd01hbmFnZXIuZ2V0Q3VycmVudFN0ZXBBdXRvU3VibWl0KGZsb3cudGltZW91dF9hdXRvX3N1Ym1pdCwgbmV4dF9zdGVwLmxpbmVzKVxuXG5cdFx0XHRpbnN0YW5jZS5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpXG5cdFx0XHRpbnN0YW5jZS5vdXRib3hfdXNlcnMgPSBpbnN0YW5jZS5vdXRib3hfdXNlcnMuY29uY2F0KGluYm94X3VzZXJzKS5jb25jYXQoYXBwcm92ZV91c2Vycylcblx0XHRcdHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKVxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XG5cdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcblx0XHRcdHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlXG5cdFx0XHR0cmFjZXMucHVzaChuZXdUcmFjZSlcblx0XHRcdHNldE9iai50cmFjZXMgPSB0cmFjZXNcblxuXHRcdFx0aWYgc2V0T2JqLnN0YXRlID09ICdjb21wbGV0ZWQnXG5cdFx0XHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHNldE9ian0pXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHNldE9iaiwgJHVuc2V0OiB7ZmluaXNoX2RhdGU6IDF9fSlcblxuXHRcdFx0aWYgclxuXHRcdFx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdFx0XHQjIOe7meiiq+WIoOmZpOeahGluYm94X3VzZXJzIOWSjCDlvZPliY3nlKjmiLcg5Y+R6YCBcHVzaFxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKVxuXHRcdFx0XHRfLmVhY2gobm90X2luX2luYm94X3VzZXJzLCAodXNlcl9pZCktPlxuXHRcdFx0XHRcdGlmIHVzZXJfaWQgaXNudCBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKVxuXHRcdFx0XHQpXG5cdFx0XHRcdCMg5o+Q5Y+WaW5zdGFuY2VzLm91dGJveF91c2Vyc+aVsOe7hOWSjOWhq+WNleS6uuOAgeeUs+ivt+S6ulxuXHRcdFx0XHRfdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRcdFx0X3VzZXJzLnB1c2goaW5zLmFwcGxpY2FudClcblx0XHRcdFx0X3VzZXJzLnB1c2goaW5zLnN1Ym1pdHRlcilcblx0XHRcdFx0X3VzZXJzID0gXy51bmlxKF91c2Vycy5jb25jYXQoaW5zLm91dGJveF91c2VycykpXG5cdFx0XHRcdF8uZWFjaChfdXNlcnMsICh1c2VyX2lkKS0+XG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpXG5cdFx0XHRcdClcblxuXHRcdFx0XHQjIOe7meaWsOWKoOWFpeeahGluYm94X3VzZXJz5Y+R6YCBcHVzaCBtZXNzYWdlXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwicmVhc3NpZ25fbmV3X2luYm94X3VzZXJzXCIsIGlucywgcmVsb2NhdGVfY29tbWVudCwgY3VycmVudF91c2VyX2luZm8pXG5cblx0XHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmVsb2NhdGUnLCBjdXJyZW50X3VzZXIsIGlucy5pbmJveF91c2VycylcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHt9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7ZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3JlbG9jYXRlJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBfdXNlcnMsIGFoLCBhcHByb3ZlX3VzZXJzLCBjdXJyZW50X3NldHAsIGN1cnJlbnRfc2V0cF90eXBlLCBjdXJyZW50X3NwYWNlX3VzZXIsIGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24sIGZsb3csIGgsIGksIGluYm94X3VzZXJzLCBpbnMsIGluc3RhbmNlLCBpbnN0YW5jZV9pZCwgbCwgbGFzdF90cmFjZSwgbmV3VHJhY2UsIG5ld19pbmJveF91c2VycywgbmV4dF9zdGVwLCBuZXh0X3N0ZXBfbmFtZSwgbmV4dF9zdGVwX3R5cGUsIG5vdF9pbl9pbmJveF91c2Vycywgbm93LCBwZXJtaXNzaW9ucywgciwgcmVsb2NhdGVfYXBwciwgcmVsb2NhdGVfY29tbWVudCwgcmVsb2NhdGVfaW5ib3hfdXNlcnMsIHJlbG9jYXRlX25leHRfc3RlcCwgc2FtZVRyYWNlcywgc2V0T2JqLCBzaWduU2hvd0FwcHJvdmVJZCwgc3BhY2UsIHNwYWNlX2lkLCB0YSwgdGksIHRyYWNlcztcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSk7XG4gICAgICBsYXN0X3RyYWNlID0gXy5sYXN0KGluc3RhbmNlLnRyYWNlcyk7XG4gICAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpO1xuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShpbnN0YW5jZS5zcGFjZSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBhZG1pbnM6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSAmJiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUqOaIt+ayoeacieWvueW9k+WJjea1geeoi+eahOeuoeeQhuadg+mZkFwiKTtcbiAgICAgIH1cbiAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICBpbnN0YW5jZV9pZCA9IGxhc3RfdHJhY2UuaW5zdGFuY2U7XG4gICAgICBpbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzO1xuICAgICAgcmVsb2NhdGVfaW5ib3hfdXNlcnMgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlbG9jYXRlX2luYm94X3VzZXJzXCJdO1xuICAgICAgcmVsb2NhdGVfY29tbWVudCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfY29tbWVudFwiXTtcbiAgICAgIHJlbG9jYXRlX25leHRfc3RlcCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfbmV4dF9zdGVwXCJdO1xuICAgICAgbm90X2luX2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKGluYm94X3VzZXJzLCByZWxvY2F0ZV9pbmJveF91c2Vycyk7XG4gICAgICBuZXdfaW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UocmVsb2NhdGVfaW5ib3hfdXNlcnMsIGluYm94X3VzZXJzKTtcbiAgICAgIGFwcHJvdmVfdXNlcnMgPSBbXTtcbiAgICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gICAgICBuZXh0X3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHJlbG9jYXRlX25leHRfc3RlcCk7XG4gICAgICBuZXh0X3N0ZXBfdHlwZSA9IG5leHRfc3RlcC5zdGVwX3R5cGU7XG4gICAgICBuZXh0X3N0ZXBfbmFtZSA9IG5leHRfc3RlcC5uYW1lO1xuICAgICAgY3VycmVudF9zZXRwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBsYXN0X3RyYWNlLnN0ZXApO1xuICAgICAgY3VycmVudF9zZXRwX3R5cGUgPSBjdXJyZW50X3NldHAuc3RlcF90eXBlO1xuICAgICAgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgIHNldE9iai52YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpO1xuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBpID0gMDtcbiAgICAgIHdoaWxlIChpIDwgdHJhY2VzLmxlbmd0aCkge1xuICAgICAgICBpZiAodHJhY2VzW2ldLl9pZCA9PT0gbGFzdF90cmFjZS5faWQpIHtcbiAgICAgICAgICBpZiAoIXRyYWNlc1tpXS5hcHByb3Zlcykge1xuICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzID0gbmV3IEFycmF5O1xuICAgICAgICAgIH1cbiAgICAgICAgICBoID0gMDtcbiAgICAgICAgICB3aGlsZSAoaCA8IHRyYWNlc1tpXS5hcHByb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgPT09IGZhbHNlICYmIHRyYWNlc1tpXS5hcHByb3Zlc1toXS50eXBlICE9PSBcImNjXCIgJiYgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnR5cGUgIT09IFwiZGlzdHJpYnV0ZVwiKSB7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5yZWFkX2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5qdWRnZSA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uY29zdF90aW1lID0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmZpbmlzaF9kYXRlIC0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICAgIGFwcHJvdmVfdXNlcnMucHVzaCh0cmFjZXNbaV0uYXBwcm92ZXNbaF0udXNlcik7XG4gICAgICAgICAgICAgIGlmICh0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc2lnbl9zaG93ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGEgPSB0cmFjZXNbaV0uYXBwcm92ZXNbaF07XG4gICAgICAgICAgICAgICAgc2FtZVRyYWNlcyA9IF8uZmlsdGVyKHRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHQuc3RlcCA9PT0gdHJhY2VzW2ldLnN0ZXA7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbCA9IHNhbWVUcmFjZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICBzaWduU2hvd0FwcHJvdmVJZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGwgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgXy5lYWNoKHNhbWVUcmFjZXNbbF0uYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEudXNlciA9PT0gdGEudXNlciAmJiBhLmp1ZGdlICE9PSBcInRlcm1pbmF0ZWRcIiAmJiBhLmRlc2NyaXB0aW9uICYmICFzaWduU2hvd0FwcHJvdmVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaWduU2hvd0FwcHJvdmVJZCA9IGEuX2lkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIGwtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNpZ25TaG93QXBwcm92ZUlkKSB7XG4gICAgICAgICAgICAgICAgICB0aSA9IDA7XG4gICAgICAgICAgICAgICAgICB3aGlsZSAodGkgPCB0cmFjZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGFoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGFoIDwgdHJhY2VzW3RpXS5hcHByb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2VzW3RpXS5hcHByb3Zlc1thaF0uX2lkID09PSBzaWduU2hvd0FwcHJvdmVJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2VzW3RpXS5hcHByb3Zlc1thaF0uc2lnbl9zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zaWduX3Nob3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgYWgrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aSsrO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50X3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgICAgICBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci50cmFjZSA9IHRyYWNlc1tpXS5faWQ7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci51c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmR1ZV9kYXRlID0gdHJhY2VzW2ldLmR1ZV9kYXRlO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIucmVhZF9kYXRlID0gbm93O1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuanVkZ2UgPSBcInJlbG9jYXRlZFwiO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5kZXNjcmlwdGlvbiA9IHJlbG9jYXRlX2NvbW1lbnQ7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmNvc3RfdGltZSA9IHJlbG9jYXRlX2FwcHIuZmluaXNoX2RhdGUgLSByZWxvY2F0ZV9hcHByLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzLnB1c2gocmVsb2NhdGVfYXBwcik7XG4gICAgICAgICAgdHJhY2VzW2ldLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICB0cmFjZXNbaV0uZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgdHJhY2VzW2ldLmp1ZGdlID0gXCJyZWxvY2F0ZWRcIjtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgICBpZiAobmV4dF9zdGVwX3R5cGUgPT09IFwiZW5kXCIpIHtcbiAgICAgICAgbmV3VHJhY2UgPSBuZXcgT2JqZWN0O1xuICAgICAgICBuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICBuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICBuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZS5faWRdO1xuICAgICAgICBuZXdUcmFjZS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgIG5ld1RyYWNlLnN0ZXAgPSByZWxvY2F0ZV9uZXh0X3N0ZXA7XG4gICAgICAgIG5ld1RyYWNlLm5hbWUgPSBuZXh0X3N0ZXBfbmFtZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3VHJhY2UuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgIG5ld1RyYWNlLmFwcHJvdmVzID0gW107XG4gICAgICAgIHNldE9iai5zdGF0ZSA9IFwiY29tcGxldGVkXCI7XG4gICAgICAgIHNldE9iai5pbmJveF91c2VycyA9IFtdO1xuICAgICAgICBzZXRPYmouZmluYWxfZGVjaXNpb24gPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgc2V0T2JqLmZpbmlzaF9kYXRlID0gbmV3IERhdGU7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IG5leHRfc3RlcF9uYW1lO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdUcmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgIG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlLl9pZF07XG4gICAgICAgIG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIG5ld1RyYWNlLnN0ZXAgPSByZWxvY2F0ZV9uZXh0X3N0ZXA7XG4gICAgICAgIG5ld1RyYWNlLm5hbWUgPSBuZXh0X3N0ZXBfbmFtZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUobmV4dF9zdGVwLnRpbWVvdXRfaG91cnMsIHNwYWNlX2lkKTtcbiAgICAgICAgbmV3VHJhY2UuYXBwcm92ZXMgPSBbXTtcbiAgICAgICAgXy5lYWNoKHJlbG9jYXRlX2luYm94X3VzZXJzLCBmdW5jdGlvbihuZXh0X3N0ZXBfdXNlcl9pZCwgaWR4KSB7XG4gICAgICAgICAgdmFyIGFnZW50LCBoYW5kbGVyX2lkLCBoYW5kbGVyX2luZm8sIG5ld0FwcHJvdmUsIG5leHRfc3RlcF9zcGFjZV91c2VyLCBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbywgdXNlcl9pbmZvO1xuICAgICAgICAgIG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgIG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgICBuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgICAgbmV3QXBwcm92ZS50cmFjZSA9IG5ld1RyYWNlLl9pZDtcbiAgICAgICAgICBuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgICAgbmV3QXBwcm92ZS51c2VyID0gbmV4dF9zdGVwX3VzZXJfaWQ7XG4gICAgICAgICAgdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShuZXh0X3N0ZXBfdXNlcl9pZCwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IHVzZXJfaW5mby5uYW1lO1xuICAgICAgICAgIGhhbmRsZXJfaWQgPSBuZXh0X3N0ZXBfdXNlcl9pZDtcbiAgICAgICAgICBoYW5kbGVyX2luZm8gPSB1c2VyX2luZm87XG4gICAgICAgICAgYWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCBuZXh0X3N0ZXBfdXNlcl9pZCk7XG4gICAgICAgICAgaWYgKGFnZW50KSB7XG4gICAgICAgICAgICByZWxvY2F0ZV9pbmJveF91c2Vyc1tpZHhdID0gYWdlbnQ7XG4gICAgICAgICAgICBoYW5kbGVyX2lkID0gYWdlbnQ7XG4gICAgICAgICAgICBoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICAgICAgX2lkOiBhZ2VudFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5hZ2VudCA9IGFnZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXIgPSBoYW5kbGVyX2lkO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgbmV4dF9zdGVwX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgaGFuZGxlcl9pZCk7XG4gICAgICAgICAgbmV4dF9zdGVwX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8obmV4dF9zdGVwX3NwYWNlX3VzZXIpO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXTtcbiAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXTtcbiAgICAgICAgICBuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgbmV3QXBwcm92ZS5kdWVfZGF0ZSA9IG5ld1RyYWNlLmR1ZV9kYXRlO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaXNfcmVhZCA9IGZhbHNlO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICBuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgdXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgbmV3QXBwcm92ZSk7XG4gICAgICAgICAgcmV0dXJuIG5ld1RyYWNlLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRPYmouaW5ib3hfdXNlcnMgPSByZWxvY2F0ZV9pbmJveF91c2VycztcbiAgICAgICAgc2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCI7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IG5leHRfc3RlcF9uYW1lO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gdXVmbG93TWFuYWdlci5nZXRDdXJyZW50U3RlcEF1dG9TdWJtaXQoZmxvdy50aW1lb3V0X2F1dG9fc3VibWl0LCBuZXh0X3N0ZXAubGluZXMpO1xuICAgICAgfVxuICAgICAgaW5zdGFuY2Uub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKTtcbiAgICAgIGluc3RhbmNlLm91dGJveF91c2VycyA9IGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQoaW5ib3hfdXNlcnMpLmNvbmNhdChhcHByb3ZlX3VzZXJzKTtcbiAgICAgIHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKTtcbiAgICAgIHNldE9iai5tb2RpZmllZCA9IG5vdztcbiAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlO1xuICAgICAgdHJhY2VzLnB1c2gobmV3VHJhY2UpO1xuICAgICAgc2V0T2JqLnRyYWNlcyA9IHRyYWNlcztcbiAgICAgIGlmIChzZXRPYmouc3RhdGUgPT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogc2V0T2JqLFxuICAgICAgICAgICR1bnNldDoge1xuICAgICAgICAgICAgZmluaXNoX2RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHIpIHtcbiAgICAgICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICBfLmVhY2gobm90X2luX2luYm94X3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgaWYgKHVzZXJfaWQgIT09IGN1cnJlbnRfdXNlcikge1xuICAgICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgICAgIF91c2Vycy5wdXNoKGlucy5hcHBsaWNhbnQpO1xuICAgICAgICBfdXNlcnMucHVzaChpbnMuc3VibWl0dGVyKTtcbiAgICAgICAgX3VzZXJzID0gXy51bmlxKF91c2Vycy5jb25jYXQoaW5zLm91dGJveF91c2VycykpO1xuICAgICAgICBfLmVhY2goX3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwicmVhc3NpZ25fbmV3X2luYm94X3VzZXJzXCIsIGlucywgcmVsb2NhdGVfY29tbWVudCwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZWxvY2F0ZScsIGN1cnJlbnRfdXNlciwgaW5zLmluYm94X3VzZXJzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvYXJjaGl2ZScsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cblx0XHRcdGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl1cblx0XHRcdCMg6I635Y+W5LiA5LiqaW5zdGFuY2Vcblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRcdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2Vcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2Vcblx0XHRcdHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHRcdCMg5Yik5pat5LiA5LiqaW5zdGFuY2XmmK/lkKbkuLrlrozmiJDlubbkuJTmnKrlvZLmoaPnirbmgIFcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZUZpbmlzaGVkQW5kTm90QXJjaGlldmVkKGluc3RhbmNlKVxuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZeS4i+eahOS4gOS4qnVzZXJcblx0XHRcdHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXHRcdFx0IyDliKTmlq3kuIDkuKrnlKjmiLfmmK/lkKbmmK/kuIDkuKppbnN0YW5jZeeahOaPkOS6pOiAhSDmiJbogIVzcGFjZeeahOeuoeeQhuWRmFxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlU3VibWl0dGVyT3JBcHBsaWNhbnRPclNwYWNlQWRtaW4oaW5zdGFuY2UsIGN1cnJlbnRfdXNlciwgc3BhY2UpXG5cdFx0XHRcblx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3Rcblx0XHRcdHNldE9iai5pc19hcmNoaXZlZCA9IHRydWVcblx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlXG5cdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcblxuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskc2V0OiBzZXRPYmp9KVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0Y29kZTogMjAwXG5cdFx0XHRcdGRhdGE6IHt9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cblx0XG5cdFx0IiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9hcmNoaXZlJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBpbnN0YW5jZSwgaW5zdGFuY2VfaWQsIHNldE9iaiwgc3BhY2UsIHNwYWNlX2lkLCBzcGFjZV91c2VyO1xuICAgICAgaW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXTtcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICAgICAgc3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICAgIHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZUZpbmlzaGVkQW5kTm90QXJjaGlldmVkKGluc3RhbmNlKTtcbiAgICAgIHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgIHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVN1Ym1pdHRlck9yQXBwbGljYW50T3JTcGFjZUFkbWluKGluc3RhbmNlLCBjdXJyZW50X3VzZXIsIHNwYWNlKTtcbiAgICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBzZXRPYmouaXNfYXJjaGl2ZWQgPSB0cnVlO1xuICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGU7XG4gICAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIk1ldGVvci5zdGFydHVwIC0+XG5cdFdlYkFwcC5jb25uZWN0SGFuZGxlcnMudXNlIFwiL2FwaS93b3JrZmxvdy9leHBvcnQvaW5zdGFuY2VzXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0XHR0cnlcblx0XHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblxuXHRcdFx0cXVlcnkgPSByZXEucXVlcnlcblx0XHRcdHNwYWNlX2lkID0gcXVlcnkuc3BhY2VfaWRcblx0XHRcdGZsb3dfaWQgPSBxdWVyeS5mbG93X2lkXG5cdFx0XHR0eXBlID0gcGFyc2VJbnQocXVlcnkudHlwZSlcblx0XHRcdHRpbWV6b25lb2Zmc2V0ID0gcGFyc2VJbnQocXVlcnkudGltZXpvbmVvZmZzZXQpXG5cblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHsgX2lkOiBmbG93X2lkIH0sIHsgZmllbGRzOiB7IGZvcm06IDEgfSB9KVxuXHRcdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoeyBfaWQ6IGZsb3cuZm9ybSB9LCB7IGZpZWxkczogeyBuYW1lOiAxLCAnY3VycmVudC5maWVsZHMnOiAxIH0gfSlcblxuXHRcdFx0Zm9ybV9uYW1lID0gZm9ybS5uYW1lXG5cdFx0XHRmaWVsZHMgPSBmb3JtLmN1cnJlbnQuZmllbGRzXG5cdFx0XHR0YWJsZV9maWVsZHMgPSBuZXcgQXJyYXlcblx0XHRcdF8uZWFjaCBmb3JtLmN1cnJlbnQuZmllbGRzLCAoZmllbGQpIC0+XG5cdFx0XHRcdGlmIGZpZWxkLnR5cGUgaXMgXCJ0YWJsZVwiXG5cdFx0XHRcdFx0dGFibGVfZmllbGRzLnB1c2goZmllbGQpXG5cblx0XHRcdGluc190b194bHMgPSBuZXcgQXJyYXlcblx0XHRcdHN0YXJ0X2RhdGUgPSBudWxsXG5cdFx0XHRlbmRfZGF0ZSA9IG51bGxcblx0XHRcdG5vdyA9IG5ldyBEYXRlXG5cdFx0XHRzZWxlY3RvciA9IHsgc3BhY2U6IHNwYWNlX2lkLCBmbG93OiBmbG93X2lkIH1cblx0XHRcdHNlbGVjdG9yLnN0YXRlID0geyRpbjogW1wicGVuZGluZ1wiLCBcImNvbXBsZXRlZFwiXX1cblx0XHRcdHVpZCA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXHRcdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShzcGFjZV9pZClcblx0XHRcdGlmICFzcGFjZVxuXHRcdFx0XHRzZWxlY3Rvci5zdGF0ZSA9IFwibm9uZVwiXG5cblx0XHRcdGlmICFzcGFjZS5hZG1pbnMuaW5jbHVkZXModWlkKVxuXHRcdFx0XHRmbG93X2lkcyA9IFdvcmtmbG93TWFuYWdlci5nZXRNeUFkbWluT3JNb25pdG9yRmxvd3Moc3BhY2VfaWQsIHVpZClcblx0XHRcdFx0aWYgIWZsb3dfaWRzLmluY2x1ZGVzKHNlbGVjdG9yLmZsb3cpXG5cdFx0XHRcdFx0c2VsZWN0b3IuJG9yID0gW3tzdWJtaXR0ZXI6IHVpZH0sIHthcHBsaWNhbnQ6IHVpZH0sIHtpbmJveF91c2VyczogdWlkfSwge291dGJveF91c2VyczogdWlkfV1cblxuXHRcdFx0IyAwLeacrOaciFxuXHRcdFx0aWYgdHlwZSBpcyAwXG5cdFx0XHRcdHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpXG5cdFx0XHRcdHNlbGVjdG9yLnN1Ym1pdF9kYXRlID0geyAkZ3RlOiBzdGFydF9kYXRlIH1cblx0XHRcdFx0aW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yLCB7XG5cdFx0XHRcdFx0c29ydDogeyBzdWJtaXRfZGF0ZTogMSB9XG5cdFx0XHRcdH0pLmZldGNoKClcblx0XHRcdCMgMS3kuIrmnIhcblx0XHRcdGVsc2UgaWYgdHlwZSBpcyAxXG5cdFx0XHRcdGxhc3RfbW9udGhfZGF0ZSA9IG5ldyBEYXRlKG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSkgLSAxMDAwICogNjAgKiA2MCAqIDI0KVxuXHRcdFx0XHRzdGFydF9kYXRlID0gbmV3IERhdGUobGFzdF9tb250aF9kYXRlLmdldEZ1bGxZZWFyKCksIGxhc3RfbW9udGhfZGF0ZS5nZXRNb250aCgpLCAxKVxuXHRcdFx0XHRlbmRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSlcblx0XHRcdFx0c2VsZWN0b3Iuc3VibWl0X2RhdGUgPSB7ICRndGU6IHN0YXJ0X2RhdGUsICRsdGU6IGVuZF9kYXRlIH1cblx0XHRcdFx0aW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yLCB7XG5cdFx0XHRcdFx0c29ydDogeyBzdWJtaXRfZGF0ZTogMSB9XG5cdFx0XHRcdH0pLmZldGNoKClcblx0XHRcdCMgMi3mlbTkuKrlubTluqZcblx0XHRcdGVsc2UgaWYgdHlwZSBpcyAyXG5cdFx0XHRcdHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgMCwgMSlcblx0XHRcdFx0c2VsZWN0b3Iuc3VibWl0X2RhdGUgPSB7ICRndGU6IHN0YXJ0X2RhdGUgfVxuXHRcdFx0XHRpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoc2VsZWN0b3IsIHtcblx0XHRcdFx0XHRzb3J0OiB7IHN1Ym1pdF9kYXRlOiAxIH1cblx0XHRcdFx0fSkuZmV0Y2goKVxuXHRcdFx0IyAzLeaJgOaciVxuXHRcdFx0ZWxzZSBpZiB0eXBlIGlzIDNcblx0XHRcdFx0aW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yLCB7XG5cdFx0XHRcdFx0c29ydDogeyBzdWJtaXRfZGF0ZTogMSB9XG5cdFx0XHRcdH0pLmZldGNoKClcblxuXHRcdFx0ZWpzID0gcmVxdWlyZSgnZWpzJylcblx0XHRcdHN0ciA9IEFzc2V0cy5nZXRUZXh0KCdzZXJ2ZXIvZWpzL2V4cG9ydF9pbnN0YW5jZXMuZWpzJylcblxuXHRcdFx0IyDmo4DmtYvmmK/lkKbmnInor63ms5XplJnor69cblx0XHRcdGVqc0xpbnQgPSByZXF1aXJlKCdlanMtbGludCcpXG5cdFx0XHRlcnJvcl9vYmogPSBlanNMaW50LmxpbnQoc3RyLCB7fSlcblx0XHRcdGlmIGVycm9yX29ialxuXHRcdFx0XHRjb25zb2xlLmVycm9yIFwiPT09L2FwaS93b3JrZmxvdy9leHBvcnQ6XCJcblx0XHRcdFx0Y29uc29sZS5lcnJvciBlcnJvcl9vYmpcblxuXHRcdFx0dGVtcGxhdGUgPSBlanMuY29tcGlsZShzdHIpXG5cblx0XHRcdGxhbmcgPSAnZW4nXG5cdFx0XHRpZiBjdXJyZW50X3VzZXJfaW5mby5sb2NhbGUgaXMgJ3poLWNuJ1xuXHRcdFx0XHRsYW5nID0gJ3poLUNOJ1xuXHRcdFx0XG5cdFx0XHR1dGNPZmZzZXQgPSB0aW1lem9uZW9mZnNldCAvIC02MFxuXHRcdFx0XG5cdFx0XHRmb3JtYXREYXRlID0gKGRhdGUsIGZvcm1hdGVyKSAtPlxuXHRcdFx0XHRyZXR1cm4gbW9tZW50KGRhdGUpLnV0Y09mZnNldCh1dGNPZmZzZXQpLmZvcm1hdChmb3JtYXRlcilcblxuXHRcdFx0cmV0ID0gdGVtcGxhdGUoe1xuXHRcdFx0XHRsYW5nOiBsYW5nLFxuXHRcdFx0XHRmb3JtYXREYXRlOiBmb3JtYXREYXRlLFxuXHRcdFx0XHRmb3JtX25hbWU6IGZvcm1fbmFtZSxcblx0XHRcdFx0ZmllbGRzOiBmaWVsZHMsXG5cdFx0XHRcdHRhYmxlX2ZpZWxkczogdGFibGVfZmllbGRzLFxuXHRcdFx0XHRpbnNfdG9feGxzOiBpbnNfdG9feGxzXG5cdFx0XHR9KVxuXG5cdFx0XHRmaWxlTmFtZSA9IFwiU3RlZWRPU1dvcmtmbG93X1wiICsgbW9tZW50KCkuZm9ybWF0KCdZWVlZTU1EREhIbW0nKSArIFwiLnhsc1wiXG5cdFx0XHRyZXMuc2V0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsIFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIpXG5cdFx0XHRyZXMuc2V0SGVhZGVyKFwiQ29udGVudC1EaXNwb3NpdGlvblwiLCBcImF0dGFjaG1lbnQ7ZmlsZW5hbWU9XCIgKyBlbmNvZGVVUkkoZmlsZU5hbWUpKVxuXHRcdFx0cmVzLmVuZChyZXQpXG5cdFx0Y2F0Y2ggZVxuXHRcdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0XHRyZXMuZW5kKGUubWVzc2FnZSkiLCJNZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFdlYkFwcC5jb25uZWN0SGFuZGxlcnMudXNlKFwiL2FwaS93b3JrZmxvdy9leHBvcnQvaW5zdGFuY2VzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdmFyIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBlanMsIGVqc0xpbnQsIGVuZF9kYXRlLCBlcnJvcl9vYmosIGZpZWxkcywgZmlsZU5hbWUsIGZsb3csIGZsb3dfaWQsIGZsb3dfaWRzLCBmb3JtLCBmb3JtX25hbWUsIGZvcm1hdERhdGUsIGluc190b194bHMsIGxhbmcsIGxhc3RfbW9udGhfZGF0ZSwgbm93LCBxdWVyeSwgcmV0LCBzZWxlY3Rvciwgc3BhY2UsIHNwYWNlX2lkLCBzdGFydF9kYXRlLCBzdHIsIHRhYmxlX2ZpZWxkcywgdGVtcGxhdGUsIHRpbWV6b25lb2Zmc2V0LCB0eXBlLCB1aWQsIHV0Y09mZnNldDtcbiAgICB0cnkge1xuICAgICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICAgIHF1ZXJ5ID0gcmVxLnF1ZXJ5O1xuICAgICAgc3BhY2VfaWQgPSBxdWVyeS5zcGFjZV9pZDtcbiAgICAgIGZsb3dfaWQgPSBxdWVyeS5mbG93X2lkO1xuICAgICAgdHlwZSA9IHBhcnNlSW50KHF1ZXJ5LnR5cGUpO1xuICAgICAgdGltZXpvbmVvZmZzZXQgPSBwYXJzZUludChxdWVyeS50aW1lem9uZW9mZnNldCk7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZmxvd19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmb3JtOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGZsb3cuZm9ybVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgICdjdXJyZW50LmZpZWxkcyc6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBmb3JtX25hbWUgPSBmb3JtLm5hbWU7XG4gICAgICBmaWVsZHMgPSBmb3JtLmN1cnJlbnQuZmllbGRzO1xuICAgICAgdGFibGVfZmllbGRzID0gbmV3IEFycmF5O1xuICAgICAgXy5lYWNoKGZvcm0uY3VycmVudC5maWVsZHMsIGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgICAgIGlmIChmaWVsZC50eXBlID09PSBcInRhYmxlXCIpIHtcbiAgICAgICAgICByZXR1cm4gdGFibGVfZmllbGRzLnB1c2goZmllbGQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGluc190b194bHMgPSBuZXcgQXJyYXk7XG4gICAgICBzdGFydF9kYXRlID0gbnVsbDtcbiAgICAgIGVuZF9kYXRlID0gbnVsbDtcbiAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgc2VsZWN0b3IgPSB7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgZmxvdzogZmxvd19pZFxuICAgICAgfTtcbiAgICAgIHNlbGVjdG9yLnN0YXRlID0ge1xuICAgICAgICAkaW46IFtcInBlbmRpbmdcIiwgXCJjb21wbGV0ZWRcIl1cbiAgICAgIH07XG4gICAgICB1aWQgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHNwYWNlX2lkKTtcbiAgICAgIGlmICghc3BhY2UpIHtcbiAgICAgICAgc2VsZWN0b3Iuc3RhdGUgPSBcIm5vbmVcIjtcbiAgICAgIH1cbiAgICAgIGlmICghc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVpZCkpIHtcbiAgICAgICAgZmxvd19pZHMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0TXlBZG1pbk9yTW9uaXRvckZsb3dzKHNwYWNlX2lkLCB1aWQpO1xuICAgICAgICBpZiAoIWZsb3dfaWRzLmluY2x1ZGVzKHNlbGVjdG9yLmZsb3cpKSB7XG4gICAgICAgICAgc2VsZWN0b3IuJG9yID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdWJtaXR0ZXI6IHVpZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBhcHBsaWNhbnQ6IHVpZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBpbmJveF91c2VyczogdWlkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIG91dGJveF91c2VyczogdWlkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHR5cGUgPT09IDApIHtcbiAgICAgICAgc3RhcnRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSk7XG4gICAgICAgIHNlbGVjdG9yLnN1Ym1pdF9kYXRlID0ge1xuICAgICAgICAgICRndGU6IHN0YXJ0X2RhdGVcbiAgICAgICAgfTtcbiAgICAgICAgaW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yLCB7XG4gICAgICAgICAgc29ydDoge1xuICAgICAgICAgICAgc3VibWl0X2RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IDEpIHtcbiAgICAgICAgbGFzdF9tb250aF9kYXRlID0gbmV3IERhdGUobmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKSAtIDEwMDAgKiA2MCAqIDYwICogMjQpO1xuICAgICAgICBzdGFydF9kYXRlID0gbmV3IERhdGUobGFzdF9tb250aF9kYXRlLmdldEZ1bGxZZWFyKCksIGxhc3RfbW9udGhfZGF0ZS5nZXRNb250aCgpLCAxKTtcbiAgICAgICAgZW5kX2RhdGUgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpO1xuICAgICAgICBzZWxlY3Rvci5zdWJtaXRfZGF0ZSA9IHtcbiAgICAgICAgICAkZ3RlOiBzdGFydF9kYXRlLFxuICAgICAgICAgICRsdGU6IGVuZF9kYXRlXG4gICAgICAgIH07XG4gICAgICAgIGluc190b194bHMgPSBkYi5pbnN0YW5jZXMuZmluZChzZWxlY3Rvciwge1xuICAgICAgICAgIHNvcnQ6IHtcbiAgICAgICAgICAgIHN1Ym1pdF9kYXRlOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAyKSB7XG4gICAgICAgIHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgMCwgMSk7XG4gICAgICAgIHNlbGVjdG9yLnN1Ym1pdF9kYXRlID0ge1xuICAgICAgICAgICRndGU6IHN0YXJ0X2RhdGVcbiAgICAgICAgfTtcbiAgICAgICAgaW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yLCB7XG4gICAgICAgICAgc29ydDoge1xuICAgICAgICAgICAgc3VibWl0X2RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IDMpIHtcbiAgICAgICAgaW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yLCB7XG4gICAgICAgICAgc29ydDoge1xuICAgICAgICAgICAgc3VibWl0X2RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICB9XG4gICAgICBlanMgPSByZXF1aXJlKCdlanMnKTtcbiAgICAgIHN0ciA9IEFzc2V0cy5nZXRUZXh0KCdzZXJ2ZXIvZWpzL2V4cG9ydF9pbnN0YW5jZXMuZWpzJyk7XG4gICAgICBlanNMaW50ID0gcmVxdWlyZSgnZWpzLWxpbnQnKTtcbiAgICAgIGVycm9yX29iaiA9IGVqc0xpbnQubGludChzdHIsIHt9KTtcbiAgICAgIGlmIChlcnJvcl9vYmopIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIj09PS9hcGkvd29ya2Zsb3cvZXhwb3J0OlwiKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcl9vYmopO1xuICAgICAgfVxuICAgICAgdGVtcGxhdGUgPSBlanMuY29tcGlsZShzdHIpO1xuICAgICAgbGFuZyA9ICdlbic7XG4gICAgICBpZiAoY3VycmVudF91c2VyX2luZm8ubG9jYWxlID09PSAnemgtY24nKSB7XG4gICAgICAgIGxhbmcgPSAnemgtQ04nO1xuICAgICAgfVxuICAgICAgdXRjT2Zmc2V0ID0gdGltZXpvbmVvZmZzZXQgLyAtNjA7XG4gICAgICBmb3JtYXREYXRlID0gZnVuY3Rpb24oZGF0ZSwgZm9ybWF0ZXIpIHtcbiAgICAgICAgcmV0dXJuIG1vbWVudChkYXRlKS51dGNPZmZzZXQodXRjT2Zmc2V0KS5mb3JtYXQoZm9ybWF0ZXIpO1xuICAgICAgfTtcbiAgICAgIHJldCA9IHRlbXBsYXRlKHtcbiAgICAgICAgbGFuZzogbGFuZyxcbiAgICAgICAgZm9ybWF0RGF0ZTogZm9ybWF0RGF0ZSxcbiAgICAgICAgZm9ybV9uYW1lOiBmb3JtX25hbWUsXG4gICAgICAgIGZpZWxkczogZmllbGRzLFxuICAgICAgICB0YWJsZV9maWVsZHM6IHRhYmxlX2ZpZWxkcyxcbiAgICAgICAgaW5zX3RvX3hsczogaW5zX3RvX3hsc1xuICAgICAgfSk7XG4gICAgICBmaWxlTmFtZSA9IFwiU3RlZWRPU1dvcmtmbG93X1wiICsgbW9tZW50KCkuZm9ybWF0KCdZWVlZTU1EREhIbW0nKSArIFwiLnhsc1wiO1xuICAgICAgcmVzLnNldEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiKTtcbiAgICAgIHJlcy5zZXRIZWFkZXIoXCJDb250ZW50LURpc3Bvc2l0aW9uXCIsIFwiYXR0YWNobWVudDtmaWxlbmFtZT1cIiArIGVuY29kZVVSSShmaWxlTmFtZSkpO1xuICAgICAgcmV0dXJuIHJlcy5lbmQocmV0KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgZSA9IGVycm9yO1xuICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgIHJldHVybiByZXMuZW5kKGUubWVzc2FnZSk7XG4gICAgfVxuICB9KTtcbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ2dldCcsICcvdWYvc3BhY2UvY2hhbmdlc2V0JywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRxdWVyeSA9IHJlcS5xdWVyeVxuXHRcdGF1dGhfdG9rZW4gPSBkYi5hdXRoX3Rva2Vucy5maW5kT25lKHthdXRoX3Rva2VuOiBxdWVyeS5hdXRoX3Rva2VufSlcblxuXHRcdGlmIChub3QgYXV0aF90b2tlbikgb3IgKG5vdCBhdXRoX3Rva2VuLmVuYWJsZWQpXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yIDQwMSwgJ1VuYXV0aG9yaXplZCdcblxuXHRcdHN5bmNfdG9rZW4gPSBxdWVyeVtcInN5bmNfdG9rZW5cIl1cblx0XHRmb3JtaWRzID0gcXVlcnlbXCJmb3JtaWRzXCJdICMg6YCX5Y+36ZqU5byA5a2X56ym5LiyXG5cdFx0aXNfYWRtaW4gPSBxdWVyeVtcImlzX2FkbWluXCJdXG5cblx0XHRkYXRhID0gdXVmbG93TWFuYWdlci5nZXRfU3BhY2VDaGFuZ2VTZXQoZm9ybWlkcywgaXNfYWRtaW4sIHN5bmNfdG9rZW4pXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRjb2RlOiAyMDBcblx0XHRcdFx0ZGF0YTogZGF0YVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9IiwiSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvdWYvc3BhY2UvY2hhbmdlc2V0JywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGF1dGhfdG9rZW4sIGRhdGEsIGUsIGZvcm1pZHMsIGlzX2FkbWluLCBxdWVyeSwgc3luY190b2tlbjtcbiAgdHJ5IHtcbiAgICBxdWVyeSA9IHJlcS5xdWVyeTtcbiAgICBhdXRoX3Rva2VuID0gZGIuYXV0aF90b2tlbnMuZmluZE9uZSh7XG4gICAgICBhdXRoX3Rva2VuOiBxdWVyeS5hdXRoX3Rva2VuXG4gICAgfSk7XG4gICAgaWYgKCghYXV0aF90b2tlbikgfHwgKCFhdXRoX3Rva2VuLmVuYWJsZWQpKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDQwMSwgJ1VuYXV0aG9yaXplZCcpO1xuICAgIH1cbiAgICBzeW5jX3Rva2VuID0gcXVlcnlbXCJzeW5jX3Rva2VuXCJdO1xuICAgIGZvcm1pZHMgPSBxdWVyeVtcImZvcm1pZHNcIl07XG4gICAgaXNfYWRtaW4gPSBxdWVyeVtcImlzX2FkbWluXCJdO1xuICAgIGRhdGEgPSB1dWZsb3dNYW5hZ2VyLmdldF9TcGFjZUNoYW5nZVNldChmb3JtaWRzLCBpc19hZG1pbiwgc3luY190b2tlbik7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IGRhdGFcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmV0cmlldmUnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pXG5cdFx0XHRyZXRyaWV2ZV9jb21tZW50ID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbJ3JldHJpZXZlX2NvbW1lbnQnXVxuXG5cdFx0XHQjIOmqjOivgWluc3RhbmNl5Li65a6h5qC45Lit54q25oCBXG5cdFx0XHQjIHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVBlbmRpbmcoaW5zdGFuY2UpXG5cdFx0XHQjIOagoemqjOeUs+ivt+WNleaYr+W9k+WJjeeUqOaIt+W3suWuoeaguOi/h+eahOWNleWtkOaIluiAheW9k+WJjeeUqOaIt+aYr+aPkOS6pOS6uuaIlueUs+ivt+S6ulxuXHRcdFx0aWYgKG5vdCBpbnN0YW5jZS5vdXRib3hfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkgYW5kIChpbnN0YW5jZS5zdWJtaXR0ZXIgaXNudCBjdXJyZW50X3VzZXIgYW5kIGluc3RhbmNlLmFwcGxpY2FudCBpc250IGN1cnJlbnRfdXNlcilcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5b2T5YmN55So5oi35LiN56ym5ZCI5Y+W5Zue5p2h5Lu2JylcblxuXHRcdFx0cmV0cmlldmVfdHlwZSA9IFwiXCJcblxuXHRcdFx0dHJhY2VzID0gaW5zdGFuY2UudHJhY2VzXG5cblx0XHRcdCPojrflj5bmnIDmlrDnmoR0cmFjZe+8jCDljbPlj5blm57mraXpqqRcblx0XHRcdGxhc3RfdHJhY2UgPSBfLmxhc3QodHJhY2VzKVxuXHRcdFx0bGFzdF90cmFjZV9pZCA9IGxhc3RfdHJhY2UuX2lkXG5cdFx0XHRwcmV2aW91c190cmFjZV9pZCA9IGxhc3RfdHJhY2UucHJldmlvdXNfdHJhY2VfaWRzWzBdO1xuXHRcdFx0cHJldmlvdXNfdHJhY2UgPSBfLmZpbmQodHJhY2VzLCAodCktPlxuXHRcdFx0XHRyZXR1cm4gdC5faWQgaXMgcHJldmlvdXNfdHJhY2VfaWRcblx0XHRcdClcblx0XHRcdHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQgPSBwcmV2aW91c190cmFjZS5zdGVwXG5cdFx0XHRwcmV2aW91c190cmFjZV9uYW1lID0gcHJldmlvdXNfdHJhY2UubmFtZVxuXHRcdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxuXHRcdFx0cHJldmlvdXNfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgcHJldmlvdXNfdHJhY2Vfc3RlcF9pZClcblx0XHRcdGlmIHByZXZpb3VzX3N0ZXAuc3RlcF90eXBlIGlzIFwiY291bnRlclNpZ25cIlxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfkvJrnrb7kuI3og73lj5blm54nKVxuXG5cdFx0XHQjIOWPluWbnuatpemqpOeahOWJjeS4gOS4quatpemqpOWkhOeQhuS6uuWUr+S4gO+8iOWNs+aOkumZpOaOieS8oOmYheWSjOi9rOWPkeeahGFwcHJvdmXlkI7vvIzliankvZnnmoRhcHByb3Zl5Y+q5pyJ5LiA5Liq77yJ5bm25LiU5piv5b2T5YmN55So5oi3XG5cdFx0XHRwcmV2aW91c190cmFjZV9hcHByb3ZlcyA9IF8uZmlsdGVyIHByZXZpb3VzX3RyYWNlLmFwcHJvdmVzLCAoYSktPlxuXHRcdFx0XHRyZXR1cm4gYS50eXBlIGlzbnQgJ2NjJyBhbmQgYS50eXBlIGlzbnQgJ2Rpc3RyaWJ1dGUnIGFuZCBhLnR5cGUgaXNudCAnZm9yd2FyZCcgYW5kIFsnYXBwcm92ZWQnLCdzdWJtaXR0ZWQnLCdyZWplY3RlZCddLmluY2x1ZGVzKGEuanVkZ2UpXG5cblx0XHRcdGlmIHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzLmxlbmd0aCBpcyAxIGFuZCAocHJldmlvdXNfdHJhY2VfYXBwcm92ZXNbMF0udXNlciBpcyBjdXJyZW50X3VzZXIgb3IgcHJldmlvdXNfdHJhY2VfYXBwcm92ZXNbMF0uaGFuZGxlciBpcyBjdXJyZW50X3VzZXIpXG5cdFx0XHRcdHJldHJpZXZlX3R5cGUgPSAnbm9ybWFsJyAjIOeUs+ivt+WNleato+W4uOa1gei9rOeahOWPluWbnu+8jOWNs+mdnuS8oOmYheWPluWbnlxuXG5cdFx0XHRpID0gdHJhY2VzLmxlbmd0aFxuXHRcdFx0cmV0cmlldmVfYXBwcm92ZSA9IHt9XG5cdFx0XHR3aGlsZSBpID4gMFxuXHRcdFx0XHRfLmVhY2ggdHJhY2VzW2ktMV0uYXBwcm92ZXMsIChhKS0+XG5cdFx0XHRcdFx0aWYgYS50eXBlIGlzICdjYycgYW5kIGEuaXNfZmluaXNoZWQgaXMgdHJ1ZSBhbmQgYS51c2VyIGlzIGN1cnJlbnRfdXNlclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfdHlwZSA9ICdjYydcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHJvdmUgPSBhXG5cblx0XHRcdFx0aWYgcmV0cmlldmVfdHlwZSBpcyAnY2MnXG5cdFx0XHRcdFx0YnJlYWtcblxuXHRcdFx0XHRpLS1cblxuXG5cdFx0XHRpZiByZXRyaWV2ZV90eXBlIGlzICdub3JtYWwnXG5cdFx0XHRcdCMg6I635Y+W5LiA5LiqZmxvd1xuXHRcdFx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpXG5cdFx0XHRcdHByZXZpb3VzX3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQpXG5cdFx0XHRcdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2Vcblx0XHRcdFx0aW5zdGFuY2VfaWQgPSBpbnN0YW5jZS5faWRcblx0XHRcdFx0b2xkX2luYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnNcblx0XHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxuXHRcdFx0XHRub3cgPSBuZXcgRGF0ZVxuXHRcdFx0XHRfLmVhY2ggdHJhY2VzLCAodCktPlxuXHRcdFx0XHRcdGlmIHQuX2lkIGlzIGxhc3RfdHJhY2VfaWRcblx0XHRcdFx0XHRcdGlmIG5vdCB0LmFwcHJvdmVzXG5cdFx0XHRcdFx0XHRcdHQuYXBwcm92ZXMgPSBuZXcgQXJyYXlcblx0XHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2UuYXBwcm92ZeiusOW9lVxuXHRcdFx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhcHByKS0+XG5cdFx0XHRcdFx0XHRcdGlmIGFwcHIuaXNfZmluaXNoZWQgPT0gZmFsc2UgYW5kIGFwcHIudHlwZSBpc250IFwiY2NcIlxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0XHRcdGFwcHIuZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdFx0XHRhcHByLnJlYWRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0XHRcdGFwcHIuaXNfZXJyb3IgPSBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuaXNfcmVhZCA9IHRydWVcblx0XHRcdFx0XHRcdFx0XHRhcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuanVkZ2UgPSBcInRlcm1pbmF0ZWRcIlxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuY29zdF90aW1lID0gYXBwci5maW5pc2hfZGF0ZSAtIGFwcHIuc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdFx0IyDlnKjlkIzkuIB0cmFjZeS4i+aPkuWFpeWPluWbnuaTjeS9nOiAheeahGFwcHJvdmXorrDlvZVcblx0XHRcdFx0XHRcdGN1cnJlbnRfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cdFx0XHRcdFx0XHRjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHsgZmllbGRzOiB7IG5hbWU6IDEsIGZ1bGxuYW1lOiAxIH0gfSlcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci50cmFjZSA9IHQuX2lkXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci51c2VyID0gY3VycmVudF91c2VyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaGFuZGxlciA9IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvblxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5uYW1lXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZVxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmR1ZV9kYXRlID0gdC5kdWVfZGF0ZVxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5yZWFkX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuanVkZ2UgPSBcInJldHJpZXZlZFwiXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmlzX3JlYWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmRlc2NyaXB0aW9uID0gcmV0cmlldmVfY29tbWVudFxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5pc19lcnJvciA9IGZhbHNlXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLnZhbHVlcyA9IG5ldyBPYmplY3Rcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuY29zdF90aW1lID0gcmV0cmlldmVfYXBwci5maW5pc2hfZGF0ZSAtIHJldHJpZXZlX2FwcHIuc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdFx0dC5hcHByb3Zlcy5wdXNoKHJldHJpZXZlX2FwcHIpXG5cblx0XHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2XorrDlvZVcblx0XHRcdFx0XHRcdHQuaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRcdFx0XHR0LmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHR0Lmp1ZGdlID0gXCJyZXRyaWV2ZWRcIlxuXG5cdFx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2XorrDlvZVcblx0XHRcdFx0bmV3VHJhY2UgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdFx0bmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0XHRuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZV9pZF1cblx0XHRcdFx0bmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZVxuXHRcdFx0XHRuZXdUcmFjZS5zdGVwID0gcHJldmlvdXNfdHJhY2Vfc3RlcF9pZFxuXHRcdFx0XHRuZXdUcmFjZS5uYW1lID0gcHJldmlvdXNfdHJhY2VfbmFtZVxuXHRcdFx0XHRuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKHByZXZpb3VzX3N0ZXAudGltZW91dF9ob3Vycywgc3BhY2VfaWQpXG5cdFx0XHRcdG5ld1RyYWNlLmFwcHJvdmVzID0gW11cblx0XHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZS5hcHByb3Zl6K6w5b2VXG5cdFx0XHRcdG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0XHRuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdFx0bmV3QXBwcm92ZS50cmFjZSA9IG5ld1RyYWNlLl9pZFxuXHRcdFx0XHRuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gZmFsc2Vcblx0XHRcdFx0bmV3QXBwcm92ZS51c2VyID0gY3VycmVudF91c2VyXG5cblx0XHRcdFx0aGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIsIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lXG5cdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlciA9IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lXG5cblx0XHRcdFx0c3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cdFx0XHRcdCMg6I635Y+WbmV4dF9zdGVwX3VzZXLmiYDlnKjnmoTpg6jpl6jkv6Hmga9cblx0XHRcdFx0b3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oc3BhY2VfdXNlcilcblx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdXG5cdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl1cblx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdXG5cblx0XHRcdFx0bmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdG5ld0FwcHJvdmUuZHVlX2RhdGUgPSBuZXdUcmFjZS5kdWVfZGF0ZVxuXHRcdFx0XHRuZXdBcHByb3ZlLmlzX3JlYWQgPSBmYWxzZVxuXHRcdFx0XHRuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdFx0bmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0XG5cblx0XHRcdFx0dXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgbmV3QXBwcm92ZSlcblxuXHRcdFx0XHRuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpXG5cdFx0XHRcdHNldE9iai5pbmJveF91c2VycyA9IFtjdXJyZW50X3VzZXJdXG5cblx0XHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XG5cdFx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxuXHRcdFx0XHR0cmFjZXMucHVzaChuZXdUcmFjZSlcblx0XHRcdFx0c2V0T2JqLnRyYWNlcyA9IHRyYWNlc1xuXHRcdFx0XHRzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIlxuXHRcdFx0XHRzZXRPYmouaXNfYXJjaGl2ZWQgPSBmYWxzZVxuXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IHByZXZpb3VzX3RyYWNlX25hbWVcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IHV1Zmxvd01hbmFnZXIuZ2V0Q3VycmVudFN0ZXBBdXRvU3VibWl0KGZsb3cudGltZW91dF9hdXRvX3N1Ym1pdCwgcHJldmlvdXNfc3RlcC5saW5lcylcblxuXHRcdFx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskc2V0OiBzZXRPYmp9KVxuXHRcdFx0XHRpZiByXG5cdFx0XHRcdFx0IyDnu5nooqvliKDpmaTnmoRpbmJveF91c2VycyDlkowg5b2T5YmN55So5oi3IOWPkemAgXB1c2hcblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKVxuXHRcdFx0XHRcdF8uZWFjaChvbGRfaW5ib3hfdXNlcnMsICh1c2VyX2lkKS0+XG5cdFx0XHRcdFx0XHRpZiB1c2VyX2lkIGlzbnQgY3VycmVudF91c2VyXG5cdFx0XHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKVxuXHRcdFx0XHRcdClcblxuXHRcdFx0XHRcdGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXG5cdFx0XHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZXRyaWV2ZScsIGN1cnJlbnRfdXNlciwgaW5zLmluYm94X3VzZXJzKVxuXG5cdFx0XHRlbHNlIGlmIHJldHJpZXZlX3R5cGUgaXMgJ2NjJ1xuXHRcdFx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XG5cdFx0XHRcdG5vdyA9IG5ldyBEYXRlXG5cdFx0XHRcdGluc3RhbmNlX2lkID0gaW5zdGFuY2UuX2lkXG5cdFx0XHRcdHRoZV90cmFjZSA9IF8uZmluZCB0cmFjZXMsICh0KS0+XG5cdFx0XHRcdFx0cmV0dXJuIHQuX2lkIGlzIHJldHJpZXZlX2FwcHJvdmUudHJhY2VcblxuXHRcdFx0XHRfLmVhY2ggdGhlX3RyYWNlLmFwcHJvdmVzLCAoYSktPlxuXHRcdFx0XHRcdGlmIGEuX2lkIGlzIHJldHJpZXZlX2FwcHJvdmUuX2lkXG5cdFx0XHRcdFx0XHRhLmlzX2ZpbmlzaGVkID0gZmFsc2Vcblx0XHRcdFx0XHRcdGEuZmluaXNoX2RhdGUgPSB1bmRlZmluZWRcblx0XHRcdFx0XHRcdGEuanVkZ2UgPSB1bmRlZmluZWRcblx0XHRcdFx0XHRcdGEuY29zdF90aW1lID0gdW5kZWZpbmVkXG5cblx0XHRcdFx0Y2NfdXNlcnMgPSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdFx0XHRjY191c2Vycy5wdXNoKGN1cnJlbnRfdXNlcilcblxuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcblx0XHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyXG5cdFx0XHRcdHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiXG5cdFx0XHRcdHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlXG5cdFx0XHRcdHNldE9iai5jY191c2VycyA9IGNjX3VzZXJzXG5cdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMnXSA9IHRoZV90cmFjZS5hcHByb3Zlc1xuXG5cdFx0XHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkLCAndHJhY2VzLl9pZCc6IHJldHJpZXZlX2FwcHJvdmUudHJhY2V9LCB7JHNldDogc2V0T2JqfSlcblx0XHRcdFx0aWYgclxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pXG5cblx0XHRcdFx0aW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmV0cmlldmUnLCBjdXJyZW50X3VzZXIsIFtjdXJyZW50X3VzZXJdKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YToge31cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHtlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmV0cmlldmUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIGNjX3VzZXJzLCBmbG93LCBoYW5kbGVyX2luZm8sIGksIGlucywgaW5zdGFuY2UsIGluc3RhbmNlX2lkLCBsYXN0X3RyYWNlLCBsYXN0X3RyYWNlX2lkLCBuZXdBcHByb3ZlLCBuZXdUcmFjZSwgbm93LCBvbGRfaW5ib3hfdXNlcnMsIG9yZ19pbmZvLCBwcmV2aW91c19zdGVwLCBwcmV2aW91c190cmFjZSwgcHJldmlvdXNfdHJhY2VfYXBwcm92ZXMsIHByZXZpb3VzX3RyYWNlX2lkLCBwcmV2aW91c190cmFjZV9uYW1lLCBwcmV2aW91c190cmFjZV9zdGVwX2lkLCByLCByZXRyaWV2ZV9hcHByb3ZlLCByZXRyaWV2ZV9jb21tZW50LCByZXRyaWV2ZV90eXBlLCBzZXRPYmosIHNwYWNlX2lkLCBzcGFjZV91c2VyLCB0aGVfdHJhY2UsIHRyYWNlcztcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSk7XG4gICAgICByZXRyaWV2ZV9jb21tZW50ID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbJ3JldHJpZXZlX2NvbW1lbnQnXTtcbiAgICAgIGlmICgoIWluc3RhbmNlLm91dGJveF91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSAmJiAoaW5zdGFuY2Uuc3VibWl0dGVyICE9PSBjdXJyZW50X3VzZXIgJiYgaW5zdGFuY2UuYXBwbGljYW50ICE9PSBjdXJyZW50X3VzZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+W9k+WJjeeUqOaIt+S4jeespuWQiOWPluWbnuadoeS7ticpO1xuICAgICAgfVxuICAgICAgcmV0cmlldmVfdHlwZSA9IFwiXCI7XG4gICAgICB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XG4gICAgICBsYXN0X3RyYWNlID0gXy5sYXN0KHRyYWNlcyk7XG4gICAgICBsYXN0X3RyYWNlX2lkID0gbGFzdF90cmFjZS5faWQ7XG4gICAgICBwcmV2aW91c190cmFjZV9pZCA9IGxhc3RfdHJhY2UucHJldmlvdXNfdHJhY2VfaWRzWzBdO1xuICAgICAgcHJldmlvdXNfdHJhY2UgPSBfLmZpbmQodHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiB0Ll9pZCA9PT0gcHJldmlvdXNfdHJhY2VfaWQ7XG4gICAgICB9KTtcbiAgICAgIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQgPSBwcmV2aW91c190cmFjZS5zdGVwO1xuICAgICAgcHJldmlvdXNfdHJhY2VfbmFtZSA9IHByZXZpb3VzX3RyYWNlLm5hbWU7XG4gICAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpO1xuICAgICAgcHJldmlvdXNfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgcHJldmlvdXNfdHJhY2Vfc3RlcF9pZCk7XG4gICAgICBpZiAocHJldmlvdXNfc3RlcC5zdGVwX3R5cGUgPT09IFwiY291bnRlclNpZ25cIikge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfkvJrnrb7kuI3og73lj5blm54nKTtcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzID0gXy5maWx0ZXIocHJldmlvdXNfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgcmV0dXJuIGEudHlwZSAhPT0gJ2NjJyAmJiBhLnR5cGUgIT09ICdkaXN0cmlidXRlJyAmJiBhLnR5cGUgIT09ICdmb3J3YXJkJyAmJiBbJ2FwcHJvdmVkJywgJ3N1Ym1pdHRlZCcsICdyZWplY3RlZCddLmluY2x1ZGVzKGEuanVkZ2UpO1xuICAgICAgfSk7XG4gICAgICBpZiAocHJldmlvdXNfdHJhY2VfYXBwcm92ZXMubGVuZ3RoID09PSAxICYmIChwcmV2aW91c190cmFjZV9hcHByb3Zlc1swXS51c2VyID09PSBjdXJyZW50X3VzZXIgfHwgcHJldmlvdXNfdHJhY2VfYXBwcm92ZXNbMF0uaGFuZGxlciA9PT0gY3VycmVudF91c2VyKSkge1xuICAgICAgICByZXRyaWV2ZV90eXBlID0gJ25vcm1hbCc7XG4gICAgICB9XG4gICAgICBpID0gdHJhY2VzLmxlbmd0aDtcbiAgICAgIHJldHJpZXZlX2FwcHJvdmUgPSB7fTtcbiAgICAgIHdoaWxlIChpID4gMCkge1xuICAgICAgICBfLmVhY2godHJhY2VzW2kgLSAxXS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICAgIGlmIChhLnR5cGUgPT09ICdjYycgJiYgYS5pc19maW5pc2hlZCA9PT0gdHJ1ZSAmJiBhLnVzZXIgPT09IGN1cnJlbnRfdXNlcikge1xuICAgICAgICAgICAgcmV0cmlldmVfdHlwZSA9ICdjYyc7XG4gICAgICAgICAgICByZXR1cm4gcmV0cmlldmVfYXBwcm92ZSA9IGE7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJldHJpZXZlX3R5cGUgPT09ICdjYycpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpLS07XG4gICAgICB9XG4gICAgICBpZiAocmV0cmlldmVfdHlwZSA9PT0gJ25vcm1hbCcpIHtcbiAgICAgICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgICAgICAgcHJldmlvdXNfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgcHJldmlvdXNfdHJhY2Vfc3RlcF9pZCk7XG4gICAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICAgIGluc3RhbmNlX2lkID0gaW5zdGFuY2UuX2lkO1xuICAgICAgICBvbGRfaW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2VycztcbiAgICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICAgIF8uZWFjaCh0cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICB2YXIgY3VycmVudF9zcGFjZV91c2VyLCBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLCByZXRyaWV2ZV9hcHByO1xuICAgICAgICAgIGlmICh0Ll9pZCA9PT0gbGFzdF90cmFjZV9pZCkge1xuICAgICAgICAgICAgaWYgKCF0LmFwcHJvdmVzKSB7XG4gICAgICAgICAgICAgIHQuYXBwcm92ZXMgPSBuZXcgQXJyYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYXBwcikge1xuICAgICAgICAgICAgICBpZiAoYXBwci5pc19maW5pc2hlZCA9PT0gZmFsc2UgJiYgYXBwci50eXBlICE9PSBcImNjXCIpIHtcbiAgICAgICAgICAgICAgICBhcHByLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgICAgYXBwci5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgICBhcHByLnJlYWRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgICBhcHByLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYXBwci5pc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBhcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBhcHByLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcHIuY29zdF90aW1lID0gYXBwci5maW5pc2hfZGF0ZSAtIGFwcHIuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjdXJyZW50X3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgICAgICAgIGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbiwge1xuICAgICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgICAgICAgIGZ1bGxuYW1lOiAxXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwciA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnRyYWNlID0gdC5faWQ7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIudXNlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaGFuZGxlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5uYW1lO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5kdWVfZGF0ZSA9IHQuZHVlX2RhdGU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnJlYWRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuanVkZ2UgPSBcInJldHJpZXZlZFwiO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5pc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuZGVzY3JpcHRpb24gPSByZXRyaWV2ZV9jb21tZW50O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5jb3N0X3RpbWUgPSByZXRyaWV2ZV9hcHByLmZpbmlzaF9kYXRlIC0gcmV0cmlldmVfYXBwci5zdGFydF9kYXRlO1xuICAgICAgICAgICAgdC5hcHByb3Zlcy5wdXNoKHJldHJpZXZlX2FwcHIpO1xuICAgICAgICAgICAgdC5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICB0LmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgcmV0dXJuIHQuanVkZ2UgPSBcInJldHJpZXZlZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG5ld1RyYWNlID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgbmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgbmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2VfaWRdO1xuICAgICAgICBuZXdUcmFjZS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICBuZXdUcmFjZS5zdGVwID0gcHJldmlvdXNfdHJhY2Vfc3RlcF9pZDtcbiAgICAgICAgbmV3VHJhY2UubmFtZSA9IHByZXZpb3VzX3RyYWNlX25hbWU7XG4gICAgICAgIG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKHByZXZpb3VzX3N0ZXAudGltZW91dF9ob3Vycywgc3BhY2VfaWQpO1xuICAgICAgICBuZXdUcmFjZS5hcHByb3ZlcyA9IFtdO1xuICAgICAgICBuZXdBcHByb3ZlID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICBuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgIG5ld0FwcHJvdmUudHJhY2UgPSBuZXdUcmFjZS5faWQ7XG4gICAgICAgIG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgbmV3QXBwcm92ZS51c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgICBoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlciwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG5ld0FwcHJvdmUudXNlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG4gICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcbiAgICAgICAgc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgICBvcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKTtcbiAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdO1xuICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl07XG4gICAgICAgIG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3QXBwcm92ZS5kdWVfZGF0ZSA9IG5ld1RyYWNlLmR1ZV9kYXRlO1xuICAgICAgICBuZXdBcHByb3ZlLmlzX3JlYWQgPSBmYWxzZTtcbiAgICAgICAgbmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICBuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICAgIHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIG5ld0FwcHJvdmUpO1xuICAgICAgICBuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpO1xuICAgICAgICBzZXRPYmouaW5ib3hfdXNlcnMgPSBbY3VycmVudF91c2VyXTtcbiAgICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgICAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgIHRyYWNlcy5wdXNoKG5ld1RyYWNlKTtcbiAgICAgICAgc2V0T2JqLnRyYWNlcyA9IHRyYWNlcztcbiAgICAgICAgc2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCI7XG4gICAgICAgIHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBwcmV2aW91c190cmFjZV9uYW1lO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gdXVmbG93TWFuYWdlci5nZXRDdXJyZW50U3RlcEF1dG9TdWJtaXQoZmxvdy50aW1lb3V0X2F1dG9fc3VibWl0LCBwcmV2aW91c19zdGVwLmxpbmVzKTtcbiAgICAgICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgICBfLmVhY2gob2xkX2luYm94X3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgICBpZiAodXNlcl9pZCAhPT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmV0cmlldmUnLCBjdXJyZW50X3VzZXIsIGlucy5pbmJveF91c2Vycyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocmV0cmlldmVfdHlwZSA9PT0gJ2NjJykge1xuICAgICAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgICAgaW5zdGFuY2VfaWQgPSBpbnN0YW5jZS5faWQ7XG4gICAgICAgIHRoZV90cmFjZSA9IF8uZmluZCh0cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICByZXR1cm4gdC5faWQgPT09IHJldHJpZXZlX2FwcHJvdmUudHJhY2U7XG4gICAgICAgIH0pO1xuICAgICAgICBfLmVhY2godGhlX3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgaWYgKGEuX2lkID09PSByZXRyaWV2ZV9hcHByb3ZlLl9pZCkge1xuICAgICAgICAgICAgYS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgYS5maW5pc2hfZGF0ZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIGEuanVkZ2UgPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4gYS5jb3N0X3RpbWUgPSB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY2NfdXNlcnMgPSBpbnN0YW5jZS5jY191c2VycztcbiAgICAgICAgY2NfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpO1xuICAgICAgICBzZXRPYmoubW9kaWZpZWQgPSBub3c7XG4gICAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgc2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCI7XG4gICAgICAgIHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlO1xuICAgICAgICBzZXRPYmouY2NfdXNlcnMgPSBjY191c2VycztcbiAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3ZlcyddID0gdGhlX3RyYWNlLmFwcHJvdmVzO1xuICAgICAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZV9pZCxcbiAgICAgICAgICAndHJhY2VzLl9pZCc6IHJldHJpZXZlX2FwcHJvdmUudHJhY2VcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgfVxuICAgICAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmV0cmlldmUnLCBjdXJyZW50X3VzZXIsIFtjdXJyZW50X3VzZXJdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvZm9yd2FyZCcsIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xuXHR0cnkge1xuXHRcdHZhciBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuXHRcdHZhciBjdXJyZW50X3VzZXJfaWQgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG5cblx0XHR2YXIgaGFzaERhdGEgPSByZXEuYm9keTtcblx0XHR2YXIgaW5zdGFuY2VfaWQgPSBoYXNoRGF0YS5pbnN0YW5jZV9pZDtcblx0XHR2YXIgc3BhY2VfaWQgPSBoYXNoRGF0YS5zcGFjZV9pZDtcblx0XHR2YXIgZmxvd19pZCA9IGhhc2hEYXRhLmZsb3dfaWQ7XG5cdFx0dmFyIGhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCA9IGhhc2hEYXRhLmhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudDtcblx0XHR2YXIgZGVzY3JpcHRpb24gPSBoYXNoRGF0YS5kZXNjcmlwdGlvbjtcblx0XHR2YXIgaXNGb3J3YXJkQXR0YWNobWVudHMgPSBoYXNoRGF0YS5pc0ZvcndhcmRBdHRhY2htZW50cztcblx0XHR2YXIgc2VsZWN0ZWRVc2VycyA9IGhhc2hEYXRhLnNlbGVjdGVkVXNlcnM7XG5cdFx0dmFyIGFjdGlvbl90eXBlID0gaGFzaERhdGEuYWN0aW9uX3R5cGU7XG5cdFx0dmFyIHJlbGF0ZWQgPSBoYXNoRGF0YS5yZWxhdGVkO1xuXHRcdHZhciBmcm9tX2FwcHJvdmVfaWQgPSBoYXNoRGF0YS5mcm9tX2FwcHJvdmVfaWQ7XG5cblx0XHRjaGVjayhpbnN0YW5jZV9pZCwgU3RyaW5nKTtcblx0XHRjaGVjayhzcGFjZV9pZCwgU3RyaW5nKTtcblx0XHRjaGVjayhmbG93X2lkLCBTdHJpbmcpO1xuXHRcdGNoZWNrKGhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCwgQm9vbGVhbik7XG5cdFx0Y2hlY2soZGVzY3JpcHRpb24sIFN0cmluZyk7XG5cdFx0Y2hlY2soaXNGb3J3YXJkQXR0YWNobWVudHMsIEJvb2xlYW4pO1xuXHRcdGNoZWNrKHNlbGVjdGVkVXNlcnMsIEFycmF5KTtcblx0XHRjaGVjayhhY3Rpb25fdHlwZSwgTWF0Y2guT25lT2YoJ2ZvcndhcmQnLCAnZGlzdHJpYnV0ZScpKTtcblxuXHRcdGlmIChhY3Rpb25fdHlwZSA9PSBcImRpc3RyaWJ1dGVcIilcblx0XHRcdGNoZWNrKGZyb21fYXBwcm92ZV9pZCwgU3RyaW5nKTtcblxuXHRcdHZhciBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCk7XG5cdFx0dmFyIG9sZF9zcGFjZV9pZCA9IGlucy5zcGFjZTtcblxuXHRcdHZhciBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShmbG93X2lkKTtcblxuXHRcdHZhciBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHNwYWNlX2lkKTtcblxuXHRcdGlmICghaW5zIHx8ICFmbG93IHx8ICFzcGFjZSkge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcigncGFyYW1zIGVycm9yIScsICdyZWNvcmQgbm90IGV4aXN0cyEnKTtcblx0XHR9XG5cblx0XHR2YXIgZm9yd2FyZF91c2VycyA9IG5ldyBBcnJheTtcblx0XHRpZiAoXy5pc0VtcHR5KHNlbGVjdGVkVXNlcnMpKSB7XG5cdFx0XHRmb3J3YXJkX3VzZXJzID0gW2N1cnJlbnRfdXNlcl9pZF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvcndhcmRfdXNlcnMgPSBzZWxlY3RlZFVzZXJzO1xuXHRcdH1cblxuXHRcdC8vIOagoemqjOWIhuWPkeWvueixoeaYr+WQpuacieWIhuWPkea1geeoi+eahOaPkOS6pOadg+mZkFxuXHRcdHZhciBub19wZXJtaXNzaW9uX3VzZXJfaWRzID0gbmV3IEFycmF5KCk7XG5cdFx0Xy5lYWNoKGZvcndhcmRfdXNlcnMsIGZ1bmN0aW9uICh1aWQpIHtcblx0XHRcdHZhciBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhmbG93X2lkLCB1aWQpO1xuXHRcdFx0aWYgKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkZFwiKSkge1xuXHRcdFx0XHQvLyB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuivpeeUs+ivt+S6uuayoeacieaPkOS6pOatpOeUs+ivt+WNleeahOadg+mZkOOAglwiKVxuXHRcdFx0XHRub19wZXJtaXNzaW9uX3VzZXJfaWRzLnB1c2godWlkKTtcblx0XHRcdH1cblx0XHR9KVxuXHRcdGlmICghXy5pc0VtcHR5KG5vX3Blcm1pc3Npb25fdXNlcl9pZHMpKSB7XG5cdFx0XHR2YXIgbm9fcGVybWlzc2lvbl91c2Vyc19uYW1lID0gbmV3IEFycmF5KCk7XG5cdFx0XHRkYi51c2Vycy5maW5kKHtcblx0XHRcdFx0X2lkOiB7XG5cdFx0XHRcdFx0JGluOiBub19wZXJtaXNzaW9uX3VzZXJfaWRzXG5cdFx0XHRcdH1cblx0XHRcdH0sIHtcblx0XHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFx0bmFtZTogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KS5mb3JFYWNoKGZ1bmN0aW9uICh1KSB7XG5cdFx0XHRcdG5vX3Blcm1pc3Npb25fdXNlcnNfbmFtZS5wdXNoKHUubmFtZSk7XG5cdFx0XHR9KTtcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ25vX3Blcm1pc3Npb24nLCBcIuivpeaPkOS6pOS6uuayoeacieaPkOS6pOatpOeUs+ivt+WNleeahOadg+mZkOOAglwiLCBub19wZXJtaXNzaW9uX3VzZXJzX25hbWUuam9pbignLCcpKVxuXHRcdH1cblxuXHRcdHZhciBuZXdfaW5zX2lkcyA9IG5ldyBBcnJheTtcblxuXHRcdHZhciBjdXJyZW50X3RyYWNlID0gbnVsbDtcblx0XHRpZiAoYWN0aW9uX3R5cGUgPT0gXCJkaXN0cmlidXRlXCIpIHtcblx0XHRcdF8uZWFjaChpbnMudHJhY2VzLCBmdW5jdGlvbiAodCkge1xuXHRcdFx0XHRpZiAoIWN1cnJlbnRfdHJhY2UpIHtcblx0XHRcdFx0XHRfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24gKGEpIHtcblx0XHRcdFx0XHRcdGlmICghY3VycmVudF90cmFjZSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoYS5faWQgPT0gZnJvbV9hcHByb3ZlX2lkKVxuXHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRfdHJhY2UgPSB0O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1cnJlbnRfdHJhY2UgPSBfLmxhc3QoaW5zLnRyYWNlcyk7XG5cdFx0fVxuXHRcdHZhciBjdXJyZW50X3RyYWNlX2lkID0gY3VycmVudF90cmFjZS5faWQ7XG5cdFx0dmFyIGZvcndhcmRfYXBwcm92ZXMgPSBbXTtcblx0XHR2YXIgZnJvbV91c2VyX25hbWUgPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcl9pZCwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdG5hbWU6IDFcblx0XHRcdH1cblx0XHR9KS5uYW1lXG5cdFx0dmFyIHNldF9vYmogPSBuZXcgT2JqZWN0O1xuXG5cdFx0Ly8g6K6h566XdmFsdWVzXG5cdFx0dmFyIG9sZF92YWx1ZXMgPSBpbnMudmFsdWVzLFxuXHRcdFx0bmV3X3ZhbHVlcyA9IHt9O1xuXHRcdHZhciBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmbG93LmZvcm0pO1xuXHRcdHZhciBmaWVsZHMgPSBmb3JtLmN1cnJlbnQuZmllbGRzIHx8IFtdO1xuXG5cdFx0dmFyIG9sZF9mb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnMuZm9ybSk7XG5cdFx0dmFyIG9sZF9mb3JtX3ZlcnNpb24gPSBpbnMuZm9ybV92ZXJzaW9uLFxuXHRcdFx0b2xkX2ZpZWxkcyA9IFtdLFxuXHRcdFx0Y29tbW9uX2ZpZWxkcyA9IFtdO1xuXG5cdFx0dmFyIHNlbGVjdF90b19pbnB1dF9maWVsZHMgPSBbXTtcblxuXHRcdGlmIChvbGRfZm9ybS5jdXJyZW50Ll9pZCA9PSBvbGRfZm9ybV92ZXJzaW9uKSB7XG5cdFx0XHRvbGRfZmllbGRzID0gb2xkX2Zvcm0uY3VycmVudC5maWVsZHM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmIChvbGRfZm9ybS5oaXN0b3J5cykge1xuXHRcdFx0XHRvbGRfZm9ybS5oaXN0b3J5cy5mb3JFYWNoKGZ1bmN0aW9uIChoKSB7XG5cdFx0XHRcdFx0aWYgKGguX2lkID09IG9sZF9mb3JtX3ZlcnNpb24pXG5cdFx0XHRcdFx0XHRvbGRfZmllbGRzID0gaC5maWVsZHM7XG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG5cdFx0XHR2YXIgZXhpc3RzX2ZpZWxkID0gXy5maW5kKG9sZF9maWVsZHMsIGZ1bmN0aW9uIChmKSB7XG5cdFx0XHRcdHJldHVybiBmLnR5cGUgPT0gZmllbGQudHlwZSAmJiBmLmNvZGUgPT0gZmllbGQuY29kZTtcblx0XHRcdH0pXG5cdFx0XHRpZiAoZXhpc3RzX2ZpZWxkKVxuXHRcdFx0XHRjb21tb25fZmllbGRzLnB1c2goZmllbGQpO1xuXHRcdFx0dmFyIHNlbGVjdF9pbnB1dF9maWVsZCA9IF8uZmluZChvbGRfZmllbGRzLCBmdW5jdGlvbiAoZikge1xuXHRcdFx0XHRyZXR1cm4gZi50eXBlID09ICdzZWxlY3QnICYmIGZpZWxkLnR5cGUgPT0gJ2lucHV0JyAmJiBmLmNvZGUgPT0gZmllbGQuY29kZTtcblx0XHRcdH0pXG5cdFx0XHRpZiAoc2VsZWN0X2lucHV0X2ZpZWxkKVxuXHRcdFx0XHRzZWxlY3RfdG9faW5wdXRfZmllbGRzLnB1c2goc2VsZWN0X2lucHV0X2ZpZWxkKTtcblx0XHR9KVxuXG5cdFx0c2VsZWN0X3RvX2lucHV0X2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuXHRcdFx0aWYgKG9sZF92YWx1ZXNbZmllbGQuY29kZV0pIHtcblx0XHRcdFx0bmV3X3ZhbHVlc1tmaWVsZC5jb2RlXSA9IG9sZF92YWx1ZXNbZmllbGQuY29kZV07XG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdGNvbW1vbl9maWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcblx0XHRcdGlmIChmaWVsZC50eXBlID09ICdzZWN0aW9uJykge1xuXHRcdFx0XHRpZiAoZmllbGQuZmllbGRzKSB7XG5cdFx0XHRcdFx0ZmllbGQuZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcblx0XHRcdFx0XHRcdC8vIOi3qOW3peS9nOWMuui9rOWPkeS4jeWkjeWItumAieS6uumAiee7hFxuXHRcdFx0XHRcdFx0aWYgKFsnZ3JvdXAnLCAndXNlciddLmluY2x1ZGVzKGYudHlwZSkgJiYgb2xkX3NwYWNlX2lkICE9IHNwYWNlX2lkKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHZhciBrZXkgPSBmLmNvZGU7XG5cdFx0XHRcdFx0XHR2YXIgb2xkX3YgPSBvbGRfdmFsdWVzW2tleV07XG5cdFx0XHRcdFx0XHRpZiAob2xkX3YpIHtcblx0XHRcdFx0XHRcdFx0Ly8g5qCh6aqMIOWNlemAie+8jOWkmumAie+8jOS4i+aLieahhiDlrZfmrrXlgLzmmK/lkKblnKjmlrDooajljZXlr7nlupTlrZfmrrXnmoTlj6/pgInlgLzojIPlm7TlhoVcblx0XHRcdFx0XHRcdFx0aWYgKGYudHlwZSA9PSAnc2VsZWN0JyB8fCBmLnR5cGUgPT0gJ3JhZGlvJykge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBvcHRpb25zID0gZi5vcHRpb25zLnNwbGl0KCdcXG4nKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaW5jbHVkZXMob2xkX3YpKVxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0aWYgKGYudHlwZSA9PSAnbXVsdGlTZWxlY3QnKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmLm9wdGlvbnMuc3BsaXQoJ1xcbicpO1xuXHRcdFx0XHRcdFx0XHRcdHZhciBvbGRfbXVsdGlTZWxlY3RlZCA9IG9sZF92LnNwbGl0KCcsJyk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIG5ld19tdWx0aVNlbGVjdGVkID0gXy5pbnRlcnNlY3Rpb24ob3B0aW9ucywgb2xkX211bHRpU2VsZWN0ZWQpO1xuXHRcdFx0XHRcdFx0XHRcdG9sZF92ID0gbmV3X211bHRpU2VsZWN0ZWQuam9pbignLCcpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0bmV3X3ZhbHVlc1trZXldID0gb2xkX3Y7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChmaWVsZC50eXBlID09ICd0YWJsZScpIHtcblx0XHRcdFx0aWYgKCFfLmlzRW1wdHkob2xkX3ZhbHVlc1tmaWVsZC5jb2RlXSkpIHtcblx0XHRcdFx0XHRuZXdfdmFsdWVzW2ZpZWxkLmNvZGVdID0gbmV3IEFycmF5O1xuXHRcdFx0XHRcdG9sZF92YWx1ZXNbZmllbGQuY29kZV0uZm9yRWFjaChmdW5jdGlvbiAob2xkX3RhYmxlX3Jvd192YWx1ZXMpIHtcblx0XHRcdFx0XHRcdHZhciBuZXdfdGFibGVfcm93X3ZhbHVlcyA9IHt9O1xuXG5cdFx0XHRcdFx0XHRpZiAoIV8uaXNFbXB0eShmaWVsZC5maWVsZHMpKSB7XG5cdFx0XHRcdFx0XHRcdGZpZWxkLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8g6Leo5bel5L2c5Yy66L2s5Y+R5LiN5aSN5Yi26YCJ5Lq66YCJ57uEXG5cdFx0XHRcdFx0XHRcdFx0aWYgKFsnZ3JvdXAnLCAndXNlciddLmluY2x1ZGVzKGYudHlwZSkgJiYgb2xkX3NwYWNlX2lkICE9IHNwYWNlX2lkKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdHZhciBrZXkgPSBmLmNvZGU7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIG9sZF92ID0gb2xkX3RhYmxlX3Jvd192YWx1ZXNba2V5XTtcblx0XHRcdFx0XHRcdFx0XHRpZiAob2xkX3YpIHtcblx0XHRcdFx0XHRcdFx0XHRcdC8vIOagoemqjCDljZXpgInvvIzlpJrpgInvvIzkuIvmi4nmoYYg5a2X5q615YC85piv5ZCm5Zyo5paw6KGo5Y2V5a+55bqU5a2X5q6155qE5Y+v6YCJ5YC86IyD5Zu05YaFXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoZi50eXBlID09ICdzZWxlY3QnIHx8IGYudHlwZSA9PSAncmFkaW8nKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBvcHRpb25zID0gZi5vcHRpb25zLnNwbGl0KCdcXG4nKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmluY2x1ZGVzKG9sZF92KSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdGlmIChmLnR5cGUgPT0gJ211bHRpU2VsZWN0Jykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IGYub3B0aW9ucy5zcGxpdCgnXFxuJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBvbGRfbXVsdGlTZWxlY3RlZCA9IG9sZF92LnNwbGl0KCcsJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBuZXdfbXVsdGlTZWxlY3RlZCA9IF8uaW50ZXJzZWN0aW9uKG9wdGlvbnMsIG9sZF9tdWx0aVNlbGVjdGVkKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0b2xkX3YgPSBuZXdfbXVsdGlTZWxlY3RlZC5qb2luKCcsJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdG5ld190YWJsZV9yb3dfdmFsdWVzW2tleV0gPSBvbGRfdjtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmIChvbGRfdGFibGVfcm93X3ZhbHVlcy5faWQpIHtcblx0XHRcdFx0XHRcdFx0bmV3X3RhYmxlX3Jvd192YWx1ZXMuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKCFfLmlzRW1wdHkobmV3X3RhYmxlX3Jvd192YWx1ZXMpKSB7XG5cdFx0XHRcdFx0XHRcdG5ld192YWx1ZXNbZmllbGQuY29kZV0ucHVzaChuZXdfdGFibGVfcm93X3ZhbHVlcyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8g6Leo5bel5L2c5Yy66L2s5Y+R5LiN5aSN5Yi26YCJ5Lq66YCJ57uEXG5cdFx0XHRcdGlmIChbJ2dyb3VwJywgJ3VzZXInXS5pbmNsdWRlcyhmaWVsZC50eXBlKSAmJiBvbGRfc3BhY2VfaWQgIT0gc3BhY2VfaWQpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyIGtleSA9IGZpZWxkLmNvZGU7XG5cdFx0XHRcdHZhciBvbGRfdiA9IG9sZF92YWx1ZXNba2V5XTtcblx0XHRcdFx0aWYgKG9sZF92KSB7XG5cdFx0XHRcdFx0Ly8g5qCh6aqMIOWNlemAie+8jOWkmumAie+8jOS4i+aLieahhiDlrZfmrrXlgLzmmK/lkKblnKjmlrDooajljZXlr7nlupTlrZfmrrXnmoTlj6/pgInlgLzojIPlm7TlhoVcblx0XHRcdFx0XHRpZiAoZmllbGQudHlwZSA9PSAnc2VsZWN0JyB8fCBmaWVsZC50eXBlID09ICdyYWRpbycpIHtcblx0XHRcdFx0XHRcdHZhciBvcHRpb25zID0gZmllbGQub3B0aW9ucy5zcGxpdCgnXFxuJyk7XG5cdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaW5jbHVkZXMob2xkX3YpKVxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGZpZWxkLnR5cGUgPT0gJ211bHRpU2VsZWN0Jykge1xuXHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmaWVsZC5vcHRpb25zLnNwbGl0KCdcXG4nKTtcblx0XHRcdFx0XHRcdHZhciBvbGRfbXVsdGlTZWxlY3RlZCA9IG9sZF92LnNwbGl0KCcsJyk7XG5cdFx0XHRcdFx0XHR2YXIgbmV3X211bHRpU2VsZWN0ZWQgPSBfLmludGVyc2VjdGlvbihvcHRpb25zLCBvbGRfbXVsdGlTZWxlY3RlZCk7XG5cdFx0XHRcdFx0XHRvbGRfdiA9IG5ld19tdWx0aVNlbGVjdGVkLmpvaW4oJywnKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRuZXdfdmFsdWVzW2tleV0gPSBvbGRfdjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0fSlcblxuXHRcdC8v5aaC5p6c5piv5YiG5Y+R77yM5YiZdmFsdWXkuK3nmoRyZWNvcmRfbmVlZOOAgUZPTkRTSUTkuI3pnIDopoHliIblj5HliLDmlrDnlLPor7fljZXkuK1cblx0XHRpZiAoYWN0aW9uX3R5cGUgPT09ICdkaXN0cmlidXRlJykge1xuXHRcdFx0ZGVsZXRlIG5ld192YWx1ZXMucmVjb3JkX25lZWQ7XG5cdFx0XHRkZWxldGUgbmV3X3ZhbHVlcy5GT05EU0lEO1xuXHRcdH1cblxuXHRcdC8vIOiuoeeul+eUs+ivt+WNleagh+mimFxuXHRcdHZhciBpbnN0YW5jZV9uYW1lID0gXCJcIjtcblx0XHR2YXIgbmFtZV9mb3J1bWxhID0gZm9ybS5jdXJyZW50Lm5hbWVfZm9ydW1sYTtcblx0XHRpZiAobmFtZV9mb3J1bWxhKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHR2YXIgaXNjcmlwdCA9IG5hbWVfZm9ydW1sYS5yZXBsYWNlKC9cXHsvZywgXCIobmV3X3ZhbHVlc1snXCIpLnJlcGxhY2UoL1xcfS9nLCBcIiddIHx8ICcnKVwiKTtcblx0XHRcdFx0dmFyIHJldiA9IGV2YWwoaXNjcmlwdCk7XG5cdFx0XHRcdGluc3RhbmNlX25hbWUgPSByZXYgfHwgZmxvdy5uYW1lO1xuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignY2FjdWxhdGVfaW5zdGFuY2VfbmFtZScsIFwi6K6h566X55Sz6K+35Y2V5qCH6aKY5Ye66ZSZ6K+35qOA5p+l6KGo5Y2V5qCH6aKY6ISa5pys44CCXCIpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpbnN0YW5jZV9uYW1lID0gZmxvdy5uYW1lO1xuXHRcdH1cblxuXHRcdC8vIGluc3RhbmNl5Lit6K6w5b2V5b2T5YmN5q2l6aqk5ZCN56ewICMxMzE0XG5cdFx0dmFyIHN0YXJ0X3N0ZXAgPSBfLmZpbmQoZmxvdy5jdXJyZW50LnN0ZXBzLCBmdW5jdGlvbiAoc3RlcCkge1xuXHRcdFx0cmV0dXJuIHN0ZXAuc3RlcF90eXBlID09ICdzdGFydCc7XG5cdFx0fSlcblxuXHRcdC8vIOaWsOW7uueUs+ivt+WNleaXtu+8jGluc3RhbmNlc+iusOW9lea1geeoi+WQjeensOOAgea1geeoi+WIhuexu+WQjeensCAjMTMxM1xuXHRcdHZhciBjYXRlZ29yeV9uYW1lID0gXCJcIjtcblx0XHRpZiAoZm9ybS5jYXRlZ29yeSkge1xuXHRcdFx0dmFyIGNhdGVnb3J5ID0gdXVmbG93TWFuYWdlci5nZXRDYXRlZ29yeShmb3JtLmNhdGVnb3J5KTtcblx0XHRcdGlmIChjYXRlZ29yeSlcblx0XHRcdFx0Y2F0ZWdvcnlfbmFtZSA9IGNhdGVnb3J5Lm5hbWU7XG5cdFx0fVxuXG5cdFx0Xy5lYWNoKGZvcndhcmRfdXNlcnMsIGZ1bmN0aW9uICh1c2VyX2lkKSB7XG5cblx0XHRcdHZhciB1c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHVzZXJfaWQpO1xuXG5cdFx0XHR2YXIgc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuXHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXG5cdFx0XHRcdHVzZXI6IHVzZXJfaWRcblx0XHRcdH0sIHtcblx0XHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFx0b3JnYW5pemF0aW9uOiAxXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0dmFyIHNwYWNlX3VzZXJfb3JnX2luZm8gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoe1xuXHRcdFx0XHRfaWQ6IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uXG5cdFx0XHR9LCB7XG5cdFx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcdG5hbWU6IDEsXG5cdFx0XHRcdFx0ZnVsbG5hbWU6IDFcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0dmFyIGluc19vYmogPSB7fTtcblxuXHRcdFx0dmFyIGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgdXNlcl9pZCk7XG5cdFx0XHR2YXIgaGFuZGxlcl9pZCA9IHVzZXJfaWQ7XG5cdFx0XHR2YXIgaGFuZGxlcl9pbmZvID0gdXNlcl9pbmZvO1xuXHRcdFx0dmFyIGhhbmRsZXJfc3BhY2VfdXNlciA9IHNwYWNlX3VzZXI7XG5cdFx0XHR2YXIgaGFuZGxlcl9vcmdfaW5mbyA9IHNwYWNlX3VzZXJfb3JnX2luZm87XG5cdFx0XHRpZiAoYWdlbnQpIHtcblx0XHRcdFx0aGFuZGxlcl9pZCA9IGFnZW50O1xuXHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGFnZW50KTtcblx0XHRcdFx0aGFuZGxlcl9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGFnZW50KTtcblx0XHRcdFx0aGFuZGxlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhoYW5kbGVyX3NwYWNlX3VzZXIpO1xuXHRcdFx0fVxuXHRcdFx0aW5zX29iai5faWQgPSBkYi5pbnN0YW5jZXMuX21ha2VOZXdJRCgpO1xuXHRcdFx0aW5zX29iai5zcGFjZSA9IHNwYWNlX2lkO1xuXHRcdFx0aW5zX29iai5mbG93ID0gZmxvd19pZDtcblx0XHRcdGluc19vYmouZmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50Ll9pZDtcblx0XHRcdGluc19vYmouZm9ybSA9IGZsb3cuZm9ybTtcblx0XHRcdGluc19vYmouZm9ybV92ZXJzaW9uID0gZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbjtcblx0XHRcdGluc19vYmoubmFtZSA9IGluc3RhbmNlX25hbWU7XG5cdFx0XHRpbnNfb2JqLnN1Ym1pdHRlciA9IGhhbmRsZXJfaWQ7XG5cdFx0XHRpbnNfb2JqLnN1Ym1pdHRlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG5cdFx0XHRpbnNfb2JqLmFwcGxpY2FudCA9IHVzZXJfaWQ7XG5cdFx0XHRpbnNfb2JqLmFwcGxpY2FudF9uYW1lID0gdXNlcl9pbmZvLm5hbWU7XG5cdFx0XHRpbnNfb2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb24gPSBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcblx0XHRcdGluc19vYmouYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lID0gc3BhY2VfdXNlcl9vcmdfaW5mby5uYW1lO1xuXHRcdFx0aW5zX29iai5hcHBsaWNhbnRfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gc3BhY2VfdXNlcl9vcmdfaW5mby5mdWxsbmFtZTtcblx0XHRcdGluc19vYmouc3RhdGUgPSBcImRyYWZ0XCI7XG5cdFx0XHRpbnNfb2JqLmNvZGUgPSBcIlwiO1xuXHRcdFx0aW5zX29iai5pc19hcmNoaXZlZCA9IGZhbHNlO1xuXHRcdFx0aW5zX29iai5pc19kZWxldGVkID0gZmFsc2U7XG5cdFx0XHRpbnNfb2JqLmNyZWF0ZWQgPSBub3c7XG5cdFx0XHRpbnNfb2JqLmNyZWF0ZWRfYnkgPSBjdXJyZW50X3VzZXJfaWQ7XG5cdFx0XHRpbnNfb2JqLm1vZGlmaWVkID0gbm93O1xuXHRcdFx0aW5zX29iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcl9pZDtcblx0XHRcdGluc19vYmouaW5ib3hfdXNlcnMgPSBbaGFuZGxlcl9pZF07XG5cdFx0XHRpbnNfb2JqLnZhbHVlcyA9IG5ld192YWx1ZXM7XG5cdFx0XHRpZiAoYWN0aW9uX3R5cGUgPT0gJ2Rpc3RyaWJ1dGUnKSB7XG5cdFx0XHRcdC8vIOino+WGs+WkmuasoeWIhuWPkeeci+S4jeWIsOato+aWh+OAgemZhOS7tumXrumimFxuXHRcdFx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSkge1xuXHRcdFx0XHRcdGluc19vYmouZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlID0gaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpbnNfb2JqLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGluc19vYmouZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyA9IF8uY2xvbmUoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMpIHx8IFtdO1xuXHRcdFx0XHRpbnNfb2JqLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMucHVzaChpbnN0YW5jZV9pZCk7XG5cblx0XHRcdFx0aWYgKHJlbGF0ZWQpIHtcblx0XHRcdFx0XHRpbnNfb2JqLnJlbGF0ZWRfaW5zdGFuY2VzID0gW2luc3RhbmNlX2lkXVxuXHRcdFx0XHR9XG5cblx0XHRcdH0gZWxzZSBpZiAoYWN0aW9uX3R5cGUgPT0gJ2ZvcndhcmQnKSB7XG5cdFx0XHRcdGluc19vYmouZm9yd2FyZF9mcm9tX2luc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdH1cblxuXHRcdFx0Ly8g5paw5bu6VHJhY2Vcblx0XHRcdHZhciB0cmFjZV9vYmogPSB7fTtcblx0XHRcdHRyYWNlX29iai5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuXHRcdFx0dHJhY2Vfb2JqLmluc3RhbmNlID0gaW5zX29iai5faWQ7XG5cdFx0XHR0cmFjZV9vYmouaXNfZmluaXNoZWQgPSBmYWxzZTtcblxuXHRcdFx0Ly8g5b2T5YmN5pyA5paw54mIZmxvd+S4reW8gOWni+iKgueCueeahHN0ZXBfaWRcblx0XHRcdHZhciBzdGVwX2lkLCBzdGVwX25hbWUsIGNhbl9lZGl0X21haW5fYXR0YWNoLCBjYW5fZWRpdF9ub3JtYWxfYXR0YWNoO1xuXHRcdFx0Zmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2goZnVuY3Rpb24gKHN0ZXApIHtcblx0XHRcdFx0aWYgKHN0ZXAuc3RlcF90eXBlID09IFwic3RhcnRcIikge1xuXHRcdFx0XHRcdHN0ZXBfaWQgPSBzdGVwLl9pZDtcblx0XHRcdFx0XHRzdGVwX25hbWUgPSBzdGVwLm5hbWU7XG5cdFx0XHRcdFx0Y2FuX2VkaXRfbWFpbl9hdHRhY2ggPSBzdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoO1xuXHRcdFx0XHRcdGNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPSBzdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2g7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0XHR0cmFjZV9vYmouc3RlcCA9IHN0ZXBfaWQ7XG5cdFx0XHR0cmFjZV9vYmouc3RhcnRfZGF0ZSA9IG5vdztcblx0XHRcdHRyYWNlX29iai5uYW1lID0gc3RlcF9uYW1lO1xuXG5cdFx0XHQvLyDmlrDlu7pBcHByb3ZlXG5cdFx0XHR2YXIgYXBwcl9vYmogPSB7fTtcblx0XHRcdGFwcHJfb2JqLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG5cdFx0XHRhcHByX29iai5pbnN0YW5jZSA9IGluc19vYmouX2lkO1xuXHRcdFx0YXBwcl9vYmoudHJhY2UgPSB0cmFjZV9vYmouX2lkO1xuXHRcdFx0YXBwcl9vYmouaXNfZmluaXNoZWQgPSBmYWxzZTtcblx0XHRcdGFwcHJfb2JqLnVzZXIgPSB1c2VyX2lkO1xuXHRcdFx0YXBwcl9vYmoudXNlcl9uYW1lID0gdXNlcl9pbmZvLm5hbWU7XG5cdFx0XHRhcHByX29iai5oYW5kbGVyID0gaGFuZGxlcl9pZDtcblx0XHRcdGFwcHJfb2JqLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xuXHRcdFx0YXBwcl9vYmouaGFuZGxlcl9vcmdhbml6YXRpb24gPSBoYW5kbGVyX3NwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuXHRcdFx0YXBwcl9vYmouaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGhhbmRsZXJfb3JnX2luZm8ubmFtZTtcblx0XHRcdGFwcHJfb2JqLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gaGFuZGxlcl9vcmdfaW5mby5mdWxsbmFtZTtcblx0XHRcdGFwcHJfb2JqLnR5cGUgPSBcImRyYWZ0XCI7XG5cdFx0XHRhcHByX29iai5zdGFydF9kYXRlID0gbm93O1xuXHRcdFx0YXBwcl9vYmoucmVhZF9kYXRlID0gbm93O1xuXHRcdFx0YXBwcl9vYmouaXNfcmVhZCA9IGZhbHNlO1xuXHRcdFx0YXBwcl9vYmouaXNfZXJyb3IgPSBmYWxzZTtcblxuXHRcdFx0YXBwcl9vYmoudmFsdWVzID0gbmV3X3ZhbHVlcztcblxuXHRcdFx0aWYgKGFnZW50KSB7XG5cdFx0XHRcdGFwcHJfb2JqLmFnZW50ID0gYWdlbnQ7XG5cdFx0XHR9XG5cblx0XHRcdHRyYWNlX29iai5hcHByb3ZlcyA9IFthcHByX29ial07XG5cdFx0XHRpbnNfb2JqLnRyYWNlcyA9IFt0cmFjZV9vYmpdO1xuXG5cdFx0XHRpZiAoZmxvdy5hdXRvX3JlbWluZCA9PSB0cnVlKVxuXHRcdFx0XHRpbnNfb2JqLmF1dG9fcmVtaW5kID0gdHJ1ZTtcblxuXHRcdFx0aW5zX29iai5jdXJyZW50X3N0ZXBfbmFtZSA9IHN0YXJ0X3N0ZXAubmFtZTtcblxuXHRcdFx0aW5zX29iai5mbG93X25hbWUgPSBmbG93Lm5hbWU7XG5cdFx0XHRpZiAoY2F0ZWdvcnlfbmFtZSkge1xuXHRcdFx0XHRpbnNfb2JqLmNhdGVnb3J5X25hbWUgPSBjYXRlZ29yeS5uYW1lO1xuXHRcdFx0XHRpbnNfb2JqLmNhdGVnb3J5ID0gY2F0ZWdvcnkuX2lkO1xuXHRcdFx0fVxuXG5cdFx0XHRuZXdfaW5zX2lkID0gZGIuaW5zdGFuY2VzLmluc2VydChpbnNfb2JqKTtcblxuXHRcdFx0Ly8g5aSN5Yi26ZmE5Lu2XG5cdFx0XHR2YXIgY29sbGVjdGlvbiA9IGNmcy5pbnN0YW5jZXM7XG5cblx0XHRcdC8v5bCG5Y6f6KGo5Y2V5YaF5a655a2Y5YKo5Li656ys5LiA5Liq6ZmE5Lu2XG5cdFx0XHRpZiAoaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50KSB7XG5cdFx0XHRcdC8vIHRyeSB7XG5cblx0XHRcdFx0aW5zdGFuY2VIdG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyX2luZm8sIHNwYWNlX2lkLCBpbnMsIHtcblx0XHRcdFx0XHRhYnNvbHV0ZTogdHJ1ZSxcblx0XHRcdFx0XHRzaG93VHJhY2U6IHRydWVcblx0XHRcdFx0fSlcblx0XHRcdFx0dmFyIGluc3RhbmNlRmlsZSA9IG5ldyBGUy5GaWxlKCk7XG5cdFx0XHRcdGluc3RhbmNlRmlsZS5hdHRhY2hEYXRhKEJ1ZmZlci5mcm9tKGluc3RhbmNlSHRtbCwgXCJ1dGYtOFwiKSwge1xuXHRcdFx0XHRcdHR5cGU6IFwidGV4dC9odG1sXCJcblx0XHRcdFx0fSwgZnVuY3Rpb24gKGVycm9yKSB7XG5cdFx0XHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKGVycm9yLmVycm9yLCBlcnJvci5yZWFzb24pO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGluc3RhbmNlRmlsZS5uYW1lKGlucy5uYW1lICsgXCIuaHRtbFwiKTtcblx0XHRcdFx0XHRpbnN0YW5jZUZpbGUuc2l6ZShpbnN0YW5jZUh0bWwubGVuZ3RoKTtcblxuXHRcdFx0XHRcdHZhciBtZXRhZGF0YSA9IHtcblx0XHRcdFx0XHRcdG93bmVyOiB1c2VyX2lkLFxuXHRcdFx0XHRcdFx0b3duZXJfbmFtZTogdXNlcl9pbmZvLm5hbWUsXG5cdFx0XHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXG5cdFx0XHRcdFx0XHRpbnN0YW5jZTogbmV3X2luc19pZCxcblx0XHRcdFx0XHRcdGFwcHJvdmU6IGFwcHJfb2JqLl9pZCxcblx0XHRcdFx0XHRcdGN1cnJlbnQ6IHRydWVcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdGluc3RhbmNlRmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuXHRcdFx0XHRcdHZhciBmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQoaW5zdGFuY2VGaWxlKTtcblx0XHRcdFx0XHRmaWxlT2JqLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHQkc2V0OiB7XG5cdFx0XHRcdFx0XHRcdCdtZXRhZGF0YS5wYXJlbnQnOiBmaWxlT2JqLl9pZFxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH0pXG5cblx0XHRcdFx0Ly8gfSBjYXRjaCAoZSkge1xuXHRcdFx0XHQvLyAgICAgY29uc29sZS5lcnJvcihlKTtcblx0XHRcdFx0Ly8gfVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaXNGb3J3YXJkQXR0YWNobWVudHMgJiYgYWN0aW9uX3R5cGUgPT0gJ2ZvcndhcmQnKSB7XG5cdFx0XHRcdHZhciBmaWxlcyA9IGNvbGxlY3Rpb24uZmluZCh7XG5cdFx0XHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2VfaWQsXG5cdFx0XHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG5cdFx0XHRcdFx0Ly8g5Yik5pat5paw55qE5rWB56iL5byA5aeL6IqC54K55piv5ZCm5pyJ57yW6L6R5q2j5paH5ZKM57yW6L6R6ZmE5Lu25p2D6ZmQXG5cdFx0XHRcdFx0aWYgKGYubWV0YWRhdGEubWFpbiA9PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRpZiAoY2FuX2VkaXRfbWFpbl9hdHRhY2ggIT0gdHJ1ZSAmJiBjYW5fZWRpdF9ub3JtYWxfYXR0YWNoICE9IHRydWUpXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0aWYgKGNhbl9lZGl0X25vcm1hbF9hdHRhY2ggIT0gdHJ1ZSlcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHZhciBuZXdGaWxlID0gbmV3IEZTLkZpbGUoKTtcblx0XHRcdFx0XHRuZXdGaWxlLmF0dGFjaERhdGEoZi5jcmVhdGVSZWFkU3RyZWFtKCdpbnN0YW5jZXMnKSwge1xuXHRcdFx0XHRcdFx0dHlwZTogZi5vcmlnaW5hbC50eXBlXG5cdFx0XHRcdFx0fSwgZnVuY3Rpb24gKGVycikge1xuXHRcdFx0XHRcdFx0aWYgKGVycikge1xuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKGVyci5lcnJvciwgZXJyLnJlYXNvbik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRuZXdGaWxlLm5hbWUoZi5uYW1lKCkpO1xuXHRcdFx0XHRcdFx0bmV3RmlsZS5zaXplKGYuc2l6ZSgpKTtcblx0XHRcdFx0XHRcdHZhciBtZXRhZGF0YSA9IHtcblx0XHRcdFx0XHRcdFx0b3duZXI6IHVzZXJfaWQsXG5cdFx0XHRcdFx0XHRcdG93bmVyX25hbWU6IHVzZXJfaW5mby5uYW1lLFxuXHRcdFx0XHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXG5cdFx0XHRcdFx0XHRcdGluc3RhbmNlOiBuZXdfaW5zX2lkLFxuXHRcdFx0XHRcdFx0XHRhcHByb3ZlOiBhcHByX29iai5faWQsXG5cdFx0XHRcdFx0XHRcdGN1cnJlbnQ6IHRydWVcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRpZiAoZi5tZXRhZGF0YS5tYWluID09IHRydWUgJiYgY2FuX2VkaXRfbWFpbl9hdHRhY2ggPT0gdHJ1ZSkge1xuXHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5tYWluID0gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdG5ld0ZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YTtcblx0XHRcdFx0XHRcdHZhciBmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQobmV3RmlsZSk7XG5cdFx0XHRcdFx0XHRmaWxlT2JqLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHRcdCRzZXQ6IHtcblx0XHRcdFx0XHRcdFx0XHQnbWV0YWRhdGEucGFyZW50JzogZmlsZU9iai5faWRcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHR9KVxuXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cblx0XHRcdGlmIChhY3Rpb25fdHlwZSA9PT0gJ2Rpc3RyaWJ1dGUnKSB7XG5cdFx0XHRcdC8vIOe7meW9k+WJjeeahOeUs+ivt+WNleWinuWKoOWIhuWPkeiusOW9lVxuXHRcdFx0XHR2YXIgYXBwciA9IHtcblx0XHRcdFx0XHQnX2lkJzogbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cixcblx0XHRcdFx0XHQnaW5zdGFuY2UnOiBpbnN0YW5jZV9pZCxcblx0XHRcdFx0XHQndHJhY2UnOiBjdXJyZW50X3RyYWNlX2lkLFxuXHRcdFx0XHRcdCdpc19maW5pc2hlZCc6IHRydWUsXG5cdFx0XHRcdFx0J3VzZXInOiB1c2VyX2lkLFxuXHRcdFx0XHRcdCd1c2VyX25hbWUnOiB1c2VyX2luZm8ubmFtZSxcblx0XHRcdFx0XHQnaGFuZGxlcic6IHVzZXJfaWQsXG5cdFx0XHRcdFx0J2hhbmRsZXJfbmFtZSc6IHVzZXJfaW5mby5uYW1lLFxuXHRcdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbic6IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uLFxuXHRcdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lJzogc3BhY2VfdXNlcl9vcmdfaW5mby5uYW1lLFxuXHRcdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSc6IHNwYWNlX3VzZXJfb3JnX2luZm8uZnVsbG5hbWUsXG5cdFx0XHRcdFx0J3R5cGUnOiBhY3Rpb25fdHlwZSxcblx0XHRcdFx0XHQnc3RhcnRfZGF0ZSc6IG5ldyBEYXRlKCksXG5cdFx0XHRcdFx0J2ZpbmlzaF9kYXRlJzogbmV3IERhdGUoKSxcblx0XHRcdFx0XHQnaXNfcmVhZCc6IGZhbHNlLFxuXHRcdFx0XHRcdCdqdWRnZSc6ICdzdWJtaXR0ZWQnLFxuXHRcdFx0XHRcdCdmcm9tX3VzZXInOiBjdXJyZW50X3VzZXJfaWQsXG5cdFx0XHRcdFx0J2Zyb21fdXNlcl9uYW1lJzogZnJvbV91c2VyX25hbWUsXG5cdFx0XHRcdFx0J2ZvcndhcmRfc3BhY2UnOiBzcGFjZV9pZCxcblx0XHRcdFx0XHQnZm9yd2FyZF9pbnN0YW5jZSc6IG5ld19pbnNfaWQsXG5cdFx0XHRcdFx0J2Rlc2NyaXB0aW9uJzogZGVzY3JpcHRpb24sXG5cdFx0XHRcdFx0J2Zyb21fYXBwcm92ZV9pZCc6IGZyb21fYXBwcm92ZV9pZFxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGZvcndhcmRfYXBwcm92ZXMucHVzaChhcHByKTtcblx0XHRcdH1cblxuXHRcdFx0bmV3X2luc19pZHMucHVzaChuZXdfaW5zX2lkKTtcblx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcblx0XHR9KVxuXG5cdFx0aWYgKCFfLmlzRW1wdHkoZm9yd2FyZF9hcHByb3ZlcykpIHtcblx0XHRcdHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0c2V0X29iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcl9pZDtcblx0XHRcdHZhciByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRcdF9pZDogaW5zdGFuY2VfaWQsXG5cdFx0XHRcdFwidHJhY2VzLl9pZFwiOiBjdXJyZW50X3RyYWNlX2lkXG5cdFx0XHR9LCB7XG5cdFx0XHRcdCRzZXQ6IHNldF9vYmosXG5cdFx0XHRcdCRhZGRUb1NldDoge1xuXHRcdFx0XHRcdCd0cmFjZXMuJC5hcHByb3Zlcyc6IHtcblx0XHRcdFx0XHRcdCRlYWNoOiBmb3J3YXJkX2FwcHJvdmVzXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cblxuXHRcdGlmIChyKSB7XG5cdFx0XHRfLmVhY2goY3VycmVudF90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0XHRpZiAoYS5faWQgPT0gZnJvbV9hcHByb3ZlX2lkKSB7XG5cdFx0XHRcdFx0dmFyIHVwZGF0ZV9yZWFkID0ge307XG5cdFx0XHRcdFx0dXBkYXRlX3JlYWRbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlX2lkLFxuXHRcdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IGN1cnJlbnRfdHJhY2VfaWRcblx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHQkc2V0OiB1cGRhdGVfcmVhZFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXG5cdFx0fVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YTogeyBuZXdfaW5zX2lkczogbmV3X2luc19pZHMgfVxuXHRcdH0pXG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRjb25zb2xlLmVycm9yKGUuc3RhY2spXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRlcnJvcnM6IFtlXVxuXHRcdFx0fVxuXHRcdH0pXG5cdH1cblxufSkiLCJKc29uUm91dGVzLmFkZCAnZ2V0JywgJy9hcGkvd29ya2Zsb3cvaW5zdGFuY2UvOmluc3RhbmNlSWQnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSwgcmVzKVxuXHRcdGN1cnJlbnRfdXNlcl9pZCA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXHRcdHJlcV9hc3luYyA9IF8uaGFzKHJlcS5xdWVyeSwgJ2FzeW5jJyk7XG5cdFx0aW5zSWQgPSByZXEucGFyYW1zLmluc3RhbmNlSWRcblxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc0lkLCB7IGZpZWxkczogeyBzcGFjZTogMSwgZmxvdzogMSwgc3RhdGU6IDEsIGluYm94X3VzZXJzOiAxLCBjY191c2VyczogMSwgb3V0Ym94X3VzZXJzOiAxLCBzdWJtaXR0ZXI6IDEsIGFwcGxpY2FudDogMSB9IH0pXG5cblx0XHRpZiBub3QgaW5zXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdpbnN0YW5jZUlkIGlzIHdyb25nIG9yIGluc3RhbmNlIG5vdCBleGlzdHMuJylcblxuXHRcdHNwYWNlSWQgPSBpbnMuc3BhY2Vcblx0XHRmbG93SWQgPSBpbnMuZmxvd1xuXG5cdFx0aWYgZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZUlkLCB1c2VyOiBjdXJyZW50X3VzZXJfaWQgfSkuY291bnQoKSBpcyAwXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICd1c2VyIGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZS4nKVxuXG5cdFx0Ym94ID0gJydcblxuXHRcdGlmIChpbnMuaW5ib3hfdXNlcnM/LmluY2x1ZGVzIGN1cnJlbnRfdXNlcl9pZCkgb3IgKGlucy5jY191c2Vycz8uaW5jbHVkZXMgY3VycmVudF91c2VyX2lkKVxuXHRcdFx0Ym94ID0gJ2luYm94J1xuXHRcdGVsc2UgaWYgaW5zLm91dGJveF91c2Vycz8uaW5jbHVkZXMgY3VycmVudF91c2VyX2lkXG5cdFx0XHRib3ggPSAnb3V0Ym94J1xuXHRcdGVsc2UgaWYgaW5zLnN0YXRlIGlzICdkcmFmdCcgYW5kIGlucy5zdWJtaXR0ZXIgaXMgY3VycmVudF91c2VyX2lkXG5cdFx0XHRib3ggPSAnZHJhZnQnXG5cdFx0ZWxzZSBpZiBpbnMuc3RhdGUgaXMgJ3BlbmRpbmcnIGFuZCAoaW5zLnN1Ym1pdHRlciBpcyBjdXJyZW50X3VzZXJfaWQgb3IgaW5zLmFwcGxpY2FudCBpcyBjdXJyZW50X3VzZXJfaWQpXG5cdFx0XHRib3ggPSAncGVuZGluZydcblx0XHRlbHNlIGlmIGlucy5zdGF0ZSBpcyAnY29tcGxldGVkJyBhbmQgaW5zLnN1Ym1pdHRlciBpcyBjdXJyZW50X3VzZXJfaWRcblx0XHRcdGJveCA9ICdjb21wbGV0ZWQnXG5cdFx0ZWxzZVxuXHRcdFx0IyDpqozor4Fsb2dpbiB1c2VyX2lk5a+56K+l5rWB56iL5pyJ566h55CG55Sz6K+35Y2V55qE5p2D6ZmQXG5cdFx0XHRwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhmbG93SWQsIGN1cnJlbnRfdXNlcl9pZClcblx0XHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VJZCwgeyBmaWVsZHM6IHsgYWRtaW5zOiAxIH0gfSlcblx0XHRcdGlmIChub3QgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgYW5kIChub3Qgc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcl9pZCkpXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgXCJubyBwZXJtaXNzaW9uLlwiKVxuXHRcdFx0Ym94ID0gJ21vbml0b3InXG5cblx0XHRyZWRpcmVjdFRvID0gXCJ3b3JrZmxvdy9zcGFjZS8je3NwYWNlSWR9LyN7Ym94fS8je2luc0lkfVwiXG5cdFx0cmVkaXJlY3RUb1VybCA9IE1ldGVvci5hYnNvbHV0ZVVybChyZWRpcmVjdFRvKVxuXHRcdGlmIHJlcV9hc3luYyAjIHx8IHJlcS5nZXQoXCJYLVJlcXVlc3RlZC1XaXRoXCIpID09PSAnWE1MSHR0cFJlcXVlc3QnXG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoe1xuXHRcdFx0XHRcInN0YXR1c1wiOiAzMDIsXG5cdFx0XHRcdFwicmVkaXJlY3RcIjogcmVkaXJlY3RUb1xuXHRcdFx0fSk7XG5cdFx0ZWxzZVxuXHRcdFx0cmVzLnNldEhlYWRlciBcIkxvY2F0aW9uXCIsIHJlZGlyZWN0VG9Vcmxcblx0XHRcdHJlcy53cml0ZUhlYWQgMzAyXG5cdFx0XHRyZXMuZW5kKClcblx0XHRcdHJldHVyblxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9XG4iLCJKc29uUm91dGVzLmFkZCgnZ2V0JywgJy9hcGkvd29ya2Zsb3cvaW5zdGFuY2UvOmluc3RhbmNlSWQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYm94LCBjdXJyZW50X3VzZXJfaWQsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93SWQsIGlucywgaW5zSWQsIHBlcm1pc3Npb25zLCByZWRpcmVjdFRvLCByZWRpcmVjdFRvVXJsLCByZWYsIHJlZjEsIHJlZjIsIHJlcV9hc3luYywgc3BhY2UsIHNwYWNlSWQ7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxLCByZXMpO1xuICAgIGN1cnJlbnRfdXNlcl9pZCA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICByZXFfYXN5bmMgPSBfLmhhcyhyZXEucXVlcnksICdhc3luYycpO1xuICAgIGluc0lkID0gcmVxLnBhcmFtcy5pbnN0YW5jZUlkO1xuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc0lkLCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgIGZsb3c6IDEsXG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICBpbmJveF91c2VyczogMSxcbiAgICAgICAgY2NfdXNlcnM6IDEsXG4gICAgICAgIG91dGJveF91c2VyczogMSxcbiAgICAgICAgc3VibWl0dGVyOiAxLFxuICAgICAgICBhcHBsaWNhbnQ6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWlucykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnaW5zdGFuY2VJZCBpcyB3cm9uZyBvciBpbnN0YW5jZSBub3QgZXhpc3RzLicpO1xuICAgIH1cbiAgICBzcGFjZUlkID0gaW5zLnNwYWNlO1xuICAgIGZsb3dJZCA9IGlucy5mbG93O1xuICAgIGlmIChkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgICAgdXNlcjogY3VycmVudF91c2VyX2lkXG4gICAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAndXNlciBpcyBub3QgYmVsb25nIHRvIHRoaXMgc3BhY2UuJyk7XG4gICAgfVxuICAgIGJveCA9ICcnO1xuICAgIGlmICgoKHJlZiA9IGlucy5pbmJveF91c2VycykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhjdXJyZW50X3VzZXJfaWQpIDogdm9pZCAwKSB8fCAoKHJlZjEgPSBpbnMuY2NfdXNlcnMpICE9IG51bGwgPyByZWYxLmluY2x1ZGVzKGN1cnJlbnRfdXNlcl9pZCkgOiB2b2lkIDApKSB7XG4gICAgICBib3ggPSAnaW5ib3gnO1xuICAgIH0gZWxzZSBpZiAoKHJlZjIgPSBpbnMub3V0Ym94X3VzZXJzKSAhPSBudWxsID8gcmVmMi5pbmNsdWRlcyhjdXJyZW50X3VzZXJfaWQpIDogdm9pZCAwKSB7XG4gICAgICBib3ggPSAnb3V0Ym94JztcbiAgICB9IGVsc2UgaWYgKGlucy5zdGF0ZSA9PT0gJ2RyYWZ0JyAmJiBpbnMuc3VibWl0dGVyID09PSBjdXJyZW50X3VzZXJfaWQpIHtcbiAgICAgIGJveCA9ICdkcmFmdCc7XG4gICAgfSBlbHNlIGlmIChpbnMuc3RhdGUgPT09ICdwZW5kaW5nJyAmJiAoaW5zLnN1Ym1pdHRlciA9PT0gY3VycmVudF91c2VyX2lkIHx8IGlucy5hcHBsaWNhbnQgPT09IGN1cnJlbnRfdXNlcl9pZCkpIHtcbiAgICAgIGJveCA9ICdwZW5kaW5nJztcbiAgICB9IGVsc2UgaWYgKGlucy5zdGF0ZSA9PT0gJ2NvbXBsZXRlZCcgJiYgaW5zLnN1Ym1pdHRlciA9PT0gY3VycmVudF91c2VyX2lkKSB7XG4gICAgICBib3ggPSAnY29tcGxldGVkJztcbiAgICB9IGVsc2Uge1xuICAgICAgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoZmxvd0lkLCBjdXJyZW50X3VzZXJfaWQpO1xuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShzcGFjZUlkLCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGFkbWluczogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICgoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpICYmICghc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcl9pZCkpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgXCJubyBwZXJtaXNzaW9uLlwiKTtcbiAgICAgIH1cbiAgICAgIGJveCA9ICdtb25pdG9yJztcbiAgICB9XG4gICAgcmVkaXJlY3RUbyA9IFwid29ya2Zsb3cvc3BhY2UvXCIgKyBzcGFjZUlkICsgXCIvXCIgKyBib3ggKyBcIi9cIiArIGluc0lkO1xuICAgIHJlZGlyZWN0VG9VcmwgPSBNZXRlb3IuYWJzb2x1dGVVcmwocmVkaXJlY3RUbyk7XG4gICAgaWYgKHJlcV9hc3luYykge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcbiAgICAgICAgXCJzdGF0dXNcIjogMzAyLFxuICAgICAgICBcInJlZGlyZWN0XCI6IHJlZGlyZWN0VG9cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc2V0SGVhZGVyKFwiTG9jYXRpb25cIiwgcmVkaXJlY3RUb1VybCk7XG4gICAgICByZXMud3JpdGVIZWFkKDMwMik7XG4gICAgICByZXMuZW5kKCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiIyMjXG5AYXBpIHtnZXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9wZW5kaW5nIOiOt+WPluW+heWKnuaWh+S7tlxuXG5AYXBpRGVzY3JpcHRpb24g6I635Y+W5b2T5YmN55So5oi355qE5b6F5Yqe5LqL6aG55YiX6KGoXG5cbkBhcGlOYW1lIGdldEluYm94XG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxuXHR7XG5cdFx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxuXHR9XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcblx0e1xuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFwiZGF0YVwiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwiaWRcIjogXCJnN3dva1hOa1I5eXhIdkE0RFwiLFxuXHRcdFx0XHRcInN0YXJ0X2RhdGVcIjogXCIyMDE3LTExLTIzVDAyOjI4OjUzLjE2NFpcIixcblx0XHRcdFx0XCJmbG93X25hbWVcIjogXCLmraPmlofmtYHnqItcIixcblx0XHRcdFx0XCJzcGFjZV9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwibmFtZVwiOiBcIuato+aWh+a1geeoiyAxXCIsXG5cdFx0XHRcdFwiYXBwbGljYW50X25hbWVcIjogbnVsbCxcblx0XHRcdFx0XCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJzdWJtaXRfZGF0ZVwiOiBcIjIwMTctMDctMjVUMDY6MzY6NDguNDkyWlwiLFxuXHRcdFx0XHRcInN0ZXBfbmFtZVwiOiBcIuW8gOWni1wiLFxuXHRcdFx0XHRcInNwYWNlX2lkXCI6IFwia2ZEc012N2dCZXdtR1hHRUxcIixcblx0XHRcdFx0XCJtb2RpZmllZFwiOiBcIjIwMTctMTEtMjNUMDI6Mjg6NTMuMTY0WlwiLFxuXHRcdFx0XHRcImlzX3JlYWRcIjogZmFsc2UsXG5cdFx0XHRcdFwidmFsdWVzXCI6IHt9XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRcImlkXCI6IFwiV3FLU3JXUW95d2dKYU1wOWtcIixcblx0XHRcdFx0XCJzdGFydF9kYXRlXCI6IFwiMjAxNy0wOC0xN1QwNzozODozNS40MjBaXCIsXG5cdFx0XHRcdFwiZmxvd19uYW1lXCI6IFwi5q2j5paHXFxuXCIsXG5cdFx0XHRcdFwic3BhY2VfbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcIm5hbWVcIjogXCLmraPmlodcXG4gMVwiLFxuXHRcdFx0XHRcImFwcGxpY2FudF9uYW1lXCI6IFwi5q635Lqu6L6JXCIsXG5cdFx0XHRcdFwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwic3VibWl0X2RhdGVcIjogXCIyMDE3LTA2LTI3VDEwOjI2OjE5LjQ2OFpcIixcblx0XHRcdFx0XCJzdGVwX25hbWVcIjogXCLlvIDlp4tcIixcblx0XHRcdFx0XCJzcGFjZV9pZFwiOiBcImtmRHNNdjdnQmV3bUdYR0VMXCIsXG5cdFx0XHRcdFwibW9kaWZpZWRcIjogXCIyMDE3LTA4LTE3VDA3OjM4OjM1LjQyMVpcIixcblx0XHRcdFx0XCJpc19yZWFkXCI6IHRydWUsXG5cdFx0XHRcdFwidmFsdWVzXCI6IHt9XG5cdFx0XHR9XG5cdFx0XVxuXHR9XG4jIyNcbkpzb25Sb3V0ZXMuYWRkICdnZXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL3BlbmRpbmcnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcblx0XHRcdHJldHVyblxuXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddIHx8IHJlcS5xdWVyeT8uc3BhY2VJZFxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHNwYWNlX2lkJylcblxuXHRcdHVzZXJfaWQgPSByZXEudXNlcklkXG5cblx0XHRpZiAhdXNlcl9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnTm90IGxvZ2dlZCBpbicpXG5cblx0XHRpZiBkYi51c2Vycy5maW5kKHsgX2lkOiB1c2VyX2lkIH0pLmNvdW50KCkgaXMgMFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxuXG5cdFx0bGltaXQgPSByZXEucXVlcnk/LmxpbWl0IHx8IDUwMFxuXG5cdFx0bGltaXQgPSBwYXJzZUludChsaW1pdClcblxuXHRcdHVzZXJuYW1lID0gcmVxLnF1ZXJ5Py51c2VybmFtZVxuXG5cdFx0dXNlcmlkID0gcmVxLnF1ZXJ5Py51c2VyaWRcblxuXHRcdGF0dGFjaCA9IHJlcS5xdWVyeT8uYXR0YWNoXG5cblx0XHR3b3JrZmxvd19jYXRlZ29yaWVzID0gcmVxLnF1ZXJ5Py53b3JrZmxvd19jYXRlZ29yaWVzXG5cblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXG5cdFx0c3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXG5cdFx0IyDlpoLmnpzlvZPliY3nlKjmiLfmmK/lt6XkvZzljLrnrqHnkIblkZjvvIzliJnpgJrov4fmn6XnnIt1cmzkuIrmmK/lkKbmnIl1c2VybmFtZVxcdXNlcmlkIO+8jFxuXHRcdCMg5aaC5p6c5pyJ77yM5YiZ6L+U5ZuedXNlcm5hbWVcXHVzZXJpZOWvueW6lOeahOeUqOaIt++8jOWQpuWImei/lOWbnuW9k+WJjeeUqOaIt+W+heWKnuOAglxuXHRcdCMgdXNlcm5hbWVcXHVzZXJpZOmDveWtmOWcqOaXtu+8jHVzZXJpZOS8mOWFiFxuXHRcdHNwZWNpYWxfdXNlcl9pZFxuXHRcdGlmIHNwYWNlLmFkbWlucy5pbmNsdWRlcyh1c2VyX2lkKVxuXHRcdFx0aWYgdXNlcmlkXG5cdFx0XHRcdGlmIGRiLnVzZXJzLmZpbmQoeyBfaWQ6IHVzZXJpZCB9KS5jb3VudCgpIDwgMVxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgXCJjYW4gbm90IGZpbmQgdXNlciBieSB1c2VyaWQ6ICN7dXNlcmlkfVwiKVxuXG5cdFx0XHRcdHNwZWNpYWxfdXNlcl9pZCA9IHVzZXJpZFxuXHRcdFx0ZWxzZSBpZiB1c2VybmFtZVxuXHRcdFx0XHR1ID0gZGIudXNlcnMuZmluZE9uZSh7IHVzZXJuYW1lOiB1c2VybmFtZSB9LCB7IGZpZWxkczogeyBfaWQ6IDEgfSB9KVxuXHRcdFx0XHRpZiBfLmlzRW1wdHkodSlcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwiY2FuIG5vdCBmaW5kIHVzZXIgYnkgdXNlcm5hbWU6ICN7dXNlcm5hbWV9XCIpXG5cblx0XHRcdFx0c3BlY2lhbF91c2VyX2lkID0gdS5faWRcblxuXHRcdHJlc3VsdF9pbnN0YW5jZXMgPSBuZXcgQXJyYXlcblxuXHRcdGlzX3JlYWQgPSBmYWxzZVxuXHRcdHN0YXJ0X2RhdGUgPSAnJ1xuXHRcdHVpZCA9IHVzZXJfaWRcblx0XHRxdWVyeSA9IHtcblx0XHRcdCRvcjogW3sgaW5ib3hfdXNlcnM6IHVzZXJfaWQgfSwgeyBjY191c2VyczogdXNlcl9pZCB9XVxuXHRcdH1cblxuXHRcdGlmIHNwZWNpYWxfdXNlcl9pZFxuXHRcdFx0dWlkID0gc3BlY2lhbF91c2VyX2lkXG5cdFx0XHRxdWVyeSA9IHtcblx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxuXHRcdFx0XHQkb3I6IFt7IGluYm94X3VzZXJzOiBzcGVjaWFsX3VzZXJfaWQgfSwgeyBjY191c2Vyczogc3BlY2lhbF91c2VyX2lkIH1dXG5cdFx0XHR9XG5cblx0XHRpZiB3b3JrZmxvd19jYXRlZ29yaWVzXG5cdFx0XHRxdWVyeS5jYXRlZ29yeSA9IHsgJGluOiB3b3JrZmxvd19jYXRlZ29yaWVzLnNwbGl0KCcsJykgfVxuXG5cdFx0c3BhY2VfbmFtZXMgPSB7fVxuXHRcdHNwYWNlX25hbWVzW3NwYWNlLl9pZF0gPSBzcGFjZS5uYW1lXG5cblx0XHRpZiBsaW1pdCA+IDBcblx0XHRcdGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7IHNvcnQ6IHsgbW9kaWZpZWQ6IC0xIH0sIGxpbWl0OiBsaW1pdCB9KS5mb3JFYWNoIChpKSAtPlxuXG5cdFx0XHRcdGlmIGkuaW5ib3hfdXNlcnM/LmluY2x1ZGVzKHVpZClcblx0XHRcdFx0XHRfLmVhY2ggaS50cmFjZXMsICh0KSAtPlxuXHRcdFx0XHRcdFx0aWYgdC5pc19maW5pc2hlZCBpcyBmYWxzZVxuXHRcdFx0XHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGEpIC0+XG5cdFx0XHRcdFx0XHRcdFx0aWYgYS51c2VyIGlzIHVpZCBhbmQgYS50eXBlIGlzbnQgJ2NjJyBhbmQgbm90IGEuaXNfZmluaXNoZWRcblx0XHRcdFx0XHRcdFx0XHRcdGlzX3JlYWQgPSBhLmlzX3JlYWRcblx0XHRcdFx0XHRcdFx0XHRcdHN0YXJ0X2RhdGUgPSBhLnN0YXJ0X2RhdGVcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdF8uZWFjaCBpLnRyYWNlcywgKHQpIC0+XG5cdFx0XHRcdFx0XHRpZiBub3Qgc3RhcnRfZGF0ZSBhbmQgdC5hcHByb3Zlc1xuXHRcdFx0XHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGEpIC0+XG5cdFx0XHRcdFx0XHRcdFx0aWYgbm90IHN0YXJ0X2RhdGUgYW5kIGEudXNlciBpcyB1aWQgYW5kIGEudHlwZSBpcyAnY2MnIGFuZCBub3QgYS5pc19maW5pc2hlZFxuXHRcdFx0XHRcdFx0XHRcdFx0aXNfcmVhZCA9IGEuaXNfcmVhZFxuXHRcdFx0XHRcdFx0XHRcdFx0c3RhcnRfZGF0ZSA9IGEuc3RhcnRfZGF0ZVxuXG5cdFx0XHRcdGlmIG5vdCBzcGFjZV9uYW1lc1tpLnNwYWNlXVxuXHRcdFx0XHRcdHNwYWNlX25hbWVzW2kuc3BhY2VdID0gZGIuc3BhY2VzLmZpbmRPbmUoaS5zcGFjZSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pPy5uYW1lXG5cblx0XHRcdFx0aCA9IG5ldyBPYmplY3Rcblx0XHRcdFx0aFtcImlkXCJdID0gaVtcIl9pZFwiXVxuXHRcdFx0XHRoW1wic3RhcnRfZGF0ZVwiXSA9IHN0YXJ0X2RhdGVcblx0XHRcdFx0aFtcImZsb3dfbmFtZVwiXSA9IGkuZmxvd19uYW1lXG5cdFx0XHRcdGhbXCJzcGFjZV9uYW1lXCJdID0gc3BhY2VfbmFtZXNbaS5zcGFjZV1cblx0XHRcdFx0aFtcIm5hbWVcIl0gPSBpW1wibmFtZVwiXVxuXHRcdFx0XHRoW1wiYXBwbGljYW50X25hbWVcIl0gPSBpW1wiYXBwbGljYW50X25hbWVcIl1cblx0XHRcdFx0aFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXSA9IGlbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl1cblx0XHRcdFx0aFtcInN1Ym1pdF9kYXRlXCJdID0gaVtcInN1Ym1pdF9kYXRlXCJdXG5cdFx0XHRcdGhbXCJzdGVwX25hbWVcIl0gPSBpLmN1cnJlbnRfc3RlcF9uYW1lXG5cdFx0XHRcdGhbXCJzcGFjZV9pZFwiXSA9IGkuc3BhY2Vcblx0XHRcdFx0aFtcIm1vZGlmaWVkXCJdID0gaVtcIm1vZGlmaWVkXCJdXG5cdFx0XHRcdGhbXCJpc19yZWFkXCJdID0gaXNfcmVhZFxuXHRcdFx0XHRoW1widmFsdWVzXCJdID0gaVtcInZhbHVlc1wiXVxuXG5cdFx0XHRcdGlmIGF0dGFjaCBpcyAndHJ1ZSdcblx0XHRcdFx0XHRoLmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHsgJ21ldGFkYXRhLmluc3RhbmNlJzogaS5faWQsICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSwgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHsgJG5lOiB0cnVlIH0gfSwgeyBmaWVsZHM6IHsgY29waWVzOiAwIH0gfSkuZmV0Y2goKVxuXG5cdFx0XHRcdHJlc3VsdF9pbnN0YW5jZXMucHVzaChoKVxuXG5cdFx0bm9fbGltaXRfY291bnQgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSkuY291bnQoKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3VsdF9pbnN0YW5jZXMsIGNvdW50OiBub19saW1pdF9jb3VudCB9XG5cdFx0fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3sgZXJyb3JNZXNzYWdlOiBlLnJlYXNvbiB9XSB9XG5cdFx0fVxuXG4iLCJcbi8qXG5AYXBpIHtnZXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9wZW5kaW5nIOiOt+WPluW+heWKnuaWh+S7tlxuXG5AYXBpRGVzY3JpcHRpb24g6I635Y+W5b2T5YmN55So5oi355qE5b6F5Yqe5LqL6aG55YiX6KGoXG5cbkBhcGlOYW1lIGdldEluYm94XG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxuXHR7XG5cdFx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxuXHR9XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcblx0e1xuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFwiZGF0YVwiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwiaWRcIjogXCJnN3dva1hOa1I5eXhIdkE0RFwiLFxuXHRcdFx0XHRcInN0YXJ0X2RhdGVcIjogXCIyMDE3LTExLTIzVDAyOjI4OjUzLjE2NFpcIixcblx0XHRcdFx0XCJmbG93X25hbWVcIjogXCLmraPmlofmtYHnqItcIixcblx0XHRcdFx0XCJzcGFjZV9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwibmFtZVwiOiBcIuato+aWh+a1geeoiyAxXCIsXG5cdFx0XHRcdFwiYXBwbGljYW50X25hbWVcIjogbnVsbCxcblx0XHRcdFx0XCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJzdWJtaXRfZGF0ZVwiOiBcIjIwMTctMDctMjVUMDY6MzY6NDguNDkyWlwiLFxuXHRcdFx0XHRcInN0ZXBfbmFtZVwiOiBcIuW8gOWni1wiLFxuXHRcdFx0XHRcInNwYWNlX2lkXCI6IFwia2ZEc012N2dCZXdtR1hHRUxcIixcblx0XHRcdFx0XCJtb2RpZmllZFwiOiBcIjIwMTctMTEtMjNUMDI6Mjg6NTMuMTY0WlwiLFxuXHRcdFx0XHRcImlzX3JlYWRcIjogZmFsc2UsXG5cdFx0XHRcdFwidmFsdWVzXCI6IHt9XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRcImlkXCI6IFwiV3FLU3JXUW95d2dKYU1wOWtcIixcblx0XHRcdFx0XCJzdGFydF9kYXRlXCI6IFwiMjAxNy0wOC0xN1QwNzozODozNS40MjBaXCIsXG5cdFx0XHRcdFwiZmxvd19uYW1lXCI6IFwi5q2j5paHXFxuXCIsXG5cdFx0XHRcdFwic3BhY2VfbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcIm5hbWVcIjogXCLmraPmlodcXG4gMVwiLFxuXHRcdFx0XHRcImFwcGxpY2FudF9uYW1lXCI6IFwi5q635Lqu6L6JXCIsXG5cdFx0XHRcdFwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwic3VibWl0X2RhdGVcIjogXCIyMDE3LTA2LTI3VDEwOjI2OjE5LjQ2OFpcIixcblx0XHRcdFx0XCJzdGVwX25hbWVcIjogXCLlvIDlp4tcIixcblx0XHRcdFx0XCJzcGFjZV9pZFwiOiBcImtmRHNNdjdnQmV3bUdYR0VMXCIsXG5cdFx0XHRcdFwibW9kaWZpZWRcIjogXCIyMDE3LTA4LTE3VDA3OjM4OjM1LjQyMVpcIixcblx0XHRcdFx0XCJpc19yZWFkXCI6IHRydWUsXG5cdFx0XHRcdFwidmFsdWVzXCI6IHt9XG5cdFx0XHR9XG5cdFx0XVxuXHR9XG4gKi9cbkpzb25Sb3V0ZXMuYWRkKCdnZXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL3BlbmRpbmcnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXR0YWNoLCBlLCBpc19yZWFkLCBsaW1pdCwgbm9fbGltaXRfY291bnQsIHF1ZXJ5LCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHJlZjQsIHJlZjUsIHJlc3VsdF9pbnN0YW5jZXMsIHNwYWNlLCBzcGFjZV9pZCwgc3BhY2VfbmFtZXMsIHNwZWNpYWxfdXNlcl9pZCwgc3RhcnRfZGF0ZSwgdSwgdWlkLCB1c2VyX2lkLCB1c2VyaWQsIHVzZXJuYW1lLCB3b3JrZmxvd19jYXRlZ29yaWVzO1xuICB0cnkge1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ10gfHwgKChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYuc3BhY2VJZCA6IHZvaWQgMCk7XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBzcGFjZV9pZCcpO1xuICAgIH1cbiAgICB1c2VyX2lkID0gcmVxLnVzZXJJZDtcbiAgICBpZiAoIXVzZXJfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ05vdCBsb2dnZWQgaW4nKTtcbiAgICB9XG4gICAgaWYgKGRiLnVzZXJzLmZpbmQoe1xuICAgICAgX2lkOiB1c2VyX2lkXG4gICAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgbGltaXQgPSAoKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLmxpbWl0IDogdm9pZCAwKSB8fCA1MDA7XG4gICAgbGltaXQgPSBwYXJzZUludChsaW1pdCk7XG4gICAgdXNlcm5hbWUgPSAocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIudXNlcm5hbWUgOiB2b2lkIDA7XG4gICAgdXNlcmlkID0gKHJlZjMgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYzLnVzZXJpZCA6IHZvaWQgMDtcbiAgICBhdHRhY2ggPSAocmVmNCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjQuYXR0YWNoIDogdm9pZCAwO1xuICAgIHdvcmtmbG93X2NhdGVnb3JpZXMgPSAocmVmNSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjUud29ya2Zsb3dfY2F0ZWdvcmllcyA6IHZvaWQgMDtcbiAgICBzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHNwZWNpYWxfdXNlcl9pZDtcbiAgICBpZiAoc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVzZXJfaWQpKSB7XG4gICAgICBpZiAodXNlcmlkKSB7XG4gICAgICAgIGlmIChkYi51c2Vycy5maW5kKHtcbiAgICAgICAgICBfaWQ6IHVzZXJpZFxuICAgICAgICB9KS5jb3VudCgpIDwgMSkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgXCJjYW4gbm90IGZpbmQgdXNlciBieSB1c2VyaWQ6IFwiICsgdXNlcmlkKTtcbiAgICAgICAgfVxuICAgICAgICBzcGVjaWFsX3VzZXJfaWQgPSB1c2VyaWQ7XG4gICAgICB9IGVsc2UgaWYgKHVzZXJuYW1lKSB7XG4gICAgICAgIHUgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWVcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgX2lkOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKF8uaXNFbXB0eSh1KSkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgXCJjYW4gbm90IGZpbmQgdXNlciBieSB1c2VybmFtZTogXCIgKyB1c2VybmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgc3BlY2lhbF91c2VyX2lkID0gdS5faWQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdF9pbnN0YW5jZXMgPSBuZXcgQXJyYXk7XG4gICAgaXNfcmVhZCA9IGZhbHNlO1xuICAgIHN0YXJ0X2RhdGUgPSAnJztcbiAgICB1aWQgPSB1c2VyX2lkO1xuICAgIHF1ZXJ5ID0ge1xuICAgICAgJG9yOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpbmJveF91c2VyczogdXNlcl9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2NfdXNlcnM6IHVzZXJfaWRcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH07XG4gICAgaWYgKHNwZWNpYWxfdXNlcl9pZCkge1xuICAgICAgdWlkID0gc3BlY2lhbF91c2VyX2lkO1xuICAgICAgcXVlcnkgPSB7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgJG9yOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaW5ib3hfdXNlcnM6IHNwZWNpYWxfdXNlcl9pZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNjX3VzZXJzOiBzcGVjaWFsX3VzZXJfaWRcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH07XG4gICAgfVxuICAgIGlmICh3b3JrZmxvd19jYXRlZ29yaWVzKSB7XG4gICAgICBxdWVyeS5jYXRlZ29yeSA9IHtcbiAgICAgICAgJGluOiB3b3JrZmxvd19jYXRlZ29yaWVzLnNwbGl0KCcsJylcbiAgICAgIH07XG4gICAgfVxuICAgIHNwYWNlX25hbWVzID0ge307XG4gICAgc3BhY2VfbmFtZXNbc3BhY2UuX2lkXSA9IHNwYWNlLm5hbWU7XG4gICAgaWYgKGxpbWl0ID4gMCkge1xuICAgICAgZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcbiAgICAgICAgc29ydDoge1xuICAgICAgICAgIG1vZGlmaWVkOiAtMVxuICAgICAgICB9LFxuICAgICAgICBsaW1pdDogbGltaXRcbiAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24oaSkge1xuICAgICAgICB2YXIgaCwgcmVmNiwgcmVmNztcbiAgICAgICAgaWYgKChyZWY2ID0gaS5pbmJveF91c2VycykgIT0gbnVsbCA/IHJlZjYuaW5jbHVkZXModWlkKSA6IHZvaWQgMCkge1xuICAgICAgICAgIF8uZWFjaChpLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgaWYgKHQuaXNfZmluaXNoZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgIGlmIChhLnVzZXIgPT09IHVpZCAmJiBhLnR5cGUgIT09ICdjYycgJiYgIWEuaXNfZmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICAgIGlzX3JlYWQgPSBhLmlzX3JlYWQ7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnRfZGF0ZSA9IGEuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF8uZWFjaChpLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgICAgaWYgKCFzdGFydF9kYXRlICYmIHQuYXBwcm92ZXMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzdGFydF9kYXRlICYmIGEudXNlciA9PT0gdWlkICYmIGEudHlwZSA9PT0gJ2NjJyAmJiAhYS5pc19maW5pc2hlZCkge1xuICAgICAgICAgICAgICAgICAgaXNfcmVhZCA9IGEuaXNfcmVhZDtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzdGFydF9kYXRlID0gYS5zdGFydF9kYXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzcGFjZV9uYW1lc1tpLnNwYWNlXSkge1xuICAgICAgICAgIHNwYWNlX25hbWVzW2kuc3BhY2VdID0gKHJlZjcgPSBkYi5zcGFjZXMuZmluZE9uZShpLnNwYWNlLCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKSAhPSBudWxsID8gcmVmNy5uYW1lIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIGggPSBuZXcgT2JqZWN0O1xuICAgICAgICBoW1wiaWRcIl0gPSBpW1wiX2lkXCJdO1xuICAgICAgICBoW1wic3RhcnRfZGF0ZVwiXSA9IHN0YXJ0X2RhdGU7XG4gICAgICAgIGhbXCJmbG93X25hbWVcIl0gPSBpLmZsb3dfbmFtZTtcbiAgICAgICAgaFtcInNwYWNlX25hbWVcIl0gPSBzcGFjZV9uYW1lc1tpLnNwYWNlXTtcbiAgICAgICAgaFtcIm5hbWVcIl0gPSBpW1wibmFtZVwiXTtcbiAgICAgICAgaFtcImFwcGxpY2FudF9uYW1lXCJdID0gaVtcImFwcGxpY2FudF9uYW1lXCJdO1xuICAgICAgICBoW1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdID0gaVtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXTtcbiAgICAgICAgaFtcInN1Ym1pdF9kYXRlXCJdID0gaVtcInN1Ym1pdF9kYXRlXCJdO1xuICAgICAgICBoW1wic3RlcF9uYW1lXCJdID0gaS5jdXJyZW50X3N0ZXBfbmFtZTtcbiAgICAgICAgaFtcInNwYWNlX2lkXCJdID0gaS5zcGFjZTtcbiAgICAgICAgaFtcIm1vZGlmaWVkXCJdID0gaVtcIm1vZGlmaWVkXCJdO1xuICAgICAgICBoW1wiaXNfcmVhZFwiXSA9IGlzX3JlYWQ7XG4gICAgICAgIGhbXCJ2YWx1ZXNcIl0gPSBpW1widmFsdWVzXCJdO1xuICAgICAgICBpZiAoYXR0YWNoID09PSAndHJ1ZScpIHtcbiAgICAgICAgICBoLmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGkuX2lkLFxuICAgICAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuICAgICAgICAgICAgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcbiAgICAgICAgICAgICAgJG5lOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIGNvcGllczogMFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmZldGNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdF9pbnN0YW5jZXMucHVzaChoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBub19saW1pdF9jb3VudCA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5KS5jb3VudCgpO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IHJlc3VsdF9pbnN0YW5jZXMsXG4gICAgICAgIGNvdW50OiBub19saW1pdF9jb3VudFxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5yZWFzb25cbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJDb29raWVzID0gcmVxdWlyZShcImNvb2tpZXNcIilcblxuTWV0ZW9yLnN0YXJ0dXAgLT5cblx0V2ViQXBwLmNvbm5lY3RIYW5kbGVycy51c2UgXCIvYXBpL3dvcmtmbG93L2V4cG9ydC90YWxiZV90ZW1wbGF0ZVwiLCAocmVxLCByZXMsIG5leHQpLT5cblx0XHRjb29raWVzID0gbmV3IENvb2tpZXMoIHJlcSwgcmVzICk7XG5cdFx0IyBmaXJzdCBjaGVjayByZXF1ZXN0IGJvZHlcblx0XHRpZiByZXEuYm9keVxuXHRcdFx0dXNlcklkID0gcmVxLmJvZHlbXCJYLVVzZXItSWRcIl1cblx0XHRcdGF1dGhUb2tlbiA9IHJlcS5ib2R5W1wiWC1BdXRoLVRva2VuXCJdXG5cblx0XHQjIHRoZW4gY2hlY2sgY29va2llXG5cdFx0aWYgIXVzZXJJZCBvciAhYXV0aFRva2VuXG5cdFx0XHR1c2VySWQgPSBjb29raWVzLmdldChcIlgtVXNlci1JZFwiKVxuXHRcdFx0YXV0aFRva2VuID0gY29va2llcy5nZXQoXCJYLUF1dGgtVG9rZW5cIilcblxuXHRcdGlmICEodXNlcklkIGFuZCBhdXRoVG9rZW4pXG5cdFx0XHRyZXMud3JpdGVIZWFkKDQwMSk7XG5cdFx0XHRyZXMuZW5kIEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLUF1dGgtVG9rZW5cIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0XHR9KVxuXHRcdFx0cmV0dXJuIDtcblxuXHRcdGZsb3dJZCA9IHJlcS5xdWVyeT8uZmxvdztcblxuXHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGZsb3dJZH0sIHtmaWVsZHM6IHtzcGFjZTogMSwgZm9ybTogMSwgbmFtZTogMX19KVxuXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe19pZDogZmxvdy5mb3JtfSwge2ZpZWxkczoge3NwYWNlOiAxLCBcImN1cnJlbnQuX2lkXCI6IDF9fSlcblxuXHRcdGlmIF8uaXNFbXB0eShmbG93KVxuXHRcdFx0cmVzLndyaXRlSGVhZCg0MDEpO1xuXHRcdFx0cmVzLmVuZCBKU09OLnN0cmluZ2lmeSh7XG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIEludmFsaWQgZm9ybUlkXCIsXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdFx0fSlcblx0XHRcdHJldHVybiA7XG5cdFx0ZWxzZVxuXHRcdFx0aWYgIVN0ZWVkb3MuaXNTcGFjZUFkbWluKGZsb3cuc3BhY2UsIHVzZXJJZClcblx0XHRcdFx0cmVzLndyaXRlSGVhZCg0MDEpO1xuXHRcdFx0XHRyZXMuZW5kIEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uXCIsXG5cdFx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0XHRcdH0pXG5cdFx0XHRcdHJldHVybjtcblxuXHRcdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShmbG93LnNwYWNlLCB7IGZpZWxkczogeyBpc19wYWlkOiAxIH0gfSlcblx0XHRcdGlmICFzcGFjZSB8fCAhU3RlZWRvcy5oYXNGZWF0dXJlKCdwYWlkJywgc3BhY2UuX2lkKVxuXHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRcdGNvZGU6IDQwNCxcblx0XHRcdFx0XHRkYXRhOlxuXHRcdFx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm9uLXBhaWQgc3BhY2UuXCIsXG5cdFx0XHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0ZGF0YSA9IFRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlKHtmb3JtOiBmbG93LmZvcm0sIGZvcm1fdmVyc2lvbjogZm9ybT8uY3VycmVudD8uX2lkfSwgdHJ1ZSk7XG5cblx0XHRmaWxlTmFtZSA9IGZsb3cubmFtZVxuXG5cdFx0cmVzLnNldEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtbXNkb3dubG9hZCcpO1xuXHRcdHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb24nLCAnYXR0YWNobWVudDtmaWxlbmFtZT0nK2VuY29kZVVSSShmaWxlTmFtZSkrJy5odG1sJyk7XG5cdFx0cmVzLmVuZChkYXRhKSIsInZhciBDb29raWVzO1xuXG5Db29raWVzID0gcmVxdWlyZShcImNvb2tpZXNcIik7XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gV2ViQXBwLmNvbm5lY3RIYW5kbGVycy51c2UoXCIvYXBpL3dvcmtmbG93L2V4cG9ydC90YWxiZV90ZW1wbGF0ZVwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHZhciBhdXRoVG9rZW4sIGNvb2tpZXMsIGRhdGEsIGZpbGVOYW1lLCBmbG93LCBmbG93SWQsIGZvcm0sIHJlZiwgcmVmMSwgc3BhY2UsIHVzZXJJZDtcbiAgICBjb29raWVzID0gbmV3IENvb2tpZXMocmVxLCByZXMpO1xuICAgIGlmIChyZXEuYm9keSkge1xuICAgICAgdXNlcklkID0gcmVxLmJvZHlbXCJYLVVzZXItSWRcIl07XG4gICAgICBhdXRoVG9rZW4gPSByZXEuYm9keVtcIlgtQXV0aC1Ub2tlblwiXTtcbiAgICB9XG4gICAgaWYgKCF1c2VySWQgfHwgIWF1dGhUb2tlbikge1xuICAgICAgdXNlcklkID0gY29va2llcy5nZXQoXCJYLVVzZXItSWRcIik7XG4gICAgICBhdXRoVG9rZW4gPSBjb29raWVzLmdldChcIlgtQXV0aC1Ub2tlblwiKTtcbiAgICB9XG4gICAgaWYgKCEodXNlcklkICYmIGF1dGhUb2tlbikpIHtcbiAgICAgIHJlcy53cml0ZUhlYWQoNDAxKTtcbiAgICAgIHJlcy5lbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIFgtQXV0aC1Ub2tlblwiLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH0pKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmxvd0lkID0gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5mbG93IDogdm9pZCAwO1xuICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgIF9pZDogZmxvd0lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHNwYWNlOiAxLFxuICAgICAgICBmb3JtOiAxLFxuICAgICAgICBuYW1lOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmbG93LmZvcm1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgIFwiY3VycmVudC5faWRcIjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChfLmlzRW1wdHkoZmxvdykpIHtcbiAgICAgIHJlcy53cml0ZUhlYWQoNDAxKTtcbiAgICAgIHJlcy5lbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBJbnZhbGlkIGZvcm1JZFwiLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH0pKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFTdGVlZG9zLmlzU3BhY2VBZG1pbihmbG93LnNwYWNlLCB1c2VySWQpKSB7XG4gICAgICAgIHJlcy53cml0ZUhlYWQoNDAxKTtcbiAgICAgICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvblwiLFxuICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoZmxvdy5zcGFjZSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBpc19wYWlkOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFzcGFjZSB8fCAhU3RlZWRvcy5oYXNGZWF0dXJlKCdwYWlkJywgc3BhY2UuX2lkKSkge1xuICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgY29kZTogNDA0LFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE5vbi1wYWlkIHNwYWNlLlwiLFxuICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBkYXRhID0gVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUoe1xuICAgICAgZm9ybTogZmxvdy5mb3JtLFxuICAgICAgZm9ybV92ZXJzaW9uOiBmb3JtICE9IG51bGwgPyAocmVmMSA9IGZvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjEuX2lkIDogdm9pZCAwIDogdm9pZCAwXG4gICAgfSwgdHJ1ZSk7XG4gICAgZmlsZU5hbWUgPSBmbG93Lm5hbWU7XG4gICAgcmVzLnNldEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtbXNkb3dubG9hZCcpO1xuICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb24nLCAnYXR0YWNobWVudDtmaWxlbmFtZT0nICsgZW5jb2RlVVJJKGZpbGVOYW1lKSArICcuaHRtbCcpO1xuICAgIHJldHVybiByZXMuZW5kKGRhdGEpO1xuICB9KTtcbn0pO1xuIiwiIyMjXG5AYXBpIHtwb3N0fSAvYXBpL3dvcmtmbG93L29wZW4vZHJhZnRzIOaWsOW7uueUs+ivt+WNlVxuXG5AYXBpTmFtZSBjcmVhdGVJbnN0YW5jZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG57XG5cdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcbn1cblxuQGFwaVBhcmFtRXhhbXBsZSB7anNvbn0gUmVxdWVzdCBQYXlsb2FkOlxue1xuICAgIFwiZmxvd1wiOiDmtYHnqItJZCxcbiAgICBcImFwcGxpY2FudFwiOiDnlLPor7fkurpJZCxcbiAgICBcInZhbHVlc1wiOiB7XG4gICAgICAgIFwiZmllbGRzMVwiIDog5a2X5q615YC8LFxuICAgICAgICBcImZpZWxkczJcIiA6IOWtl+auteWAvCxcbiAgICAgICAgLi4uXG4gICAgfVxufVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG57XG4gICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG4gICAgXCJkYXRhXCI6IHtpbnN0YW5jZX1cbn1cblxuQGFwaUVycm9yRXhhbXBsZSB7anNvbn0gZXJyb3ItUmVzcG9uc2U6XG57XG4gICAgXCJzdGF0dXNcIjogXCJlcnJvclwiLFxuICAgIFwiZGF0YVwiOiB7Li4ufVxufVxuIyMjXG5Kc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vZHJhZnRzJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0XHRyZXR1cm5cblxuXHRcdHVzZXJfaWQgPSByZXEudXNlcklkXG5cblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IHVzZXJfaWQgfSlcblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciB4X3NwYWNlX2lkJylcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyX2luZm8uX2lkKVxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXG5cdFx0aWYgbm90IGhhc2hEYXRhW1wiZmxvd1wiXVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmxvdyBpcyBudWxsJylcblxuXHRcdGZsb3dfaWQgICAgICA9IGhhc2hEYXRhW1wiZmxvd1wiXVxuXHRcdGFwcGxpY2FudF9pZCA9IGhhc2hEYXRhW1wiYXBwbGljYW50XCJdXG5cdFx0YXBwbGljYW50X3VzZXJuYW1lID0gaGFzaERhdGFbXCJhcHBsaWNhbnRfdXNlcm5hbWVcIl1cblxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50ID0gbmV3IE9iamVjdFxuXG5cdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoeyBfaWQ6IGZsb3dfaWQgfSwgeyBmaWVsZHM6IHsgc3BhY2U6IDEsICdjdXJyZW50Ll9pZCc6IDEgfSB9KVxuXHRcdGlmIG5vdCBmbG93XG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG5vdCBleGlzdHMnKVxuXG5cdFx0aWYgc3BhY2VfaWQgaXNudCBmbG93LnNwYWNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZScpXG5cblx0XHRpZiBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBjdXJyZW50X3VzZXJfaW5mby5faWQgfSkuY291bnQoKSBpcyAwXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhdXRoX3Rva2VuIGlzIG5vdCBhIG1lbWJlciBvZiB0aGlzIHNwYWNlJylcblxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wic3BhY2VcIl0gPSBzcGFjZV9pZFxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiZmxvd1wiXSA9IGZsb3dfaWRcblx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImZsb3dfdmVyc2lvblwiXSA9IGZsb3cuY3VycmVudC5faWRcblxuXHRcdGFwcGxpY2FudCA9IG51bGxcblx0XHRpZiBhcHBsaWNhbnRfaWQgb3IgYXBwbGljYW50X3VzZXJuYW1lXG5cblx0XHRcdGlmIGFwcGxpY2FudF9pZFxuXHRcdFx0XHRhcHBsaWNhbnQgPSBkYi51c2Vycy5maW5kT25lKHsgX2lkOiBhcHBsaWNhbnRfaWQgfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXG5cdFx0XHRcdGlmIG5vdCBhcHBsaWNhbnRcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnQgaXMgd3JvbmcnKVxuXG5cdFx0XHRlbHNlIGlmIGFwcGxpY2FudF91c2VybmFtZVxuXHRcdFx0XHRhcHBsaWNhbnQgPSBkYi51c2Vycy5maW5kT25lKHsgdXNlcm5hbWU6IGFwcGxpY2FudF91c2VybmFtZSB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcblx0XHRcdFx0aWYgbm90IGFwcGxpY2FudFxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudF91c2VybmFtZSBpcyB3cm9uZycpXG5cblx0XHRcdHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBhcHBsaWNhbnQuX2lkIH0pXG5cdFx0XHRpZiBub3Qgc3BhY2VfdXNlclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnQgaXMgbm90IGEgbWVtYmVyIG9mIHRoaXMgc3BhY2UnKVxuXG5cdFx0XHRpZiBzcGFjZV91c2VyLnVzZXJfYWNjZXB0ZWQgaXNudCB0cnVlXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyBkaXNhYmxlZCBpbiB0aGlzIHNwYWNlJylcblxuXHRcdFx0c3BhY2VfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKVxuXHRcdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRcIl0gPSBhcHBsaWNhbnQuX2lkXG5cdFx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9uYW1lXCJdID0gYXBwbGljYW50Lm5hbWVcblx0XHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvblwiXSA9ICBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdXG5cdFx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fZnVsbG5hbWVcIl0gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdXG5cdFx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXVxuXG5cdFx0YXBwbGljYW50SW5mbyA9IGFwcGxpY2FudCB8fCBjdXJyZW50X3VzZXJfaW5mb1xuXG5cdFx0dHJhY2VzID0gW11cblx0XHR0cmFjZSA9IG5ldyBPYmplY3Rcblx0XHRhcHByb3ZlcyA9IFtdXG5cdFx0YXBwcm92ZSA9IG5ldyBPYmplY3Rcblx0XHRhcHByb3ZlW1widmFsdWVzXCJdID0gaGFzaERhdGFbXCJ2YWx1ZXNcIl1cblx0XHRhcHByb3Zlcy5wdXNoKGFwcHJvdmUpXG5cdFx0dHJhY2VbXCJhcHByb3Zlc1wiXSA9IGFwcHJvdmVzXG5cdFx0dHJhY2VzLnB1c2godHJhY2UpXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJ0cmFjZXNcIl0gPSB0cmFjZXNcblxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiaW5ib3hfdXNlcnNcIl0gPSBbYXBwbGljYW50SW5mby5faWRdXG5cblx0XHRuZXdfaW5zX2lkID0gdXVmbG93TWFuYWdlci5jcmVhdGVfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGFwcGxpY2FudEluZm8pXG5cblx0XHRuZXdfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUobmV3X2luc19pZClcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiBuZXdfaW5zIH1cblx0XHR9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbeyBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZSB9XSB9XG5cdFx0fVxuIiwiXG4vKlxuQGFwaSB7cG9zdH0gL2FwaS93b3JrZmxvdy9vcGVuL2RyYWZ0cyDmlrDlu7rnlLPor7fljZVcblxuQGFwaU5hbWUgY3JlYXRlSW5zdGFuY2VcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxue1xuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG59XG5cbkBhcGlQYXJhbUV4YW1wbGUge2pzb259IFJlcXVlc3QgUGF5bG9hZDpcbntcbiAgICBcImZsb3dcIjog5rWB56iLSWQsXG4gICAgXCJhcHBsaWNhbnRcIjog55Sz6K+35Lq6SWQsXG4gICAgXCJ2YWx1ZXNcIjoge1xuICAgICAgICBcImZpZWxkczFcIiA6IOWtl+auteWAvCxcbiAgICAgICAgXCJmaWVsZHMyXCIgOiDlrZfmrrXlgLwsXG4gICAgICAgIC4uLlxuICAgIH1cbn1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxue1xuICAgIFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuICAgIFwiZGF0YVwiOiB7aW5zdGFuY2V9XG59XG5cbkBhcGlFcnJvckV4YW1wbGUge2pzb259IGVycm9yLVJlc3BvbnNlOlxue1xuICAgIFwic3RhdHVzXCI6IFwiZXJyb3JcIixcbiAgICBcImRhdGFcIjogey4uLn1cbn1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2RyYWZ0cycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhcHBsaWNhbnQsIGFwcGxpY2FudEluZm8sIGFwcGxpY2FudF9pZCwgYXBwbGljYW50X3VzZXJuYW1lLCBhcHByb3ZlLCBhcHByb3ZlcywgY3VycmVudF91c2VyX2luZm8sIGUsIGZsb3csIGZsb3dfaWQsIGhhc2hEYXRhLCBpbnN0YW5jZV9mcm9tX2NsaWVudCwgbmV3X2lucywgbmV3X2luc19pZCwgc3BhY2VfaWQsIHNwYWNlX3VzZXIsIHNwYWNlX3VzZXJfb3JnX2luZm8sIHRyYWNlLCB0cmFjZXMsIHVzZXJfaWQ7XG4gIHRyeSB7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHVzZXJfaWQgPSByZXEudXNlcklkO1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICBfaWQ6IHVzZXJfaWRcbiAgICB9KTtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgeF9zcGFjZV9pZCcpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyX2luZm8uX2lkKTtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIGlmICghaGFzaERhdGFbXCJmbG93XCJdKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG51bGwnKTtcbiAgICB9XG4gICAgZmxvd19pZCA9IGhhc2hEYXRhW1wiZmxvd1wiXTtcbiAgICBhcHBsaWNhbnRfaWQgPSBoYXNoRGF0YVtcImFwcGxpY2FudFwiXTtcbiAgICBhcHBsaWNhbnRfdXNlcm5hbWUgPSBoYXNoRGF0YVtcImFwcGxpY2FudF91c2VybmFtZVwiXTtcbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudCA9IG5ldyBPYmplY3Q7XG4gICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmbG93X2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAnY3VycmVudC5faWQnOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFmbG93KSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG5vdCBleGlzdHMnKTtcbiAgICB9XG4gICAgaWYgKHNwYWNlX2lkICE9PSBmbG93LnNwYWNlKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZScpO1xuICAgIH1cbiAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICB1c2VyOiBjdXJyZW50X3VzZXJfaW5mby5faWRcbiAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhdXRoX3Rva2VuIGlzIG5vdCBhIG1lbWJlciBvZiB0aGlzIHNwYWNlJyk7XG4gICAgfVxuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wic3BhY2VcIl0gPSBzcGFjZV9pZDtcbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImZsb3dcIl0gPSBmbG93X2lkO1xuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiZmxvd192ZXJzaW9uXCJdID0gZmxvdy5jdXJyZW50Ll9pZDtcbiAgICBhcHBsaWNhbnQgPSBudWxsO1xuICAgIGlmIChhcHBsaWNhbnRfaWQgfHwgYXBwbGljYW50X3VzZXJuYW1lKSB7XG4gICAgICBpZiAoYXBwbGljYW50X2lkKSB7XG4gICAgICAgIGFwcGxpY2FudCA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIF9pZDogYXBwbGljYW50X2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWFwcGxpY2FudCkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyB3cm9uZycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFwcGxpY2FudF91c2VybmFtZSkge1xuICAgICAgICBhcHBsaWNhbnQgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICB1c2VybmFtZTogYXBwbGljYW50X3VzZXJuYW1lXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWFwcGxpY2FudCkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudF91c2VybmFtZSBpcyB3cm9uZycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwbGljYW50Ll9pZFxuICAgICAgfSk7XG4gICAgICBpZiAoIXNwYWNlX3VzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50IGlzIG5vdCBhIG1lbWJlciBvZiB0aGlzIHNwYWNlJyk7XG4gICAgICB9XG4gICAgICBpZiAoc3BhY2VfdXNlci51c2VyX2FjY2VwdGVkICE9PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyBkaXNhYmxlZCBpbiB0aGlzIHNwYWNlJyk7XG4gICAgICB9XG4gICAgICBzcGFjZV91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKHNwYWNlX3VzZXIpO1xuICAgICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRcIl0gPSBhcHBsaWNhbnQuX2lkO1xuICAgICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfbmFtZVwiXSA9IGFwcGxpY2FudC5uYW1lO1xuICAgICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uXCJdID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXTtcbiAgICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl07XG4gICAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXTtcbiAgICB9XG4gICAgYXBwbGljYW50SW5mbyA9IGFwcGxpY2FudCB8fCBjdXJyZW50X3VzZXJfaW5mbztcbiAgICB0cmFjZXMgPSBbXTtcbiAgICB0cmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgYXBwcm92ZXMgPSBbXTtcbiAgICBhcHByb3ZlID0gbmV3IE9iamVjdDtcbiAgICBhcHByb3ZlW1widmFsdWVzXCJdID0gaGFzaERhdGFbXCJ2YWx1ZXNcIl07XG4gICAgYXBwcm92ZXMucHVzaChhcHByb3ZlKTtcbiAgICB0cmFjZVtcImFwcHJvdmVzXCJdID0gYXBwcm92ZXM7XG4gICAgdHJhY2VzLnB1c2godHJhY2UpO1xuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1widHJhY2VzXCJdID0gdHJhY2VzO1xuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiaW5ib3hfdXNlcnNcIl0gPSBbYXBwbGljYW50SW5mby5faWRdO1xuICAgIG5ld19pbnNfaWQgPSB1dWZsb3dNYW5hZ2VyLmNyZWF0ZV9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgYXBwbGljYW50SW5mbyk7XG4gICAgbmV3X2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG5ld19pbnNfaWQpO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IG5ld19pbnNcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xuQGFwaSB7Z2V0fSAvYXBpL3dvcmtmbG93L29wZW4vZ2V0LzppbnNfaWQg5p+l55yL55Sz6K+35Y2V6K+m5oOFXG5cbkBhcGlOYW1lIGdldEluc3RhbmNlXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnmoTnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGluc19pZCDnlLPor7fljZVJZFxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbntcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxufVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG57XG4gICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG4gICAgXCJkYXRhXCI6IHtpbnN0YW5jZX1cbn1cbiMjI1xuSnNvblJvdXRlcy5hZGQgJ2dldCcsICcvYXBpL3dvcmtmbG93L29wZW4vZ2V0LzppbnNfaWQnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkXG5cblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdFx0cmV0dXJuXG5cblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXG5cblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cblxuXHRcdGlmIG5vdCBzcGFjZV9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXG5cblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKVxuXHRcdGlmIG5vdCBpbnN0YW5jZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIGluc3RhbmNlJylcblxuXHRcdGlmIGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogaW5zdGFuY2Uuc3BhY2UsIHVzZXI6IGN1cnJlbnRfdXNlciB9KS5jb3VudCgpIGlzIDBcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2F1dGhfdG9rZW4gaXMgd3JvbmcnKVxuXG5cdFx0IyDmnYPpmZDvvJrku4Xku6XkuIvkurrlkZjlj6/ku6Xmn6XnnIvnlLPor7fljZXor6bmg4XvvJrmj5DkuqTogIXjgIHnlLPor7fogIXjgIHnu4/miYvogIXjgIHmnKzmtYHnqIvnmoTnrqHnkIblkZjjgIHmnKzmtYHnqIvnmoTop4Llr5/lkZjjgIHmnKzlt6XkvZzljLrnmoTnrqHnkIblkZjjgIHmnKzlt6XkvZzljLrnmoTmiYDmnInogIXjgIJcblx0XHRwZXJtX3VzZXJzID0gbmV3IEFycmF5XG5cdFx0cGVybV91c2Vycy5wdXNoKGluc3RhbmNlLnN1Ym1pdHRlcilcblx0XHRwZXJtX3VzZXJzLnB1c2goaW5zdGFuY2UuYXBwbGljYW50KVxuXHRcdGlmIGluc3RhbmNlLm91dGJveF91c2Vyc1xuXHRcdFx0cGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KGluc3RhbmNlLm91dGJveF91c2Vycylcblx0XHRpZiBpbnN0YW5jZS5pbmJveF91c2Vyc1xuXHRcdFx0cGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KGluc3RhbmNlLmluYm94X3VzZXJzKVxuXHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoeyBfaWQ6IGluc3RhbmNlLnNwYWNlIH0sIHsgZmllbGRzOiB7IGFkbWluczogMSB9IH0pXG5cdFx0cGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KHNwYWNlLmFkbWlucylcblxuXHRcdHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIGN1cnJlbnRfdXNlcilcblxuXHRcdGlmIChub3QgcGVybV91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSBhbmQgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcIm1vbml0b3JcIikpIGFuZCAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdubyBwZXJtaXNzaW9uJylcblxuXHRcdGluc3RhbmNlLmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLCBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjogeyRuZTogdHJ1ZX19LCB7ZmllbGRzOiB7Y29waWVzOiAwfX0pLmZldGNoKClcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiBpbnN0YW5jZSB9XG5cdFx0fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3sgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2UgfV0gfVxuXHRcdH1cblxuIiwiXG4vKlxuQGFwaSB7Z2V0fSAvYXBpL3dvcmtmbG93L29wZW4vZ2V0LzppbnNfaWQg5p+l55yL55Sz6K+35Y2V6K+m5oOFXG5cbkBhcGlOYW1lIGdldEluc3RhbmNlXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnmoTnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGluc19pZCDnlLPor7fljZVJZFxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbntcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxufVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG57XG4gICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG4gICAgXCJkYXRhXCI6IHtpbnN0YW5jZX1cbn1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvYXBpL3dvcmtmbG93L29wZW4vZ2V0LzppbnNfaWQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBlLCBpbnNfaWQsIGluc3RhbmNlLCBwZXJtX3VzZXJzLCBwZXJtaXNzaW9ucywgc3BhY2UsIHNwYWNlX2lkO1xuICB0cnkge1xuICAgIGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKTtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgaW5zdGFuY2UnKTtcbiAgICB9XG4gICAgaWYgKGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgc3BhY2U6IGluc3RhbmNlLnNwYWNlLFxuICAgICAgdXNlcjogY3VycmVudF91c2VyXG4gICAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXV0aF90b2tlbiBpcyB3cm9uZycpO1xuICAgIH1cbiAgICBwZXJtX3VzZXJzID0gbmV3IEFycmF5O1xuICAgIHBlcm1fdXNlcnMucHVzaChpbnN0YW5jZS5zdWJtaXR0ZXIpO1xuICAgIHBlcm1fdXNlcnMucHVzaChpbnN0YW5jZS5hcHBsaWNhbnQpO1xuICAgIGlmIChpbnN0YW5jZS5vdXRib3hfdXNlcnMpIHtcbiAgICAgIHBlcm1fdXNlcnMgPSBwZXJtX3VzZXJzLmNvbmNhdChpbnN0YW5jZS5vdXRib3hfdXNlcnMpO1xuICAgIH1cbiAgICBpZiAoaW5zdGFuY2UuaW5ib3hfdXNlcnMpIHtcbiAgICAgIHBlcm1fdXNlcnMgPSBwZXJtX3VzZXJzLmNvbmNhdChpbnN0YW5jZS5pbmJveF91c2Vycyk7XG4gICAgfVxuICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZS5zcGFjZVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBhZG1pbnM6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwZXJtX3VzZXJzID0gcGVybV91c2Vycy5jb25jYXQoc3BhY2UuYWRtaW5zKTtcbiAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpO1xuICAgIGlmICgoIXBlcm1fdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkgJiYgKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcIm1vbml0b3JcIikpICYmICghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25vIHBlcm1pc3Npb24nKTtcbiAgICB9XG4gICAgaW5zdGFuY2UuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2UuX2lkLFxuICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuICAgICAgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcbiAgICAgICAgJG5lOiB0cnVlXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGNvcGllczogMFxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogaW5zdGFuY2VcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xuQGFwaSB7cHV0fSAvYXBpL3dvcmtmbG93L29wZW4vc3VibWl0LzppbnNfaWQg5o+Q5Lqk55Sz6K+35Y2VXG5cbkBhcGlEZXNjcmlwdGlvbiDmmoLkuI3mlK/mjIHlvIDlp4voioLngrnkuIvkuIDoioLngrnkuLrmnaHku7bnmoTmg4XlhrVcblxuQGFwaU5hbWUgc3VibWl0SW5zdGFuY2VcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxuICAgIHtcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG5cdH1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxuICAgIHtcblx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XHRcImRhdGFcIjoge2luc3RhbmNlfVxuXHR9XG4jIyNcblxuSnNvblJvdXRlcy5hZGQgJ3B1dCcsICcvYXBpL3dvcmtmbG93L29wZW4vc3VibWl0LzppbnNfaWQnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkXG5cblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdFx0cmV0dXJuIDtcblxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcblxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXG5cblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXG5cdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZClcblxuXHRcdCMg5qCh6aqM55Sz6K+35Y2V54q25oCB5Li66I2J56i/XG5cdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlRHJhZnQoaW5zdGFuY2UpXG5cblx0XHRpZiBzcGFjZV9pZCBpc250IGluc3RhbmNlW1wic3BhY2VcIl1cblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2luc3RhbmNlIGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZScpXG5cblx0XHQjIOagoemqjOeUs+ivt+WNleW/heWhq+Wtl+auteaYr+WQpuacieWAvFxuXHRcdHZhbHVlcyA9IGluc3RhbmNlW1widHJhY2VzXCJdWzBdW1wiYXBwcm92ZXNcIl1bMF0udmFsdWVzXG5cblx0XHRmb3JtID0gdXVmbG93TWFuYWdlci5nZXRGb3JtKGluc3RhbmNlLmZvcm0pXG5cblx0XHRyZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMgPSB1dWZsb3dNYW5hZ2VyLmNoZWNrVmFsdWVGaWVsZHNSZXF1aXJlKHZhbHVlcywgZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKVxuXG5cdFx0aWYgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA+IDBcblx0XHRcdGlmIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPiAxXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2ZpZWxkcyA8JyArIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5qb2luKFwiLFwiKSArICc+IGFyZSByZXF1aXJlZCcpXG5cdFx0XHRlbHNlIGlmIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPSAxXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2ZpZWxkIDwnICsgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmpvaW4oXCIsXCIpICsgJz4gaXMgcmVxdWlyZWQnKVxuXG5cdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxuXG5cdFx0c3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgaW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF0uc3RlcClcblxuXHRcdCMg6K6h566X5LiL5LiA5q2l6aqk6YCJ6aG5XG5cdFx0bmV4dFN0ZXBzID0gdXVmbG93TWFuYWdlci5nZXROZXh0U3RlcHMoaW5zdGFuY2UsIGZsb3csIHN0ZXAsIFwic3VibWl0dGVkXCIpXG5cblx0XHRpZiBuZXh0U3RlcHMubGVuZ3RoIDwgMVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIG5leHQgc3RlcHMnKVxuXG5cdFx0aWYgbmV4dFN0ZXBzLmxlbmd0aCA+IDFcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25leHQgc3RlcCBub3QgdW5pcScpXG5cblx0XHRuZXh0X3N0ZXBfaWQgPSBuZXh0U3RlcHNbMF1cblxuXHRcdCMg6K6h566X5LiL5LiA5q2l5aSE55CG5Lq66YCJ6aG5XG5cdFx0bmV4dF91c2VyX2lkcyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyhpbnNfaWQsIG5leHRfc3RlcF9pZCkgfHwgW11cblxuXHRcdGlmIG5leHRfdXNlcl9pZHMubGVuZ3RoID4gMVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmV4dCBzdGVwIGhhbmRsZXIgbm90IHVuaXEnKVxuXG5cdFx0aW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF1bXCJhcHByb3Zlc1wiXVswXVtcIm5leHRfc3RlcHNcIl0gPSBbeydzdGVwJzogbmV4dF9zdGVwX2lkLCAndXNlcnMnOiBuZXh0X3VzZXJfaWRzfV1cblxuXHRcdHJlc3VsdCA9IG5ldyBPYmplY3RcblxuXHRcdHN1Ym1pdHRlciA9IGRiLnVzZXJzLmZpbmRPbmUoaW5zdGFuY2Uuc3VibWl0dGVyKVxuXG5cdFx0aWYgbm90IHN1Ym1pdHRlclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHN1Ym1pdHRlcicpXG5cblx0XHRyID0gdXVmbG93TWFuYWdlci5zdWJtaXRfaW5zdGFuY2UoaW5zdGFuY2UsIHN1Ym1pdHRlcilcblxuXHRcdGlmIHIuYWxlcnRzXG5cdFx0XHRyZXN1bHQgPSByXG5cdFx0ZWxzZVxuXHRcdFx0cmVzdWx0ID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKVxuXHRcdFx0aWYgcmVzdWx0XG5cdFx0XHRcdHJlc3VsdC5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7J21ldGFkYXRhLmluc3RhbmNlJzogaW5zX2lkLCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSwgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHskbmU6IHRydWV9fSwge2ZpZWxkczoge2NvcGllczogMH19KS5mZXRjaCgpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3VsdH1cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XG4iLCJcbi8qXG5AYXBpIHtwdXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9zdWJtaXQvOmluc19pZCDmj5DkuqTnlLPor7fljZVcblxuQGFwaURlc2NyaXB0aW9uIOaaguS4jeaUr+aMgeW8gOWni+iKgueCueS4i+S4gOiKgueCueS4uuadoeS7tueahOaDheWGtVxuXG5AYXBpTmFtZSBzdWJtaXRJbnN0YW5jZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG4gICAge1xuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcblx0fVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG4gICAge1xuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFwiZGF0YVwiOiB7aW5zdGFuY2V9XG5cdH1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ3B1dCcsICcvYXBpL3dvcmtmbG93L29wZW4vc3VibWl0LzppbnNfaWQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvdywgZm9ybSwgaW5zX2lkLCBpbnN0YW5jZSwgbmV4dFN0ZXBzLCBuZXh0X3N0ZXBfaWQsIG5leHRfdXNlcl9pZHMsIHIsIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcywgcmVzdWx0LCBzcGFjZV9pZCwgc3RlcCwgc3VibWl0dGVyLCB2YWx1ZXM7XG4gIHRyeSB7XG4gICAgaW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlRHJhZnQoaW5zdGFuY2UpO1xuICAgIGlmIChzcGFjZV9pZCAhPT0gaW5zdGFuY2VbXCJzcGFjZVwiXSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnaW5zdGFuY2UgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlJyk7XG4gICAgfVxuICAgIHZhbHVlcyA9IGluc3RhbmNlW1widHJhY2VzXCJdWzBdW1wiYXBwcm92ZXNcIl1bMF0udmFsdWVzO1xuICAgIGZvcm0gPSB1dWZsb3dNYW5hZ2VyLmdldEZvcm0oaW5zdGFuY2UuZm9ybSk7XG4gICAgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzID0gdXVmbG93TWFuYWdlci5jaGVja1ZhbHVlRmllbGRzUmVxdWlyZSh2YWx1ZXMsIGZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbik7XG4gICAgaWYgKHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAocmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmllbGRzIDwnICsgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmpvaW4oXCIsXCIpICsgJz4gYXJlIHJlcXVpcmVkJyk7XG4gICAgICB9IGVsc2UgaWYgKHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2ZpZWxkIDwnICsgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmpvaW4oXCIsXCIpICsgJz4gaXMgcmVxdWlyZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgICBzdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBpbnN0YW5jZVtcInRyYWNlc1wiXVswXS5zdGVwKTtcbiAgICBuZXh0U3RlcHMgPSB1dWZsb3dNYW5hZ2VyLmdldE5leHRTdGVwcyhpbnN0YW5jZSwgZmxvdywgc3RlcCwgXCJzdWJtaXR0ZWRcIik7XG4gICAgaWYgKG5leHRTdGVwcy5sZW5ndGggPCAxKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgbmV4dCBzdGVwcycpO1xuICAgIH1cbiAgICBpZiAobmV4dFN0ZXBzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25leHQgc3RlcCBub3QgdW5pcScpO1xuICAgIH1cbiAgICBuZXh0X3N0ZXBfaWQgPSBuZXh0U3RlcHNbMF07XG4gICAgbmV4dF91c2VyX2lkcyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyhpbnNfaWQsIG5leHRfc3RlcF9pZCkgfHwgW107XG4gICAgaWYgKG5leHRfdXNlcl9pZHMubGVuZ3RoID4gMSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmV4dCBzdGVwIGhhbmRsZXIgbm90IHVuaXEnKTtcbiAgICB9XG4gICAgaW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF1bXCJhcHByb3Zlc1wiXVswXVtcIm5leHRfc3RlcHNcIl0gPSBbXG4gICAgICB7XG4gICAgICAgICdzdGVwJzogbmV4dF9zdGVwX2lkLFxuICAgICAgICAndXNlcnMnOiBuZXh0X3VzZXJfaWRzXG4gICAgICB9XG4gICAgXTtcbiAgICByZXN1bHQgPSBuZXcgT2JqZWN0O1xuICAgIHN1Ym1pdHRlciA9IGRiLnVzZXJzLmZpbmRPbmUoaW5zdGFuY2Uuc3VibWl0dGVyKTtcbiAgICBpZiAoIXN1Ym1pdHRlcikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHN1Ym1pdHRlcicpO1xuICAgIH1cbiAgICByID0gdXVmbG93TWFuYWdlci5zdWJtaXRfaW5zdGFuY2UoaW5zdGFuY2UsIHN1Ym1pdHRlcik7XG4gICAgaWYgKHIuYWxlcnRzKSB7XG4gICAgICByZXN1bHQgPSByO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICByZXN1bHQuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc19pZCxcbiAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG4gICAgICAgICAgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcbiAgICAgICAgICAgICRuZTogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgY29waWVzOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiByZXN1bHRcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xuQGFwaSB7cHV0fSAvYXBpL3dvcmtmbG93L29wZW4vc2F2ZS86aW5zX2lkIOaaguWtmOeUs+ivt+WNlVxuXG5AYXBpTmFtZSBzYXZlSW5zdGFuY2VzXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbiAgICB7XG5cdFx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxuXHR9XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbiAgICB7XG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFx0XCJkYXRhXCI6IHtpbnN0YW5jZX1cblx0fVxuIyMjXG5Kc29uUm91dGVzLmFkZCAncHV0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9zYXZlLzppbnNfaWQnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkXG5cblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdFx0cmV0dXJuIDtcblxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcblxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXG5cblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXG5cdFx0dmFsdWVzID0gcmVxLmJvZHlcblxuXHRcdGlmIG5vdCB2YWx1ZXNcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgdmFsdWVzJylcblxuXHRcdGN1cnJlbnRfdHJhY2UgPSBudWxsXG5cdFx0c2V0T2JqID0gbmV3IE9iamVjdFxuXHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpXG5cdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxuXG5cdFx0Xy5lYWNoIGluc3RhbmNlLnRyYWNlcywgKHQpLT5cblx0XHRcdGlmIHQuaXNfZmluaXNoZWQgaXNudCB0cnVlXG5cdFx0XHRcdGN1cnJlbnRfdHJhY2UgPSB0XG5cblx0XHRjdXJyZW50X3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIGN1cnJlbnRfdHJhY2Uuc3RlcClcblxuXHRcdGlmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXMgXCJjb3VudGVyU2lnblwiXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfkvJrnrb7mraXpqqTkuI3og73kv67mlLnooajljZXlgLwnKVxuXG5cdFx0Xy5lYWNoIGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMsIChhKS0+XG5cdFx0XHRpZiBhLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZSBhbmQgYS50eXBlIGlzbnQgXCJjY1wiXG5cdFx0XHRcdGEudmFsdWVzID0gdmFsdWVzXG5cblx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZVxuXHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzXCJdID0gY3VycmVudF90cmFjZS5hcHByb3Zlc1xuXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSB7XG5cdFx0XHRfaWQ6IGluc19pZFxuXHRcdFx0J3RyYWNlcy5faWQnOiBjdXJyZW50X3RyYWNlLl9pZFxuXHRcdH0sICRzZXQ6IHNldE9ialxuXG5cdFx0cmVzdWx0ID0gbmV3IE9iamVjdFxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXN1bHR9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxuIiwiXG4vKlxuQGFwaSB7cHV0fSAvYXBpL3dvcmtmbG93L29wZW4vc2F2ZS86aW5zX2lkIOaaguWtmOeUs+ivt+WNlVxuXG5AYXBpTmFtZSBzYXZlSW5zdGFuY2VzXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbiAgICB7XG5cdFx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxuXHR9XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbiAgICB7XG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFx0XCJkYXRhXCI6IHtpbnN0YW5jZX1cblx0fVxuICovXG5Kc29uUm91dGVzLmFkZCgncHV0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9zYXZlLzppbnNfaWQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF9zdGVwLCBjdXJyZW50X3RyYWNlLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93LCBpbnNfaWQsIGluc3RhbmNlLCByZXN1bHQsIHNldE9iaiwgc3BhY2VfaWQsIHZhbHVlcztcbiAgdHJ5IHtcbiAgICBpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZDtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICB2YWx1ZXMgPSByZXEuYm9keTtcbiAgICBpZiAoIXZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCB2YWx1ZXMnKTtcbiAgICB9XG4gICAgY3VycmVudF90cmFjZSA9IG51bGw7XG4gICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKTtcbiAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpO1xuICAgIF8uZWFjaChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgIGlmICh0LmlzX2ZpbmlzaGVkICE9PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50X3RyYWNlID0gdDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjdXJyZW50X3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIGN1cnJlbnRfdHJhY2Uuc3RlcCk7XG4gICAgaWYgKGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgPT09IFwiY291bnRlclNpZ25cIikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5Lya562+5q2l6aqk5LiN6IO95L+u5pS56KGo5Y2V5YC8Jyk7XG4gICAgfVxuICAgIF8uZWFjaChjdXJyZW50X3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICBpZiAoYS5pc19maW5pc2hlZCAhPT0gdHJ1ZSAmJiBhLnR5cGUgIT09IFwiY2NcIikge1xuICAgICAgICByZXR1cm4gYS52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGU7XG4gICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXNcIl0gPSBjdXJyZW50X3RyYWNlLmFwcHJvdmVzO1xuICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgX2lkOiBpbnNfaWQsXG4gICAgICAndHJhY2VzLl9pZCc6IGN1cnJlbnRfdHJhY2UuX2lkXG4gICAgfSwge1xuICAgICAgJHNldDogc2V0T2JqXG4gICAgfSk7XG4gICAgcmVzdWx0ID0gbmV3IE9iamVjdDtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiByZXN1bHRcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xuQGFwaSB7cG9zdH0gL2FwaS93b3JrZmxvdy9vcGVuL2dldGJ5c3RlcG5hbWUg5qC55o2u5q2l6aqk5ZCN56ew6I635Y+W55Sz6K+35Y2VXG5cbkBhcGlOYW1lIGdldEluc3RhbmNlQnlTdGVwTmFtZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG57XG5cdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcbn1cblxuQGFwaVBhcmFtRXhhbXBsZSB7anNvbn0gUmVxdWVzdCBQYXlsb2FkOlxue1xuICAgIFwiZmxvd1wiOiDmtYHnqItJZCxcbiAgICBcInN0ZXBuYW1lXCI6IOatpemqpOWQjeensFxufVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG57XG5cdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcImRhdGFcIjogW1xuXHRcdHtcblx0XHRcdGluc3RhbmNlXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRpbnN0YW5jZVxuXHRcdH1cblx0XVxufVxuIyMjXG5Kc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vZ2V0YnlzdGVwbmFtZScsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdFx0cmV0dXJuIDtcblxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcblxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXG5cblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXHRcdHN0ZXBuYW1lID0gaGFzaERhdGFbXCJzdGVwbmFtZVwiXVxuXHRcdGZsb3cgPSBoYXNoRGF0YVtcImZsb3dcIl1cblxuXHRcdGlmIG5vdCBzdGVwbmFtZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBzdGVwbmFtZScpXG5cblx0XHRpZiBub3QgZmxvd1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBmbG93JylcblxuXHRcdCMg5Y675o6Je2ZpZWxkczoge2luYm94X3VlcnM6IDAsIGNjX3VzZXJzOiAwLCBvdXRib3hfdXNlcnM6IDAsIHRyYWNlczogMCwgYXR0YWNobWVudHM6IDB9XG5cdFx0aW5zdGFuY2VzID0gZGIuaW5zdGFuY2VzLmZpbmQoe3NwYWNlOiBzcGFjZV9pZCwgZmxvdzogZmxvdywgc3RhdGU6J3BlbmRpbmcnLCB0cmFjZXM6eyRlbGVtTWF0Y2g6IHtpc19maW5pc2hlZDogZmFsc2UsIG5hbWU6IHN0ZXBuYW1lfX19LCB7ZmllbGRzOiB7aW5ib3hfdWVyczogMCwgY2NfdXNlcnM6IDAsIG91dGJveF91c2VyczogMCwgYXR0YWNobWVudHM6IDAsIHRyYWNlczogMH19KS5mZXRjaCgpXG5cblx0XHRpbnN0YW5jZXMuZm9yRWFjaCAoaW5zdGFuY2UpLT5cblx0XHRcdGluc3RhbmNlLmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLCBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjogeyRuZTogdHJ1ZX19LCB7ZmllbGRzOiB7Y29waWVzOiAwfX0pLmZldGNoKClcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogaW5zdGFuY2VzfVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cbiIsIlxuLypcbkBhcGkge3Bvc3R9IC9hcGkvd29ya2Zsb3cvb3Blbi9nZXRieXN0ZXBuYW1lIOagueaNruatpemqpOWQjeensOiOt+WPlueUs+ivt+WNlVxuXG5AYXBpTmFtZSBnZXRJbnN0YW5jZUJ5U3RlcE5hbWVcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxue1xuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG59XG5cbkBhcGlQYXJhbUV4YW1wbGUge2pzb259IFJlcXVlc3QgUGF5bG9hZDpcbntcbiAgICBcImZsb3dcIjog5rWB56iLSWQsXG4gICAgXCJzdGVwbmFtZVwiOiDmraXpqqTlkI3np7Bcbn1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxue1xuXHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XCJkYXRhXCI6IFtcblx0XHR7XG5cdFx0XHRpbnN0YW5jZVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0aW5zdGFuY2Vcblx0XHR9XG5cdF1cbn1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2dldGJ5c3RlcG5hbWUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvdywgaGFzaERhdGEsIGluc3RhbmNlcywgc3BhY2VfaWQsIHN0ZXBuYW1lO1xuICB0cnkge1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgIGlmICghY3VycmVudF91c2VyX2luZm8pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgc3RlcG5hbWUgPSBoYXNoRGF0YVtcInN0ZXBuYW1lXCJdO1xuICAgIGZsb3cgPSBoYXNoRGF0YVtcImZsb3dcIl07XG4gICAgaWYgKCFzdGVwbmFtZSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBzdGVwbmFtZScpO1xuICAgIH1cbiAgICBpZiAoIWZsb3cpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgZmxvdycpO1xuICAgIH1cbiAgICBpbnN0YW5jZXMgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICBmbG93OiBmbG93LFxuICAgICAgc3RhdGU6ICdwZW5kaW5nJyxcbiAgICAgIHRyYWNlczoge1xuICAgICAgICAkZWxlbU1hdGNoOiB7XG4gICAgICAgICAgaXNfZmluaXNoZWQ6IGZhbHNlLFxuICAgICAgICAgIG5hbWU6IHN0ZXBuYW1lXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgaW5ib3hfdWVyczogMCxcbiAgICAgICAgY2NfdXNlcnM6IDAsXG4gICAgICAgIG91dGJveF91c2VyczogMCxcbiAgICAgICAgYXR0YWNobWVudHM6IDAsXG4gICAgICAgIHRyYWNlczogMFxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgaW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICAgIHJldHVybiBpbnN0YW5jZS5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCxcbiAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuICAgICAgICBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xuICAgICAgICAgICRuZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGNvcGllczogMFxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IGluc3RhbmNlc1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiIyMjXG5Db250ZW50LVR5cGXvvJphcHBsaWNhdGlvbi9qc29uXG5mb3JtLWRhdGEg5qC85byPOlxuZmQgPSBuZXcgRm9ybURhdGE7XG5mZC5hcHBlbmQoXCJmaWxlXCIsIGZpbGUpO1xuXG5mZC5hcHBlbmQoXCJpc19wcml2YXRlXCIsIGZhbHNlKTtcblxuaWYgKGlzQWRkVmVyc2lvbikge1xuXHRmZC5hcHBlbmQoXCJpc0FkZFZlcnNpb25cIiwgaXNBZGRWZXJzaW9uKTtcblx0ZmQuYXBwZW5kKFwicGFyZW50XCIsIGF0dGFjaF9wYXJlbnRfaWQpO1xufVxuXG5pZiAoaXNNYWluQXR0YWNoKSB7XG5cdGZkLmFwcGVuZChcIm1haW5cIiwgdHJ1ZSk7XG59XG4jIyNcblxuSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86aW5zX2lkJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZFxuXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcblx0XHRcdHJldHVybiA7XG5cblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXG5cblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cblxuXHRcdGlmIG5vdCBzcGFjZV9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXG5cblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxuXG5cdFx0aWYgbm90IGN1cnJlbnRfdXNlcl9pbmZvXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXG5cblx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKVxuXG5cdFx0aWYgaW5zdGFuY2Uuc3RhdGUgaXNudCBcImRyYWZ0XCJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+eUs+ivt+WNleiNieeov+eKtuaAgeaXtuaJjeiDveS4iuS8oCcpXG5cblx0XHRhcHByb3ZlX2lkID0gaW5zdGFuY2UudHJhY2VzWzBdLmFwcHJvdmVzWzBdLl9pZFxuXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cblx0XHRKc29uUm91dGVzLnBhcnNlRmlsZXMgcmVxLCByZXMsICgpLT5cblx0XHRcdGNvbGxlY3Rpb24gPSBjZnMuaW5zdGFuY2VzXG5cblx0XHRcdGlmIHJlcS5maWxlcyBhbmQgcmVxLmZpbGVzWzBdXG5cdFx0XHRcdCMg6ZmE5Lu25LiK5Lyg5o6l5Y+j77yM6ZmQ5Yi26ZmE5Lu25aSn5bCP77yM5pyA5aSn5Li6MTAwTVxuXHRcdFx0XHRpZiByZXEuZmlsZXNbMF0uZGF0YS5sZW5ndGggPiAoMTAwKjEwMjQqMTAyNClcblx0XHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRcdFx0Y29kZTogMjAwXG5cdFx0XHRcdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IFwi6LaF6L+H5LiK5Lyg6ZmE5Lu25aSn5bCP6ZmQ5Yi2KDEwME0pXCJ9XX1cblx0XHRcdFx0XHRyZXR1cm5cblxuXHRcdFx0XHRuZXdGaWxlID0gbmV3IEZTLkZpbGUoKTtcblx0XHRcdFx0bmV3RmlsZS5hdHRhY2hEYXRhIHJlcS5maWxlc1swXS5kYXRhLCB7dHlwZTogcmVxLmZpbGVzWzBdLm1pbWVUeXBlfSwgKGVycikgLT5cblx0XHRcdFx0XHRmaWxlbmFtZSA9IHJlcS5maWxlc1swXS5maWxlbmFtZVxuXG5cdFx0XHRcdFx0aWYgW1wiaW1hZ2UuanBnXCIsIFwiaW1hZ2UuZ2lmXCIsIFwiaW1hZ2UuanBlZ1wiLCBcImltYWdlLnBuZ1wiXS5pbmNsdWRlcyhmaWxlbmFtZS50b0xvd2VyQ2FzZSgpKVxuXHRcdFx0XHRcdFx0ZmlsZW5hbWUgPSBcImltYWdlLVwiICsgbW9tZW50KG5ldyBEYXRlKCkpLmZvcm1hdCgnWVlZWU1NRERISG1tc3MnKSArIFwiLlwiICsgZmlsZW5hbWUuc3BsaXQoJy4nKS5wb3AoKVxuXG5cdFx0XHRcdFx0Ym9keSA9IHJlcS5ib2R5XG5cblx0XHRcdFx0XHRib2R5Wydvd25lciddID0gaW5zdGFuY2Uuc3VibWl0dGVyXG5cdFx0XHRcdFx0Ym9keVsnb3duZXJfbmFtZSddID0gaW5zdGFuY2Uuc3VibWl0dGVyX25hbWVcblx0XHRcdFx0XHRib2R5WydzcGFjZSddID0gc3BhY2VfaWRcblx0XHRcdFx0XHRib2R5WydpbnN0YW5jZSddID0gaW5zX2lkXG5cdFx0XHRcdFx0Ym9keVsnYXBwcm92ZSddID0gYXBwcm92ZV9pZFxuXG5cdFx0XHRcdFx0dHJ5XG5cdFx0XHRcdFx0XHRpZiBib2R5ICYmIChib2R5Wyd1cGxvYWRfZnJvbSddIGlzIFwiSUVcIiBvciBib2R5Wyd1cGxvYWRfZnJvbSddIGlzIFwibm9kZVwiKVxuXHRcdFx0XHRcdFx0XHRmaWxlbmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudChmaWxlbmFtZSlcblx0XHRcdFx0XHRjYXRjaCBlXG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGZpbGVuYW1lKVxuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvciBlXG5cdFx0XHRcdFx0XHRmaWxlbmFtZSA9IGZpbGVuYW1lLnJlcGxhY2UoLyUvZywgXCItXCIpXG5cblx0XHRcdFx0XHRuZXdGaWxlLm5hbWUoZmlsZW5hbWUpXG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0aWYgYm9keSAmJiBib2R5Wydvd25lciddICYmIGJvZHlbJ293bmVyX25hbWUnXSAmJiBib2R5WydzcGFjZSddICYmIGJvZHlbJ2luc3RhbmNlJ10gICYmIGJvZHlbJ2FwcHJvdmUnXVxuXHRcdFx0XHRcdFx0cGFyZW50ID0gJydcblx0XHRcdFx0XHRcdG1ldGFkYXRhID0ge293bmVyOmJvZHlbJ293bmVyJ10sIG93bmVyX25hbWU6Ym9keVsnb3duZXJfbmFtZSddLCBzcGFjZTpib2R5WydzcGFjZSddLCBpbnN0YW5jZTpib2R5WydpbnN0YW5jZSddLCBhcHByb3ZlOiBib2R5WydhcHByb3ZlJ10sIGN1cnJlbnQ6IHRydWV9XG5cblx0XHRcdFx0XHRcdGlmIGJvZHlbXCJpc19wcml2YXRlXCJdICYmIGJvZHlbXCJpc19wcml2YXRlXCJdLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gXCJ0cnVlXCJcblx0XHRcdFx0XHRcdFx0bWV0YWRhdGEuaXNfcHJpdmF0ZSA9IHRydWVcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0bWV0YWRhdGEuaXNfcHJpdmF0ZSA9IGZhbHNlXG5cblx0XHRcdFx0XHRcdGlmIGJvZHlbJ21haW4nXSA9PSBcInRydWVcIlxuXHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5tYWluID0gdHJ1ZVxuXG5cdFx0XHRcdFx0XHRpZiBib2R5Wydpc0FkZFZlcnNpb24nXSAmJiBib2R5WydwYXJlbnQnXVxuXHRcdFx0XHRcdFx0XHRwYXJlbnQgPSBib2R5WydwYXJlbnQnXVxuXHRcdFx0XHRcdFx0IyBlbHNlXG5cdFx0XHRcdFx0XHQjICAgY29sbGVjdGlvbi5maW5kKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBib2R5WydpbnN0YW5jZSddLCAnbWV0YWRhdGEuY3VycmVudCcgOiB0cnVlfSkuZm9yRWFjaCAoYykgLT5cblx0XHRcdFx0XHRcdCMgICAgIGlmIGMubmFtZSgpID09IGZpbGVuYW1lXG5cdFx0XHRcdFx0XHQjICAgICAgIHBhcmVudCA9IGMubWV0YWRhdGEucGFyZW50XG5cblx0XHRcdFx0XHRcdGlmIHBhcmVudFxuXHRcdFx0XHRcdFx0XHRyID0gY29sbGVjdGlvbi51cGRhdGUoeydtZXRhZGF0YS5wYXJlbnQnOiBwYXJlbnQsICdtZXRhZGF0YS5jdXJyZW50JyA6IHRydWV9LCB7JHVuc2V0IDogeydtZXRhZGF0YS5jdXJyZW50JyA6ICcnfX0pXG5cdFx0XHRcdFx0XHRcdGlmIHJcblx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5wYXJlbnQgPSBwYXJlbnRcblx0XHRcdFx0XHRcdFx0XHRpZiBib2R5Wydsb2NrZWRfYnknXSAmJiBib2R5Wydsb2NrZWRfYnlfbmFtZSddXG5cdFx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5sb2NrZWRfYnkgPSBib2R5Wydsb2NrZWRfYnknXVxuXHRcdFx0XHRcdFx0XHRcdFx0bWV0YWRhdGEubG9ja2VkX2J5X25hbWUgPSBib2R5Wydsb2NrZWRfYnlfbmFtZSddXG5cblx0XHRcdFx0XHRcdFx0XHRuZXdGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGFcblx0XHRcdFx0XHRcdFx0XHRmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQgbmV3RmlsZVxuXG5cdFx0XHRcdFx0XHRcdFx0IyDliKDpmaTlkIzkuIDkuKrnlLPor7fljZXlkIzkuIDkuKrmraXpqqTlkIzkuIDkuKrkurrkuIrkvKDnmoTph43lpI3nmoTmlofku7Zcblx0XHRcdFx0XHRcdFx0XHRpZiBib2R5W1wib3ZlcndyaXRlXCJdICYmIGJvZHlbXCJvdmVyd3JpdGVcIl0udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSBcInRydWVcIlxuXHRcdFx0XHRcdFx0XHRcdFx0Y29sbGVjdGlvbi5yZW1vdmUoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGJvZHlbJ2luc3RhbmNlJ10sICdtZXRhZGF0YS5wYXJlbnQnOiBwYXJlbnQsICdtZXRhZGF0YS5vd25lcic6IGJvZHlbJ293bmVyJ10sICdtZXRhZGF0YS5hcHByb3ZlJzogYm9keVsnYXBwcm92ZSddLCAnbWV0YWRhdGEuY3VycmVudCc6IHskbmU6IHRydWV9fSlcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0bmV3RmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhXG5cdFx0XHRcdFx0XHRcdGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydCBuZXdGaWxlXG5cdFx0XHRcdFx0XHRcdGZpbGVPYmoudXBkYXRlKHskc2V0OiB7J21ldGFkYXRhLnBhcmVudCcgOiBmaWxlT2JqLl9pZH19KVxuXG5cdFx0XHRcdFx0IyDlhbzlrrnogIHniYjmnKxcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQgbmV3RmlsZVxuXG5cdFx0XHRcdFx0c2l6ZSA9IGZpbGVPYmoub3JpZ2luYWwuc2l6ZVxuXHRcdFx0XHRcdGlmICFzaXplXG5cdFx0XHRcdFx0XHRzaXplID0gMTAyNFxuXG5cdFx0XHRcdFx0cmVzdWx0ID0gbmV3IE9iamVjdFxuXHRcdFx0XHRcdHJlc3VsdCA9XG5cdFx0XHRcdFx0XHRhdHRhY2hfaWQ6IGZpbGVPYmouX2lkLFxuXHRcdFx0XHRcdFx0c2l6ZTogc2l6ZVxuXG5cdFx0XHRcdFx0cmVzLnNldEhlYWRlcihcIngtYW16LXZlcnNpb24taWRcIixmaWxlT2JqLl9pZCk7XG5cblx0XHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRcdFx0Y29kZTogMjAwXG5cdFx0XHRcdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3VsdH1cblx0XHRcdGVsc2Vcblx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0XHRjb2RlOiAyMDBcblx0XHRcdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IFwibmVlZCBmaWxlXCJ9XX1cblx0XHRcdFx0cmV0dXJuXG5cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XG5cbkpzb25Sb3V0ZXMuYWRkIFwiZGVsZXRlXCIsIFwiL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86aW5zX2lkXCIsICAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkXG5cblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdFx0cmV0dXJuIDtcblxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcblxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXG5cblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcblxuXHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpXG5cblx0XHRpZiBpbnN0YW5jZS5zdGF0ZSBpc250IFwiZHJhZnRcIlxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn55Sz6K+35Y2V6I2J56i/54q25oCB5pe25omN6IO95Yig6Zmk6ZmE5Lu2JylcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keSB8fCB7fVxuXHRcdGF0dGFjaF9pZCA9IGhhc2hEYXRhW1wiYXR0YWNoX2lkXCJdXG5cblx0XHRpZiBub3QgYXR0YWNoX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgYXR0YWNoX2lkJylcblxuXHRcdGNvbGxlY3Rpb24gPSBjZnMuaW5zdGFuY2VzXG5cblx0XHRmaWxlID0gY29sbGVjdGlvbi5maW5kT25lKHsgX2lkOiBhdHRhY2hfaWQsICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc19pZH0pXG5cdFx0aWYgZmlsZVxuXHRcdFx0ZmlsZS5yZW1vdmUoKVxuXHRcdGVsc2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+atpOmZhOS7tuS4jeWxnuS6juatpOeUs+ivt+WNle+8jOaIluW3suiiq+WIoOmZpCcpXG5cblx0XHRyZXN1bHQgPSBuZXcgT2JqZWN0XG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXN1bHR9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxuXG5Kc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmF0dGFjaF9pZFwiLCAgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRhdHRhY2hfaWQgPSByZXEucGFyYW1zLmF0dGFjaF9pZFxuXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcblx0XHRcdHJldHVybiA7XG5cblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXG5cblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cblxuXHRcdGlmIG5vdCBzcGFjZV9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXG5cblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxuXG5cdFx0aWYgbm90IGN1cnJlbnRfdXNlcl9pbmZvXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXG5cblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblxuXHRcdHJlcy5zdGF0dXNDb2RlID0gMzAyXG5cdFx0cmVzLnNldEhlYWRlciBcIkxvY2F0aW9uXCIsIFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvaW5zdGFuY2VzL1wiKSArIGF0dGFjaF9pZCArIFwiP2Rvd25sb2FkPXRydWVcIlxuXHRcdHJlcy5lbmQoKVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cbiIsIlxuLypcbkNvbnRlbnQtVHlwZe+8mmFwcGxpY2F0aW9uL2pzb25cbmZvcm0tZGF0YSDmoLzlvI86XG5mZCA9IG5ldyBGb3JtRGF0YTtcbmZkLmFwcGVuZChcImZpbGVcIiwgZmlsZSk7XG5cbmZkLmFwcGVuZChcImlzX3ByaXZhdGVcIiwgZmFsc2UpO1xuXG5pZiAoaXNBZGRWZXJzaW9uKSB7XG5cdGZkLmFwcGVuZChcImlzQWRkVmVyc2lvblwiLCBpc0FkZFZlcnNpb24pO1xuXHRmZC5hcHBlbmQoXCJwYXJlbnRcIiwgYXR0YWNoX3BhcmVudF9pZCk7XG59XG5cbmlmIChpc01haW5BdHRhY2gpIHtcblx0ZmQuYXBwZW5kKFwibWFpblwiLCB0cnVlKTtcbn1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86aW5zX2lkJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGFwcHJvdmVfaWQsIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGluc19pZCwgaW5zdGFuY2UsIHNwYWNlX2lkO1xuICB0cnkge1xuICAgIGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgIGlmICghY3VycmVudF91c2VyX2luZm8pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpO1xuICAgIGlmIChpbnN0YW5jZS5zdGF0ZSAhPT0gXCJkcmFmdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfnlLPor7fljZXojYnnqL/nirbmgIHml7bmiY3og73kuIrkvKAnKTtcbiAgICB9XG4gICAgYXBwcm92ZV9pZCA9IGluc3RhbmNlLnRyYWNlc1swXS5hcHByb3Zlc1swXS5faWQ7XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMucGFyc2VGaWxlcyhyZXEsIHJlcywgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY29sbGVjdGlvbiwgbmV3RmlsZTtcbiAgICAgIGNvbGxlY3Rpb24gPSBjZnMuaW5zdGFuY2VzO1xuICAgICAgaWYgKHJlcS5maWxlcyAmJiByZXEuZmlsZXNbMF0pIHtcbiAgICAgICAgaWYgKHJlcS5maWxlc1swXS5kYXRhLmxlbmd0aCA+ICgxMDAgKiAxMDI0ICogMTAyNCkpIHtcbiAgICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGVycm9yczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogXCLotoXov4fkuIrkvKDpmYTku7blpKflsI/pmZDliLYoMTAwTSlcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBuZXdGaWxlID0gbmV3IEZTLkZpbGUoKTtcbiAgICAgICAgcmV0dXJuIG5ld0ZpbGUuYXR0YWNoRGF0YShyZXEuZmlsZXNbMF0uZGF0YSwge1xuICAgICAgICAgIHR5cGU6IHJlcS5maWxlc1swXS5taW1lVHlwZVxuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICB2YXIgYm9keSwgZSwgZmlsZU9iaiwgZmlsZW5hbWUsIG1ldGFkYXRhLCBwYXJlbnQsIHIsIHJlc3VsdCwgc2l6ZTtcbiAgICAgICAgICBmaWxlbmFtZSA9IHJlcS5maWxlc1swXS5maWxlbmFtZTtcbiAgICAgICAgICBpZiAoW1wiaW1hZ2UuanBnXCIsIFwiaW1hZ2UuZ2lmXCIsIFwiaW1hZ2UuanBlZ1wiLCBcImltYWdlLnBuZ1wiXS5pbmNsdWRlcyhmaWxlbmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgZmlsZW5hbWUgPSBcImltYWdlLVwiICsgbW9tZW50KG5ldyBEYXRlKCkpLmZvcm1hdCgnWVlZWU1NRERISG1tc3MnKSArIFwiLlwiICsgZmlsZW5hbWUuc3BsaXQoJy4nKS5wb3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYm9keSA9IHJlcS5ib2R5O1xuICAgICAgICAgIGJvZHlbJ293bmVyJ10gPSBpbnN0YW5jZS5zdWJtaXR0ZXI7XG4gICAgICAgICAgYm9keVsnb3duZXJfbmFtZSddID0gaW5zdGFuY2Uuc3VibWl0dGVyX25hbWU7XG4gICAgICAgICAgYm9keVsnc3BhY2UnXSA9IHNwYWNlX2lkO1xuICAgICAgICAgIGJvZHlbJ2luc3RhbmNlJ10gPSBpbnNfaWQ7XG4gICAgICAgICAgYm9keVsnYXBwcm92ZSddID0gYXBwcm92ZV9pZDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGJvZHkgJiYgKGJvZHlbJ3VwbG9hZF9mcm9tJ10gPT09IFwiSUVcIiB8fCBib2R5Wyd1cGxvYWRfZnJvbSddID09PSBcIm5vZGVcIikpIHtcbiAgICAgICAgICAgICAgZmlsZW5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQoZmlsZW5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGZpbGVuYW1lKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICBmaWxlbmFtZSA9IGZpbGVuYW1lLnJlcGxhY2UoLyUvZywgXCItXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdGaWxlLm5hbWUoZmlsZW5hbWUpO1xuICAgICAgICAgIGlmIChib2R5ICYmIGJvZHlbJ293bmVyJ10gJiYgYm9keVsnb3duZXJfbmFtZSddICYmIGJvZHlbJ3NwYWNlJ10gJiYgYm9keVsnaW5zdGFuY2UnXSAmJiBib2R5WydhcHByb3ZlJ10pIHtcbiAgICAgICAgICAgIHBhcmVudCA9ICcnO1xuICAgICAgICAgICAgbWV0YWRhdGEgPSB7XG4gICAgICAgICAgICAgIG93bmVyOiBib2R5Wydvd25lciddLFxuICAgICAgICAgICAgICBvd25lcl9uYW1lOiBib2R5Wydvd25lcl9uYW1lJ10sXG4gICAgICAgICAgICAgIHNwYWNlOiBib2R5WydzcGFjZSddLFxuICAgICAgICAgICAgICBpbnN0YW5jZTogYm9keVsnaW5zdGFuY2UnXSxcbiAgICAgICAgICAgICAgYXBwcm92ZTogYm9keVsnYXBwcm92ZSddLFxuICAgICAgICAgICAgICBjdXJyZW50OiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGJvZHlbXCJpc19wcml2YXRlXCJdICYmIGJvZHlbXCJpc19wcml2YXRlXCJdLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgIG1ldGFkYXRhLmlzX3ByaXZhdGUgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbWV0YWRhdGEuaXNfcHJpdmF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvZHlbJ21haW4nXSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgbWV0YWRhdGEubWFpbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYm9keVsnaXNBZGRWZXJzaW9uJ10gJiYgYm9keVsncGFyZW50J10pIHtcbiAgICAgICAgICAgICAgcGFyZW50ID0gYm9keVsncGFyZW50J107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICAgIHIgPSBjb2xsZWN0aW9uLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLnBhcmVudCc6IHBhcmVudCxcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICR1bnNldDoge1xuICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiAnJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGEucGFyZW50ID0gcGFyZW50O1xuICAgICAgICAgICAgICAgIGlmIChib2R5Wydsb2NrZWRfYnknXSAmJiBib2R5Wydsb2NrZWRfYnlfbmFtZSddKSB7XG4gICAgICAgICAgICAgICAgICBtZXRhZGF0YS5sb2NrZWRfYnkgPSBib2R5Wydsb2NrZWRfYnknXTtcbiAgICAgICAgICAgICAgICAgIG1ldGFkYXRhLmxvY2tlZF9ieV9uYW1lID0gYm9keVsnbG9ja2VkX2J5X25hbWUnXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3RmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICAgICAgICAgIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChuZXdGaWxlKTtcbiAgICAgICAgICAgICAgICBpZiAoYm9keVtcIm92ZXJ3cml0ZVwiXSAmJiBib2R5W1wib3ZlcndyaXRlXCJdLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLnJlbW92ZSh7XG4gICAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGJvZHlbJ2luc3RhbmNlJ10sXG4gICAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5wYXJlbnQnOiBwYXJlbnQsXG4gICAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5vd25lcic6IGJvZHlbJ293bmVyJ10sXG4gICAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5hcHByb3ZlJzogYm9keVsnYXBwcm92ZSddLFxuICAgICAgICAgICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAkbmU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgICAgICAgIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChuZXdGaWxlKTtcbiAgICAgICAgICAgICAgZmlsZU9iai51cGRhdGUoe1xuICAgICAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5wYXJlbnQnOiBmaWxlT2JqLl9pZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChuZXdGaWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2l6ZSA9IGZpbGVPYmoub3JpZ2luYWwuc2l6ZTtcbiAgICAgICAgICBpZiAoIXNpemUpIHtcbiAgICAgICAgICAgIHNpemUgPSAxMDI0O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICAgIGF0dGFjaF9pZDogZmlsZU9iai5faWQsXG4gICAgICAgICAgICBzaXplOiBzaXplXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXMuc2V0SGVhZGVyKFwieC1hbXotdmVyc2lvbi1pZFwiLCBmaWxlT2JqLl9pZCk7XG4gICAgICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogXCJuZWVkIGZpbGVcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcblxuSnNvblJvdXRlcy5hZGQoXCJkZWxldGVcIiwgXCIvYXBpL3dvcmtmbG93L29wZW4vY2ZzLzppbnNfaWRcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGF0dGFjaF9pZCwgY29sbGVjdGlvbiwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmlsZSwgaGFzaERhdGEsIGluc19pZCwgaW5zdGFuY2UsIHJlc3VsdCwgc3BhY2VfaWQ7XG4gIHRyeSB7XG4gICAgaW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZCk7XG4gICAgaWYgKGluc3RhbmNlLnN0YXRlICE9PSBcImRyYWZ0XCIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+eUs+ivt+WNleiNieeov+eKtuaAgeaXtuaJjeiDveWIoOmZpOmZhOS7ticpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5IHx8IHt9O1xuICAgIGF0dGFjaF9pZCA9IGhhc2hEYXRhW1wiYXR0YWNoX2lkXCJdO1xuICAgIGlmICghYXR0YWNoX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgYXR0YWNoX2lkJyk7XG4gICAgfVxuICAgIGNvbGxlY3Rpb24gPSBjZnMuaW5zdGFuY2VzO1xuICAgIGZpbGUgPSBjb2xsZWN0aW9uLmZpbmRPbmUoe1xuICAgICAgX2lkOiBhdHRhY2hfaWQsXG4gICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnNfaWRcbiAgICB9KTtcbiAgICBpZiAoZmlsZSkge1xuICAgICAgZmlsZS5yZW1vdmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5q2k6ZmE5Lu25LiN5bGe5LqO5q2k55Sz6K+35Y2V77yM5oiW5bey6KKr5Yig6ZmkJyk7XG4gICAgfVxuICAgIHJlc3VsdCA9IG5ldyBPYmplY3Q7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG5cbkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86YXR0YWNoX2lkXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhdHRhY2hfaWQsIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIHNwYWNlX2lkO1xuICB0cnkge1xuICAgIGF0dGFjaF9pZCA9IHJlcS5wYXJhbXMuYXR0YWNoX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgIGlmICghY3VycmVudF91c2VyX2luZm8pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIHJlcy5zdGF0dXNDb2RlID0gMzAyO1xuICAgIHJlcy5zZXRIZWFkZXIoXCJMb2NhdGlvblwiLCBTdGVlZG9zLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2luc3RhbmNlcy9cIikgKyBhdHRhY2hfaWQgKyBcIj9kb3dubG9hZD10cnVlXCIpO1xuICAgIHJldHVybiByZXMuZW5kKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2ZvcndhcmRfcmVmaWxsXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3lm57loavlrZDooag9PT09PT09PT09XCJcblx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5zdWJUYWJsZVwiLHJlcT8ucXVlcnk/LnN1YlRhYmxlXG5cdGNvbnNvbGUubG9nIFwiPT09PT09PT095YiG5Y+R5Zue5aGr55qE5YiXPT09PT09PT09PVwiXG5cdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uY29sdW1uXCIscmVxPy5xdWVyeT8uY29sdW1uXG5cblx0Y29sdW1ucyA9IHJlcT8ucXVlcnk/LmNvbHVtbi5zcGxpdCgnOycpXG5cdGNvbnNvbGUubG9nIFwiY29sdW1uc1wiLGNvbHVtbnNcblxuXG5cdCMg5YiG5Y+R55qE55Sz6K+35Y2VXG5cdGZvcndhcmRfaW5zID0gcmVxPy5ib2R5Py5pbnN0YW5jZVxuXG5cdHN1YlRhYmxlID0gcmVxPy5xdWVyeT8uc3ViVGFibGVcblxuXHRpZiBmb3J3YXJkX2lucz8uc3RhdGUgPT0gXCJjb21wbGV0ZWRcIiAmJiBmb3J3YXJkX2lucz8uZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcz8ubGVuZ3RoPjAgJiYgc3ViVGFibGUgJiYgY29sdW1uc1xuXHRcdFxuXHRcdCMg5YiG5Y+R5Zue5p2l55qE5YC8XG5cdFx0Zm9yd2FyZF9pbnNfdmFsdWVzID0gZm9yd2FyZF9pbnM/LnZhbHVlc1xuXG5cdFx0IyAjIOWOn+eUs+ivt+WNleWtl+autVxuXHRcdG9yaWdpbmFsX2luc19pZCA9IF8ubGFzdCBmb3J3YXJkX2lucz8uZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlc1xuXHRcdG9yaWdpbmFsX2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG9yaWdpbmFsX2luc19pZClcblx0XHRvcmlnaW5hbF9pbnNfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUob3JpZ2luYWxfaW5zPy5mb3JtKVxuXG5cdFx0b3JpZ2luYWxfaW5zX2ZpZWxkcyA9IFtdXG5cdFx0b3JpZ2luYWxfc3VidGFibGVfZmllbGRzID0gW11cblxuXHRcdGNvbnNvbGUubG9nIFwib3JpZ2luYWxfaW5zX2Zvcm0/LmN1cnJlbnQ/Ll9pZFwiLG9yaWdpbmFsX2luc19mb3JtPy5jdXJyZW50Py5faWRcblx0XHRjb25zb2xlLmxvZyBcIm9yaWdpbmFsX2lucz8uZm9ybV92ZXJzaW9uXCIsb3JpZ2luYWxfaW5zPy5mb3JtX3ZlcnNpb25cblxuXHRcdCMg5p+l55yL5Y6f55Sz6K+35Y2V5piv5ZCm5pyJ5a+55bqU55qE5a2Q6KGoXG5cdFx0aWYgb3JpZ2luYWxfaW5zPy5mb3JtX3ZlcnNpb24gPT0gb3JpZ2luYWxfaW5zX2Zvcm0/LmN1cnJlbnQ/Ll9pZFxuXHRcdFx0b3JpZ2luYWxfaW5zX2ZpZWxkcyA9IG9yaWdpbmFsX2luc19mb3JtLmN1cnJlbnQ/LmZpZWxkc1xuXHRcdFx0b3JpZ2luYWxfaW5zX2ZpZWxkcy5mb3JFYWNoIChvcmlnaW5hbF9pbnNfZmllbGQpLT5cblx0XHRcdFx0Y29uc29sZS5sb2cgXCJvcmlnaW5hbF9pbnNfZmllbGRcIixvcmlnaW5hbF9pbnNfZmllbGQ/LmNvZGVcblx0XHRcdFx0aWYgb3JpZ2luYWxfaW5zX2ZpZWxkPy5jb2RlID09IHN1YlRhYmxlICYmIG9yaWdpbmFsX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnXG5cdFx0XHRcdFx0b3JpZ2luYWxfc3VidGFibGVfZmllbGRzID0gb3JpZ2luYWxfaW5zX2ZpZWxkPy5maWVsZHNcblx0XHRlbHNlXG5cdFx0XHRpZiBvcmlnaW5hbF9pbnNfZm9ybT8uaGlzdG9yeXM/Lmxlbmd0aCA+IDBcblx0XHRcdFx0b3JpZ2luYWxfaW5zX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaCAob2gpLT5cblx0XHRcdFx0XHRpZiBvcmlnaW5hbF9pbnM/LmZvcm1fdmVyc2lvbiA9PSBvaC5faWRcblx0XHRcdFx0XHRcdG9yaWdpbmFsX2luc19maWVsZHMgPSBvaD8uZmllbGRzXG5cdFx0XHRcdFx0XHRvcmlnaW5hbF9pbnNfZmllbGRzLmZvckVhY2ggKG9yaWdpbmFsX2luc19maWVsZCktPlxuXHRcdFx0XHRcdFx0XHRpZiBvcmlnaW5hbF9pbnNfZmllbGQ/LmNvZGUgPT0gc3ViVGFibGUgJiYgb3JpZ2luYWxfaW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZSdcblx0XHRcdFx0XHRcdFx0XHRvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBvcmlnaW5hbF9pbnNfZmllbGQ/LmZpZWxkc1xuXG5cdFx0Y29uc29sZS5sb2cgXCJvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHNcIixvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHM/Lmxlbmd0aFxuXG5cdFx0aWYgb3JpZ2luYWxfc3VidGFibGVfZmllbGRzXG5cdFx0XHQjICMg5pu05paw5q2l6aqk55qE5YC8XG5cdFx0XHQjIDEu5om+5Yiw5b2T5YmN55qE5q2l6aqkXG5cdFx0XHQjIDIu5b2T5YmN5q2l6aqk5LitYXBwcm92ZXPkuK3nmoR2YWx1ZXNcblx0XHRcdCMgMy7lnKh2YWx1ZXPkuK3mib7liLDooajmoLxcblx0XHRcdCMgNC7moLnmja7ooajmoLznmoRmaWVsZHPlsZ7mgKfvvIzkuIDkuKrkuKrnmoTotYvlgLxcblx0XHRcdCMgNS7miorlpI3liLbnmoRwdXNo5Yiw6KGo5qC85pWw57uE55qE5ZCO6Z2iXG5cdFx0XHR0cmFjZXMgPSBvcmlnaW5hbF9pbnM/LnRyYWNlc1xuXG5cdFx0XHR0cmFjZSA9IHRyYWNlc1t0cmFjZXMubGVuZ3RoLTFdXG5cblx0XHRcdGFwcHJvdmUgPSB0cmFjZT8uYXBwcm92ZXNbMF1cblxuXHRcdFx0dGFibGVfZGF0YSA9IGFwcHJvdmU/LnZhbHVlc1tzdWJUYWJsZV0gfHwgW11cblxuXHRcdFx0cm93X2RhdGEgPSB7fVxuXG5cdFx0XHRjb2x1bW5zLmZvckVhY2ggKGNvbHVtbiktPlxuXHRcdFx0XHRyb3dfZGF0YVtjb2x1bW5dID0gZm9yd2FyZF9pbnNfdmFsdWVzW2NvbHVtbl0gfHwgXCJcIlxuXHRcdFx0XG5cdFx0XHRcblx0XHRcdGlmIHJvd19kYXRhICYmIHJvd19kYXRhICE9IHt9XG5cdFx0XHRcdHRhYmxlX2RhdGEucHVzaCByb3dfZGF0YVxuXHRcdFx0XHR0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXS5hcHByb3Zlc1swXS52YWx1ZXNbc3ViVGFibGVdID0gdGFibGVfZGF0YVxuXG5cdFx0XHRcdGNvbnNvbGUubG9nIHRyYWNlc1t0cmFjZXMubGVuZ3RoLTFdLmFwcHJvdmVzWzBdLnZhbHVlc1tzdWJUYWJsZV1cblxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKG9yaWdpbmFsX2luc19pZCx7XG5cdFx0XHRcdFx0JHNldDp7XG5cdFx0XHRcdFx0XHQndHJhY2VzJzp0cmFjZXNcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRcdCdzdWNjZXNzJzogJ+WbnuWhq+aIkOWKnydcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0XHQnaW5mbyc6ICflm57loavmlbDmja7kuLrnqbonXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRlbHNlXG5cdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdCdlcnJvcic6ICfljp/nlLPor7fljZXml6Dnm7jlhbPlrZDooagnXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0ZWxzZVxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0J3N1Y2Nlc3MnOiAn55Sz6K+35Y2V5pyq57uT5p2fJ1xuXHRcdFx0fVxuXHRcdH1cbikiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2ZvcndhcmRfcmVmaWxsXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhcHByb3ZlLCBjb2x1bW5zLCBmb3J3YXJkX2lucywgZm9yd2FyZF9pbnNfdmFsdWVzLCBvcmlnaW5hbF9pbnMsIG9yaWdpbmFsX2luc19maWVsZHMsIG9yaWdpbmFsX2luc19mb3JtLCBvcmlnaW5hbF9pbnNfaWQsIG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcywgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZWY0LCByZWY1LCByZWY2LCByZWY3LCByZWY4LCByZWY5LCByb3dfZGF0YSwgc3ViVGFibGUsIHRhYmxlX2RhdGEsIHRyYWNlLCB0cmFjZXM7XG4gIGNvbnNvbGUubG9nKFwiPT09PT09PT095Zue5aGr5a2Q6KGoPT09PT09PT09PVwiKTtcbiAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5zdWJUYWJsZVwiLCByZXEgIT0gbnVsbCA/IChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYuc3ViVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApO1xuICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWIhuWPkeWbnuWhq+eahOWIlz09PT09PT09PT1cIik7XG4gIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uY29sdW1uXCIsIHJlcSAhPSBudWxsID8gKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLmNvbHVtbiA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gIGNvbHVtbnMgPSByZXEgIT0gbnVsbCA/IChyZWYyID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMi5jb2x1bW4uc3BsaXQoJzsnKSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgY29uc29sZS5sb2coXCJjb2x1bW5zXCIsIGNvbHVtbnMpO1xuICBmb3J3YXJkX2lucyA9IHJlcSAhPSBudWxsID8gKHJlZjMgPSByZXEuYm9keSkgIT0gbnVsbCA/IHJlZjMuaW5zdGFuY2UgOiB2b2lkIDAgOiB2b2lkIDA7XG4gIHN1YlRhYmxlID0gcmVxICE9IG51bGwgPyAocmVmNCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjQuc3ViVGFibGUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gIGlmICgoZm9yd2FyZF9pbnMgIT0gbnVsbCA/IGZvcndhcmRfaW5zLnN0YXRlIDogdm9pZCAwKSA9PT0gXCJjb21wbGV0ZWRcIiAmJiAoZm9yd2FyZF9pbnMgIT0gbnVsbCA/IChyZWY1ID0gZm9yd2FyZF9pbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgIT0gbnVsbCA/IHJlZjUubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDAgJiYgc3ViVGFibGUgJiYgY29sdW1ucykge1xuICAgIGZvcndhcmRfaW5zX3ZhbHVlcyA9IGZvcndhcmRfaW5zICE9IG51bGwgPyBmb3J3YXJkX2lucy52YWx1ZXMgOiB2b2lkIDA7XG4gICAgb3JpZ2luYWxfaW5zX2lkID0gXy5sYXN0KGZvcndhcmRfaW5zICE9IG51bGwgPyBmb3J3YXJkX2lucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzIDogdm9pZCAwKTtcbiAgICBvcmlnaW5hbF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShvcmlnaW5hbF9pbnNfaWQpO1xuICAgIG9yaWdpbmFsX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShvcmlnaW5hbF9pbnMgIT0gbnVsbCA/IG9yaWdpbmFsX2lucy5mb3JtIDogdm9pZCAwKTtcbiAgICBvcmlnaW5hbF9pbnNfZmllbGRzID0gW107XG4gICAgb3JpZ2luYWxfc3VidGFibGVfZmllbGRzID0gW107XG4gICAgY29uc29sZS5sb2coXCJvcmlnaW5hbF9pbnNfZm9ybT8uY3VycmVudD8uX2lkXCIsIG9yaWdpbmFsX2luc19mb3JtICE9IG51bGwgPyAocmVmNiA9IG9yaWdpbmFsX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWY2Ll9pZCA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCJvcmlnaW5hbF9pbnM/LmZvcm1fdmVyc2lvblwiLCBvcmlnaW5hbF9pbnMgIT0gbnVsbCA/IG9yaWdpbmFsX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApO1xuICAgIGlmICgob3JpZ2luYWxfaW5zICE9IG51bGwgPyBvcmlnaW5hbF9pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gKG9yaWdpbmFsX2luc19mb3JtICE9IG51bGwgPyAocmVmNyA9IG9yaWdpbmFsX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWY3Ll9pZCA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgIG9yaWdpbmFsX2luc19maWVsZHMgPSAocmVmOCA9IG9yaWdpbmFsX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWY4LmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgIG9yaWdpbmFsX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihvcmlnaW5hbF9pbnNfZmllbGQpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJvcmlnaW5hbF9pbnNfZmllbGRcIiwgb3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCk7XG4gICAgICAgIGlmICgob3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IHN1YlRhYmxlICYmIChvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJykge1xuICAgICAgICAgIHJldHVybiBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoKG9yaWdpbmFsX2luc19mb3JtICE9IG51bGwgPyAocmVmOSA9IG9yaWdpbmFsX2luc19mb3JtLmhpc3RvcnlzKSAhPSBudWxsID8gcmVmOS5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICBvcmlnaW5hbF9pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoKGZ1bmN0aW9uKG9oKSB7XG4gICAgICAgICAgaWYgKChvcmlnaW5hbF9pbnMgIT0gbnVsbCA/IG9yaWdpbmFsX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSBvaC5faWQpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsX2luc19maWVsZHMgPSBvaCAhPSBudWxsID8gb2guZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihvcmlnaW5hbF9pbnNfZmllbGQpIHtcbiAgICAgICAgICAgICAgaWYgKChvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gc3ViVGFibGUgJiYgKG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHNcIiwgb3JpZ2luYWxfc3VidGFibGVfZmllbGRzICE9IG51bGwgPyBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMubGVuZ3RoIDogdm9pZCAwKTtcbiAgICBpZiAob3JpZ2luYWxfc3VidGFibGVfZmllbGRzKSB7XG4gICAgICB0cmFjZXMgPSBvcmlnaW5hbF9pbnMgIT0gbnVsbCA/IG9yaWdpbmFsX2lucy50cmFjZXMgOiB2b2lkIDA7XG4gICAgICB0cmFjZSA9IHRyYWNlc1t0cmFjZXMubGVuZ3RoIC0gMV07XG4gICAgICBhcHByb3ZlID0gdHJhY2UgIT0gbnVsbCA/IHRyYWNlLmFwcHJvdmVzWzBdIDogdm9pZCAwO1xuICAgICAgdGFibGVfZGF0YSA9IChhcHByb3ZlICE9IG51bGwgPyBhcHByb3ZlLnZhbHVlc1tzdWJUYWJsZV0gOiB2b2lkIDApIHx8IFtdO1xuICAgICAgcm93X2RhdGEgPSB7fTtcbiAgICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbihjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIHJvd19kYXRhW2NvbHVtbl0gPSBmb3J3YXJkX2luc192YWx1ZXNbY29sdW1uXSB8fCBcIlwiO1xuICAgICAgfSk7XG4gICAgICBpZiAocm93X2RhdGEgJiYgcm93X2RhdGEgIT09IHt9KSB7XG4gICAgICAgIHRhYmxlX2RhdGEucHVzaChyb3dfZGF0YSk7XG4gICAgICAgIHRyYWNlc1t0cmFjZXMubGVuZ3RoIC0gMV0uYXBwcm92ZXNbMF0udmFsdWVzW3N1YlRhYmxlXSA9IHRhYmxlX2RhdGE7XG4gICAgICAgIGNvbnNvbGUubG9nKHRyYWNlc1t0cmFjZXMubGVuZ3RoIC0gMV0uYXBwcm92ZXNbMF0udmFsdWVzW3N1YlRhYmxlXSk7XG4gICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUob3JpZ2luYWxfaW5zX2lkLCB7XG4gICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgJ3RyYWNlcyc6IHRyYWNlc1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICdzdWNjZXNzJzogJ+WbnuWhq+aIkOWKnydcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgJ2luZm8nOiAn5Zue5aGr5pWw5o2u5Li656m6J1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICdlcnJvcic6ICfljp/nlLPor7fljZXml6Dnm7jlhbPlrZDooagnXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnc3VjY2Vzcyc6ICfnlLPor7fljZXmnKrnu5PmnZ8nXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9mb3J3YXJkX3RhYmxlX3JlZmlsbFwiLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT095Y6f6KGo5a2Q6KGoPT09PT09PT09PVwiXG5cdFx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5vVGFibGVcIixyZXE/LnF1ZXJ5Py5vVGFibGVcblx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PeeOsOihqOWtkOihqD09PT09PT09PT1cIlxuXHRcdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uZFRhYmxlXCIscmVxPy5xdWVyeT8uZFRhYmxlXG5cdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3ljp/ooajljZXnmoTlrZDooajljLnphY3liJc9PT09PT09PT09XCJcblx0XHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/Lm9NYXRjaENvbFwiLHJlcT8ucXVlcnk/Lm9NYXRjaENvbFxuXHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT09546w6KGo5Y2V55qE5a2Q6KGo5Yy56YWN5YiXPT09PT09PT09PVwiXG5cdFx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5kTWF0Y2hDb2xcIixyZXE/LnF1ZXJ5Py5kTWF0Y2hDb2xcblx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PemcgOimgeWbnuWhq+eahOWIlz09PT09PT09PT1cIlx0XG5cdFx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5yZWZpbGxDb2xcIixyZXE/LnF1ZXJ5Py5yZWZpbGxDb2xcblxuXHRcdCMg5YiG5Y+R55qE55Sz6K+35Y2VXG5cdFx0ZF9pbnMgPSByZXE/LmJvZHk/Lmluc3RhbmNlXG5cblx0XHRcblx0XHRpZiBkX2lucz8uc3RhdGUgPT0gXCJjb21wbGV0ZWRcIlxuXHRcdFx0aWYgcmVxPy5xdWVyeT8ub1RhYmxlXG5cdFx0XHRcdG9fdGFibGUgPSByZXE/LnF1ZXJ5Py5vVGFibGVcblx0XHRcdFx0aWYgcmVxPy5xdWVyeT8uZFRhYmxlXG5cdFx0XHRcdFx0ZF90YWJsZSA9IHJlcT8ucXVlcnk/LmRUYWJsZVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0ZF90YWJsZSA9IG9fdGFibGVcblx0XHRcdFx0aWYgcmVxPy5xdWVyeT8uYVRhYmxlXG5cdFx0XHRcdFx0YV90YWJsZSA9IHJlcT8ucXVlcnk/LmFUYWJsZVxuXHRcdFx0XHRpZiByZXE/LnF1ZXJ5Py5vTWF0Y2hDb2xcblx0XHRcdFx0XHRvX21hdGNoX2NvbCA9IHJlcT8ucXVlcnk/Lm9NYXRjaENvbFxuXHRcdFx0XHRcdGlmIHJlcT8ucXVlcnk/LmRNYXRjaENvbFxuXHRcdFx0XHRcdFx0ZF9tYXRjaF9jb2wgPSByZXE/LnF1ZXJ5Py5kTWF0Y2hDb2xcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRkX21hdGNoX2NvbCA9IG9fbWF0Y2hfY29sXG5cdFx0XHRcdFx0Y29sdW1ucyA9IHJlcT8ucXVlcnk/LnJlZmlsbENvbC5zcGxpdCgnOycpIHx8IFtdXG5cdFx0XHRcdFx0Y29uc29sZS5sb2cgXCJjb2x1bW5zXCIsY29sdW1uc1x0XHRcdFx0XHRcblxuXHRcdFx0XHRcdGlmIGNvbHVtbnMgfHwgY29sdW1ucy5sZW5ndGg8MVxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT09PT09PT09PT09PT09XCJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nIGRfdGFibGUsIG9fbWF0Y2hfY29sLCBjb2x1bW5zXG5cblx0XHRcdFx0XHRcdCMg5YiG5Y+R5Zue5p2l55qE5YC8XG5cdFx0XHRcdFx0XHRkX2luc192YWx1ZXMgPSBkX2lucz8udmFsdWVzXG5cblx0XHRcdFx0XHRcdCMg5Y6f55Sz6K+35Y2VIGZvcm0g6KGo5a2X5q61XG5cdFx0XHRcdFx0XHRvX2luc19pZCA9IF8ubGFzdCBkX2lucz8uZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlc1xuXHRcdFx0XHRcdFx0b19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShvX2luc19pZClcblx0XHRcdFx0XHRcdG9faW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKG9faW5zPy5mb3JtKVxuXG5cdFx0XHRcdFx0XHRkX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShkX2lucz8uZm9ybSlcblxuXHRcdFx0XHRcdFx0IyDljp/nlLPor7fljZXnmoQgZmllbGRzXG5cdFx0XHRcdFx0XHRvX2luc19maWVsZHMgPSBbXVxuXG5cdFx0XHRcdFx0XHQjIOWOn+WtkOihqOWtl+autVxuXHRcdFx0XHRcdFx0b19zdWJ0YWJsZV9maWVsZHMgPSBbXVxuXG5cdFx0XHRcdFx0XHQjIOWIhuWPkeeUs+ivt+WNleeahCBmaWVsZHNcblx0XHRcdFx0XHRcdGRfaW5zX2ZpZWxkcyA9IFtdXG5cdFx0XHRcdFx0XHQjIOeOsOeUs+ivt+WNleWtl+ihqOWtl+autVxuXHRcdFx0XHRcdFx0ZF9zdWJ0YWJsZV9maWVsZHMgPSBbXVxuXG5cdFx0XHRcdFx0XHQjIOi1i+WAvOWvueW6lOeahOWtl+autVxuXHRcdFx0XHRcdFx0Y29sdW1uX2xpc3QgPSBbXVxuXG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdCMg5YiG5Y+R5ZCO55Sz6K+35Y2V55qEIOWtkOihqOWAvFxuXHRcdFx0XHRcdFx0ZF90YWJsZV92YWx1ZXMgPSBbXVxuXG5cdFx0XHRcdFx0XHQjIOafpeeci+WOn+eUs+ivt+WNleaYr+WQpuacieWvueW6lOeahOWtkOihqFxuXHRcdFx0XHRcdFx0aWYgb19pbnM/LmZvcm1fdmVyc2lvbiA9PSBvX2luc19mb3JtPy5jdXJyZW50Py5faWRcblx0XHRcdFx0XHRcdFx0b19pbnNfZmllbGRzID0gb19pbnNfZm9ybT8uY3VycmVudD8uZmllbGRzXG5cdFx0XHRcdFx0XHRcdG9faW5zX2ZpZWxkcy5mb3JFYWNoIChvX2luc19maWVsZCktPlxuXHRcdFx0XHRcdFx0XHRcdGlmIG9faW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZScgJiYgb19pbnNfZmllbGQ/LmNvZGUgPT0gb190YWJsZVxuXHRcdFx0XHRcdFx0XHRcdFx0b19zdWJ0YWJsZV9maWVsZHMgPSBvX2luc19maWVsZD8uZmllbGRzXG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdGlmIG9faW5zX2Zvcm0/Lmhpc3RvcnlzPy5sZW5ndGggPiAwXG5cdFx0XHRcdFx0XHRcdFx0b19pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoIChvaCktPlxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgb19pbnM/LmZvcm1fdmVyc2lvbiA9PSBvaC5faWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0b19pbnNfZmllbGRzID0gb2g/LmZpZWxkc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRvX2luc19maWVsZHMuZm9yRWFjaCAob19pbnNfZmllbGQpLT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiBvX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIG9faW5zX2ZpZWxkPy5jb2RlID09IG9fdGFibGVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9fc3VidGFibGVfZmllbGRzID0gb19pbnNfZmllbGQ/LmZpZWxkc1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQjIOafpeeci+WIhuWPkeeahOeUs+ivt+WNleaYr+WQpuacieWvueW6lOeahOWtl+ihqFxuXHRcdFx0XHRcdFx0aWYgZF9pbnM/LmZvcm1fdmVyc2lvbiA9PSBkX2luc19mb3JtPy5jdXJyZW50Py5faWRcblx0XHRcdFx0XHRcdFx0ZF9pbnNfZmllbGRzID0gZF9pbnNfZm9ybT8uY3VycmVudD8uZmllbGRzXG5cdFx0XHRcdFx0XHRcdGRfaW5zX2ZpZWxkcy5mb3JFYWNoIChkX2luc19maWVsZCktPlxuXHRcdFx0XHRcdFx0XHRcdGlmKChkX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIGRfaW5zX2ZpZWxkPy5jb2RlID09IGRfdGFibGUpfHwoYV90YWJsZSAmJiBkX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIGRfaW5zX2ZpZWxkPy5jb2RlID09IGFfdGFibGUpKVxuXHRcdFx0XHRcdFx0XHRcdFx0ZF9zdWJ0YWJsZV9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5jb25jYXQgZF9pbnNfZmllbGQ/LmZpZWxkc1xuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRpZiBkX2luc19mb3JtPy5oaXN0b3J5cz8ubGVuZ3RoID4gMFxuXHRcdFx0XHRcdFx0XHRcdGRfaW5zX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaCAoZGgpLT5cblx0XHRcdFx0XHRcdFx0XHRcdGlmIGRfaW5zPy5mb3JtX3ZlcnNpb24gPT0gZGguX2lkXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRfaW5zX2ZpZWxkcyA9IGRoPy5maWVsZHNcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZF9pbnNfZmllbGRzLmZvckVhY2ggKGRfaW5zX2ZpZWxkKS0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoKGRfaW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZScgJiYgZF9pbnNfZmllbGQ/LmNvZGUgPT0gZF90YWJsZSl8fChhX3RhYmxlICYmIGRfaW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZScgJiYgZF9pbnNfZmllbGQ/LmNvZGUgPT0gYV90YWJsZSkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkX3N1YnRhYmxlX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmNvbmNhdCBkX2luc19maWVsZD8uZmllbGRzXG5cdFx0XHRcdFx0XHRcblxuXHRcdFx0XHRcdFx0XG5cblx0XHRcdFx0XHRcdGlmIG9fc3VidGFibGVfZmllbGRzLmxlbmd0aCA9PSAwXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nIFwib19zdWJ0YWJsZV9maWVsZHNcIixvX3N1YnRhYmxlX2ZpZWxkc1xuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5peg5a+55bqU5a2Q6KGoJyk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGlmIGRfc3VidGFibGVfZmllbGRzLmxlbmd0aCA9PSAwXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXml6Dlr7nlupTlrZDooagnKTtcblxuXHRcdFx0XHRcdFx0ZF90YWJsZV92YWx1ZXMgPSBkX2lucz8udmFsdWVzW2RfdGFibGVdIHx8IFtdXG5cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0aWYgYV90YWJsZVxuXHRcdFx0XHRcdFx0XHRhX3RhYmxlX3ZhbHVlcyA9ICBkX2lucz8udmFsdWVzW2FfdGFibGVdIHx8IFtdXG5cdFx0XHRcdFx0XHRcdGlmIGFfdGFibGVfdmFsdWVzICYmIGFfdGFibGVfdmFsdWVzPy5sZW5ndGg9PWRfdGFibGVfdmFsdWVzPy5sZW5ndGhcblx0XHRcdFx0XHRcdFx0XHRhX3RhYmxlX3ZhbHVlcy5mb3JFYWNoIChhX3JvdyxpbmRleCktPlxuXHRcdFx0XHRcdFx0XHRcdFx0ZF90YWJsZV92YWx1ZXNbaW5kZXhdW2tleV0gPSB2YWx1ZSBmb3Iga2V5LHZhbHVlIG9mIGFfcm93XG5cblx0XHRcdFx0XHRcdGlmIGRfdGFibGVfdmFsdWVzLmxlbmd0aCA9PSAwXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlrZDooajmlbDmja7kuLrnqbonKTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0b19tYXRjaF9jb2xfZmllbGRzID0gb19zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKChtKS0+cmV0dXJuIG0uY29kZT09b19tYXRjaF9jb2wpXG5cdFx0XHRcdFx0XHRkX21hdGNoX2NvbF9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoKG0pLT5yZXR1cm4gbS5jb2RlPT1kX21hdGNoX2NvbClcblxuXHRcdFx0XHRcdFx0IyDljLnphY3liJfliKTmlq1cblx0XHRcdFx0XHRcdGlmIG9fbWF0Y2hfY29sX2ZpZWxkcy5sZW5ndGggPT0gMFxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Yy56YWN5YiXJyk7XG5cblx0XHRcdFx0XHRcdGlmIGRfbWF0Y2hfY29sX2ZpZWxkcy5sZW5ndGggPT0gMFxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Yy56YWN5YiXJyk7XG5cblx0XHRcdFx0XHRcdCMg5Yik5pat5Yy56YWN5YiX5a2X5q6155qE5YC857G75Z6L5piv5ZCm5LiA6Ie0XG5cdFx0XHRcdFx0XHRvX21hdGNoX2NvbF9maWVsZCA9IG9fbWF0Y2hfY29sX2ZpZWxkc1swXVxuXHRcdFx0XHRcdFx0ZF9tYXRjaF9jb2xfZmllbGQgPSBkX21hdGNoX2NvbF9maWVsZHNbMF1cblxuXHRcdFx0XHRcdFx0aWYgb19tYXRjaF9jb2xfZmllbGQ/LnR5cGUgIT0gZF9tYXRjaF9jb2xfZmllbGQ/LnR5cGVcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWSjOWOn+eUs+ivt+WNleWtkOihqOeahOWMuemFjeWIl+Wtl+auteS4jeS4gOiHtCcpO1xuXG5cdFx0XHRcdFx0XHQjIOWbnuWhq+WIl+WIpOaWrVxuXHRcdFx0XHRcdFx0Y29sdW1ucy5mb3JFYWNoIChjb2x1bW4pLT5cblx0XHRcdFx0XHRcdFx0Y29scyA9IGNvbHVtbi5zcGxpdCgnLScpIHx8IFtdXG5cdFx0XHRcdFx0XHRcdGlmIGNvbHMubGVuZ3RoID09IDJcblx0XHRcdFx0XHRcdFx0XHRvX2NvbCA9IGNvbHNbMF1cblx0XHRcdFx0XHRcdFx0XHRkX2NvbCA9IGNvbHNbMV1cblx0XHRcdFx0XHRcdFx0XHRvX2NvbF9maWVsZHMgPSBvX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoKG0pLT5yZXR1cm4gbS5jb2RlPT1vX2NvbClcblx0XHRcdFx0XHRcdFx0XHRkX2NvbF9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoKG0pLT5yZXR1cm4gbS5jb2RlPT1kX2NvbClcblxuXHRcdFx0XHRcdFx0XHRcdCMg5Yik5pat5piv5ZCm5pyJ5a+55bqU55qE5Zue5aGr5YiXXG5cdFx0XHRcdFx0XHRcdFx0aWYgb19jb2xfZmllbGRzLmxlbmd0aCA9PSAwXG5cdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Zue5aGr5YiXJyk7XG5cblx0XHRcdFx0XHRcdFx0XHRpZiBkX2NvbF9maWVsZHMubGVuZ3RoID09IDBcblx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlrZDooajml6Dlr7nlupTlm57loavliJcnKTtcblxuXHRcdFx0XHRcdFx0XHRcdCMg5Yik5pat5Yy56YWN5YiX5a2X5q6155qE5YC857G75Z6L5piv5ZCm5LiA6Ie0XG5cdFx0XHRcdFx0XHRcdFx0aWYgb19jb2xfZmllbGRzPy50eXBlICE9IGRfY29sX2ZpZWxkcz8udHlwZVxuXHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WbnuWhq+WIl+Wtl+auteexu+Wei+S4jeS4gOiHtCcpO1xuXHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdGNvbCA9IHtcblx0XHRcdFx0XHRcdFx0XHRcdG9fY29sOiBvX2NvbCxcblx0XHRcdFx0XHRcdFx0XHRcdGRfY29sOiBkX2NvbFxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRjb2x1bW5fbGlzdC5wdXNoIGNvbFxuXG5cdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Zue5aGr5YiX5LiN5Yy56YWNJyk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdCMg6LWL5YC8XG5cdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nICAnPT09PT09Y29sdW1uX2xpc3Q9PT09PT09Jyxjb2x1bW5fbGlzdFxuXG5cdFx0XHRcdFx0XHR0cmFjZXMgPSBvX2lucz8udHJhY2VzXG5cblx0XHRcdFx0XHRcdCMg5Y6f55Sz6K+35Y2V55qEIHN0ZXAgXG5cdFx0XHRcdFx0XHR0cmFjZSA9IHRyYWNlc1t0cmFjZXMubGVuZ3RoLTFdXG5cblx0XHRcdFx0XHRcdCMg5Y6f55Sz6K+35Y2V55qE5b2T5YmN5q2l6aqkXG5cdFx0XHRcdFx0XHRhcHByb3ZlID0gdHJhY2U/LmFwcHJvdmVzWzBdXG5cblx0XHRcdFx0XHRcdCMg5YWD55Sz6K+35Y2V55qE5b2T5YmNIHZhbHVlIOeahCDlrZDooahcblx0XHRcdFx0XHRcdHRhYmxlX2RhdGEgPSBhcHByb3ZlPy52YWx1ZXNbb190YWJsZV0gfHwgW11cblxuXG5cdFx0XHRcdFx0XHQjIOagueaNriBjb2x1bW5fbGlzdCDotYvlgLzlr7nlupTlrZfmrrXov5vooYzotYvlgLxcblx0XHRcdFx0XHRcdCMg5b6q546v5YiG5Y+R55Sz6K+35Y2V55qE5q+P6KGMXG5cdFx0XHRcdFx0XHRkX3RhYmxlX3ZhbHVlcy5mb3JFYWNoIChkX3JvdyktPlxuXHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwiZF9yb3dcIixkX3Jvd1xuXHRcdFx0XHRcdFx0XHQjIOafpeaJvuWMuemFjeeahOWIl+aYr+WQpuS4juW9k+WJjeeahOWMuemFjeWIl+S4gOiHtFxuXHRcdFx0XHRcdFx0XHRoYXNfb2JqID0gZmFsc2Vcblx0XHRcdFx0XHRcdFx0Y291bnQgPSAtMVxuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0IyDnnIvljp/lrZDooajmmK/lkKbmnInor6XljLnphY3liJdcblx0XHRcdFx0XHRcdFx0dGFibGVfZGF0YS5mb3JFYWNoIChvX3JvdywgaW5kZXgpLT5cblx0XHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwib19yb3dcIiwgb19yb3dcblx0XHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwiaW5kZXhcIixpbmRleFxuXHRcdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJvX3Jvd1tvX21hdGNoX2NvbF1cIixvX3Jvd1tvX21hdGNoX2NvbF1cblx0XHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwiZF9yb3dbZF9tYXRjaF9jb2xdXCIsZF9yb3dbZF9tYXRjaF9jb2xdXG5cdFx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcIm9fcm93W29fbWF0Y2hfY29sXSA9PSBkX3Jvd1tkX21hdGNoX2NvbF1cIixvX3Jvd1tvX21hdGNoX2NvbF0gPT0gZF9yb3dbZF9tYXRjaF9jb2xdXG5cblx0XHRcdFx0XHRcdFx0XHRpZiBvX3Jvd1tvX21hdGNoX2NvbF0gPT0gZF9yb3dbZF9tYXRjaF9jb2xdXG5cdFx0XHRcdFx0XHRcdFx0XHRoYXNfb2JqID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0Y291bnQgPSBpbmRleFxuXG5cdFx0XHRcdFx0XHRcdCMg5Y6f55Sz6K+35Y2V55qE5Yy56YWN5a2X5q615pyJ5YC8XG5cdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJoYXNfb2JqXCIsaGFzX29ialxuXHRcdFx0XHRcdFx0XHRpZiBoYXNfb2JqPT10cnVlXG5cdFx0XHRcdFx0XHRcdFx0Y29sdW1uX2xpc3QuZm9yRWFjaCAoY29sKS0+XG5cdFx0XHRcdFx0XHRcdFx0XHR0YWJsZV9kYXRhW2NvdW50XVtjb2w/Lm9fY29sXSA9IGRfcm93W2NvbD8uZF9jb2xdXG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0cm93X2RhdGEgPSB7fVxuXHRcdFx0XHRcdFx0XHRcdHJvd19kYXRhW29fbWF0Y2hfY29sXSA9IGRfcm93W2RfbWF0Y2hfY29sXVxuXHRcdFx0XHRcdFx0XHRcdGNvbHVtbl9saXN0LmZvckVhY2ggKGNvbCktPlxuXHRcdFx0XHRcdFx0XHRcdFx0cm93X2RhdGFbY29sPy5vX2NvbF0gPSBkX3Jvd1tjb2w/LmRfY29sXVxuXHRcdFx0XHRcdFx0XHRcdHRhYmxlX2RhdGEucHVzaCByb3dfZGF0YVxuXG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdHRyYWNlc1t0cmFjZXMubGVuZ3RoLTFdLmFwcHJvdmVzWzBdLnZhbHVlcyA9IG9faW5zPy52YWx1ZXNcblx0XHRcdFx0XHRcdHRyYWNlc1t0cmFjZXMubGVuZ3RoLTFdLmFwcHJvdmVzWzBdLnZhbHVlc1tvX3RhYmxlXSA9IHRhYmxlX2RhdGFcblxuXHRcdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZShvX2luc19pZCx7XG5cdFx0XHRcdFx0XHRcdCRzZXQ6e1xuXHRcdFx0XHRcdFx0XHRcdCd0cmFjZXMnOnRyYWNlc1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSlcblxuXHRcdFx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0XHRcdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRcdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRcdFx0XHQnc3VjY2Vzcyc6ICflm57loavmiJDlip8nXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICd3ZWJob29r5pyq6YWN572u5a2Q6KGo5Zue5aGr5YiX5a2X5q61IGNvbHVtbnMg5YC8Jyk7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWMuemFjeWIl+Wtl+autSBvTWF0Y2hDb2wg5YC8Jyk7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICd3ZWJob29r5pyq6YWN572u5Y6f6KGo5Y2V5a2Q6KGoIG9UYWJsZSDlgLwnKTtcblx0XHRlbHNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn55Sz6K+35Y2V5pyq57uT5p2fJyk7XG5cdGNhdGNoIGVcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdGVycm9yczogW2VdXG5cdFx0XHR9XG5cdFx0fVxuKSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZm9yd2FyZF90YWJsZV9yZWZpbGxcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGFfdGFibGUsIGFfdGFibGVfdmFsdWVzLCBhcHByb3ZlLCBjb2x1bW5fbGlzdCwgY29sdW1ucywgZF9pbnMsIGRfaW5zX2ZpZWxkcywgZF9pbnNfZm9ybSwgZF9pbnNfdmFsdWVzLCBkX21hdGNoX2NvbCwgZF9tYXRjaF9jb2xfZmllbGQsIGRfbWF0Y2hfY29sX2ZpZWxkcywgZF9zdWJ0YWJsZV9maWVsZHMsIGRfdGFibGUsIGRfdGFibGVfdmFsdWVzLCBlLCBvX2lucywgb19pbnNfZmllbGRzLCBvX2luc19mb3JtLCBvX2luc19pZCwgb19tYXRjaF9jb2wsIG9fbWF0Y2hfY29sX2ZpZWxkLCBvX21hdGNoX2NvbF9maWVsZHMsIG9fc3VidGFibGVfZmllbGRzLCBvX3RhYmxlLCByZWYsIHJlZjEsIHJlZjEwLCByZWYxMSwgcmVmMTIsIHJlZjEzLCByZWYxNCwgcmVmMTUsIHJlZjE2LCByZWYxNywgcmVmMTgsIHJlZjE5LCByZWYyLCByZWYyMCwgcmVmMjEsIHJlZjIyLCByZWYzLCByZWY0LCByZWY1LCByZWY2LCByZWY3LCByZWY4LCByZWY5LCB0YWJsZV9kYXRhLCB0cmFjZSwgdHJhY2VzO1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095Y6f6KGo5a2Q6KGoPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/Lm9UYWJsZVwiLCByZXEgIT0gbnVsbCA/IChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYub1RhYmxlIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeeOsOihqOWtkOihqD09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5kVGFibGVcIiwgcmVxICE9IG51bGwgPyAocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEuZFRhYmxlIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWOn+ihqOWNleeahOWtkOihqOWMuemFjeWIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5vTWF0Y2hDb2xcIiwgcmVxICE9IG51bGwgPyAocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIub01hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeeOsOihqOWNleeahOWtkOihqOWMuemFjeWIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5kTWF0Y2hDb2xcIiwgcmVxICE9IG51bGwgPyAocmVmMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjMuZE1hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PemcgOimgeWbnuWhq+eahOWIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5yZWZpbGxDb2xcIiwgcmVxICE9IG51bGwgPyAocmVmNCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjQucmVmaWxsQ29sIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBkX2lucyA9IHJlcSAhPSBudWxsID8gKHJlZjUgPSByZXEuYm9keSkgIT0gbnVsbCA/IHJlZjUuaW5zdGFuY2UgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgaWYgKChkX2lucyAhPSBudWxsID8gZF9pbnMuc3RhdGUgOiB2b2lkIDApID09PSBcImNvbXBsZXRlZFwiKSB7XG4gICAgICBpZiAocmVxICE9IG51bGwgPyAocmVmNiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjYub1RhYmxlIDogdm9pZCAwIDogdm9pZCAwKSB7XG4gICAgICAgIG9fdGFibGUgPSByZXEgIT0gbnVsbCA/IChyZWY3ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNy5vVGFibGUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgIGlmIChyZXEgIT0gbnVsbCA/IChyZWY4ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmOC5kVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICAgICAgICBkX3RhYmxlID0gcmVxICE9IG51bGwgPyAocmVmOSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjkuZFRhYmxlIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRfdGFibGUgPSBvX3RhYmxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXEgIT0gbnVsbCA/IChyZWYxMCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEwLmFUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgICAgICAgIGFfdGFibGUgPSByZXEgIT0gbnVsbCA/IChyZWYxMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjExLmFUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxICE9IG51bGwgPyAocmVmMTIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxMi5vTWF0Y2hDb2wgOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICAgICAgICBvX21hdGNoX2NvbCA9IHJlcSAhPSBudWxsID8gKHJlZjEzID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTMub01hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICAgIGlmIChyZXEgIT0gbnVsbCA/IChyZWYxNCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjE0LmRNYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgICAgICAgICAgZF9tYXRjaF9jb2wgPSByZXEgIT0gbnVsbCA/IChyZWYxNSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjE1LmRNYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZF9tYXRjaF9jb2wgPSBvX21hdGNoX2NvbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29sdW1ucyA9IChyZXEgIT0gbnVsbCA/IChyZWYxNiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjE2LnJlZmlsbENvbC5zcGxpdCgnOycpIDogdm9pZCAwIDogdm9pZCAwKSB8fCBbXTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImNvbHVtbnNcIiwgY29sdW1ucyk7XG4gICAgICAgICAgaWYgKGNvbHVtbnMgfHwgY29sdW1ucy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PT09PT09PT09PT09PT1cIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkX3RhYmxlLCBvX21hdGNoX2NvbCwgY29sdW1ucyk7XG4gICAgICAgICAgICBkX2luc192YWx1ZXMgPSBkX2lucyAhPSBudWxsID8gZF9pbnMudmFsdWVzIDogdm9pZCAwO1xuICAgICAgICAgICAgb19pbnNfaWQgPSBfLmxhc3QoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMgOiB2b2lkIDApO1xuICAgICAgICAgICAgb19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShvX2luc19pZCk7XG4gICAgICAgICAgICBvX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShvX2lucyAhPSBudWxsID8gb19pbnMuZm9ybSA6IHZvaWQgMCk7XG4gICAgICAgICAgICBkX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShkX2lucyAhPSBudWxsID8gZF9pbnMuZm9ybSA6IHZvaWQgMCk7XG4gICAgICAgICAgICBvX2luc19maWVsZHMgPSBbXTtcbiAgICAgICAgICAgIG9fc3VidGFibGVfZmllbGRzID0gW107XG4gICAgICAgICAgICBkX2luc19maWVsZHMgPSBbXTtcbiAgICAgICAgICAgIGRfc3VidGFibGVfZmllbGRzID0gW107XG4gICAgICAgICAgICBjb2x1bW5fbGlzdCA9IFtdO1xuICAgICAgICAgICAgZF90YWJsZV92YWx1ZXMgPSBbXTtcbiAgICAgICAgICAgIGlmICgob19pbnMgIT0gbnVsbCA/IG9faW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IChvX2luc19mb3JtICE9IG51bGwgPyAocmVmMTcgPSBvX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWYxNy5faWQgOiB2b2lkIDAgOiB2b2lkIDApKSB7XG4gICAgICAgICAgICAgIG9faW5zX2ZpZWxkcyA9IG9faW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYxOCA9IG9faW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjE4LmZpZWxkcyA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgb19pbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24ob19pbnNfZmllbGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoKG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAob19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBvX3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gb19zdWJ0YWJsZV9maWVsZHMgPSBvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoKG9faW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYxOSA9IG9faW5zX2Zvcm0uaGlzdG9yeXMpICE9IG51bGwgPyByZWYxOS5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICAgICAgICAgIG9faW5zX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaChmdW5jdGlvbihvaCkge1xuICAgICAgICAgICAgICAgICAgaWYgKChvX2lucyAhPSBudWxsID8gb19pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gb2guX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIG9faW5zX2ZpZWxkcyA9IG9oICE9IG51bGwgPyBvaC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihvX2luc19maWVsZCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICgob19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IG9fdGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvX3N1YnRhYmxlX2ZpZWxkcyA9IG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChkX2lucyAhPSBudWxsID8gZF9pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gKGRfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYyMCA9IGRfaW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjIwLl9pZCA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgICAgZF9pbnNfZmllbGRzID0gZF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjIxID0gZF9pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmMjEuZmllbGRzIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICAgICAgICBkX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihkX2luc19maWVsZCkge1xuICAgICAgICAgICAgICAgIGlmICgoKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBkX3RhYmxlKSB8fCAoYV90YWJsZSAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IGFfdGFibGUpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZF9zdWJ0YWJsZV9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5jb25jYXQoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICgoZF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjIyID0gZF9pbnNfZm9ybS5oaXN0b3J5cykgIT0gbnVsbCA/IHJlZjIyLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgZF9pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoKGZ1bmN0aW9uKGRoKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoKGRfaW5zICE9IG51bGwgPyBkX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSBkaC5faWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZF9pbnNfZmllbGRzID0gZGggIT0gbnVsbCA/IGRoLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRfaW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGRfaW5zX2ZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCgoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IGRfdGFibGUpIHx8IChhX3RhYmxlICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScgJiYgKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gYV90YWJsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkX3N1YnRhYmxlX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmNvbmNhdChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob19zdWJ0YWJsZV9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib19zdWJ0YWJsZV9maWVsZHNcIiwgb19zdWJ0YWJsZV9maWVsZHMpO1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5peg5a+55bqU5a2Q6KGoJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZF9zdWJ0YWJsZV9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXml6Dlr7nlupTlrZDooagnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRfdGFibGVfdmFsdWVzID0gKGRfaW5zICE9IG51bGwgPyBkX2lucy52YWx1ZXNbZF90YWJsZV0gOiB2b2lkIDApIHx8IFtdO1xuICAgICAgICAgICAgaWYgKGFfdGFibGUpIHtcbiAgICAgICAgICAgICAgYV90YWJsZV92YWx1ZXMgPSAoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLnZhbHVlc1thX3RhYmxlXSA6IHZvaWQgMCkgfHwgW107XG4gICAgICAgICAgICAgIGlmIChhX3RhYmxlX3ZhbHVlcyAmJiAoYV90YWJsZV92YWx1ZXMgIT0gbnVsbCA/IGFfdGFibGVfdmFsdWVzLmxlbmd0aCA6IHZvaWQgMCkgPT09IChkX3RhYmxlX3ZhbHVlcyAhPSBudWxsID8gZF90YWJsZV92YWx1ZXMubGVuZ3RoIDogdm9pZCAwKSkge1xuICAgICAgICAgICAgICAgIGFfdGFibGVfdmFsdWVzLmZvckVhY2goZnVuY3Rpb24oYV9yb3csIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICB2YXIga2V5LCByZXN1bHRzLCB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIGFfcm93KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYV9yb3dba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGRfdGFibGVfdmFsdWVzW2luZGV4XVtrZXldID0gdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkX3RhYmxlX3ZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaVsOaNruS4uuepuicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb19tYXRjaF9jb2xfZmllbGRzID0gb19zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG0uY29kZSA9PT0gb19tYXRjaF9jb2w7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRfbWF0Y2hfY29sX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmZpbHRlcihmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtLmNvZGUgPT09IGRfbWF0Y2hfY29sO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAob19tYXRjaF9jb2xfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Yy56YWN5YiXJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZF9tYXRjaF9jb2xfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Yy56YWN5YiXJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvX21hdGNoX2NvbF9maWVsZCA9IG9fbWF0Y2hfY29sX2ZpZWxkc1swXTtcbiAgICAgICAgICAgIGRfbWF0Y2hfY29sX2ZpZWxkID0gZF9tYXRjaF9jb2xfZmllbGRzWzBdO1xuICAgICAgICAgICAgaWYgKChvX21hdGNoX2NvbF9maWVsZCAhPSBudWxsID8gb19tYXRjaF9jb2xfZmllbGQudHlwZSA6IHZvaWQgMCkgIT09IChkX21hdGNoX2NvbF9maWVsZCAhPSBudWxsID8gZF9tYXRjaF9jb2xfZmllbGQudHlwZSA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWSjOWOn+eUs+ivt+WNleWtkOihqOeahOWMuemFjeWIl+Wtl+auteS4jeS4gOiHtCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uKGNvbHVtbikge1xuICAgICAgICAgICAgICB2YXIgY29sLCBjb2xzLCBkX2NvbCwgZF9jb2xfZmllbGRzLCBvX2NvbCwgb19jb2xfZmllbGRzO1xuICAgICAgICAgICAgICBjb2xzID0gY29sdW1uLnNwbGl0KCctJykgfHwgW107XG4gICAgICAgICAgICAgIGlmIChjb2xzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIG9fY29sID0gY29sc1swXTtcbiAgICAgICAgICAgICAgICBkX2NvbCA9IGNvbHNbMV07XG4gICAgICAgICAgICAgICAgb19jb2xfZmllbGRzID0gb19zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBtLmNvZGUgPT09IG9fY29sO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRfY29sX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmZpbHRlcihmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbS5jb2RlID09PSBkX2NvbDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAob19jb2xfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleWtkOihqOaXoOWvueW6lOWbnuWhq+WIlycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZF9jb2xfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaXoOWvueW6lOWbnuWhq+WIlycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKG9fY29sX2ZpZWxkcyAhPSBudWxsID8gb19jb2xfZmllbGRzLnR5cGUgOiB2b2lkIDApICE9PSAoZF9jb2xfZmllbGRzICE9IG51bGwgPyBkX2NvbF9maWVsZHMudHlwZSA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICflm57loavliJflrZfmrrXnsbvlnovkuI3kuIDoh7QnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29sID0ge1xuICAgICAgICAgICAgICAgICAgb19jb2w6IG9fY29sLFxuICAgICAgICAgICAgICAgICAgZF9jb2w6IGRfY29sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uX2xpc3QucHVzaChjb2wpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICflm57loavliJfkuI3ljLnphY0nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cmFjZXMgPSBvX2lucyAhPSBudWxsID8gb19pbnMudHJhY2VzIDogdm9pZCAwO1xuICAgICAgICAgICAgdHJhY2UgPSB0cmFjZXNbdHJhY2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgYXBwcm92ZSA9IHRyYWNlICE9IG51bGwgPyB0cmFjZS5hcHByb3Zlc1swXSA6IHZvaWQgMDtcbiAgICAgICAgICAgIHRhYmxlX2RhdGEgPSAoYXBwcm92ZSAhPSBudWxsID8gYXBwcm92ZS52YWx1ZXNbb190YWJsZV0gOiB2b2lkIDApIHx8IFtdO1xuICAgICAgICAgICAgZF90YWJsZV92YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihkX3Jvdykge1xuICAgICAgICAgICAgICB2YXIgY291bnQsIGhhc19vYmosIHJvd19kYXRhO1xuICAgICAgICAgICAgICBoYXNfb2JqID0gZmFsc2U7XG4gICAgICAgICAgICAgIGNvdW50ID0gLTE7XG4gICAgICAgICAgICAgIHRhYmxlX2RhdGEuZm9yRWFjaChmdW5jdGlvbihvX3JvdywgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAob19yb3dbb19tYXRjaF9jb2xdID09PSBkX3Jvd1tkX21hdGNoX2NvbF0pIHtcbiAgICAgICAgICAgICAgICAgIGhhc19vYmogPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKGhhc19vYmogPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uX2xpc3QuZm9yRWFjaChmdW5jdGlvbihjb2wpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZV9kYXRhW2NvdW50XVtjb2wgIT0gbnVsbCA/IGNvbC5vX2NvbCA6IHZvaWQgMF0gPSBkX3Jvd1tjb2wgIT0gbnVsbCA/IGNvbC5kX2NvbCA6IHZvaWQgMF07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcm93X2RhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICByb3dfZGF0YVtvX21hdGNoX2NvbF0gPSBkX3Jvd1tkX21hdGNoX2NvbF07XG4gICAgICAgICAgICAgICAgY29sdW1uX2xpc3QuZm9yRWFjaChmdW5jdGlvbihjb2wpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiByb3dfZGF0YVtjb2wgIT0gbnVsbCA/IGNvbC5vX2NvbCA6IHZvaWQgMF0gPSBkX3Jvd1tjb2wgIT0gbnVsbCA/IGNvbC5kX2NvbCA6IHZvaWQgMF07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlX2RhdGEucHVzaChyb3dfZGF0YSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXS5hcHByb3Zlc1swXS52YWx1ZXMgPSBvX2lucyAhPSBudWxsID8gb19pbnMudmFsdWVzIDogdm9pZCAwO1xuICAgICAgICAgICAgdHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXS5hcHByb3Zlc1swXS52YWx1ZXNbb190YWJsZV0gPSB0YWJsZV9kYXRhO1xuICAgICAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZShvX2luc19pZCwge1xuICAgICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgICAgJ3RyYWNlcyc6IHRyYWNlc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiAn5Zue5aGr5oiQ5YqfJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7lrZDooajlm57loavliJflrZfmrrUgY29sdW1ucyDlgLwnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7ljLnphY3liJflrZfmrrUgb01hdGNoQ29sIOWAvCcpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWOn+ihqOWNleWtkOihqCBvVGFibGUg5YC8Jyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfnlLPor7fljZXmnKrnu5PmnZ8nKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW2VdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9zdWJfdGFibGVfc29ydFwiLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09PT09PeWtkOihqD09PT09PT09PT1cIlxuICAgICAgICBjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnN1YlRhYmxlXCIscmVxPy5xdWVyeT8uc3ViVGFibGVcbiAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PT09PT3lrZDooajmgLvliIbliJc9PT09PT09PT09XCJcbiAgICAgICAgY29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5zdW1Db2xcIixyZXE/LnF1ZXJ5Py5zdW1Db2xcbiAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PT09PT3lrZDooajmjpLluo/liJc9PT09PT09PT09XCJcbiAgICAgICAgY29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5zb3J0Q29sXCIscmVxPy5xdWVyeT8uc29ydENvbFxuICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09PT09PeWtkOihqOWNleWIl+mcgOimgeiuoeeul+eahOWSjD09PT09PT09PT1cIlxuICAgICAgICBjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnNpbmdsZUNvbHNcIixyZXE/LnF1ZXJ5Py5zaW5nbGVDb2xzXG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgc3ViX3RhYmxlID0gcmVxPy5xdWVyeT8uc3ViVGFibGVcbiAgICAgICAgaWYgIXN1Yl90YWJsZVxuICAgICAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PXN1Yl90YWJsZT09PT09PVwiXG4gICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzdWJUYWJsZSDlrZfmrrUnICk7XG4gICAgICAgIFxuICAgICAgICBzdW1fY29sID0gcmVxPy5xdWVyeT8uc3VtQ29sXG4gICAgICAgIGlmICFzdW1fY29sXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09c3VtX2NvbD09PT09PVwiXG4gICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzdW1Db2wg5a2X5q61JyApO1xuICAgICAgICBcbiAgICAgICAgc29ydF9jb2wgPSByZXE/LnF1ZXJ5Py5zb3J0Q29sXG4gICAgICAgIGlmICFzb3J0X2NvbFxuICAgICAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PXNvcnRfY29sPT09PT09XCJcbiAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHNvcnRDb2wg5a2X5q61JyApO1xuICAgICAgICBcbiAgICAgICAgIyBzaW5nbGVfY29scyA9IHJlcT8ucXVlcnk/LnNpbmdsZUNvbHNcbiAgICAgICAgIyBpZiAhc2luZ2xlX2NvbHNcbiAgICAgICAgIyAgICAgY29uc29sZS5sb2cgXCI9PT09PXNpbmdsZV9jb2xzPT09PT09XCJcblxuICAgICAgICAjICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzaW5nbGVDb2xzIOWtl+autScgKTtcbiAgICAgICAgXG4gICAgICAgIGlucyA9IHJlcT8uYm9keT8uaW5zdGFuY2VcbiAgICAgICAgXG4gICAgICAgIHN1Yl90YWJsZV92YWx1ZXMgPSBpbnMudmFsdWVzW3N1Yl90YWJsZV1cbiAgICAgICAgXG4gICAgICAgIGlmIHN1Yl90YWJsZV92YWx1ZXM/Lmxlbmd0aCA+IDAgXG4gICAgICAgICAgICAjICMg5qC55o2uIHN1Yl90YWJsZV92YWx1ZXMg6L+b6KGM5o6S5bqPXG4gICAgICAgICAgICAjID09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgICAgICAgICMg5o6S5bqP5a2X5q6177yM5YWz6ZSu5a2X77yM5q2j5bqPKHRydWUpL+WAkuW6jyhmYWxzZSlcbiAgICAgICAgICAgIGBmdW5jdGlvbiBKc29uU29ydChqc29uQXJyLCBrZXksIGFzYyl7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBqPTEsamw9anNvbkFyci5sZW5ndGg7aiA8IGpsO2orKyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0ganNvbkFycltqXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCAgPSBOdW1iZXIodGVtcFtrZXldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgICAgPSBqLTE7XG4gICAgICAgICAgICAgICAgICAgIGlmKGFzYz09dHJ1ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShpID49MCAmJiBOdW1iZXIoanNvbkFycltpXVtrZXldKT52YWwpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IGpzb25BcnJbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGktMTsgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoaSA+PTAgJiYgTnVtYmVyKGpzb25BcnJbaV1ba2V5XSk8dmFsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSBqc29uQXJyW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpLTE7ICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IHRlbXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBqc29uQXJyO1xuICAgICAgICAgICAgfWBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbmV3X3RhYmxlX3ZhbHVlcyA9IEpzb25Tb3J0KHN1Yl90YWJsZV92YWx1ZXMsc3VtX2NvbCxmYWxzZSlcblxuICAgICAgICAgICAgY29uc29sZS5sb2cgXCJuZXdfdGFibGVfdmFsdWVzXCIsbmV3X3RhYmxlX3ZhbHVlc1xuXG4gICAgICAgICAgICBuZXdfdGFibGVfdmFsdWVzLmZvckVhY2ggKG9iaiwgaW5kZXgpLT5cbiAgICAgICAgICAgICAgICBpZiBzb3J0X2NvbCBhbmQgb2JqW3N1bV9jb2xdXG4gICAgICAgICAgICAgICAgICAgIG9ialtzb3J0X2NvbF0gPSAoaW5kZXgrMSkudG9TdHJpbmcoKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBcIm5ld190YWJsZV92YWx1ZXNcIixuZXdfdGFibGVfdmFsdWVzXG5cbiAgICAgICAgICAgIGlucy52YWx1ZXNbc3ViX3RhYmxlXSA9IG5ld190YWJsZV92YWx1ZXNcblxuICAgICAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZShpbnMuX2lkLHtcbiAgICAgICAgICAgICAgICAkc2V0OntcbiAgICAgICAgICAgICAgICAgICAgJ3ZhbHVlcyc6aW5zLnZhbHVlc1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgY29uc29sZS5sb2cgXCJzdWNjZXNzXCJcbiAgICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6ICforqHnrpfmjpLluo/miJDlip8nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICflrZDooajmlbDmja7kuLrnqbonKTtcbiAgICBjYXRjaCBlXG4gICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBlcnJvcnM6IFtlXVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4pIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9zdWJfdGFibGVfc29ydFwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgZSwgaW5zLCBuZXdfdGFibGVfdmFsdWVzLCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHJlZjQsIHJlZjUsIHJlZjYsIHJlZjcsIHNvcnRfY29sLCBzdWJfdGFibGUsIHN1Yl90YWJsZV92YWx1ZXMsIHN1bV9jb2w7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3lrZDooag9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uc3ViVGFibGVcIiwgcmVxICE9IG51bGwgPyAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLnN1YlRhYmxlIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWtkOihqOaAu+WIhuWIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5zdW1Db2xcIiwgcmVxICE9IG51bGwgPyAocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEuc3VtQ29sIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWtkOihqOaOkuW6j+WIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5zb3J0Q29sXCIsIHJlcSAhPSBudWxsID8gKHJlZjIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYyLnNvcnRDb2wgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095a2Q6KGo5Y2V5YiX6ZyA6KaB6K6h566X55qE5ZKMPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnNpbmdsZUNvbHNcIiwgcmVxICE9IG51bGwgPyAocmVmMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjMuc2luZ2xlQ29scyA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgc3ViX3RhYmxlID0gcmVxICE9IG51bGwgPyAocmVmNCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjQuc3ViVGFibGUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgaWYgKCFzdWJfdGFibGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiPT09PT1zdWJfdGFibGU9PT09PT1cIik7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzdWJUYWJsZSDlrZfmrrUnKTtcbiAgICB9XG4gICAgc3VtX2NvbCA9IHJlcSAhPSBudWxsID8gKHJlZjUgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY1LnN1bUNvbCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBpZiAoIXN1bV9jb2wpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiPT09PT1zdW1fY29sPT09PT09XCIpO1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc3VtQ29sIOWtl+autScpO1xuICAgIH1cbiAgICBzb3J0X2NvbCA9IHJlcSAhPSBudWxsID8gKHJlZjYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY2LnNvcnRDb2wgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgaWYgKCFzb3J0X2NvbCkge1xuICAgICAgY29uc29sZS5sb2coXCI9PT09PXNvcnRfY29sPT09PT09XCIpO1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc29ydENvbCDlrZfmrrUnKTtcbiAgICB9XG4gICAgaW5zID0gcmVxICE9IG51bGwgPyAocmVmNyA9IHJlcS5ib2R5KSAhPSBudWxsID8gcmVmNy5pbnN0YW5jZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBzdWJfdGFibGVfdmFsdWVzID0gaW5zLnZhbHVlc1tzdWJfdGFibGVdO1xuICAgIGlmICgoc3ViX3RhYmxlX3ZhbHVlcyAhPSBudWxsID8gc3ViX3RhYmxlX3ZhbHVlcy5sZW5ndGggOiB2b2lkIDApID4gMCkge1xuICAgICAgZnVuY3Rpb24gSnNvblNvcnQoanNvbkFyciwga2V5LCBhc2Mpe1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaj0xLGpsPWpzb25BcnIubGVuZ3RoO2ogPCBqbDtqKyspe1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGpzb25BcnJbal0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgID0gTnVtYmVyKHRlbXBba2V5XSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpICAgID0gai0xO1xuICAgICAgICAgICAgICAgICAgICBpZihhc2M9PXRydWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoaSA+PTAgJiYgTnVtYmVyKGpzb25BcnJbaV1ba2V5XSk+dmFsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSBqc29uQXJyW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpLTE7ICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGkgPj0wICYmIE51bWJlcihqc29uQXJyW2ldW2tleV0pPHZhbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0ganNvbkFycltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaS0xOyAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSB0ZW1wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ganNvbkFycjtcbiAgICAgICAgICAgIH07XG4gICAgICBuZXdfdGFibGVfdmFsdWVzID0gSnNvblNvcnQoc3ViX3RhYmxlX3ZhbHVlcywgc3VtX2NvbCwgZmFsc2UpO1xuICAgICAgY29uc29sZS5sb2coXCJuZXdfdGFibGVfdmFsdWVzXCIsIG5ld190YWJsZV92YWx1ZXMpO1xuICAgICAgbmV3X3RhYmxlX3ZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKG9iaiwgaW5kZXgpIHtcbiAgICAgICAgaWYgKHNvcnRfY29sICYmIG9ialtzdW1fY29sXSkge1xuICAgICAgICAgIHJldHVybiBvYmpbc29ydF9jb2xdID0gKGluZGV4ICsgMSkudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhcIm5ld190YWJsZV92YWx1ZXNcIiwgbmV3X3RhYmxlX3ZhbHVlcyk7XG4gICAgICBpbnMudmFsdWVzW3N1Yl90YWJsZV0gPSBuZXdfdGFibGVfdmFsdWVzO1xuICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZShpbnMuX2lkLCB7XG4gICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAndmFsdWVzJzogaW5zLnZhbHVlc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKFwic3VjY2Vzc1wiKTtcbiAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICdzdWNjZXNzJzogJ+iuoeeul+aOkuW6j+aIkOWKnydcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ+WtkOihqOaVsOaNruS4uuepuicpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbZV1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJpZiBNZXRlb3IuaXNEZXZlbG9wbWVudFxuICAgIEpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy90ZXN0L3dlYmhvb2snLCAocmVxLCByZXMsIG5leHQpIC0+XG4gICAgICAgIHRyeVxuXG4gICAgICAgICAgICBoYXNoRGF0YSA9IHJlcS5ib2R5XG4gICAgICAgICAgICBjb25zb2xlLmxvZyAnYWN0aW9uOiAnLCBoYXNoRGF0YS5hY3Rpb25cbiAgICAgICAgICAgIGNvbnNvbGUubG9nICdmcm9tX3VzZXI6ICcsIGhhc2hEYXRhLmZyb21fdXNlclxuICAgICAgICAgICAgY29uc29sZS5sb2cgJ3RvX3VzZXJzOiAnLCBoYXNoRGF0YS50b191c2Vyc1xuXG5cbiAgICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDIwMFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7fVxuICAgICAgICBjYXRjaCBlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yIGUuc3RhY2tcbiAgICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG4gICAgICAgICAgICAgICAgY29kZTogMjAwXG4gICAgICAgICAgICAgICAgZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9IiwiaWYgKE1ldGVvci5pc0RldmVsb3BtZW50KSB7XG4gIEpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy90ZXN0L3dlYmhvb2snLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHZhciBlLCBoYXNoRGF0YTtcbiAgICB0cnkge1xuICAgICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICAgIGNvbnNvbGUubG9nKCdhY3Rpb246ICcsIGhhc2hEYXRhLmFjdGlvbik7XG4gICAgICBjb25zb2xlLmxvZygnZnJvbV91c2VyOiAnLCBoYXNoRGF0YS5mcm9tX3VzZXIpO1xuICAgICAgY29uc29sZS5sb2coJ3RvX3VzZXJzOiAnLCBoYXNoRGF0YS50b191c2Vycyk7XG4gICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIGRhdGE6IHt9XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgZSA9IGVycm9yO1xuICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGVycm9yczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvZm9ybXVsYS91c2Vyc1wiLCAocmVxLCByZXMsIG5leHQpIC0+XG5cblx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHR1c2VySWRzID0gcmVxLmJvZHkudXNlcklkc1xuXHRzcGFjZUlkID0gcmVxLmJvZHkuc3BhY2VJZFxuXHRzcGFjZVVzZXJzID0gW107XG5cblx0c3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe3VzZXI6IGN1cnJlbnRfdXNlciwgc3BhY2U6IHNwYWNlSWR9LCB7ZmllbGRzOiB7X2lkOiAxfX0pXG5cdGlmICFzcGFjZV91c2VyXG5cdFx0cmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0J2Vycm9ycyc6ICfml6DmnYPpmZAnXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0aWYgKCF1c2VySWRzIHx8ICFzcGFjZUlkKVxuXHRcdHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdCdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRzcGFjZVVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0cyhzcGFjZUlkLCB1c2VySWRzKVxuXG5cdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRjb2RlOiAyMDAsXG5cdFx0ZGF0YToge1xuXHRcdFx0J3NwYWNlVXNlcnMnOiBzcGFjZVVzZXJzXG5cdFx0fVxuXHR9XG4pIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS9mb3JtdWxhL3VzZXJzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBzcGFjZUlkLCBzcGFjZVVzZXJzLCBzcGFjZV91c2VyLCB1c2VySWRzO1xuICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gIHVzZXJJZHMgPSByZXEuYm9keS51c2VySWRzO1xuICBzcGFjZUlkID0gcmVxLmJvZHkuc3BhY2VJZDtcbiAgc3BhY2VVc2VycyA9IFtdO1xuICBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgdXNlcjogY3VycmVudF91c2VyLFxuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMVxuICAgIH1cbiAgfSk7XG4gIGlmICghc3BhY2VfdXNlcikge1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdlcnJvcnMnOiAn5peg5p2D6ZmQJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGlmICghdXNlcklkcyB8fCAhc3BhY2VJZCkge1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHNwYWNlVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3RzKHNwYWNlSWQsIHVzZXJJZHMpO1xuICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgIGNvZGU6IDIwMCxcbiAgICBkYXRhOiB7XG4gICAgICAnc3BhY2VVc2Vycyc6IHNwYWNlVXNlcnNcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL2Zvcm11bGEvb3Jnc1wiLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cdG9yZ0lkcyA9IHJlcS5ib2R5Lm9yZ0lkc1xuXHRzcGFjZUlkID0gcmVxLmJvZHkuc3BhY2VJZFxuXG5cdHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHt1c2VyOiBjdXJyZW50X3VzZXIsIHNwYWNlOiBzcGFjZUlkfSwge2ZpZWxkczoge19pZDogMX19KVxuXHRpZiAhc3BhY2VfdXNlclxuXHRcdHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdCdlcnJvcnMnOiAn5peg5p2D6ZmQJ1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdGlmICghb3JnSWRzIHx8ICFzcGFjZUlkKVxuXHRcdHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdCdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdG9yZ3MgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYU9yZ09iamVjdHMob3JnSWRzKVxuXG5cdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRjb2RlOiAyMDAsXG5cdFx0ZGF0YToge1xuXHRcdFx0J29yZ3MnOiBvcmdzXG5cdFx0fVxuXHR9KTtcbikiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL2Zvcm11bGEvb3Jnc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgb3JnSWRzLCBvcmdzLCBzcGFjZUlkLCBzcGFjZV91c2VyO1xuICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gIG9yZ0lkcyA9IHJlcS5ib2R5Lm9yZ0lkcztcbiAgc3BhY2VJZCA9IHJlcS5ib2R5LnNwYWNlSWQ7XG4gIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICB1c2VyOiBjdXJyZW50X3VzZXIsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxXG4gICAgfVxuICB9KTtcbiAgaWYgKCFzcGFjZV91c2VyKSB7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ2Vycm9ycyc6ICfml6DmnYPpmZAnXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFvcmdJZHMgfHwgIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBvcmdzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFPcmdPYmplY3RzKG9yZ0lkcyk7XG4gIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgY29kZTogMjAwLFxuICAgIGRhdGE6IHtcbiAgICAgICdvcmdzJzogb3Jnc1xuICAgIH1cbiAgfSk7XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdHNldF9pbnN0YW5jZV9zdGVwX2FwcHJvdmU6IChpbnNfaWQsIHN0ZXBfYXBwcm92ZSwgc3RlcHNBcHByb3Zlc09wdGlvbnMpLT5cblx0XHRpZiAhdGhpcy51c2VySWRcblx0XHRcdHJldHVyblxuXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zX2lkfSwge2ZpZWxkczoge3N0YXRlOiAxfX0pXG5cblx0XHRpZiBpbnMuc3RhdGUgIT0gJ2RyYWZ0J1xuXHRcdFx0cmV0dXJuIDtcblxuXHRcdF9rZXlzMSA9IF8ua2V5cyhzdGVwX2FwcHJvdmUpO1xuXHRcdF9rZXlzMiA9IF8ua2V5cyhzdGVwc0FwcHJvdmVzT3B0aW9ucyk7XG5cblx0XHRrZXlzID0gXy5jb21wYWN0KF8udW5pb24oX2tleXMxLCBfa2V5czIpKTtcblxuXHRcdHN0ZXBzQXBwcm92ZXMgPSB7fTtcblxuXHRcdF8uZWFjaCBrZXlzLCAoc3RlcElkKS0+XG5cdFx0XHRzdGVwQXBwcm92ZXMgPSBzdGVwX2FwcHJvdmVbc3RlcElkXVxuXHRcdFx0c3RlcHNBcHByb3ZlT3B0aW9ucyA9IHN0ZXBzQXBwcm92ZXNPcHRpb25zW3N0ZXBJZF1cblx0XHRcdGlmIHN0ZXBBcHByb3Zlc1xuXHRcdFx0XHRzdGVwc0FwcHJvdmVzW3N0ZXBJZF0gPSBzdGVwQXBwcm92ZXNcblx0XHRcdFx0aWYgc3RlcHNBcHByb3ZlT3B0aW9uc1xuXHRcdFx0XHRcdGlmIF8uaXNBcnJheShzdGVwQXBwcm92ZXMpXG5cdFx0XHRcdFx0XHRzdGVwc0FwcHJvdmVPcHRpb25zID0gc3RlcEFwcHJvdmVzLmNvbmNhdChzdGVwc0FwcHJvdmVPcHRpb25zKVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdHN0ZXBzQXBwcm92ZU9wdGlvbnMucHVzaChzdGVwQXBwcm92ZXMpXG5cdFx0XHRpZiBzdGVwc0FwcHJvdmVPcHRpb25zXG5cdFx0XHRcdHN0ZXBzQXBwcm92ZXNbc3RlcElkICsgJ19vcHRpb25zJ10gPSBfLnVuaXEoc3RlcHNBcHByb3ZlT3B0aW9ucylcblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlIHtfaWQ6IGluc19pZH0sIHskc2V0OiB7c3RlcF9hcHByb3ZlOiBzdGVwc0FwcHJvdmVzfX1cblx0c2V0X2luc3RhbmNlX3NraXBfc3RlcHM6IChpbnNfaWQsIHN0ZXBJZCwgYWN0aW9uKS0+XG5cdFx0aWYgYWN0aW9uID09ICdwdWxsJ1xuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSB7X2lkOiBpbnNfaWR9LCB7JHB1bGw6IHtza2lwX3N0ZXBzOiBzdGVwSWR9fVxuXHRcdGVsc2UgaWYgYWN0aW9uID09ICdwdXNoJ1xuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSB7X2lkOiBpbnNfaWR9LCB7JHB1c2g6IHtza2lwX3N0ZXBzOiBzdGVwSWR9fSIsIk1ldGVvci5tZXRob2RzKHtcbiAgc2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZTogZnVuY3Rpb24oaW5zX2lkLCBzdGVwX2FwcHJvdmUsIHN0ZXBzQXBwcm92ZXNPcHRpb25zKSB7XG4gICAgdmFyIF9rZXlzMSwgX2tleXMyLCBpbnMsIGtleXMsIHN0ZXBzQXBwcm92ZXM7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc19pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzdGF0ZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnMuc3RhdGUgIT09ICdkcmFmdCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgX2tleXMxID0gXy5rZXlzKHN0ZXBfYXBwcm92ZSk7XG4gICAgX2tleXMyID0gXy5rZXlzKHN0ZXBzQXBwcm92ZXNPcHRpb25zKTtcbiAgICBrZXlzID0gXy5jb21wYWN0KF8udW5pb24oX2tleXMxLCBfa2V5czIpKTtcbiAgICBzdGVwc0FwcHJvdmVzID0ge307XG4gICAgXy5lYWNoKGtleXMsIGZ1bmN0aW9uKHN0ZXBJZCkge1xuICAgICAgdmFyIHN0ZXBBcHByb3Zlcywgc3RlcHNBcHByb3ZlT3B0aW9ucztcbiAgICAgIHN0ZXBBcHByb3ZlcyA9IHN0ZXBfYXBwcm92ZVtzdGVwSWRdO1xuICAgICAgc3RlcHNBcHByb3ZlT3B0aW9ucyA9IHN0ZXBzQXBwcm92ZXNPcHRpb25zW3N0ZXBJZF07XG4gICAgICBpZiAoc3RlcEFwcHJvdmVzKSB7XG4gICAgICAgIHN0ZXBzQXBwcm92ZXNbc3RlcElkXSA9IHN0ZXBBcHByb3ZlcztcbiAgICAgICAgaWYgKHN0ZXBzQXBwcm92ZU9wdGlvbnMpIHtcbiAgICAgICAgICBpZiAoXy5pc0FycmF5KHN0ZXBBcHByb3ZlcykpIHtcbiAgICAgICAgICAgIHN0ZXBzQXBwcm92ZU9wdGlvbnMgPSBzdGVwQXBwcm92ZXMuY29uY2F0KHN0ZXBzQXBwcm92ZU9wdGlvbnMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGVwc0FwcHJvdmVPcHRpb25zLnB1c2goc3RlcEFwcHJvdmVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdGVwc0FwcHJvdmVPcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBzdGVwc0FwcHJvdmVzW3N0ZXBJZCArICdfb3B0aW9ucyddID0gXy51bmlxKHN0ZXBzQXBwcm92ZU9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgIF9pZDogaW5zX2lkXG4gICAgfSwge1xuICAgICAgJHNldDoge1xuICAgICAgICBzdGVwX2FwcHJvdmU6IHN0ZXBzQXBwcm92ZXNcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgc2V0X2luc3RhbmNlX3NraXBfc3RlcHM6IGZ1bmN0aW9uKGluc19pZCwgc3RlcElkLCBhY3Rpb24pIHtcbiAgICBpZiAoYWN0aW9uID09PSAncHVsbCcpIHtcbiAgICAgIHJldHVybiBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBpbnNfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHB1bGw6IHtcbiAgICAgICAgICBza2lwX3N0ZXBzOiBzdGVwSWRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChhY3Rpb24gPT09ICdwdXNoJykge1xuICAgICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGluc19pZFxuICAgICAgfSwge1xuICAgICAgICAkcHVzaDoge1xuICAgICAgICAgIHNraXBfc3RlcHM6IHN0ZXBJZFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuXG5cdGdldF9pbnN0YW5jZV9kYXRhOiBmdW5jdGlvbiAoaW5zdGFuY2VfaWQsIGZvcm1DYWNoZWQsIGZsb3dDYWNoZWQpIHtcblxuXHRcdGNoZWNrKGluc3RhbmNlX2lkLCBTdHJpbmcpO1xuXHRcdGNoZWNrKGZvcm1DYWNoZWQsIEJvb2xlYW4pO1xuXHRcdGNoZWNrKGZsb3dDYWNoZWQsIEJvb2xlYW4pO1xuXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQpO1xuXG5cdFx0aWYgKCFpbnN0YW5jZSlcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGluc3RhbmNlOiBudWxsXG5cdFx0XHR9O1xuXG5cdFx0aWYgKGZvcm1DYWNoZWQgJiYgZmxvd0NhY2hlZClcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGluc3RhbmNlOiBpbnN0YW5jZVxuXHRcdFx0fTtcblxuXHRcdGlmICghZm9ybUNhY2hlZCkge1xuXHRcdFx0dmFyIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuXHRcdFx0dmFyIGZvcm1fdmVyc2lvbiA9IHt9O1xuXHRcdFx0aWYgKGZvcm0uY3VycmVudC5faWQgPT0gaW5zdGFuY2UuZm9ybV92ZXJzaW9uKSB7XG5cdFx0XHRcdGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudDtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRmb3JtX3ZlcnNpb24gPSBfLndoZXJlKGZvcm0uaGlzdG9yeXMsIHtfaWQ6IGluc3RhbmNlLmZvcm1fdmVyc2lvbn0pWzBdO1xuXHRcdFx0fVxuXHRcdH1cblxuXG5cdFx0aWYgKCFmbG93Q2FjaGVkKSB7XG5cdFx0XHR2YXIgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoaW5zdGFuY2UuZmxvdyk7XG5cdFx0XHR2YXIgZmxvd192ZXJzaW9uID0ge307XG5cdFx0XHRpZiAoZmxvdy5jdXJyZW50Ll9pZCA9PSBpbnN0YW5jZS5mbG93X3ZlcnNpb24pIHtcblx0XHRcdFx0Zmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50O1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGZsb3dfdmVyc2lvbiA9IF8ud2hlcmUoZmxvdy5oaXN0b3J5cywge19pZDogaW5zdGFuY2UuZmxvd192ZXJzaW9ufSlbMF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGluc3RhbmNlOiBpbnN0YW5jZSxcblx0XHRcdGZvcm1fdmVyc2lvbjogZm9ybV92ZXJzaW9uLFxuXHRcdFx0Zmxvd192ZXJzaW9uOiBmbG93X3ZlcnNpb25cblx0XHR9XG5cblx0fVxuXG59KTtcbiIsIk1ldGVvci5tZXRob2RzKHtcblxuXHRkcmFmdF9zYXZlX2luc3RhbmNlOiBmdW5jdGlvbiAoaW5zKSB7XG5cdFx0aWYgKCF0aGlzLnVzZXJJZClcblx0XHRcdHJldHVybjtcblx0XHR2YXIgcmVzdWx0ID0gdHJ1ZTtcblx0XHR2YXIgc2V0T2JqID0ge307XG5cdFx0dmFyIGluZGV4ID0gMDtcblx0XHR2YXIgaW5zX2lkID0gaW5zLl9pZDtcblx0XHR2YXIgdHJhY2VfaWQgPSBpbnMudHJhY2VzWzBdLl9pZDtcblx0XHR2YXIgYXBwcm92ZV9pZCA9IGlucy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uX2lkO1xuXHRcdHZhciBkZXNjcmlwdGlvbiA9IGlucy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uZGVzY3JpcHRpb247XG5cdFx0dmFyIG5leHRfc3RlcHMgPSBpbnMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLm5leHRfc3RlcHM7XG5cdFx0dmFyIHZhbHVlcyA9IGlucy50cmFjZXNbMF0uYXBwcm92ZXNbMF0udmFsdWVzIHx8IHt9O1xuXHRcdHZhciBhcHBsaWNhbnRfaWQgPSBpbnMuYXBwbGljYW50O1xuXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0YXBwbGljYW50OiAxLFxuXHRcdFx0XHRzdGF0ZTogMSxcblx0XHRcdFx0c3VibWl0dGVyOiAxLFxuXHRcdFx0XHR0cmFjZXM6IDEsXG5cdFx0XHRcdGZvcm06IDEsXG5cdFx0XHRcdGZsb3dfdmVyc2lvbjogMSxcblx0XHRcdFx0c3BhY2U6IDEsXG5cdFx0XHRcdGZsb3c6IDFcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHZhciBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuXHRcdHZhciBmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcblx0XHR2YXIgZm9ybV9pZCA9IGluc3RhbmNlLmZvcm07XG5cdFx0dmFyIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcblx0XHR2YXIgY3VycmVudF90cmFjZSA9IF8uZmluZCh0cmFjZXMsIGZ1bmN0aW9uICh0KSB7XG5cdFx0XHRyZXR1cm4gdC5faWQgPT0gdHJhY2VfaWQ7XG5cdFx0fSk7XG5cdFx0Y3VycmVudF90cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpZHgpIHtcblx0XHRcdGlmIChhLl9pZCA9PSBhcHByb3ZlX2lkKSB7XG5cdFx0XHRcdGluZGV4ID0gaWR4O1xuXHRcdFx0fVxuXHRcdH0pXG5cdFx0dmFyIGtleV9zdHIgPSAndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy4nO1xuXG5cdFx0Ly8g5Yik5pat5LiA5LiqaW5zdGFuY2XmmK/lkKbkuLrmi5/nqL/nirbmgIFcblx0XHR2YXIgY3VycmVudF91c2VyID0gZGIudXNlcnMuZmluZE9uZSh7XG5cdFx0XHRfaWQ6IHRoaXMudXNlcklkXG5cdFx0fSwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdGxvY2FsZTogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciBsYW5nID0gY3VycmVudF91c2VyLmxvY2FsZSA9PSAnemgtY24nID8gJ3poLUNOJyA6ICdlbic7XG5cdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlRHJhZnQoaW5zdGFuY2UsIGxhbmcpO1xuXHRcdC8vIOWIpOaWreS4gOS4queUqOaIt+aYr+WQpuaYr+S4gOS4qmluc3RhbmNl55qE5o+Q5Lqk6ICFXG5cdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlU3VibWl0dGVyKGluc3RhbmNlLCB0aGlzLnVzZXJJZCk7XG5cblx0XHR2YXIgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoZmxvd19pZCwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFwiY3VycmVudC5faWRcIjogMSxcblx0XHRcdFx0XCJjdXJyZW50LmZvcm1fdmVyc2lvblwiOiAxLFxuXHRcdFx0XHRcIm5hbWVcIjogMSxcblx0XHRcdFx0XCJjdXJyZW50LnN0ZXBzXCI6IDFcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cblx0XHRpZiAoZmxvdy5jdXJyZW50Ll9pZCAhPSBpbnN0YW5jZS5mbG93X3ZlcnNpb24pIHtcblx0XHRcdHJlc3VsdCA9IFwidXBncmFkZWRcIjtcblx0XHRcdHZhciBzdGFydF9zdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgZnVuY3Rpb24gKHMpIHtcblx0XHRcdFx0cmV0dXJuIHMuc3RlcF90eXBlID09IFwic3RhcnRcIjtcblx0XHRcdH0pO1xuXHRcdFx0Ly8g5rWB56iL5bey5Y2H57qnXG5cdFx0XHRzZXRPYmouZmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50Ll9pZDtcblx0XHRcdHNldE9iai5mb3JtX3ZlcnNpb24gPSBmbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xuXHRcdFx0Ly8g5a2Y5YWl5b2T5YmN5pyA5paw54mIZmxvd+S4reW8gOWni+iKgueCueeahHN0ZXBfaWRcblx0XHRcdHNldE9ialtcInRyYWNlcy4kLnN0ZXBcIl0gPSBzdGFydF9zdGVwLl9pZDtcblx0XHRcdHNldE9ialtcInRyYWNlcy4kLm5hbWVcIl0gPSBzdGFydF9zdGVwLm5hbWU7XG5cdFx0fVxuXG5cdFx0aWYgKGluc3RhbmNlLmFwcGxpY2FudCAhPSBhcHBsaWNhbnRfaWQpIHtcblx0XHRcdC8vIOeUs+ivt+S6uuW3suWPmOaNolxuXHRcdFx0dmFyIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKGFwcGxpY2FudF9pZCwge1xuXHRcdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XHRuYW1lOiAxXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0dmFyIGFwcGxpY2FudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuXHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXG5cdFx0XHRcdHVzZXI6IGFwcGxpY2FudF9pZFxuXHRcdFx0fSwge1xuXHRcdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XHRvcmdhbml6YXRpb246IDFcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR2YXIgb3JnX2lkID0gYXBwbGljYW50LmZldGNoKClbMF0ub3JnYW5pemF0aW9uO1xuXHRcdFx0dmFyIG9yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShvcmdfaWQsIHtcblx0XHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFx0bmFtZTogMSxcblx0XHRcdFx0XHRmdWxsbmFtZTogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0c2V0T2JqLmFwcGxpY2FudCA9IGFwcGxpY2FudF9pZDtcblx0XHRcdHNldE9iai5hcHBsaWNhbnRfbmFtZSA9IHVzZXIubmFtZTtcblx0XHRcdHNldE9iai5hcHBsaWNhbnRfb3JnYW5pemF0aW9uID0gb3JnX2lkO1xuXHRcdFx0c2V0T2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZSA9IG9yZ2FuaXphdGlvbi5uYW1lO1xuXHRcdFx0c2V0T2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBvcmdhbml6YXRpb24uZnVsbG5hbWU7XG5cblx0XHRcdHNldE9ialtrZXlfc3RyICsgJ3VzZXInXSA9IGFwcGxpY2FudF9pZDtcblx0XHRcdHNldE9ialtrZXlfc3RyICsgJ3VzZXJfbmFtZSddID0gdXNlci5uYW1lO1xuXHRcdH1cblxuXHRcdHNldE9ialtrZXlfc3RyICsgJ3ZhbHVlcyddID0gdmFsdWVzO1xuXHRcdHNldE9ialtrZXlfc3RyICsgJ2Rlc2NyaXB0aW9uJ10gPSBkZXNjcmlwdGlvbjtcblx0XHRzZXRPYmpba2V5X3N0ciArICdqdWRnZSddID0gJ3N1Ym1pdHRlZCc7XG5cdFx0c2V0T2JqW2tleV9zdHIgKyAncmVhZF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xuXHRcdGlmIChyZXN1bHQgIT0gXCJ1cGdyYWRlZFwiICYmIG5leHRfc3RlcHMpIHtcblx0XHRcdHNldE9ialtrZXlfc3RyICsgJ25leHRfc3RlcHMnXSA9IG5leHRfc3RlcHM7XG5cdFx0fVxuXG5cdFx0Ly8g6K6h566X55Sz6K+35Y2V5qCH6aKYXG5cdFx0dmFyIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcblx0XHRcdF9pZDogZm9ybV9pZFxuXHRcdH0sIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcImN1cnJlbnQubmFtZV9mb3J1bWxhXCI6IDFcblx0XHRcdH1cblx0XHR9KTtcblx0XHR2YXIgbmFtZV9mb3J1bWxhID0gZm9ybS5jdXJyZW50Lm5hbWVfZm9ydW1sYTtcblx0XHRpZiAobmFtZV9mb3J1bWxhKSB7XG5cdFx0XHQvLyB2YXIgaXNjcmlwdCA9IG5hbWVfZm9ydW1sYS5yZXBsYWNlKC9cXHsvZywgXCIodmFsdWVzWydcIikucmVwbGFjZSgvXFx9L2csIFwiJ10gfHwgJycpXCIpO1xuXHRcdFx0Ly8gdmFyIHJldiA9IGV2YWwoaXNjcmlwdCk7XG5cdFx0XHRzZXRPYmoubmFtZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VOYW1lKGlucywgdmFsdWVzKTtcblx0XHR9XG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdF9pZDogaW5zX2lkLFxuXHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlX2lkXG5cdFx0fSwge1xuXHRcdFx0JHNldDogc2V0T2JqXG5cdFx0fSk7XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHRpbmJveF9zYXZlX2luc3RhbmNlOiBmdW5jdGlvbiAoYXBwcm92ZSkge1xuXHRcdGlmICghdGhpcy51c2VySWQpXG5cdFx0XHRyZXR1cm47XG5cblx0XHR2YXIgc2V0T2JqID0ge307XG5cdFx0dmFyIGluZGV4ID0gMDtcblx0XHR2YXIgaW5zX2lkID0gYXBwcm92ZS5pbnN0YW5jZTtcblx0XHR2YXIgdHJhY2VfaWQgPSBhcHByb3ZlLnRyYWNlO1xuXHRcdHZhciBhcHByb3ZlX2lkID0gYXBwcm92ZS5pZDtcblx0XHR2YXIgdmFsdWVzID0gYXBwcm92ZS52YWx1ZXM7XG5cdFx0dmFyIG5leHRfc3RlcHMgPSBhcHByb3ZlLm5leHRfc3RlcHM7XG5cdFx0dmFyIGRlc2NyaXB0aW9uID0gYXBwcm92ZS5kZXNjcmlwdGlvbjtcblx0XHR2YXIganVkZ2UgPSBhcHByb3ZlLmp1ZGdlO1xuXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0dHJhY2VzOiAxLFxuXHRcdFx0XHRmbG93X3ZlcnNpb246IDEsXG5cdFx0XHRcdGZsb3c6IDEsXG5cdFx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0XHRmb3JtOiAxLFxuXHRcdFx0XHRmb3JtX3ZlcnNpb246IDEsXG5cdFx0XHRcdHZhbHVlczogMSxcblx0XHRcdFx0Y29kZTogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dmFyIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcblxuXHRcdHZhciBjdXJyZW50X3RyYWNlID0gXy5maW5kKHRyYWNlcywgZnVuY3Rpb24gKHQpIHtcblx0XHRcdHJldHVybiB0Ll9pZCA9PSB0cmFjZV9pZDtcblx0XHR9KTtcblx0XHR2YXIgY3VycmVudF9hcHByb3ZlID0gXy5maW5kKGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uIChhKSB7XG5cdFx0XHRyZXR1cm4gYS5faWQgPT0gYXBwcm92ZV9pZDtcblx0XHR9KTtcblxuXHRcdC8vIOWIpOaWreS4gOS4qmluc3RhbmNl5piv5ZCm5Li65a6h5qC45Lit54q25oCBXG5cdFx0dmFyIGN1cnJlbnRfdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuXHRcdFx0X2lkOiB0aGlzLnVzZXJJZFxuXHRcdH0sIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRsb2NhbGU6IDFcblx0XHRcdH1cblx0XHR9KTtcblx0XHR2YXIgbGFuZyA9IGN1cnJlbnRfdXNlci5sb2NhbGUgPT0gJ3poLWNuJyA/ICd6aC1DTicgOiAnZW4nO1xuXHRcdHRyeSB7XG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlLCBsYW5nKTtcblx0XHRcdC8vIOWIpOaWreS4gOS4qnRyYWNl5piv5ZCm5Li65pyq5a6M5oiQ54q25oCBXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzVHJhY2VOb3RGaW5pc2hlZChjdXJyZW50X3RyYWNlKTtcblx0XHRcdC8vIOWIpOaWreS4gOS4qmFwcHJvdmXmmK/lkKbkuLrmnKrlrozmiJDnirbmgIFcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNBcHByb3ZlTm90RmluaXNoZWQoY3VycmVudF9hcHByb3ZlKTtcblx0XHRcdC8vIOWIpOaWreW9k+WJjeeUqOaIt+aYr+WQpmFwcHJvdmUg5a+55bqU55qE5aSE55CG5Lq65oiW5Luj55CG5Lq6XG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSGFuZGxlck9yQWdlbnQoY3VycmVudF9hcHByb3ZlLCB0aGlzLnVzZXJJZCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y29uc29sZS5sb2coZS5zdGFjaylcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0fVxuXG5cblx0XHR2YXIgZmxvd192ZXJzaW9uID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uO1xuXHRcdHZhciBmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcblx0XHR2YXIgc3RlcF9pZCA9IFwiXCI7XG5cdFx0c3RlcF9pZCA9IGN1cnJlbnRfdHJhY2Uuc3RlcDtcblx0XHR2YXIgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoZmxvd19pZCwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdGN1cnJlbnQ6IDEsXG5cdFx0XHRcdGhpc3RvcnlzOiAxXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dmFyIHN0ZXAgPSBudWxsO1xuXHRcdGlmIChmbG93LmN1cnJlbnQuX2lkID09IGZsb3dfdmVyc2lvbikge1xuXHRcdFx0Zmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcblx0XHRcdFx0aWYgKHMuX2lkID09IHN0ZXBfaWQpXG5cdFx0XHRcdFx0c3RlcCA9IHM7XG5cdFx0XHR9KVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmbG93Lmhpc3RvcnlzLmZvckVhY2goZnVuY3Rpb24gKGgpIHtcblx0XHRcdFx0aC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7XG5cdFx0XHRcdFx0aWYgKHMuX2lkID09IHN0ZXBfaWQpXG5cdFx0XHRcdFx0XHRzdGVwID0gcztcblx0XHRcdFx0fSlcblx0XHRcdH0pXG5cdFx0fVxuXG5cdFx0aWYgKCFzdGVwKVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdHZhciBzdGVwX3R5cGUgPSBzdGVwLnN0ZXBfdHlwZTtcblxuXHRcdGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XG5cdFx0XHRpZiAoYS5faWQgPT0gYXBwcm92ZV9pZCkge1xuXHRcdFx0XHRpbmRleCA9IGlkeDtcblx0XHRcdH1cblx0XHR9KVxuXG5cdFx0dmFyIGtleV9zdHIgPSAndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy4nO1xuXG5cdFx0dmFyIHBlcm1pc3Npb25zX3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0QXBwcm92ZVZhbHVlcyhhcHByb3ZlLnZhbHVlcywgc3RlcC5wZXJtaXNzaW9ucywgaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKTtcblxuXHRcdHZhciBjaGFuZ2VfdmFsdWVzID0gYXBwcm92ZU1hbmFnZXIuZ2V0Q2hhbmdlVmFsdWVzKGluc3RhbmNlLnZhbHVlcywgcGVybWlzc2lvbnNfdmFsdWVzKTtcblxuXHRcdHNldE9iai52YWx1ZXMgPSBfLmV4dGVuZCgoaW5zdGFuY2UudmFsdWVzIHx8IHt9KSwgcGVybWlzc2lvbnNfdmFsdWVzKTtcblxuXHRcdGlmICghXy5pc0VtcHR5KGNoYW5nZV92YWx1ZXMpKSB7XG5cblx0XHRcdHZhbHVlc19oaXN0b3J5ID0gY3VycmVudF9hcHByb3ZlLnZhbHVlc19oaXN0b3J5IHx8IFtdXG5cblx0XHRcdHZhbHVlc19oaXN0b3J5LnB1c2goe1xuXHRcdFx0XHR2YWx1ZXM6IGNoYW5nZV92YWx1ZXMsXG5cdFx0XHRcdGNyZWF0ZTogbmV3IERhdGUoKVxuXHRcdFx0fSlcblxuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAndmFsdWVzX2hpc3RvcnknXSA9IHZhbHVlc19oaXN0b3J5XG5cdFx0fVxuXG5cdFx0c2V0T2JqW2tleV9zdHIgKyAnaXNfcmVhZCddID0gdHJ1ZTtcblx0XHRzZXRPYmpba2V5X3N0ciArICdyZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0c2V0T2JqW2tleV9zdHIgKyAndmFsdWVzJ10gPSBzZXRPYmoudmFsdWVzO1xuXHRcdHNldE9ialtrZXlfc3RyICsgJ2Rlc2NyaXB0aW9uJ10gPSBkZXNjcmlwdGlvbjtcblx0XHRzZXRPYmpba2V5X3N0ciArICduZXh0X3N0ZXBzJ10gPSBuZXh0X3N0ZXBzO1xuXHRcdGlmIChzdGVwX3R5cGUgPT0gXCJzdWJtaXRcIiB8fCBzdGVwX3R5cGUgPT0gXCJzdGFydFwiKSB7XG5cdFx0XHRzZXRPYmpba2V5X3N0ciArICdqdWRnZSddID0gXCJzdWJtaXR0ZWRcIjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAnanVkZ2UnXSA9IGp1ZGdlO1xuXHRcdH1cblxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cblx0XHQvLyDorqHnrpfnlLPor7fljZXmoIfpophcblx0XHR2YXIgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG5cdFx0dmFyIGZvcm1fdiA9IHV1Zmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKTtcblx0XHR2YXIgbmFtZV9mb3J1bWxhID0gZm9ybV92Lm5hbWVfZm9ydW1sYTtcblx0XHRpZiAobmFtZV9mb3J1bWxhKSB7XG5cdFx0XHRzZXRPYmoubmFtZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VOYW1lKGluc3RhbmNlLCBzZXRPYmoudmFsdWVzKTtcblx0XHR9XG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdF9pZDogaW5zX2lkLFxuXHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlX2lkXG5cdFx0fSwge1xuXHRcdFx0JHNldDogc2V0T2JqXG5cdFx0fSk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxufSkiLCJNZXRlb3IubWV0aG9kcyh7XG5cdGNjX2RvOiBmdW5jdGlvbiAoYXBwcm92ZSwgY2NfdXNlcl9pZHMsIGRlc2NyaXB0aW9uKSB7XG5cblx0XHR2YXIgc2V0T2JqID0ge307XG5cdFx0dmFyIGluc19pZCA9IGFwcHJvdmUuaW5zdGFuY2U7XG5cdFx0dmFyIHRyYWNlX2lkID0gYXBwcm92ZS50cmFjZTtcblx0XHR2YXIgYXBwcm92ZV9pZCA9IGFwcHJvdmUuX2lkO1xuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdHNwYWNlOiAxLFxuXHRcdFx0XHR0cmFjZXM6IDEsXG5cdFx0XHRcdGNjX3VzZXJzOiAxLFxuXHRcdFx0XHR2YWx1ZXM6IDFcblx0XHRcdH1cblx0XHR9KTtcblx0XHR2YXIgY3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWQ7XG5cdFx0dmFyIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG5cdFx0dmFyIG5ld19hcHByb3ZlcyA9IFtdO1xuXG5cdFx0dmFyIGZyb21fdXNlcl9uYW1lID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXJfaWQsIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRuYW1lOiAxXG5cdFx0XHR9XG5cdFx0fSkubmFtZVxuXG5cdFx0Y2NfdXNlcl9pZHMuZm9yRWFjaChmdW5jdGlvbiAodXNlcklkLCBpZHgpIHtcblx0XHRcdHZhciB1c2VyID0gZGIudXNlcnMuZmluZE9uZSh1c2VySWQsIHtcblx0XHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFx0bmFtZTogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHZhciBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG5cdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcblx0XHRcdFx0dXNlcjogdXNlcklkXG5cdFx0XHR9LCB7XG5cdFx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcdG9yZ2FuaXphdGlvbjogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHZhciBvcmdfaWQgPSBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcblx0XHRcdHZhciBvcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUob3JnX2lkLCB7XG5cdFx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcdG5hbWU6IDEsXG5cdFx0XHRcdFx0ZnVsbG5hbWU6IDFcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR2YXIgYWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCB1c2VySWQpO1xuXHRcdFx0dmFyIGhhbmRsZXJfaWQgPSB1c2VySWQ7XG5cdFx0XHR2YXIgaGFuZGxlcl9pbmZvID0gdXNlcjtcblx0XHRcdHZhciBoYW5kbGVyX3NwYWNlX3VzZXIgPSBzcGFjZV91c2VyO1xuXHRcdFx0dmFyIGhhbmRsZXJfb3JnX2luZm8gPSBvcmdhbml6YXRpb247XG5cdFx0XHRpZiAoYWdlbnQpIHtcblx0XHRcdFx0aGFuZGxlcl9pZCA9IGFnZW50O1xuXHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGFnZW50LCB7XG5cdFx0XHRcdFx0ZmlsZWRzOiB7XG5cdFx0XHRcdFx0XHRuYW1lOiAxXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0aGFuZGxlcl9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGFnZW50KTtcblx0XHRcdFx0aGFuZGxlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhoYW5kbGVyX3NwYWNlX3VzZXIpO1xuXHRcdFx0XHRjY191c2VyX2lkc1tpZHhdID0gYWdlbnQ7XG5cdFx0XHR9XG5cdFx0XHR2YXIgYXBwciA9IHtcblx0XHRcdFx0J19pZCc6IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHIsXG5cdFx0XHRcdCdpbnN0YW5jZSc6IGluc19pZCxcblx0XHRcdFx0J3RyYWNlJzogdHJhY2VfaWQsXG5cdFx0XHRcdCdpc19maW5pc2hlZCc6IGZhbHNlLFxuXHRcdFx0XHQndXNlcic6IHVzZXJJZCxcblx0XHRcdFx0J3VzZXJfbmFtZSc6IHVzZXIubmFtZSxcblx0XHRcdFx0J2hhbmRsZXInOiBoYW5kbGVyX2lkLFxuXHRcdFx0XHQnaGFuZGxlcl9uYW1lJzogaGFuZGxlcl9pbmZvLm5hbWUsXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbic6IGhhbmRsZXJfc3BhY2VfdXNlci5vcmdhbml6YXRpb24sXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lJzogaGFuZGxlcl9vcmdfaW5mby5uYW1lLFxuXHRcdFx0XHQnaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUnOiBoYW5kbGVyX29yZ19pbmZvLmZ1bGxuYW1lLFxuXHRcdFx0XHQndHlwZSc6ICdjYycsXG5cdFx0XHRcdCdzdGFydF9kYXRlJzogbmV3IERhdGUoKSxcblx0XHRcdFx0J2lzX3JlYWQnOiBmYWxzZSxcblx0XHRcdFx0J2Zyb21fdXNlcic6IGN1cnJlbnRfdXNlcl9pZCxcblx0XHRcdFx0J2Zyb21fdXNlcl9uYW1lJzogZnJvbV91c2VyX25hbWUsXG5cdFx0XHRcdCdvcGluaW9uX2ZpZWxkc19jb2RlJzogYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlLFxuXHRcdFx0XHQnc2lnbl9maWVsZF9jb2RlJzogKGFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZSAmJiBhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUubGVuZ3RoID09IDEpID8gYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlWzBdIDogXCJcIixcblx0XHRcdFx0J2Zyb21fYXBwcm92ZV9pZCc6IGFwcHJvdmVfaWQsXG5cdFx0XHRcdCdjY19kZXNjcmlwdGlvbic6IGRlc2NyaXB0aW9uXG5cdFx0XHR9O1xuXHRcdFx0aWYgKGFnZW50KSB7XG5cdFx0XHRcdGFwcHIuYWdlbnQgPSBhZ2VudDtcblx0XHRcdH1cblx0XHRcdHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIGFwcHIpXG5cdFx0XHRuZXdfYXBwcm92ZXMucHVzaChhcHByKTtcblx0XHR9KVxuXG5cblx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuXHRcdHNldE9iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xuXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRfaWQ6IGluc19pZCxcblx0XHRcdCd0cmFjZXMuX2lkJzogdHJhY2VfaWRcblx0XHR9LCB7XG5cdFx0XHQkc2V0OiBzZXRPYmosXG5cdFx0XHQkYWRkVG9TZXQ6IHtcblx0XHRcdFx0J3RyYWNlcy4kLmFwcHJvdmVzJzoge1xuXHRcdFx0XHRcdCRlYWNoOiBuZXdfYXBwcm92ZXNcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdCRwdXNoOiB7XG5cdFx0XHRcdGNjX3VzZXJzOiB7XG5cdFx0XHRcdFx0JGVhY2g6IGNjX3VzZXJfaWRzXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKTtcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyX2lkKTtcblx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInRyYWNlX2FwcHJvdmVfY2NcIiwgaW5zdGFuY2UsIFwiXCIsIGN1cnJlbnRfdXNlcl9pbmZvLCBjY191c2VyX2lkcyk7XG5cblx0XHRmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcblx0XHRhcHByb3ZlLmNjX3VzZXJfaWRzID0gY2NfdXNlcl9pZHM7IC8vIOiusOW9leS4i+acrOasoeS8oOmYheeahOS6uuWRmElE5L2c5Li6aG9va+aOpeWPo+S4reeahOWPguaVsFxuXHRcdC8vIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5Fcblx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhmbG93X2lkLCBpbnN0YW5jZSwgYXBwcm92ZSwgJ2NjX2RvJywgY3VycmVudF91c2VyX2lkLCBjY191c2VyX2lkcylcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRjY19yZWFkOiBmdW5jdGlvbiAoYXBwcm92ZSkge1xuXHRcdHZhciBzZXRPYmogPSB7fTtcblx0XHR2YXIgaW5zX2lkID0gYXBwcm92ZS5pbnN0YW5jZTtcblx0XHR2YXIgdHJhY2VfaWQgPSBhcHByb3ZlLnRyYWNlO1xuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdHRyYWNlczogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciBjdXJyZW50X3VzZXJfaWQgPSB0aGlzLnVzZXJJZDtcblx0XHR2YXIgY3VycmVudF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uICh0KSB7XG5cdFx0XHRyZXR1cm4gdC5faWQgPT0gdHJhY2VfaWQ7XG5cdFx0fSlcblxuXHRcdHZhciBpbmRleCA9IDA7XG5cblx0XHRjdXJyZW50X3RyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0aWYgKGEudHlwZSA9PSAnY2MnICYmIGEuaGFuZGxlciA9PSBjdXJyZW50X3VzZXJfaWQgJiYgIWEuaXNfcmVhZCkge1xuXHRcdFx0XHRpbmRleCA9IGlkeDtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy5pc19yZWFkJ10gPSB0cnVlO1xuXHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy5yZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cblx0XHRzZXRPYmoudHJhY2VzID0gdHJhY2VzO1xuXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRfaWQ6IGluc19pZCxcblx0XHRcdCd0cmFjZXMuX2lkJzogdHJhY2VfaWRcblx0XHR9LCB7XG5cdFx0XHQkc2V0OiBzZXRPYmpcblx0XHR9KTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRjY19zdWJtaXQ6IGZ1bmN0aW9uIChpbnNfaWQsIGRlc2NyaXB0aW9uLCBteUFwcHJvdmUsIGNjSGFzRWRpdFBlcm1pc3Npb24pIHtcblx0XHR2YXIgc2V0T2JqID0ge307XG5cblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xuXHRcdHZhciB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkO1xuXG5cdFx0dmFyIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG5cdFx0dmFyIHZhbHVlcyA9IG15QXBwcm92ZS52YWx1ZXMgfHwge307XG5cblx0XHR2YXIgYXBwcm92ZV9pZCA9IG15QXBwcm92ZS5faWQ7XG5cblx0XHR2YXIgbXlUcmFjZTtcblxuXHRcdGZvciAobGV0IHRpZHggPSAwOyB0aWR4IDwgdHJhY2VzLmxlbmd0aDsgdGlkeCsrKSB7XG5cdFx0XHRjb25zdCB0ID0gdHJhY2VzW3RpZHhdO1xuXHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcblx0XHRcdFx0Zm9yIChsZXQgYWlkeCA9IDA7IGFpZHggPCB0LmFwcHJvdmVzLmxlbmd0aDsgYWlkeCsrKSB7XG5cdFx0XHRcdFx0Y29uc3QgYSA9IHQuYXBwcm92ZXNbYWlkeF07XG5cdFx0XHRcdFx0aWYgKGEudHlwZSA9PSAnY2MnICYmIGEuaGFuZGxlciA9PSBjdXJyZW50X3VzZXJfaWQgJiYgYS5pc19maW5pc2hlZCA9PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0dmFyIHVwb2JqID0ge307XG5cdFx0XHRcdFx0XHR2YXIga2V5X3N0ciA9ICd0cmFjZXMuJC5hcHByb3Zlcy4nICsgYWlkeCArICcuJztcblx0XHRcdFx0XHRcdHVwb2JqW2tleV9zdHIgKyAnaXNfZmluaXNoZWQnXSA9IHRydWU7XG5cdFx0XHRcdFx0XHR1cG9ialtrZXlfc3RyICsgJ2lzX3JlYWQnXSA9IHRydWU7XG5cdFx0XHRcdFx0XHR1cG9ialtrZXlfc3RyICsgJ2ZpbmlzaF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRcdFx0dXBvYmpba2V5X3N0ciArICdqdWRnZSddID0gXCJzdWJtaXR0ZWRcIjtcblx0XHRcdFx0XHRcdHVwb2JqW2tleV9zdHIgKyAnY29zdF90aW1lJ10gPSBuZXcgRGF0ZSgpIC0gYS5zdGFydF9kYXRlO1xuXHRcdFx0XHRcdFx0aWYgKGFwcHJvdmVfaWQgPT0gYS5faWQgJiYgIXQuaXNfZmluaXNoZWQgJiYgY2NIYXNFZGl0UGVybWlzc2lvbikge1xuXHRcdFx0XHRcdFx0XHRteVRyYWNlID0gdDtcblx0XHRcdFx0XHRcdFx0dmFyIHN0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHQuc3RlcCk7XG5cdFx0XHRcdFx0XHRcdHVwb2JqW2tleV9zdHIgKyBcInZhbHVlc1wiXSA9IHV1Zmxvd01hbmFnZXIuZ2V0QXBwcm92ZVZhbHVlcyh2YWx1ZXMsIHN0ZXBbXCJwZXJtaXNzaW9uc1wiXSwgaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Ly/orr7nva7mhI/op4HvvIzmhI/op4Hlj6rmt7vliqDliLDmnIDlkI7kuIDmnaFhcHByb3Zl5LitXG5cdFx0XHRcdFx0XHRpZiAoYXBwcm92ZV9pZCA9PSBhLl9pZCkge1xuXHRcdFx0XHRcdFx0XHR1cG9ialtrZXlfc3RyICsgJ2Rlc2NyaXB0aW9uJ10gPSBkZXNjcmlwdGlvbjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRcdFx0XHRfaWQ6IGluc19pZCxcblx0XHRcdFx0XHRcdFx0J3RyYWNlcy5faWQnOiB0Ll9pZFxuXHRcdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0XHQkc2V0OiB1cG9ialxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGlmIChteUFwcHJvdmUpIHtcblxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcblx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xuXG5cdFx0XHRpZiAoY2NIYXNFZGl0UGVybWlzc2lvbiAmJiBteUFwcHJvdmUgJiYgIW15VHJhY2UuaXNfZmluaXNoZWQpIHtcblx0XHRcdFx0dmFyIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKTtcblx0XHRcdFx0dmFyIHVwZGF0ZWRfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGlucywgYXBwcm92ZV9pZCk7XG5cdFx0XHRcdHNldE9iai52YWx1ZXMgPSB1cGRhdGVkX3ZhbHVlcztcblx0XHRcdFx0c2V0T2JqLm5hbWUgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlTmFtZShpbnN0YW5jZSk7XG5cdFx0XHR9XG5cblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRfaWQ6IGluc19pZCxcblx0XHRcdFx0J3RyYWNlcy5faWQnOiBteUFwcHJvdmUudHJhY2Vcblx0XHRcdH0sIHtcblx0XHRcdFx0JHNldDogc2V0T2JqLFxuXHRcdFx0XHQkcHVsbDoge1xuXHRcdFx0XHRcdGNjX3VzZXJzOiBjdXJyZW50X3VzZXJfaWRcblx0XHRcdFx0fSxcblx0XHRcdFx0JGFkZFRvU2V0OiB7XG5cdFx0XHRcdFx0b3V0Ym94X3VzZXJzOiB7XG5cdFx0XHRcdFx0XHQkZWFjaDogW2N1cnJlbnRfdXNlcl9pZCwgbXlBcHByb3ZlLnVzZXJdXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xuXG5cdFx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyX2lkKTtcblx0XHRcdC8v5Lyg6ZiF5o+Q5Lqk5LiN6YCa55+l5Lyg6ZiF6ICFXG5cdFx0XHRpZiAoZmFsc2UgJiYgZGVzY3JpcHRpb24gJiYgbXlBcHByb3ZlICYmIG15QXBwcm92ZS5mcm9tX3VzZXIpIHtcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJ0cmFjZV9hcHByb3ZlX2NjX3N1Ym1pdFwiLCBpbnN0YW5jZSwgXCJcIiwgY3VycmVudF91c2VyX2luZm8sIFtteUFwcHJvdmUuZnJvbV91c2VyXSk7XG5cdFx0XHR9XG5cblx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCBjdXJyZW50X3VzZXJfaWQpO1xuXG5cdFx0XHRmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcblx0XHRcdC8vIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5Fcblx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGZsb3dfaWQsIGluc3RhbmNlLCBteUFwcHJvdmUsICdjY19zdWJtaXQnLCBjdXJyZW50X3VzZXJfaWQsIFtdKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRjY19yZW1vdmU6IGZ1bmN0aW9uIChpbnN0YW5jZUlkLCBhcHByb3ZlSWQpIHtcblx0XHR2YXIgc2V0T2JqID0ge307XG5cblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZUlkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0dHJhY2VzOiAxLFxuXHRcdFx0XHRjY191c2VyczogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XG5cdFx0dmFyIHRyYWNlX2lkLCByZW1vdmVfdXNlcl9pZCwgbXVsdGkgPSBmYWxzZTtcblxuXHRcdHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG5cdFx0XHRpZiAodC5hcHByb3Zlcykge1xuXHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0XHRcdGlmIChhLl9pZCA9PSBhcHByb3ZlSWQpIHtcblx0XHRcdFx0XHRcdHRyYWNlX2lkID0gYS50cmFjZTtcblx0XHRcdFx0XHRcdHJlbW92ZV91c2VyX2lkID0gYS5oYW5kbGVyO1xuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gJ3Rlcm1pbmF0ZWQnO1xuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX3JlYWQnXSA9IHRydWU7XG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHRpZiAoIXRyYWNlX2lkIHx8ICFyZW1vdmVfdXNlcl9pZClcblx0XHRcdHJldHVybjtcblxuXHRcdHZhciBtdWx0aSA9IDA7XG5cdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcblx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XG5cdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSkge1xuXHRcdFx0XHRcdGlmIChhLmhhbmRsZXIgPT0gcmVtb3ZlX3VzZXJfaWQgJiYgYS50eXBlID09ICdjYycgJiYgYS5pc19maW5pc2hlZCA9PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0bXVsdGkrKztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuXHRcdHNldE9iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xuXG5cdFx0aWYgKG11bHRpID4gMSkge1xuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcblx0XHRcdFx0J3RyYWNlcy5faWQnOiB0cmFjZV9pZFxuXHRcdFx0fSwge1xuXHRcdFx0XHQkc2V0OiBzZXRPYmpcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxuXHRcdFx0XHQndHJhY2VzLl9pZCc6IHRyYWNlX2lkXG5cdFx0XHR9LCB7XG5cdFx0XHRcdCRzZXQ6IHNldE9iaixcblx0XHRcdFx0JHB1bGw6IHtcblx0XHRcdFx0XHRjY191c2VyczogcmVtb3ZlX3VzZXJfaWRcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cblx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgcmVtb3ZlX3VzZXJfaWQpO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdGNjX3NhdmU6IGZ1bmN0aW9uIChpbnNfaWQsIGRlc2NyaXB0aW9uLCBteUFwcHJvdmUsIGNjSGFzRWRpdFBlcm1pc3Npb24pIHtcblx0XHR2YXIgc2V0T2JqID0ge307XG5cblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xuXHRcdHZhciB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkO1xuXG5cdFx0dmFyIG15VHJhY2U7XG5cblx0XHR0cmFjZXMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xuXHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcblx0XHRcdFx0dC5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpZHgpIHtcblx0XHRcdFx0XHRpZiAoYS5oYW5kbGVyID09IGN1cnJlbnRfdXNlcl9pZCAmJiBhLnR5cGUgPT0gJ2NjJyAmJiBhLmlzX2ZpbmlzaGVkID09IGZhbHNlKSB7XG5cdFx0XHRcdFx0XHR2YXIgdXBvYmogPSB7fTtcblx0XHRcdFx0XHRcdHVwb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gXCJzdWJtaXR0ZWRcIjtcblx0XHRcdFx0XHRcdHVwb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRcdFx0X2lkOiBpbnNfaWQsXG5cdFx0XHRcdFx0XHRcdCd0cmFjZXMuX2lkJzogdC5faWRcblx0XHRcdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRcdFx0JHNldDogdXBvYmpcblx0XHRcdFx0XHRcdH0pXG5cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHR2YXIgaW5kZXggPSAwO1xuXHRcdHZhciBjdXJyZW50U3RlcElkO1xuXG5cdFx0Ly/orr7nva7mhI/op4HvvIzmhI/op4Hlj6rmt7vliqDliLDmnIDlkI7kuIDmnaFhcHByb3Zl5LitXG5cdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcblx0XHRcdGlmIChteUFwcHJvdmUgJiYgdC5faWQgPT09IG15QXBwcm92ZS50cmFjZSkge1xuXHRcdFx0XHRjdXJyZW50U3RlcElkID0gdC5zdGVwO1xuXHRcdFx0XHRteVRyYWNlID0gdDtcblx0XHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcblx0XHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0XHRcdFx0aWYgKGEuX2lkID09PSBteUFwcHJvdmUuX2lkKSB7XG5cdFx0XHRcdFx0XHRcdGluZGV4ID0gaWR4O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpbmRleCArICcuZGVzY3JpcHRpb24nXSA9IGRlc2NyaXB0aW9uO1xuXG5cdFx0dmFyIHVwZGF0ZU9iaiA9IHt9O1xuXG5cdFx0aWYgKGNjSGFzRWRpdFBlcm1pc3Npb24gJiYgbXlBcHByb3ZlICYmICFteVRyYWNlLmlzX2ZpbmlzaGVkKSB7XG5cblx0XHRcdHZhciBrZXlfc3RyID0gJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpbmRleCArICcuJztcblxuXHRcdFx0dmFyIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG5cblx0XHRcdHZhciBzdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBjdXJyZW50U3RlcElkKTtcblxuXHRcdFx0dmFyIHBlcm1pc3Npb25zX3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0QXBwcm92ZVZhbHVlcyhteUFwcHJvdmUudmFsdWVzLCBzdGVwLnBlcm1pc3Npb25zLCBpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xuXG5cdFx0XHR2YXIgY2hhbmdlX3ZhbHVlcyA9IGFwcHJvdmVNYW5hZ2VyLmdldENoYW5nZVZhbHVlcyhpbnN0YW5jZS52YWx1ZXMsIHBlcm1pc3Npb25zX3ZhbHVlcyk7XG5cblx0XHRcdHNldE9iai52YWx1ZXMgPSBfLmV4dGVuZCgoaW5zdGFuY2UudmFsdWVzIHx8IHt9KSwgcGVybWlzc2lvbnNfdmFsdWVzKTtcblxuXHRcdFx0aWYgKCFfLmlzRW1wdHkoY2hhbmdlX3ZhbHVlcykpIHtcblx0XHRcdFx0dmFyIHB1c2hPYmogPSB7fTtcblx0XHRcdFx0cHVzaE9ialtrZXlfc3RyICsgJ3ZhbHVlc19oaXN0b3J5J10gPSB7XG5cdFx0XHRcdFx0dmFsdWVzOiBjaGFuZ2VfdmFsdWVzLFxuXHRcdFx0XHRcdGNyZWF0ZTogbmV3IERhdGUoKVxuXHRcdFx0XHR9XG5cdFx0XHRcdHVwZGF0ZU9iai4kcHVzaCA9IHB1c2hPYmo7XG5cdFx0XHR9XG5cblx0XHRcdHNldE9iai5uYW1lID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZU5hbWUoaW5zdGFuY2UpXG5cdFx0fVxuXG5cdFx0dXBkYXRlT2JqLiRzZXQgPSBzZXRPYmo7XG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdF9pZDogaW5zX2lkLFxuXHRcdFx0J3RyYWNlcy5faWQnOiBteUFwcHJvdmUudHJhY2Vcblx0XHR9LCB1cGRhdGVPYmopO1xuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cbn0pIiwiTWV0ZW9yLm1ldGhvZHMoe1xuXHQvLyDmlLnkuLrpgJrov4dhcGnosIPnlKhcblx0Zm9yd2FyZF9pbnN0YW5jZTogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCBzcGFjZV9pZCwgZmxvd19pZCwgaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50LCBkZXNjcmlwdGlvbiwgaXNGb3J3YXJkQXR0YWNobWVudHMsIHNlbGVjdGVkVXNlcnMsIGFjdGlvbl90eXBlLCByZWxhdGVkLCBmcm9tX2FwcHJvdmVfaWQpIHtcblx0XHRpZiAoIXRoaXMudXNlcklkKVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignbm90LWF1dGhvcml6ZWQnKTtcblxuXHRcdHJldHVybjtcblx0fSxcblxuXG5cdGZvcndhcmRfcmVtb3ZlOiBmdW5jdGlvbiAoaW5zdGFuY2VfaWQsIHRyYWNlX2lkLCBhcHByb3ZlX2lkKSB7XG5cdFx0Y2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZyk7XG5cdFx0Y2hlY2sodHJhY2VfaWQsIFN0cmluZyk7XG5cdFx0Y2hlY2soYXBwcm92ZV9pZCwgU3RyaW5nKTtcblxuXHRcdHZhciBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCk7XG5cblx0XHRpZiAoIWlucykge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcigncGFyYW1zIGVycm9yIScsICdyZWNvcmQgbm90IGV4aXN0cyEnKTtcblx0XHR9XG5cblx0XHR2YXIgdHJhY2UgPSBfLmZpbmQoaW5zLnRyYWNlcywgZnVuY3Rpb24gKHQpIHtcblx0XHRcdHJldHVybiB0Ll9pZCA9PSB0cmFjZV9pZDtcblx0XHR9KTtcblxuXHRcdHZhciBhcHByb3ZlID0gXy5maW5kKHRyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbiAoYXBwcikge1xuXHRcdFx0cmV0dXJuIGFwcHIuX2lkID09IGFwcHJvdmVfaWQ7XG5cdFx0fSlcblxuXHRcdHZhciBoYXNBZG1pblBlcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzRmxvd0FkbWluUGVybWlzc2lvbihpbnMuZmxvdywgaW5zLnNwYWNlLCB0aGlzLnVzZXJJZClcblxuXHRcdGlmICghYXBwcm92ZSB8fCAhWydmb3J3YXJkJywgJ2Rpc3RyaWJ1dGUnXS5pbmNsdWRlcyhhcHByb3ZlLnR5cGUpIHx8ICFhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2UpIHtcblx0XHRcdGlmICghaGFzQWRtaW5QZXJtaXNzaW9uKSB7XG5cdFx0XHRcdGlmIChhcHByb3ZlLmZyb21fdXNlciAhPSB0aGlzLnVzZXJJZClcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCAnaW5zdGFuY2VfZm9yd2FyZF9jYW5ub3RfY2FuY2VsJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIGZvcndhcmRfaW5zdGFuY2VfaWQgPSBhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2U7XG5cdFx0dmFyIGZvcndhcmRfaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShmb3J3YXJkX2luc3RhbmNlX2lkKTtcblx0XHRpZiAoZm9yd2FyZF9pbnN0YW5jZSkge1xuXHRcdFx0aWYgKGZvcndhcmRfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiKSB7XG5cdFx0XHRcdGlmICghaGFzQWRtaW5QZXJtaXNzaW9uKVxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsICdpbnN0YW5jZV9mb3J3YXJkX2luc3RhbmNlX3N0YXRlX2NoYW5nZWQnKTtcblx0XHRcdH1cblx0XHRcdHZhciBpbmJveF91c2VycyA9IGZvcndhcmRfaW5zdGFuY2UuaW5ib3hfdXNlcnMgfHwgW107XG5cblx0XHRcdGZvcndhcmRfaW5zdGFuY2UuZGVsZXRlZCA9IG5ldyBEYXRlKCk7XG5cdFx0XHRmb3J3YXJkX2luc3RhbmNlLmRlbGV0ZWRfYnkgPSB0aGlzLnVzZXJJZDtcblx0XHRcdHZhciBkZWxldGVkX2ZvcndhcmRfaW5zdGFuY2VfaWQgPSBkYi5kZWxldGVkX2luc3RhbmNlcy5pbnNlcnQoZm9yd2FyZF9pbnN0YW5jZSk7XG5cdFx0XHRpZiAoZGVsZXRlZF9mb3J3YXJkX2luc3RhbmNlX2lkKSB7XG5cdFx0XHRcdGRiLmluc3RhbmNlcy5yZW1vdmUoe1xuXHRcdFx0XHRcdF9pZDogZm9yd2FyZF9pbnN0YW5jZV9pZFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyDliKDpmaTnlLPor7fljZXlkI7ph43mlrDorqHnrpdpbmJveF91c2Vyc+eahGJhZGdlXG5cdFx0XHRcdF8uZWFjaChpbmJveF91c2VycywgZnVuY3Rpb24gKHVfaWQpIHtcblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdV9pZCk7XG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIHNldF9vYmogPSBuZXcgT2JqZWN0O1xuXHRcdHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuXHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcblxuXHRcdF8uZWFjaCh0cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24gKGFwcHIsIGlkeCkge1xuXHRcdFx0aWYgKGFwcHIuX2lkID09IGFwcHJvdmVfaWQpIHtcblx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9ICd0ZXJtaW5hdGVkJztcblx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZmluaXNoZWQnXSA9IHRydWU7XG5cdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmZpbmlzaF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlO1xuXHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0X2lkOiBpbnN0YW5jZV9pZCxcblx0XHRcdFwidHJhY2VzLl9pZFwiOiB0cmFjZV9pZFxuXHRcdH0sIHtcblx0XHRcdCRzZXQ6IHNldF9vYmpcblx0XHR9KVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0Y2FuY2VsRGlzdHJpYnV0ZTogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCBhcHByb3ZlX2lkcykge1xuXHRcdGNoZWNrKGluc3RhbmNlX2lkLCBTdHJpbmcpXG5cdFx0Y2hlY2soYXBwcm92ZV9pZHMsIEFycmF5KVxuXG5cdFx0dmFyIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkKVxuXG5cdFx0aWYgKCFpbnMpIHtcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3BhcmFtcyBlcnJvciEnLCAncmVjb3JkIG5vdCBleGlzdHMhJylcblx0XHR9XG5cblx0XHR1c2VySWQgPSB0aGlzLnVzZXJJZFxuXG5cdFx0dmFyIGhhc0FkbWluUGVybWlzc2lvbiA9IFdvcmtmbG93TWFuYWdlci5oYXNGbG93QWRtaW5QZXJtaXNzaW9uKGlucy5mbG93LCBpbnMuc3BhY2UsIHVzZXJJZClcblxuXHRcdF8uZWFjaChpbnMudHJhY2VzLCBmdW5jdGlvbiAodCkge1xuXHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcblx0XHRcdFx0dmFyIGV4aXN0cyA9IGZhbHNlXG5cdFx0XHRcdHZhciBzZXRfb2JqID0gbmV3IE9iamVjdFxuXHRcdFx0XHRfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0XHRcdGlmIChhcHByb3ZlX2lkcy5pbmNsdWRlcyhhLl9pZCkgJiYgKGEuZnJvbV91c2VyID09IHVzZXJJZCB8fCBoYXNBZG1pblBlcm1pc3Npb24pICYmICdkaXN0cmlidXRlJyA9PSBhLnR5cGUgJiYgYS5mb3J3YXJkX2luc3RhbmNlKSB7XG5cdFx0XHRcdFx0XHR2YXIgZm9yd2FyZF9pbnN0YW5jZV9pZCA9IGEuZm9yd2FyZF9pbnN0YW5jZVxuXHRcdFx0XHRcdFx0dmFyIGZvcndhcmRfaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShmb3J3YXJkX2luc3RhbmNlX2lkKVxuXHRcdFx0XHRcdFx0aWYgKGZvcndhcmRfaW5zdGFuY2UpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGZvcndhcmRfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0dmFyIGluYm94X3VzZXJzID0gZm9yd2FyZF9pbnN0YW5jZS5pbmJveF91c2VycyB8fCBbXVxuXG5cdFx0XHRcdFx0XHRcdGZvcndhcmRfaW5zdGFuY2UuZGVsZXRlZCA9IG5ldyBEYXRlKClcblx0XHRcdFx0XHRcdFx0Zm9yd2FyZF9pbnN0YW5jZS5kZWxldGVkX2J5ID0gdXNlcklkXG5cdFx0XHRcdFx0XHRcdHZhciBkZWxldGVkX2ZvcndhcmRfaW5zdGFuY2VfaWQgPSBkYi5kZWxldGVkX2luc3RhbmNlcy5pbnNlcnQoZm9yd2FyZF9pbnN0YW5jZSlcblx0XHRcdFx0XHRcdFx0aWYgKGRlbGV0ZWRfZm9yd2FyZF9pbnN0YW5jZV9pZCkge1xuXHRcdFx0XHRcdFx0XHRcdGRiLmluc3RhbmNlcy5yZW1vdmUoe1xuXHRcdFx0XHRcdFx0XHRcdFx0X2lkOiBmb3J3YXJkX2luc3RhbmNlX2lkXG5cdFx0XHRcdFx0XHRcdFx0fSlcblxuXHRcdFx0XHRcdFx0XHRcdC8vIOWIoOmZpOeUs+ivt+WNleWQjumHjeaWsOiuoeeul2luYm94X3VzZXJz55qEYmFkZ2Vcblx0XHRcdFx0XHRcdFx0XHRfLmVhY2goaW5ib3hfdXNlcnMsIGZ1bmN0aW9uICh1X2lkKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdV9pZClcblx0XHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9ICd0ZXJtaW5hdGVkJ1xuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbmV3IERhdGUoKVxuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlXG5cdFx0XHRcdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRleGlzdHMgPSB0cnVlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KVxuXG5cdFx0XHRcdGlmICghZXhpc3RzKVxuXHRcdFx0XHRcdHJldHVyblxuXG5cdFx0XHRcdHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpXG5cdFx0XHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSB1c2VySWRcblxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlX2lkLFxuXHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiB0Ll9pZFxuXHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0JHNldDogc2V0X29ialxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHRyZXR1cm4gdHJ1ZVxuXHR9XG5cblxufSkiLCJNZXRlb3IubWV0aG9kcyh7XG4gICAgY2ZzX2luc3RhbmNlc19yZW1vdmU6IGZ1bmN0aW9uIChmaWxlX2lkKSB7XG4gICAgICAgIGNoZWNrKGZpbGVfaWQsIFN0cmluZyk7XG4gICAgICAgIGNmcy5pbnN0YW5jZXMucmVtb3ZlKGZpbGVfaWQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgY2ZzX2luc3RhbmNlc19zZXRfY3VycmVudDogZnVuY3Rpb24gKGZpbGVfaWQpIHtcbiAgICAgICAgY2hlY2soZmlsZV9pZCwgU3RyaW5nKTtcbiAgICAgICAgY2ZzLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBmaWxlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBjZnNfaW5zdGFuY2VzX2xvY2s6IGZ1bmN0aW9uIChmaWxlX2lkLCB1c2VyX2lkLCB1c2VyX25hbWUpIHtcbiAgICAgICAgY2ZzLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBmaWxlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX2J5JzogdXNlcl9pZCxcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX2J5X25hbWUnOiB1c2VyX25hbWUsXG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmxvY2tlZF90aW1lJzogbmV3IERhdGUoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIGNmc19pbnN0YW5jZXNfdW5sb2NrOiBmdW5jdGlvbiAoZmlsZV9pZCkge1xuICAgICAgICBjZnMuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGZpbGVfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgJHVuc2V0OiB7XG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmxvY2tlZF9ieSc6ICcnLFxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfYnlfbmFtZSc6ICcnLFxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfdGltZSc6ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzazogZnVuY3Rpb24gKHNwYWNlSWQsIGNmc1JlY29yZElkcykge1xuICAgICAgICBpZiAoIXRoaXMudXNlcklkKVxuICAgICAgICAgICAgcmV0dXJuIFwi5LiN56ym5ZCI5omn6KGM5p2h5Lu2XCJcblxuICAgICAgICBpZiAoTWV0ZW9yLnVzZXJzLmZpbmQoe1xuICAgICAgICAgICAgICAgIF9pZDogdGhpcy51c2VySWQsXG4gICAgICAgICAgICAgICAgaXNfY2xvdWRhZG1pbjogdHJ1ZVxuICAgICAgICAgICAgfSkuY291bnQoKSA8IDEpXG4gICAgICAgICAgICByZXR1cm4gXCLkuI3nrKblkIjmiafooYzmnaHku7ZcIlxuXG4gICAgICAgIGNoZWNrKHNwYWNlSWQsIFN0cmluZyk7XG5cbiAgICAgICAgdmFyIHN0b3JlID0gXCJpbnN0YW5jZXNcIjtcbiAgICAgICAgdmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgICAgICAgdmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG4gICAgICAgIHZhciBta2RpcnAgPSByZXF1aXJlKCdta2RpcnAnKTtcbiAgICAgICAgdmFyIHBhdGhuYW1lID0gcGF0aC5qb2luKF9fbWV0ZW9yX2Jvb3RzdHJhcF9fLnNlcnZlckRpciwgJy4uLy4uLy4uL2Nmcy9zcGFjZUluc3RhbmNlQXR0YWNobWVudHMnKTtcbiAgICAgICAgLy8gU2V0IGFic29sdXRlIHBhdGhcbiAgICAgICAgdmFyIGFic29sdXRlUGF0aCA9IHBhdGgucmVzb2x2ZShwYXRobmFtZSk7XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgcGF0aCBleGlzdHNcbiAgICAgICAgbWtkaXJwLnN5bmMoYWJzb2x1dGVQYXRoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2Fic29sdXRlUGF0aDogJywgYWJzb2x1dGVQYXRoKTtcbiAgICAgICAgY29uc29sZS50aW1lKCdkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrJyk7XG4gICAgICAgIHZhciBxdWVyeSA9IHtcbiAgICAgICAgICAgICdtZXRhZGF0YS5zcGFjZSc6IHNwYWNlSWRcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2ZzUmVjb3JkSWRzKSB7XG4gICAgICAgICAgICBxdWVyeS5faWQgPSB7XG4gICAgICAgICAgICAgICAgJGluOiBjZnNSZWNvcmRJZHNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRvd25sb2FkRmFpbGVkUmVjb3JkSWRzID0gW107XG4gICAgICAgIGNmcy5pbnN0YW5jZXMuZmluZChxdWVyeSkuZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsZU5hbWUgPSBzdG9yZSArICctJyArIGMuX2lkICsgJy0nICsgYy5uYW1lKCk7XG4gICAgICAgICAgICAgICAgdmFyIGZpbGVQYXRoID0gcGF0aC5qb2luKGFic29sdXRlUGF0aCwgZmlsZU5hbWUpO1xuICAgICAgICAgICAgICAgIE1ldGVvci53cmFwQXN5bmMoZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd3JpdGVyID0gZnMuY3JlYXRlV3JpdGVTdHJlYW0oZmlsZVBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLm9uKCdmaW5pc2gnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IGMuY3JlYXRlUmVhZFN0cmVhbShzdG9yZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRGYWlsZWRSZWNvcmRJZHMucHVzaChjLl9pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzazogJywgYy5faWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3Iuc3RhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5waXBlKHdyaXRlcik7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrOiAnLCBjLl9pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnN0YWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkoKVxuXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Rvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2s6ICcsIGMuX2lkKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnN0YWNrKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KVxuXG4gICAgICAgIGlmIChkb3dubG9hZEZhaWxlZFJlY29yZElkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdkb3dubG9hZEZhaWxlZFJlY29yZElkczogJyk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGRvd25sb2FkRmFpbGVkUmVjb3JkSWRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUudGltZUVuZCgnZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzaycpO1xuXG4gICAgICAgIHJldHVybiBkb3dubG9hZEZhaWxlZFJlY29yZElkcztcbiAgICB9XG59KSIsIk1ldGVvci5tZXRob2RzXG5cdHNldF9hcHByb3ZlX2hhdmVfcmVhZDogKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCkgLT5cblx0XHRpZiAhdGhpcy51c2VySWRcblx0XHRcdHJldHVyblxuXG5cdFx0c2VsZiA9IHRoaXNcblxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoeyBfaWQ6IGluc3RhbmNlSWQsIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkIH0sIHsgZmllbGRzOiB7IFwidHJhY2VzLiRcIjogMSB9IH0pXG5cblx0XHRpZiBpbnN0YW5jZT8udHJhY2VzPy5sZW5ndGggPiAwXG5cdFx0XHR0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXVxuXHRcdFx0c2V0T2JqID0ge1xuXHRcdFx0XHRtb2RpZmllZDogbmV3IERhdGUsXG5cdFx0XHRcdG1vZGlmaWVkX2J5OiBzZWxmLnVzZXJJZFxuXHRcdFx0fVxuXHRcdFx0dHJhY2UuYXBwcm92ZXMuZm9yRWFjaCAoYXBwcm92ZSwgaWR4KSAtPlxuXHRcdFx0XHRpZiBhcHByb3ZlLl9pZCA9PSBhcHByb3ZlSWQgJiYgIWFwcHJvdmUuaXNfcmVhZFxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5pc19yZWFkXCJdID0gdHJ1ZVxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpXG5cblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoc2V0T2JqKVxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXG5cdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcblx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdCRzZXQ6IHNldE9ialxuXHRcdFx0XHR9KVxuXHRcdFx0cmV0dXJuIHRydWVcblxuXHRjaGFuZ2VfYXBwcm92ZV9pbmZvOiAoaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBkZXNjcmlwdGlvbiwgZmluaXNoX2RhdGUpIC0+XG5cdFx0aWYgIXRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm5cblx0XHRjaGVjayhpbnN0YW5jZUlkLCBTdHJpbmcpXG5cdFx0Y2hlY2sodHJhY2VJZCwgU3RyaW5nKVxuXHRcdGNoZWNrKGFwcHJvdmVJZCwgU3RyaW5nKVxuXHRcdGNoZWNrKGRlc2NyaXB0aW9uLCBTdHJpbmcpXG5cdFx0Y2hlY2soZmluaXNoX2RhdGUsIERhdGUpXG5cblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHsgX2lkOiBpbnN0YW5jZUlkLCBcInRyYWNlcy5faWRcIjogdHJhY2VJZCB9LCB7IGZpZWxkczogeyBcInRyYWNlcy4kXCI6IDEgfSB9KVxuXG5cdFx0aWYgaW5zdGFuY2U/LnRyYWNlcz8ubGVuZ3RoID4gMFxuXHRcdFx0dHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF1cblx0XHRcdHNldE9iaiA9IHt9XG5cdFx0XHR0cmFjZS5hcHByb3Zlcy5mb3JFYWNoIChhcHByb3ZlLCBpZHgpIC0+XG5cdFx0XHRcdGlmIGFwcHJvdmUuX2lkID09IGFwcHJvdmVJZFxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5kZXNjcmlwdGlvblwiXSA9IGRlc2NyaXB0aW9uXG5cdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LmZpbmlzaF9kYXRlXCJdID0gZmluaXNoX2RhdGVcblx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uY29zdF90aW1lXCJdID0gbmV3IERhdGUoKSAtIGFwcHJvdmUuc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpXG5cblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoc2V0T2JqKVxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXG5cdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcblx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdCRzZXQ6IHNldE9ialxuXHRcdFx0XHR9KVxuXHRcdFx0cmV0dXJuIHRydWVcblxuXHR1cGRhdGVfYXBwcm92ZV9zaWduOiAoaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBzaWduX2ZpZWxkX2NvZGUsIGRlc2NyaXB0aW9uLCBzaWduX3R5cGUsIGxhc3RTaWduQXBwcm92ZSktPlxuXHRcdGNoZWNrKGluc3RhbmNlSWQsIFN0cmluZylcblx0XHRjaGVjayh0cmFjZUlkLCBTdHJpbmcpXG5cdFx0Y2hlY2soYXBwcm92ZUlkLCBTdHJpbmcpXG5cdFx0Y2hlY2soc2lnbl9maWVsZF9jb2RlLCBTdHJpbmcpXG5cdFx0Y2hlY2soZGVzY3JpcHRpb24sIFN0cmluZylcblxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHR0cmltRGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi50cmltKClcblxuXHRcdHNob3dCbGFua0FwcHJvdmVEZXNjcmlwdGlvbiA9IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMud29ya2Zsb3c/LnNob3dCbGFua0FwcHJvdmVEZXNjcmlwdGlvblxuXG5cdFx0c2Vzc2lvbl91c2VySWQgPSB0aGlzLnVzZXJJZFxuXG5cdFx0aWYgbGFzdFNpZ25BcHByb3ZlXG5cdFx0XHRpZiBNZXRlb3Iuc2V0dGluZ3MucHVibGljLndvcmtmbG93Py5rZWVwTGFzdFNpZ25BcHByb3ZlRGVzY3JpcHRpb24gIT0gZmFsc2Vcblx0XHRcdFx0aWYgbGFzdFNpZ25BcHByb3ZlLmN1c3RvbV9zaWduX3Nob3dcblx0XHRcdFx0XHRyZXR1cm5cblxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoeyBfaWQ6IGluc3RhbmNlSWQsIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkIH0sIHsgZmllbGRzOiB7IFwidHJhY2VzLiRcIjogMSB9IH0pXG5cblx0XHRpZiBpbnN0YW5jZT8udHJhY2VzPy5sZW5ndGggPiAwXG5cblx0XHRcdHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdXG5cdFx0XHR1cE9iaiA9IHt9XG5cdFx0XHRjdXJyZW50QXBwcm92ZURlc2NyaXB0aW9uID0gJydcblx0XHRcdHRyYWNlLmFwcHJvdmVzLmZvckVhY2ggKGFwcHJvdmUsIGlkeCkgLT5cblx0XHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gYXBwcm92ZUlkXG5cdFx0XHRcdFx0Y3VycmVudEFwcHJvdmVEZXNjcmlwdGlvbiA9IGFwcHJvdmUuZGVzY3JpcHRpb25cblx0XHRcdFx0XHRpZiBzaWduX2ZpZWxkX2NvZGVcblx0XHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnNpZ25fZmllbGRfY29kZVwiXSA9IHNpZ25fZmllbGRfY29kZVxuXHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LmRlc2NyaXB0aW9uXCJdID0gZGVzY3JpcHRpb25cblx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5zaWduX3Nob3dcIl0gPSBpZiB0cmltRGVzY3JpcHRpb24gfHwgc2hvd0JsYW5rQXBwcm92ZURlc2NyaXB0aW9uIHRoZW4gdHJ1ZSBlbHNlIGZhbHNlXG5cdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ubW9kaWZpZWRcIl0gPSBuZXcgRGF0ZSgpXG5cdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ubW9kaWZpZWRfYnlcIl0gPSBzZXNzaW9uX3VzZXJJZFxuXHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcblxuXHRcdFx0aWYgTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy53b3JrZmxvdz8ua2VlcExhc3RTaWduQXBwcm92ZURlc2NyaXB0aW9uID09IGZhbHNlICYmICghIWN1cnJlbnRBcHByb3ZlRGVzY3JpcHRpb24gIT0gISF0cmltRGVzY3JpcHRpb24gfHwgc2hvd0JsYW5rQXBwcm92ZURlc2NyaXB0aW9uKVxuXHRcdFx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7IF9pZDogaW5zdGFuY2VJZCB9LCB7IGZpZWxkczogeyBcInRyYWNlc1wiOiAxIH0gfSlcblx0XHRcdFx0dHJhY2VzID0gaW5zLnRyYWNlc1xuXHRcdFx0XHRjdXJyZW50VHJhY2UgPSBfLmZpbmQgdHJhY2VzLCAodCkgLT5cblx0XHRcdFx0XHRyZXR1cm4gdC5faWQgPT0gdHJhY2VJZFxuXHRcdFx0XHRjdXJyZW50U3RlcCA9IGN1cnJlbnRUcmFjZS5zdGVwXG5cdFx0XHRcdHRyYWNlcy5mb3JFYWNoICh0LCB0SWR4KSAtPlxuXHRcdFx0XHRcdGlmIHQuc3RlcCA9PSBjdXJyZW50U3RlcFxuXHRcdFx0XHRcdFx0dD8uYXBwcm92ZXMuZm9yRWFjaCAoYXBwciwgYUlkeCkgLT5cblx0XHRcdFx0XHRcdFx0aWYgYXBwci5oYW5kbGVyID09IHNlc3Npb25fdXNlcklkICYmIGFwcHIuaXNfZmluaXNoZWQgJiYgYXBwci5faWQgIT0gYXBwcm92ZUlkICYmICFfLmhhcyhhcHByLCAnY3VzdG9tX3NpZ25fc2hvdycpXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHRyaW1EZXNjcmlwdGlvbiAmJiBhcHByLnNpZ25fc2hvdyA9PSB0cnVlICYmIChzaWduX2ZpZWxkX2NvZGUgPT0gXCJcIiB8fCAhYXBwci5zaWduX2ZpZWxkX2NvZGUgfHwgc2lnbl9maWVsZF9jb2RlID09IGFwcHIuc2lnbl9maWVsZF9jb2RlKSkgfHwgc2hvd0JsYW5rQXBwcm92ZURlc2NyaXB0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4je3RJZHh9LmFwcHJvdmVzLiN7YUlkeH0uc2lnbl9zaG93XCJdID0gZmFsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiN7dElkeH0uYXBwcm92ZXMuI3thSWR4fS5rZWVwTGFzdFNpZ25BcHByb3ZlRGVzY3JpcHRpb25cIl0gPSBhcHByb3ZlSWRcblx0XHRcdFx0XHRcdFx0XHRlbHNlIGlmIGFwcHIua2VlcExhc3RTaWduQXBwcm92ZURlc2NyaXB0aW9uID09IGFwcHJvdmVJZFxuXHRcdFx0XHRcdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuI3t0SWR4fS5hcHByb3Zlcy4je2FJZHh9LnNpZ25fc2hvd1wiXSA9IHRydWVcblx0XHRcdFx0XHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiN7dElkeH0uYXBwcm92ZXMuI3thSWR4fS5rZWVwTGFzdFNpZ25BcHByb3ZlRGVzY3JpcHRpb25cIl0gPSBudWxsXG5cblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkodXBPYmopXG5cdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcblx0XHRcdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuXHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0JHNldDogdXBPYmpcblx0XHRcdFx0fSlcblx0XHRcdHJldHVybiB0cnVlXG5cblxuXHR1cGRhdGVfc2lnbl9zaG93OiAob2JqcywgbXlBcHByb3ZlX2lkKSAtPlxuXHRcdG9ianMuZm9yRWFjaCAob2JqLCBpbmRleCkgLT5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoeyBfaWQ6IG9iai5pbnN0YW5jZSwgXCJ0cmFjZXMuX2lkXCI6IG9iai50cmFjZSB9LCB7IGZpZWxkczogeyBcInRyYWNlcy4kXCI6IDEgfSB9KVxuXHRcdFx0aWYgaW5zdGFuY2U/LnRyYWNlcz8ubGVuZ3RoID4gMFxuXHRcdFx0XHR0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXVxuXHRcdFx0XHRzZXRPYmogPSB7fVxuXHRcdFx0XHR0cmFjZS5hcHByb3Zlcy5mb3JFYWNoIChhcHByb3ZlLCBpZHgpIC0+XG5cdFx0XHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gb2JqLl9pZFxuXHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnNpZ25fc2hvd1wiXSA9IG9iai5zaWduX3Nob3dcblx0XHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5jdXN0b21fc2lnbl9zaG93XCJdID0gb2JqLnNpZ25fc2hvd1xuXHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcblxuXHRcdFx0XHRcdGlmIGFwcHJvdmUuX2lkID09IG15QXBwcm92ZV9pZFxuXHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcblxuXHRcdFx0XHRpZiBub3QgXy5pc0VtcHR5KHNldE9iailcblx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRcdF9pZDogb2JqLmluc3RhbmNlLFxuXHRcdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IG9iai50cmFjZVxuXHRcdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRcdCRzZXQ6IHNldE9ialxuXHRcdFx0XHRcdH0pXG5cblx0XHRyZXR1cm4gdHJ1ZVxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBzZXRfYXBwcm92ZV9oYXZlX3JlYWQ6IGZ1bmN0aW9uKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCkge1xuICAgIHZhciBpbnN0YW5jZSwgcmVmLCBzZWxmLCBzZXRPYmosIHRyYWNlO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2VsZiA9IHRoaXM7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy4kXCI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKGluc3RhbmNlICE9IG51bGwgPyAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICB0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXTtcbiAgICAgIHNldE9iaiA9IHtcbiAgICAgICAgbW9kaWZpZWQ6IG5ldyBEYXRlLFxuICAgICAgICBtb2RpZmllZF9ieTogc2VsZi51c2VySWRcbiAgICAgIH07XG4gICAgICB0cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUsIGlkeCkge1xuICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IGFwcHJvdmVJZCAmJiAhYXBwcm92ZS5pc19yZWFkKSB7XG4gICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5pc19yZWFkXCJdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghXy5pc0VtcHR5KHNldE9iaikpIHtcbiAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIGNoYW5nZV9hcHByb3ZlX2luZm86IGZ1bmN0aW9uKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgZGVzY3JpcHRpb24sIGZpbmlzaF9kYXRlKSB7XG4gICAgdmFyIGluc3RhbmNlLCByZWYsIHNldE9iaiwgdHJhY2U7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjaGVjayhpbnN0YW5jZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHRyYWNlSWQsIFN0cmluZyk7XG4gICAgY2hlY2soYXBwcm92ZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGRlc2NyaXB0aW9uLCBTdHJpbmcpO1xuICAgIGNoZWNrKGZpbmlzaF9kYXRlLCBEYXRlKTtcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIFwidHJhY2VzLiRcIjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICgoaW5zdGFuY2UgIT0gbnVsbCA/IChyZWYgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwgPyByZWYubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgIHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdO1xuICAgICAgc2V0T2JqID0ge307XG4gICAgICB0cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUsIGlkeCkge1xuICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IGFwcHJvdmVJZCkge1xuICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuZGVzY3JpcHRpb25cIl0gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmZpbmlzaF9kYXRlXCJdID0gZmluaXNoX2RhdGU7XG4gICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5jb3N0X3RpbWVcIl0gPSBuZXcgRGF0ZSgpIC0gYXBwcm92ZS5zdGFydF9kYXRlO1xuICAgICAgICAgIHJldHVybiBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFfLmlzRW1wdHkoc2V0T2JqKSkge1xuICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlX2FwcHJvdmVfc2lnbjogZnVuY3Rpb24oaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBzaWduX2ZpZWxkX2NvZGUsIGRlc2NyaXB0aW9uLCBzaWduX3R5cGUsIGxhc3RTaWduQXBwcm92ZSkge1xuICAgIHZhciBjdXJyZW50QXBwcm92ZURlc2NyaXB0aW9uLCBjdXJyZW50U3RlcCwgY3VycmVudFRyYWNlLCBpbnMsIGluc3RhbmNlLCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHNlc3Npb25fdXNlcklkLCBzaG93QmxhbmtBcHByb3ZlRGVzY3JpcHRpb24sIHRyYWNlLCB0cmFjZXMsIHRyaW1EZXNjcmlwdGlvbiwgdXBPYmo7XG4gICAgY2hlY2soaW5zdGFuY2VJZCwgU3RyaW5nKTtcbiAgICBjaGVjayh0cmFjZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGFwcHJvdmVJZCwgU3RyaW5nKTtcbiAgICBjaGVjayhzaWduX2ZpZWxkX2NvZGUsIFN0cmluZyk7XG4gICAgY2hlY2soZGVzY3JpcHRpb24sIFN0cmluZyk7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0cmltRGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi50cmltKCk7XG4gICAgc2hvd0JsYW5rQXBwcm92ZURlc2NyaXB0aW9uID0gKHJlZiA9IE1ldGVvci5zZXR0aW5nc1tcInB1YmxpY1wiXS53b3JrZmxvdykgIT0gbnVsbCA/IHJlZi5zaG93QmxhbmtBcHByb3ZlRGVzY3JpcHRpb24gOiB2b2lkIDA7XG4gICAgc2Vzc2lvbl91c2VySWQgPSB0aGlzLnVzZXJJZDtcbiAgICBpZiAobGFzdFNpZ25BcHByb3ZlKSB7XG4gICAgICBpZiAoKChyZWYxID0gTWV0ZW9yLnNldHRpbmdzW1wicHVibGljXCJdLndvcmtmbG93KSAhPSBudWxsID8gcmVmMS5rZWVwTGFzdFNpZ25BcHByb3ZlRGVzY3JpcHRpb24gOiB2b2lkIDApICE9PSBmYWxzZSkge1xuICAgICAgICBpZiAobGFzdFNpZ25BcHByb3ZlLmN1c3RvbV9zaWduX3Nob3cpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy4kXCI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKGluc3RhbmNlICE9IG51bGwgPyAocmVmMiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IHJlZjIubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgIHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdO1xuICAgICAgdXBPYmogPSB7fTtcbiAgICAgIGN1cnJlbnRBcHByb3ZlRGVzY3JpcHRpb24gPSAnJztcbiAgICAgIHRyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSwgaWR4KSB7XG4gICAgICAgIGlmIChhcHByb3ZlLl9pZCA9PT0gYXBwcm92ZUlkKSB7XG4gICAgICAgICAgY3VycmVudEFwcHJvdmVEZXNjcmlwdGlvbiA9IGFwcHJvdmUuZGVzY3JpcHRpb247XG4gICAgICAgICAgaWYgKHNpZ25fZmllbGRfY29kZSkge1xuICAgICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnNpZ25fZmllbGRfY29kZVwiXSA9IHNpZ25fZmllbGRfY29kZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmRlc2NyaXB0aW9uXCJdID0gZGVzY3JpcHRpb247XG4gICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnNpZ25fc2hvd1wiXSA9IHRyaW1EZXNjcmlwdGlvbiB8fCBzaG93QmxhbmtBcHByb3ZlRGVzY3JpcHRpb24gPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLm1vZGlmaWVkXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgICB1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIubW9kaWZpZWRfYnlcIl0gPSBzZXNzaW9uX3VzZXJJZDtcbiAgICAgICAgICByZXR1cm4gdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCgocmVmMyA9IE1ldGVvci5zZXR0aW5nc1tcInB1YmxpY1wiXS53b3JrZmxvdykgIT0gbnVsbCA/IHJlZjMua2VlcExhc3RTaWduQXBwcm92ZURlc2NyaXB0aW9uIDogdm9pZCAwKSA9PT0gZmFsc2UgJiYgKCEhY3VycmVudEFwcHJvdmVEZXNjcmlwdGlvbiAhPT0gISF0cmltRGVzY3JpcHRpb24gfHwgc2hvd0JsYW5rQXBwcm92ZURlc2NyaXB0aW9uKSkge1xuICAgICAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZUlkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIFwidHJhY2VzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0cmFjZXMgPSBpbnMudHJhY2VzO1xuICAgICAgICBjdXJyZW50VHJhY2UgPSBfLmZpbmQodHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgcmV0dXJuIHQuX2lkID09PSB0cmFjZUlkO1xuICAgICAgICB9KTtcbiAgICAgICAgY3VycmVudFN0ZXAgPSBjdXJyZW50VHJhY2Uuc3RlcDtcbiAgICAgICAgdHJhY2VzLmZvckVhY2goZnVuY3Rpb24odCwgdElkeCkge1xuICAgICAgICAgIGlmICh0LnN0ZXAgPT09IGN1cnJlbnRTdGVwKSB7XG4gICAgICAgICAgICByZXR1cm4gdCAhPSBudWxsID8gdC5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcHIsIGFJZHgpIHtcbiAgICAgICAgICAgICAgaWYgKGFwcHIuaGFuZGxlciA9PT0gc2Vzc2lvbl91c2VySWQgJiYgYXBwci5pc19maW5pc2hlZCAmJiBhcHByLl9pZCAhPT0gYXBwcm92ZUlkICYmICFfLmhhcyhhcHByLCAnY3VzdG9tX3NpZ25fc2hvdycpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCh0cmltRGVzY3JpcHRpb24gJiYgYXBwci5zaWduX3Nob3cgPT09IHRydWUgJiYgKHNpZ25fZmllbGRfY29kZSA9PT0gXCJcIiB8fCAhYXBwci5zaWduX2ZpZWxkX2NvZGUgfHwgc2lnbl9maWVsZF9jb2RlID09PSBhcHByLnNpZ25fZmllbGRfY29kZSkpIHx8IHNob3dCbGFua0FwcHJvdmVEZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuXCIgKyB0SWR4ICsgXCIuYXBwcm92ZXMuXCIgKyBhSWR4ICsgXCIuc2lnbl9zaG93XCJdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdXBPYmpbXCJ0cmFjZXMuXCIgKyB0SWR4ICsgXCIuYXBwcm92ZXMuXCIgKyBhSWR4ICsgXCIua2VlcExhc3RTaWduQXBwcm92ZURlc2NyaXB0aW9uXCJdID0gYXBwcm92ZUlkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwci5rZWVwTGFzdFNpZ25BcHByb3ZlRGVzY3JpcHRpb24gPT09IGFwcHJvdmVJZCkge1xuICAgICAgICAgICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuXCIgKyB0SWR4ICsgXCIuYXBwcm92ZXMuXCIgKyBhSWR4ICsgXCIuc2lnbl9zaG93XCJdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB1cE9ialtcInRyYWNlcy5cIiArIHRJZHggKyBcIi5hcHByb3Zlcy5cIiArIGFJZHggKyBcIi5rZWVwTGFzdFNpZ25BcHByb3ZlRGVzY3JpcHRpb25cIl0gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkgOiB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICghXy5pc0VtcHR5KHVwT2JqKSkge1xuICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHVwT2JqXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICB1cGRhdGVfc2lnbl9zaG93OiBmdW5jdGlvbihvYmpzLCBteUFwcHJvdmVfaWQpIHtcbiAgICBvYmpzLmZvckVhY2goZnVuY3Rpb24ob2JqLCBpbmRleCkge1xuICAgICAgdmFyIGluc3RhbmNlLCByZWYsIHNldE9iaiwgdHJhY2U7XG4gICAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBvYmouaW5zdGFuY2UsXG4gICAgICAgIFwidHJhY2VzLl9pZFwiOiBvYmoudHJhY2VcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgXCJ0cmFjZXMuJFwiOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKChpbnN0YW5jZSAhPSBudWxsID8gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IHJlZi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICB0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXTtcbiAgICAgICAgc2V0T2JqID0ge307XG4gICAgICAgIHRyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSwgaWR4KSB7XG4gICAgICAgICAgaWYgKGFwcHJvdmUuX2lkID09PSBvYmouX2lkKSB7XG4gICAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnNpZ25fc2hvd1wiXSA9IG9iai5zaWduX3Nob3c7XG4gICAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmN1c3RvbV9zaWduX3Nob3dcIl0gPSBvYmouc2lnbl9zaG93O1xuICAgICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IG15QXBwcm92ZV9pZCkge1xuICAgICAgICAgICAgcmV0dXJuIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIV8uaXNFbXB0eShzZXRPYmopKSB7XG4gICAgICAgICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBvYmouaW5zdGFuY2UsXG4gICAgICAgICAgICBcInRyYWNlcy5faWRcIjogb2JqLnRyYWNlXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRpbnN0YW5jZV9yZXR1cm46IChhcHByb3ZlLCByZWFzb24pLT5cblx0XHRjaGVjayhhcHByb3ZlLCBPYmplY3QpXG5cblx0XHRjdXJyZW50X3VzZXIgPSB0aGlzLnVzZXJJZFxuXHRcdGluc3RhbmNlX2lkID0gYXBwcm92ZS5pbnN0YW5jZVxuXG5cdFx0aW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRzcGFjZV9pZCA9IGlucy5zcGFjZVxuXG5cdFx0IyAtIOW+heWuoeaguOeusVxuXHRcdGlmIGlucy5zdGF0ZSBpc250IFwicGVuZGluZ1wiIG9yICFpbnMuaW5ib3hfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcblxuXHRcdCMgLSDmlofku7bkuI3mmK/kvKDpmIVcblx0XHRpZiBhcHByb3ZlLnR5cGUgaXMgXCJjY1wiIGFuZCBpbnMuY2NfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcblxuXHRcdCMgLSDnrb7moLjljobnqIvkuK3lvZPliY3mraXpqqTkuIrkuIDmraXpqqTkuI3mmK/kvJrnrb5cblx0XHRpZiBpbnMudHJhY2VzLmxlbmd0aCA8IDJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpXG5cdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnMuZmxvdylcblx0XHRwcmVfdHJhY2UgPSBpbnMudHJhY2VzW2lucy50cmFjZXMubGVuZ3RoIC0gMl1cblx0XHRwcmVfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIHByZV90cmFjZS5zdGVwKVxuXHRcdGlmIHByZV9zdGVwLnN0ZXBfdHlwZSBpcyBcImNvdW50ZXJTaWduXCJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpXG5cblx0XHQjIC0g5b2T5YmN5q2l6aqk5Li65aGr5YaZ5oiW6ICF5a6h5om5XG5cdFx0bGFzdF90cmFjZSA9IF8ubGFzdChpbnMudHJhY2VzKVxuXHRcdGN1cnJlbnRfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIGxhc3RfdHJhY2Uuc3RlcClcblx0XHRpZiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzbnQgXCJzdWJtaXRcIiBhbmQgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSBpc250IFwic2lnblwiIGFuZCBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzbnQgXCJjb3VudGVyU2lnblwiXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxuXG5cdFx0IyAtIOWPguaVsGFwcHJvdmXkuK10cmFjZeS4juW9k+WJjeiOt+WPlueahHRyYWNl5piv5ZCm5Yy56YWNXG5cdFx0aWYgYXBwcm92ZS50cmFjZSBpc250IGxhc3RfdHJhY2UuX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxuXG5cdFx0bmV3X2luYm94X3VzZXJzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoIHByZV90cmFjZS5hcHByb3ZlcywgKGEpLT5cblx0XHRcdGlmICghYS50eXBlIG9yIGEudHlwZSBpcyBcImRyYWZ0XCIgb3IgYS50eXBlIGlzIFwicmVhc3NpZ25cIikgYW5kICghYS5qdWRnZSBvciBhLmp1ZGdlIGlzIFwic3VibWl0dGVkXCIgb3IgYS5qdWRnZSBpcyBcImFwcHJvdmVkXCIgb3IgYS5qdWRnZSBpcyBcInJlamVjdGVkXCIpXG5cdFx0XHRcdG5ld19pbmJveF91c2Vycy5wdXNoKGEudXNlcilcblxuXHRcdGlmIF8uaXNFbXB0eShuZXdfaW5ib3hfdXNlcnMpXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquaJvuWIsOS4i+S4gOatpeWkhOeQhuS6uu+8jOmAgOWbnuWksei0pVwiKVxuXG5cdFx0dHJhY2VzID0gaW5zLnRyYWNlc1xuXG5cdFx0YXBwcm92ZV92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldEFwcHJvdmVWYWx1ZXMoYXBwcm92ZS52YWx1ZXMgfHwge30sIGN1cnJlbnRfc3RlcC5wZXJtaXNzaW9ucywgaW5zLmZvcm0sIGlucy5mb3JtX3ZlcnNpb24pXG5cblx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XG5cdFx0bm93ID0gbmV3IERhdGVcblx0XHRyZXN0X2NvdW50ZXJfdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2ggdHJhY2VzLCAodCktPlxuXHRcdFx0aWYgdC5faWQgaXMgbGFzdF90cmFjZS5faWRcblx0XHRcdFx0aWYgbm90IHQuYXBwcm92ZXNcblx0XHRcdFx0XHR0LmFwcHJvdmVzID0gbmV3IEFycmF5XG5cdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYSwgaWR4KS0+XG5cdFx0XHRcdFx0aWYgKCFhLnR5cGUgb3IgYS50eXBlIGlzIFwicmVhc3NpZ25cIikgYW5kICghYS5qdWRnZSBvciBhLmp1ZGdlIGlzIFwic3VibWl0dGVkXCIgb3IgYS5qdWRnZSBpcyBcImFwcHJvdmVkXCIgb3IgYS5qdWRnZSBpcyBcInJlamVjdGVkXCIgb3IgYS5qdWRnZSBpcyBcInJlYWRlZFwiKSBhbmQgYS5pc19maW5pc2hlZCBpc250IHRydWVcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5vd1xuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5vd1xuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19lcnJvciddID0gZmFsc2Vcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfcmVhZCddID0gdHJ1ZVxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZVxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5jb3N0X3RpbWUnXSA9IG5vdyAtIGEuc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy52YWx1ZXMnXSA9IGFwcHJvdmVfdmFsdWVzXG5cdFx0XHRcdFx0XHRpZiBhLmhhbmRsZXIgaXMgY3VycmVudF91c2VyXG5cdFx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9IFwicmV0dXJuZWRcIlxuXHRcdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmRlc2NyaXB0aW9uJ10gPSByZWFzb25cblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0cmVzdF9jb3VudGVyX3VzZXJzLnB1c2ggYS5oYW5kbGVyXG5cblx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZeiusOW9lVxuXHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmlzX2ZpbmlzaGVkJ10gPSB0cnVlXG5cdFx0XHRcdHNldE9ialsndHJhY2VzLiQuZmluaXNoX2RhdGUnXSA9IHRydWVcblx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5qdWRnZSddID0gXCJyZXR1cm5lZFwiXG5cblx0XHRpbnMudmFsdWVzID0gXy5leHRlbmQoKGlucy52YWx1ZXMgfHwge30pLCBhcHByb3ZlX3ZhbHVlcylcblxuXHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2XorrDlvZVcblx0XHRuZXdUcmFjZSA9IG5ldyBPYmplY3Rcblx0XHRuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0bmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlLl9pZF1cblx0XHRuZXdUcmFjZS5pc19maW5pc2hlZCA9IGZhbHNlXG5cdFx0bmV3VHJhY2Uuc3RlcCA9IHByZV90cmFjZS5zdGVwXG5cdFx0bmV3VHJhY2UubmFtZSA9IHByZV90cmFjZS5uYW1lXG5cdFx0bmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKHByZV9zdGVwLnRpbWVvdXRfaG91cnMsIHNwYWNlX2lkKVxuXHRcdG5ld1RyYWNlLmFwcHJvdmVzID0gW11cblx0XHRfLmVhY2ggbmV3X2luYm94X3VzZXJzLCAobmV4dF9zdGVwX3VzZXJfaWQsIGlkeCktPlxuXHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZS5hcHByb3Zl6K6w5b2VXG5cdFx0XHRuZXdBcHByb3ZlID0gbmV3IE9iamVjdFxuXHRcdFx0bmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdG5ld0FwcHJvdmUudHJhY2UgPSBuZXdUcmFjZS5faWRcblx0XHRcdG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZVxuXHRcdFx0bmV3QXBwcm92ZS51c2VyID0gbmV4dF9zdGVwX3VzZXJfaWRcblxuXHRcdFx0dXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShuZXh0X3N0ZXBfdXNlcl9pZCwge2ZpZWxkczoge25hbWU6IDF9fSlcblx0XHRcdG5ld0FwcHJvdmUudXNlcl9uYW1lID0gdXNlcl9pbmZvLm5hbWVcblxuXHRcdFx0aGFuZGxlcl9pZCA9IG5leHRfc3RlcF91c2VyX2lkXG5cdFx0XHRoYW5kbGVyX2luZm8gPSB1c2VyX2luZm9cblx0XHRcdGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgbmV4dF9zdGVwX3VzZXJfaWQpXG5cdFx0XHRpZiBhZ2VudFxuXHRcdFx0XHRuZXdfaW5ib3hfdXNlcnNbaWR4XSA9IGFnZW50XG5cdFx0XHRcdGhhbmRsZXJfaWQgPSBhZ2VudFxuXHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHsgX2lkOiBhZ2VudCB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcblx0XHRcdFx0bmV3QXBwcm92ZS5hZ2VudCA9IGFnZW50XG5cblx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlciA9IGhhbmRsZXJfaWRcblx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWVcblxuXHRcdFx0bmV4dF9zdGVwX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgaGFuZGxlcl9pZClcblx0XHRcdCMg6I635Y+WbmV4dF9zdGVwX3VzZXLmiYDlnKjnmoTpg6jpl6jkv6Hmga9cblx0XHRcdG5leHRfc3RlcF91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKG5leHRfc3RlcF9zcGFjZV91c2VyKVxuXHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdXG5cdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdXG5cdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl1cblxuXHRcdFx0bmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRuZXdBcHByb3ZlLmlzX3JlYWQgPSBmYWxzZVxuXHRcdFx0bmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlXG5cdFx0XHRuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3Rcblx0XHRcdHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnMudmFsdWVzLCBuZXdBcHByb3ZlKVxuXHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKVxuXG5cdFx0c2V0T2JqLmluYm94X3VzZXJzID0gbmV3X2luYm94X3VzZXJzXG5cdFx0c2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCJcblxuXHRcdGlucy5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpXG5cdFx0c2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnMub3V0Ym94X3VzZXJzKVxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5vd1xuXHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxuXHRcdHNldE9iai52YWx1ZXMgPSBpbnMudmFsdWVzXG5cblx0XHRzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBwcmVfdHJhY2UubmFtZVxuXG5cdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWQsICd0cmFjZXMuX2lkJzogbGFzdF90cmFjZS5faWR9LCB7JHNldDogc2V0T2JqfSlcblx0XHRiID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskcHVzaDoge3RyYWNlczogbmV3VHJhY2V9fSlcblx0XHRpZiByICYmIGJcblx0XHRcdCMg5pawaW5ib3hfdXNlcnMg5ZKMIOW9k+WJjeeUqOaItyDlj5HpgIFwdXNoXG5cdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgY3VycmVudF91c2VyKVxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcblx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwicmV0dXJuX3BlbmRpbmdfaW5ib3hcIiwgaW5zdGFuY2UsIHJlYXNvbiwgY3VycmVudF91c2VyX2luZm8pXG5cdFx0XHQjIOWmguaenOaYr+S8muetvuWImee7meS8muetvuacquaPkOS6pOeahOS6uuWPkemAgXB1c2hcblx0XHRcdF8uZWFjaCByZXN0X2NvdW50ZXJfdXNlcnMsICh1c2VyX2lkKS0+XG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKVxuXHRcdHJldHVybiB0cnVlIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBpbnN0YW5jZV9yZXR1cm46IGZ1bmN0aW9uKGFwcHJvdmUsIHJlYXNvbikge1xuICAgIHZhciBhcHByb3ZlX3ZhbHVlcywgYiwgY3VycmVudF9zdGVwLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBmbG93LCBpbnMsIGluc3RhbmNlLCBpbnN0YW5jZV9pZCwgbGFzdF90cmFjZSwgbmV3VHJhY2UsIG5ld19pbmJveF91c2Vycywgbm93LCBwcmVfc3RlcCwgcHJlX3RyYWNlLCByLCByZXN0X2NvdW50ZXJfdXNlcnMsIHNldE9iaiwgc3BhY2VfaWQsIHRyYWNlcztcbiAgICBjaGVjayhhcHByb3ZlLCBPYmplY3QpO1xuICAgIGN1cnJlbnRfdXNlciA9IHRoaXMudXNlcklkO1xuICAgIGluc3RhbmNlX2lkID0gYXBwcm92ZS5pbnN0YW5jZTtcbiAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICBzcGFjZV9pZCA9IGlucy5zcGFjZTtcbiAgICBpZiAoaW5zLnN0YXRlICE9PSBcInBlbmRpbmdcIiB8fCAhaW5zLmluYm94X3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBpZiAoYXBwcm92ZS50eXBlID09PSBcImNjXCIgJiYgaW5zLmNjX3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBpZiAoaW5zLnRyYWNlcy5sZW5ndGggPCAyKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKTtcbiAgICB9XG4gICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnMuZmxvdyk7XG4gICAgcHJlX3RyYWNlID0gaW5zLnRyYWNlc1tpbnMudHJhY2VzLmxlbmd0aCAtIDJdO1xuICAgIHByZV9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgcHJlX3RyYWNlLnN0ZXApO1xuICAgIGlmIChwcmVfc3RlcC5zdGVwX3R5cGUgPT09IFwiY291bnRlclNpZ25cIikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIik7XG4gICAgfVxuICAgIGxhc3RfdHJhY2UgPSBfLmxhc3QoaW5zLnRyYWNlcyk7XG4gICAgY3VycmVudF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgbGFzdF90cmFjZS5zdGVwKTtcbiAgICBpZiAoY3VycmVudF9zdGVwLnN0ZXBfdHlwZSAhPT0gXCJzdWJtaXRcIiAmJiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlICE9PSBcInNpZ25cIiAmJiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlICE9PSBcImNvdW50ZXJTaWduXCIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBpZiAoYXBwcm92ZS50cmFjZSAhPT0gbGFzdF90cmFjZS5faWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBuZXdfaW5ib3hfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKHByZV90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgaWYgKCghYS50eXBlIHx8IGEudHlwZSA9PT0gXCJkcmFmdFwiIHx8IGEudHlwZSA9PT0gXCJyZWFzc2lnblwiKSAmJiAoIWEuanVkZ2UgfHwgYS5qdWRnZSA9PT0gXCJzdWJtaXR0ZWRcIiB8fCBhLmp1ZGdlID09PSBcImFwcHJvdmVkXCIgfHwgYS5qdWRnZSA9PT0gXCJyZWplY3RlZFwiKSkge1xuICAgICAgICByZXR1cm4gbmV3X2luYm94X3VzZXJzLnB1c2goYS51c2VyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoXy5pc0VtcHR5KG5ld19pbmJveF91c2VycykpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw5LiL5LiA5q2l5aSE55CG5Lq677yM6YCA5Zue5aSx6LSlXCIpO1xuICAgIH1cbiAgICB0cmFjZXMgPSBpbnMudHJhY2VzO1xuICAgIGFwcHJvdmVfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRBcHByb3ZlVmFsdWVzKGFwcHJvdmUudmFsdWVzIHx8IHt9LCBjdXJyZW50X3N0ZXAucGVybWlzc2lvbnMsIGlucy5mb3JtLCBpbnMuZm9ybV92ZXJzaW9uKTtcbiAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgIHJlc3RfY291bnRlcl91c2VycyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2godHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICBpZiAodC5faWQgPT09IGxhc3RfdHJhY2UuX2lkKSB7XG4gICAgICAgIGlmICghdC5hcHByb3Zlcykge1xuICAgICAgICAgIHQuYXBwcm92ZXMgPSBuZXcgQXJyYXk7XG4gICAgICAgIH1cbiAgICAgICAgXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGEsIGlkeCkge1xuICAgICAgICAgIGlmICgoIWEudHlwZSB8fCBhLnR5cGUgPT09IFwicmVhc3NpZ25cIikgJiYgKCFhLmp1ZGdlIHx8IGEuanVkZ2UgPT09IFwic3VibWl0dGVkXCIgfHwgYS5qdWRnZSA9PT0gXCJhcHByb3ZlZFwiIHx8IGEuanVkZ2UgPT09IFwicmVqZWN0ZWRcIiB8fCBhLmp1ZGdlID09PSBcInJlYWRlZFwiKSAmJiBhLmlzX2ZpbmlzaGVkICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmZpbmlzaF9kYXRlJ10gPSBub3c7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbm93O1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19lcnJvciddID0gZmFsc2U7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX3JlYWQnXSA9IHRydWU7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2ZpbmlzaGVkJ10gPSB0cnVlO1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5jb3N0X3RpbWUnXSA9IG5vdyAtIGEuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcudmFsdWVzJ10gPSBhcHByb3ZlX3ZhbHVlcztcbiAgICAgICAgICAgIGlmIChhLmhhbmRsZXIgPT09IGN1cnJlbnRfdXNlcikge1xuICAgICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmp1ZGdlJ10gPSBcInJldHVybmVkXCI7XG4gICAgICAgICAgICAgIHJldHVybiBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmRlc2NyaXB0aW9uJ10gPSByZWFzb247XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdF9jb3VudGVyX3VzZXJzLnB1c2goYS5oYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmlzX2ZpbmlzaGVkJ10gPSB0cnVlO1xuICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmZpbmlzaF9kYXRlJ10gPSB0cnVlO1xuICAgICAgICByZXR1cm4gc2V0T2JqWyd0cmFjZXMuJC5qdWRnZSddID0gXCJyZXR1cm5lZFwiO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlucy52YWx1ZXMgPSBfLmV4dGVuZChpbnMudmFsdWVzIHx8IHt9LCBhcHByb3ZlX3ZhbHVlcyk7XG4gICAgbmV3VHJhY2UgPSBuZXcgT2JqZWN0O1xuICAgIG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgbmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICBuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZS5faWRdO1xuICAgIG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgbmV3VHJhY2Uuc3RlcCA9IHByZV90cmFjZS5zdGVwO1xuICAgIG5ld1RyYWNlLm5hbWUgPSBwcmVfdHJhY2UubmFtZTtcbiAgICBuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93O1xuICAgIG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKHByZV9zdGVwLnRpbWVvdXRfaG91cnMsIHNwYWNlX2lkKTtcbiAgICBuZXdUcmFjZS5hcHByb3ZlcyA9IFtdO1xuICAgIF8uZWFjaChuZXdfaW5ib3hfdXNlcnMsIGZ1bmN0aW9uKG5leHRfc3RlcF91c2VyX2lkLCBpZHgpIHtcbiAgICAgIHZhciBhZ2VudCwgaGFuZGxlcl9pZCwgaGFuZGxlcl9pbmZvLCBuZXdBcHByb3ZlLCBuZXh0X3N0ZXBfc3BhY2VfdXNlciwgbmV4dF9zdGVwX3VzZXJfb3JnX2luZm8sIHVzZXJfaW5mbztcbiAgICAgIG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0O1xuICAgICAgbmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgbmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgbmV3QXBwcm92ZS50cmFjZSA9IG5ld1RyYWNlLl9pZDtcbiAgICAgIG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgIG5ld0FwcHJvdmUudXNlciA9IG5leHRfc3RlcF91c2VyX2lkO1xuICAgICAgdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShuZXh0X3N0ZXBfdXNlcl9pZCwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBuYW1lOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbmV3QXBwcm92ZS51c2VyX25hbWUgPSB1c2VyX2luZm8ubmFtZTtcbiAgICAgIGhhbmRsZXJfaWQgPSBuZXh0X3N0ZXBfdXNlcl9pZDtcbiAgICAgIGhhbmRsZXJfaW5mbyA9IHVzZXJfaW5mbztcbiAgICAgIGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgbmV4dF9zdGVwX3VzZXJfaWQpO1xuICAgICAgaWYgKGFnZW50KSB7XG4gICAgICAgIG5ld19pbmJveF91c2Vyc1tpZHhdID0gYWdlbnQ7XG4gICAgICAgIGhhbmRsZXJfaWQgPSBhZ2VudDtcbiAgICAgICAgaGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgX2lkOiBhZ2VudFxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbmV3QXBwcm92ZS5hZ2VudCA9IGFnZW50O1xuICAgICAgfVxuICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyID0gaGFuZGxlcl9pZDtcbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG4gICAgICBuZXh0X3N0ZXBfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBoYW5kbGVyX2lkKTtcbiAgICAgIG5leHRfc3RlcF91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKG5leHRfc3RlcF9zcGFjZV91c2VyKTtcbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXTtcbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl07XG4gICAgICBuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICBuZXdBcHByb3ZlLmlzX3JlYWQgPSBmYWxzZTtcbiAgICAgIG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgIG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgIHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnMudmFsdWVzLCBuZXdBcHByb3ZlKTtcbiAgICAgIHJldHVybiBuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpO1xuICAgIH0pO1xuICAgIHNldE9iai5pbmJveF91c2VycyA9IG5ld19pbmJveF91c2VycztcbiAgICBzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgICBpbnMub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKTtcbiAgICBzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGlucy5vdXRib3hfdXNlcnMpO1xuICAgIHNldE9iai5tb2RpZmllZCA9IG5vdztcbiAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgc2V0T2JqLnZhbHVlcyA9IGlucy52YWx1ZXM7XG4gICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gcHJlX3RyYWNlLm5hbWU7XG4gICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZCxcbiAgICAgICd0cmFjZXMuX2lkJzogbGFzdF90cmFjZS5faWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiBzZXRPYmpcbiAgICB9KTtcbiAgICBiID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgfSwge1xuICAgICAgJHB1c2g6IHtcbiAgICAgICAgdHJhY2VzOiBuZXdUcmFjZVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChyICYmIGIpIHtcbiAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCBjdXJyZW50X3VzZXIpO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgICAgcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZXR1cm5fcGVuZGluZ19pbmJveFwiLCBpbnN0YW5jZSwgcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICBfLmVhY2gocmVzdF9jb3VudGVyX3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcblx0aW5zdGFuY2VfcmVtaW5kOiAocmVtaW5kX3VzZXJzLCByZW1pbmRfY291bnQsIHJlbWluZF9kZWFkbGluZSwgaW5zdGFuY2VfaWQsIGFjdGlvbl90eXBlcywgdHJhY2VfaWQpLT5cblx0XHRjaGVjayByZW1pbmRfdXNlcnMsIEFycmF5XG5cdFx0Y2hlY2sgcmVtaW5kX2NvdW50LCBNYXRjaC5PbmVPZignc2luZ2xlJywgJ211bHRpJylcblx0XHRjaGVjayByZW1pbmRfZGVhZGxpbmUsIERhdGVcblx0XHRjaGVjayBpbnN0YW5jZV9pZCwgU3RyaW5nXG5cdFx0Y2hlY2sgYWN0aW9uX3R5cGVzLCBBcnJheVxuXHRcdGNoZWNrIHRyYWNlX2lkLCBTdHJpbmdcblxuXHRcdGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkXG5cdFx0bGFzdF9yZW1pbmRfdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHtmaWVsZHM6IHtuYW1lOiAxLCB0cmFjZXM6IDEsIHZhbHVlczogMSwgc3BhY2U6IDF9fSlcblx0XHRpZiBhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2FkbWluJylcblx0XHRcdGlmIHJlbWluZF9jb3VudCBpcyAnc2luZ2xlJ1xuXHRcdFx0XHRfLmVhY2ggaW5zLnRyYWNlcywgKHQpLT5cblx0XHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGFwKS0+XG5cdFx0XHRcdFx0XHRpZiByZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgYW5kIGFwLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZVxuXHRcdFx0XHRcdFx0XHRsYXN0X3JlbWluZF91c2Vycy5wdXNoIGFwLnVzZXJcblx0XHRcdGVsc2UgaWYgcmVtaW5kX2NvdW50IGlzICdtdWx0aSdcblx0XHRcdFx0bm93ID0gbmV3IERhdGVcblx0XHRcdFx0cHJpb3JpdHkgPSBpbnMudmFsdWVzLnByaW9yaXR5XG5cdFx0XHRcdF8uZWFjaCBpbnMudHJhY2VzLCAodCktPlxuXHRcdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYXApLT5cblx0XHRcdFx0XHRcdGlmIHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSBhbmQgYXAuaXNfZmluaXNoZWQgaXNudCB0cnVlXG5cdFx0XHRcdFx0XHRcdGxhc3RfcmVtaW5kX3VzZXJzLnB1c2ggYXAudXNlclxuXHRcdFx0XHRcdFx0XHRhcC5tYW51YWxfZGVhZGxpbmUgPSByZW1pbmRfZGVhZGxpbmVcblx0XHRcdFx0XHRcdFx0IyDvvIgx77yJ4oCc5pmu6YCa4oCd77ya5aaC5LiJ5Liq5bel5L2c5pel5YaF5pyq5aSE55CG77yM57O757uf6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5Li65LqM5pel5YaF77ybXG5cdFx0XHRcdFx0XHRcdCMgIOWmguS6jOaXpeWQjuS7jeacquWkhOeQhu+8jOezu+e7n+avj+WkqeiHquWKqOWPkeefreS/oeaPkOmGku+8jOWKnue7k+aXtumZkOS4uuS4gOaXpeWGheOAglxuXHRcdFx0XHRcdFx0XHRpZiBwcmlvcml0eSBpcyBcIuaZrumAmlwiIG9yIG5vdCBwcmlvcml0eVxuXHRcdFx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdFx0XHQjIO+8iDLvvInigJzlip7mlofigJ3vvJrlpoLkuIDkuKrlt6XkvZzml6XlhoXmnKrlpITnkIbvvIzns7vnu5/oh6rliqjlj5Hnn63kv6Hmj5DphpLvvJrlip7nu5Pml7bpmZDkuLrooajljZXkuIrnmoTigJzlip7nu5Pml7bpmZDigJ3vvIjmlofkuablvZXlhaXnmoTml7bpl7TvvInvvJtcblx0XHRcdFx0XHRcdFx0IyAg5aaC5LiA5pel5ZCO5LuN5pyq5aSE55CG77yM57O757uf5q+P5aSp6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5LiN5Y+Y77ybXG5cdFx0XHRcdFx0XHRcdCMgIOi3neemu+WKnue7k+aXtumZkOS4uuWNiuaXpeaXtu+8jOWImeavj+WNiuS4quW3peS9nOaXpeaPkOmGkuWbm+asoe+8m+i2hei/h+WKnue7k+aXtumZkOWQjuS7jeeEtuaMieeFp+avj+WNiuaXpeWbm+asoeaPkOmGkuOAglxuXHRcdFx0XHRcdFx0XHRlbHNlIGlmIHByaW9yaXR5IGlzIFwi5Yqe5paHXCJcblx0XHRcdFx0XHRcdFx0XHRpZiBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUgIyDotoXov4fkuoblip7nu5Pml7bpmZDmiJbogIXot53nprvlip7nu5Pml7bpmZDljYrml6XlhoVcblx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSBpZiBTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZVxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZSA9IChiYXNlX2RhdGUpLT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0cGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgcGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShub3cpXG5cblx0XHRcdFx0XHRcdFx0IyDvvIgz77yJ4oCc57Sn5oCl4oCd77ya5Zyo5Y+R6YCB55qE5ZCM5pe277yM57O757uf6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5Li66KGo5Y2V5LiK55qE4oCc5Yqe57uT5pe26ZmQ4oCd77yI5paH5Lmm5b2V5YWl55qE5pe26Ze077yJ77ybXG5cdFx0XHRcdFx0XHRcdCMgIOWmguWNiuaXpeWGheS7jeacquWkhOeQhu+8jOezu+e7n+avj+WNiuWkqeiHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4jeWPmO+8m+i3neemu+WKnue7k+aXtumZkOS4uuWNiuaXpeaXtu+8jOavj+WNiuS4quW3peS9nOaXpeaPkOmGkuWbm+asoe+8m+i2hei/h+WKnue7k+aXtumZkOWQjuS7jeeEtuaMieeFp+avj+WNiuaXpeWbm+asoeaPkOmGkuOAglxuXHRcdFx0XHRcdFx0XHRlbHNlIGlmIHByaW9yaXR5IGlzIFwi57Sn5oClXCJcblx0XHRcdFx0XHRcdFx0XHRpZiBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUgIyDotoXov4fkuoblip7nu5Pml7bpmZDmiJbogIXot53nprvlip7nu5Pml7bpmZDljYrml6XlhoVcblx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSBpZiBTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZVxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZSA9IChiYXNlX2RhdGUpLT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0cGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgcGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShub3cpXG5cblx0XHRcdFx0XHRcdFx0IyDvvIg077yJ4oCc54m55oCl4oCd77ya5Zyo5Y+R6YCB55qE5ZCM5pe277yM57O757uf6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5Li66KGo5Y2V5LiK55qE4oCc5Yqe57uT5pe26ZmQ4oCd77yI5paH5Lmm5b2V5YWl55qE5pe26Ze077yJ77ybXG5cdFx0XHRcdFx0XHRcdCMgIOWmguWNiuaXpeWGheS7jeacquWkhOeQhu+8jOezu+e7n+avj+WNiuS4quW3peS9nOaXpeaPkOmGkuWbm+asoe+8muWKnue7k+aXtumZkOS4jeWPmO+8m+i2hei/h+WKnue7k+aXtumZkOWQjuS7jeeEtuaMieeFp+avj+WNiuaXpeWbm+asoeaPkOmGkuOAglxuXHRcdFx0XHRcdFx0XHRlbHNlIGlmIHByaW9yaXR5IGlzIFwi54m55oClXCJcblx0XHRcdFx0XHRcdFx0XHRpZiBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUgIyDotoXov4fkuoblip7nu5Pml7bpmZDmiJbogIXot53nprvlip7nu5Pml7bpmZDljYrml6XlhoVcblx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZSBpZiBTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZVxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZSA9IChiYXNlX2RhdGUpLT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0cGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgcGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShub3cpXG5cblx0XHRcdFx0aWYgbm90IF8uaXNFbXB0eShsYXN0X3JlbWluZF91c2Vycylcblx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHsndHJhY2VzJzogaW5zLnRyYWNlc319KVxuXG5cdFx0ZWxzZSBpZiBhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2FwcGxpY2FudCcpXG5cdFx0XHR0cmFjZSA9IF8uZmluZCBpbnMudHJhY2VzLCAodCktPlxuXHRcdFx0XHRyZXR1cm4gdC5faWQgaXMgdHJhY2VfaWRcblx0XHRcdF8uZWFjaCB0cmFjZS5hcHByb3ZlcywgKGFwKS0+XG5cdFx0XHRcdGlmIHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSBhbmQgYXAuaXNfZmluaXNoZWQgaXNudCB0cnVlXG5cdFx0XHRcdFx0bGFzdF9yZW1pbmRfdXNlcnMucHVzaCBhcC51c2VyXG5cblx0XHRlbHNlIGlmIGFjdGlvbl90eXBlcy5pbmNsdWRlcygnY2MnKVxuXHRcdFx0Xy5lYWNoIGlucy50cmFjZXMsICh0KS0+XG5cdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYXApLT5cblx0XHRcdFx0XHRpZiByZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgYW5kIGFwLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZSBhbmQgYXAudHlwZSBpcyAnY2MnIGFuZCBhcC5mcm9tX3VzZXIgaXMgY3VycmVudF91c2VyX2lkXG5cdFx0XHRcdFx0XHRsYXN0X3JlbWluZF91c2Vycy5wdXNoIGFwLnVzZXJcblxuXHRcdHV1Zmxvd01hbmFnZXIuc2VuZFJlbWluZFNNUyBpbnMubmFtZSwgcmVtaW5kX2RlYWRsaW5lLCBsYXN0X3JlbWluZF91c2VycywgaW5zLnNwYWNlLCBpbnMuX2lkXG5cblx0XHRyZXR1cm4gdHJ1ZVxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBpbnN0YW5jZV9yZW1pbmQ6IGZ1bmN0aW9uKHJlbWluZF91c2VycywgcmVtaW5kX2NvdW50LCByZW1pbmRfZGVhZGxpbmUsIGluc3RhbmNlX2lkLCBhY3Rpb25fdHlwZXMsIHRyYWNlX2lkKSB7XG4gICAgdmFyIGN1cnJlbnRfdXNlcl9pZCwgaW5zLCBsYXN0X3JlbWluZF91c2Vycywgbm93LCBwcmlvcml0eSwgdHJhY2U7XG4gICAgY2hlY2socmVtaW5kX3VzZXJzLCBBcnJheSk7XG4gICAgY2hlY2socmVtaW5kX2NvdW50LCBNYXRjaC5PbmVPZignc2luZ2xlJywgJ211bHRpJykpO1xuICAgIGNoZWNrKHJlbWluZF9kZWFkbGluZSwgRGF0ZSk7XG4gICAgY2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZyk7XG4gICAgY2hlY2soYWN0aW9uX3R5cGVzLCBBcnJheSk7XG4gICAgY2hlY2sodHJhY2VfaWQsIFN0cmluZyk7XG4gICAgY3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWQ7XG4gICAgbGFzdF9yZW1pbmRfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBuYW1lOiAxLFxuICAgICAgICB0cmFjZXM6IDEsXG4gICAgICAgIHZhbHVlczogMSxcbiAgICAgICAgc3BhY2U6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoYWN0aW9uX3R5cGVzLmluY2x1ZGVzKCdhZG1pbicpKSB7XG4gICAgICBpZiAocmVtaW5kX2NvdW50ID09PSAnc2luZ2xlJykge1xuICAgICAgICBfLmVhY2goaW5zLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgIHJldHVybiBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYXApIHtcbiAgICAgICAgICAgIGlmIChyZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgJiYgYXAuaXNfZmluaXNoZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGxhc3RfcmVtaW5kX3VzZXJzLnB1c2goYXAudXNlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChyZW1pbmRfY291bnQgPT09ICdtdWx0aScpIHtcbiAgICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICAgIHByaW9yaXR5ID0gaW5zLnZhbHVlcy5wcmlvcml0eTtcbiAgICAgICAgXy5lYWNoKGlucy50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICByZXR1cm4gXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGFwKSB7XG4gICAgICAgICAgICB2YXIgY2FjdWxhdGVfZGF0ZTtcbiAgICAgICAgICAgIGlmIChyZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgJiYgYXAuaXNfZmluaXNoZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgbGFzdF9yZW1pbmRfdXNlcnMucHVzaChhcC51c2VyKTtcbiAgICAgICAgICAgICAgYXAubWFudWFsX2RlYWRsaW5lID0gcmVtaW5kX2RlYWRsaW5lO1xuICAgICAgICAgICAgICBpZiAocHJpb3JpdHkgPT09IFwi5pmu6YCaXCIgfHwgIXByaW9yaXR5KSB7XG5cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmlvcml0eSA9PT0gXCLlip7mlodcIikge1xuICAgICAgICAgICAgICAgIGlmIChTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhcC5yZW1pbmRfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlID0gZnVuY3Rpb24oYmFzZV9kYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwbHVzX2hhbGZkYXlfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgcGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGFwLnJlbWluZF9kYXRlID0gYmFzZV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUsIHRydWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjYWN1bGF0ZV9kYXRlKG5vdyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByaW9yaXR5ID09PSBcIue0p+aApVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93KSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoU3RlZWRvcy5jYWN1bGF0ZVdvcmtpbmdUaW1lKG5vdywgMSkgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUgPSBmdW5jdGlvbihiYXNlX2RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsdXNfaGFsZmRheV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICBwbHVzX2hhbGZkYXlfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsdXNfaGFsZmRheV9kYXRlID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXAucmVtaW5kX2RhdGUgPSBiYXNlX2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY3VsYXRlX2RhdGUobm93KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJpb3JpdHkgPT09IFwi54m55oClXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3cpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYXAucmVtaW5kX2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZSA9IGZ1bmN0aW9uKGJhc2VfZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGx1c19oYWxmZGF5X2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIHBsdXNfaGFsZmRheV9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY2FjdWxhdGVfZGF0ZShub3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFfLmlzRW1wdHkobGFzdF9yZW1pbmRfdXNlcnMpKSB7XG4gICAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICAndHJhY2VzJzogaW5zLnRyYWNlc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2FwcGxpY2FudCcpKSB7XG4gICAgICB0cmFjZSA9IF8uZmluZChpbnMudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiB0Ll9pZCA9PT0gdHJhY2VfaWQ7XG4gICAgICB9KTtcbiAgICAgIF8uZWFjaCh0cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oYXApIHtcbiAgICAgICAgaWYgKHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSAmJiBhcC5pc19maW5pc2hlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiBsYXN0X3JlbWluZF91c2Vycy5wdXNoKGFwLnVzZXIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGFjdGlvbl90eXBlcy5pbmNsdWRlcygnY2MnKSkge1xuICAgICAgXy5lYWNoKGlucy50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhcCkge1xuICAgICAgICAgIGlmIChyZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgJiYgYXAuaXNfZmluaXNoZWQgIT09IHRydWUgJiYgYXAudHlwZSA9PT0gJ2NjJyAmJiBhcC5mcm9tX3VzZXIgPT09IGN1cnJlbnRfdXNlcl9pZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxhc3RfcmVtaW5kX3VzZXJzLnB1c2goYXAudXNlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLnNlbmRSZW1pbmRTTVMoaW5zLm5hbWUsIHJlbWluZF9kZWFkbGluZSwgbGFzdF9yZW1pbmRfdXNlcnMsIGlucy5zcGFjZSwgaW5zLl9pZCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcblx0bmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZDogKGRlYWxfdHlwZSwgc3RlcF9uYW1lLCBwYXJhbXMpIC0+XG5cdFx0Y2hlY2sgZGVhbF90eXBlLCBTdHJpbmdcblx0XHRjaGVjayBzdGVwX25hbWUsIFN0cmluZ1xuXHRcdGNoZWNrIHBhcmFtcywgT2JqZWN0XG5cblx0XHRzdHIgPSBcIlwiXG5cdFx0dXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IHRoaXMudXNlcklkIH0sIHsgZmllbGRzOiB7IGxvY2FsZTogMSB9IH0pXG5cdFx0I+iuvue9ruW9k+WJjeivreiogOeOr+Wig1xuXHRcdGxhbmcgPSAnZW4nXG5cdFx0aWYgdXNlci5sb2NhbGUgaXMgJ3poLWNuJ1xuXHRcdFx0bGFuZyA9ICd6aC1DTidcblxuXHRcdCMg5oyH5a6a5a6h5om55bKX5L2NXG5cdFx0aWYgZGVhbF90eXBlIGlzICdhcHBsaWNhbnRSb2xlJ1xuXHRcdFx0YXBwcm92ZXJfcm9sZXMgPSBwYXJhbXMuYXBwcm92ZXJfcm9sZXNcblx0XHRcdHJvbGVzID0gZGIuZmxvd19yb2xlcy5maW5kKHsgX2lkOiB7ICRpbjogYXBwcm92ZXJfcm9sZXMgfSB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSkuZmV0Y2goKVxuXHRcdFx0cm9sZXNfbmFtZSA9IF8ucGx1Y2socm9sZXMsICduYW1lJykudG9TdHJpbmcoKVxuXHRcdFx0c3RyID0gVEFQaTE4bi5fXyAnbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZC5hcHBsaWNhbnRfcm9sZScsIHsgc3RlcF9uYW1lOiBzdGVwX25hbWUsIHJvbGVfbmFtZTogcm9sZXNfbmFtZSB9LCBsYW5nXG5cblxuXHRcdHJldHVybiBzdHJcbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZDogZnVuY3Rpb24oZGVhbF90eXBlLCBzdGVwX25hbWUsIHBhcmFtcykge1xuICAgIHZhciBhcHByb3Zlcl9yb2xlcywgbGFuZywgcm9sZXMsIHJvbGVzX25hbWUsIHN0ciwgdXNlcjtcbiAgICBjaGVjayhkZWFsX3R5cGUsIFN0cmluZyk7XG4gICAgY2hlY2soc3RlcF9uYW1lLCBTdHJpbmcpO1xuICAgIGNoZWNrKHBhcmFtcywgT2JqZWN0KTtcbiAgICBzdHIgPSBcIlwiO1xuICAgIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgIF9pZDogdGhpcy51c2VySWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgbG9jYWxlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgbGFuZyA9ICdlbic7XG4gICAgaWYgKHVzZXIubG9jYWxlID09PSAnemgtY24nKSB7XG4gICAgICBsYW5nID0gJ3poLUNOJztcbiAgICB9XG4gICAgaWYgKGRlYWxfdHlwZSA9PT0gJ2FwcGxpY2FudFJvbGUnKSB7XG4gICAgICBhcHByb3Zlcl9yb2xlcyA9IHBhcmFtcy5hcHByb3Zlcl9yb2xlcztcbiAgICAgIHJvbGVzID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgJGluOiBhcHByb3Zlcl9yb2xlc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIHJvbGVzX25hbWUgPSBfLnBsdWNrKHJvbGVzLCAnbmFtZScpLnRvU3RyaW5nKCk7XG4gICAgICBzdHIgPSBUQVBpMThuLl9fKCduZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kLmFwcGxpY2FudF9yb2xlJywge1xuICAgICAgICBzdGVwX25hbWU6IHN0ZXBfbmFtZSxcbiAgICAgICAgcm9sZV9uYW1lOiByb2xlc19uYW1lXG4gICAgICB9LCBsYW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufSk7XG4iLCJfZXZhbCA9IHJlcXVpcmUoJ2V2YWwnKVxuXG5NZXRlb3IubWV0aG9kc1xuXHRpbnN0YW5jZU51bWJlckJ1aWxkZXI6IChzcGFjZUlkLCBuYW1lKS0+XG5cblx0XHRudW1iZXJSdWxlcyA9IGRiLmluc3RhbmNlX251bWJlcl9ydWxlcy5maW5kT25lKHtzcGFjZTogc3BhY2VJZCwgbmFtZTogbmFtZX0pXG5cblx0XHRpZiAhbnVtYmVyUnVsZXNcblx0XHRcdHRocm93IG5ldyAgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIiN7bmFtZX1cIilcblxuXHRcdGRhdGUgPSBuZXcgRGF0ZSgpXG5cblx0XHRjb250ZXh0ID0ge31cblxuXHRcdGNvbnRleHQuXyA9IF9cblxuXHRcdF9ZWVlZID0gZGF0ZS5nZXRGdWxsWWVhcigpXG5cblx0XHRfTlVNQkVSID0gKG51bWJlclJ1bGVzLm51bWJlciB8fCAwKSArIDFcblxuXHRcdGNvbnRleHQuWVlZWSA9IF8uY2xvbmUoX1lZWVkpXG5cblx0XHRjb250ZXh0Lk1NID0gZGF0ZS5nZXRNb250aCgpICsgMVxuXG5cdFx0Y29udGV4dC5tbSA9IGRhdGUuZ2V0TW9udGgoKSArIDFcblxuXHRcdGlmIGNvbnRleHQuTU0gPCAxMFxuXHRcdFx0Y29udGV4dC5NTSA9IFwiMFwiICsgY29udGV4dC5NTVxuXG5cdFx0Y29udGV4dC5ERCA9IGRhdGUuZ2V0RGF0ZSgpXG5cblx0XHRjb250ZXh0LmRkID0gZGF0ZS5nZXREYXRlKClcblxuXHRcdGlmIGNvbnRleHQuREQgPCAxMFxuXHRcdFx0Y29udGV4dC5ERCA9IFwiMFwiICsgY29udGV4dC5ERFxuXG5cdFx0aWYgY29udGV4dC5ZWVlZICE9IG51bWJlclJ1bGVzLnllYXJcblx0XHRcdF9OVU1CRVIgPSBudW1iZXJSdWxlcy5maXJzdF9udW1iZXIgfHwgMVxuXG5cdFx0Y29udGV4dC5OVU1CRVIgPSBfLmNsb25lKF9OVU1CRVIpXG5cblx0XHRydWxlcyA9IG51bWJlclJ1bGVzLnJ1bGVzLnJlcGxhY2UoXCJ7WVlZWX1cIiwgXCInICsgWVlZWSArICdcIikucmVwbGFjZShcIntNTX1cIiwgXCInICsgTU0gKyAnXCIpLnJlcGxhY2UoXCJ7TlVNQkVSfVwiLCBcIicgKyBOVU1CRVIgKyAnXCIpXG5cblx0XHRzY3JpcHQgPSBcInZhciBuZXdObyA9ICcje3J1bGVzfSc7IGV4cG9ydHMubmV3Tm8gPSBuZXdOb1wiO1xuXG5cdFx0dHJ5XG5cdFx0XHRyZXMgPSBfZXZhbChzY3JpcHQsIFwibmV3Tm9cIiwgY29udGV4dCwgZmFsc2UpLm5ld05vXG5cblx0XHRcdGRiLmluc3RhbmNlX251bWJlcl9ydWxlcy51cGRhdGUoe19pZDogbnVtYmVyUnVsZXMuX2lkfSwgeyRzZXQ6IHt5ZWFyOiBfWVlZWSwgbnVtYmVyOiBfTlVNQkVSfX0pXG5cblx0XHRcdGNvbnNvbGUubG9nIHRoaXMudXNlcklkLCByZXNcblxuXHRcdGNhdGNoIGVcblx0XHRcdHJlcyA9IHtfZXJyb3I6IGV9XG5cblx0XHRyZXR1cm4gcmVzO1xuIiwidmFyIF9ldmFsO1xuXG5fZXZhbCA9IHJlcXVpcmUoJ2V2YWwnKTtcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBpbnN0YW5jZU51bWJlckJ1aWxkZXI6IGZ1bmN0aW9uKHNwYWNlSWQsIG5hbWUpIHtcbiAgICB2YXIgX05VTUJFUiwgX1lZWVksIGNvbnRleHQsIGRhdGUsIGUsIG51bWJlclJ1bGVzLCByZXMsIHJ1bGVzLCBzY3JpcHQ7XG4gICAgbnVtYmVyUnVsZXMgPSBkYi5pbnN0YW5jZV9udW1iZXJfcnVsZXMuZmluZE9uZSh7XG4gICAgICBzcGFjZTogc3BhY2VJZCxcbiAgICAgIG5hbWU6IG5hbWVcbiAgICB9KTtcbiAgICBpZiAoIW51bWJlclJ1bGVzKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIlwiICsgbmFtZSk7XG4gICAgfVxuICAgIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnRleHQgPSB7fTtcbiAgICBjb250ZXh0Ll8gPSBfO1xuICAgIF9ZWVlZID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIF9OVU1CRVIgPSAobnVtYmVyUnVsZXMubnVtYmVyIHx8IDApICsgMTtcbiAgICBjb250ZXh0LllZWVkgPSBfLmNsb25lKF9ZWVlZKTtcbiAgICBjb250ZXh0Lk1NID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICBjb250ZXh0Lm1tID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICBpZiAoY29udGV4dC5NTSA8IDEwKSB7XG4gICAgICBjb250ZXh0Lk1NID0gXCIwXCIgKyBjb250ZXh0Lk1NO1xuICAgIH1cbiAgICBjb250ZXh0LkREID0gZGF0ZS5nZXREYXRlKCk7XG4gICAgY29udGV4dC5kZCA9IGRhdGUuZ2V0RGF0ZSgpO1xuICAgIGlmIChjb250ZXh0LkREIDwgMTApIHtcbiAgICAgIGNvbnRleHQuREQgPSBcIjBcIiArIGNvbnRleHQuREQ7XG4gICAgfVxuICAgIGlmIChjb250ZXh0LllZWVkgIT09IG51bWJlclJ1bGVzLnllYXIpIHtcbiAgICAgIF9OVU1CRVIgPSBudW1iZXJSdWxlcy5maXJzdF9udW1iZXIgfHwgMTtcbiAgICB9XG4gICAgY29udGV4dC5OVU1CRVIgPSBfLmNsb25lKF9OVU1CRVIpO1xuICAgIHJ1bGVzID0gbnVtYmVyUnVsZXMucnVsZXMucmVwbGFjZShcIntZWVlZfVwiLCBcIicgKyBZWVlZICsgJ1wiKS5yZXBsYWNlKFwie01NfVwiLCBcIicgKyBNTSArICdcIikucmVwbGFjZShcIntOVU1CRVJ9XCIsIFwiJyArIE5VTUJFUiArICdcIik7XG4gICAgc2NyaXB0ID0gXCJ2YXIgbmV3Tm8gPSAnXCIgKyBydWxlcyArIFwiJzsgZXhwb3J0cy5uZXdObyA9IG5ld05vXCI7XG4gICAgdHJ5IHtcbiAgICAgIHJlcyA9IF9ldmFsKHNjcmlwdCwgXCJuZXdOb1wiLCBjb250ZXh0LCBmYWxzZSkubmV3Tm87XG4gICAgICBkYi5pbnN0YW5jZV9udW1iZXJfcnVsZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBudW1iZXJSdWxlcy5faWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHNldDoge1xuICAgICAgICAgIHllYXI6IF9ZWVlZLFxuICAgICAgICAgIG51bWJlcjogX05VTUJFUlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcklkLCByZXMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBlID0gZXJyb3I7XG4gICAgICByZXMgPSB7XG4gICAgICAgIF9lcnJvcjogZVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRjaGVja19tYWluX2F0dGFjaDogKGluc19pZCwgbmFtZSktPlxuXHRcdGNoZWNrIGluc19pZCwgU3RyaW5nXG5cdFx0dXVmbG93TWFuYWdlci5jaGVja01haW5BdHRhY2goaW5zX2lkLCBuYW1lKVxuXHRcdHJldHVybiAnc3VjY2VzcydcblxuIiwiTWV0ZW9yLm1ldGhvZHNcblx0cmVtb3ZlX3JlbGF0ZWQ6IChpbnNfaWQsIHJlX2luc19pZCktPlxuXHRcdGNoZWNrKGluc19pZCwgU3RyaW5nKVxuXHRcdGNoZWNrKHJlX2luc19pZCwgU3RyaW5nKVxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnNfaWR9LCB7ZmllbGRzOiB7cmVsYXRlZF9pbnN0YW5jZXM6IDF9fSlcblxuXHRcdGlmIGluc1xuXHRcdFx0cmVzID0gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIHx8IFtdXG5cblx0XHRcdGluZGV4ID0gcmVzLmluZGV4T2YocmVfaW5zX2lkKVxuXG5cdFx0XHRpZiBpbmRleCA+IC0xXG5cdFx0XHRcdHJlcy5yZW1vdmUoaW5kZXgpXG5cblx0XHRcdHNldF9vYmogPSBuZXcgT2JqZWN0O1xuXHRcdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cdFx0XHRzZXRfb2JqLnJlbGF0ZWRfaW5zdGFuY2VzID0gcmVzXG5cblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zX2lkfSwgeyRzZXQ6IHNldF9vYmp9KVxuXG5cdHVwZGF0ZV9pbnN0YW5jZV9yZWxhdGVkOiAoaW5zX2lkLCByZWxhdGVkX2luc3RhbmNlcyktPlxuXHRcdGNoZWNrKGluc19pZCwgU3RyaW5nKVxuXHRcdGNoZWNrKHJlbGF0ZWRfaW5zdGFuY2VzLCBBcnJheSlcblxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnNfaWQsICRvcjogW3tzdWJtaXR0ZXI6IHRoaXMudXNlcklkfSwge2FwcGxpY2FudDogdGhpcy51c2VySWR9LCB7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dfSwge2ZpZWxkczoge3N0YXRlOiAxfX0pXG5cblx0XHRpZiBpbnNcblx0XHRcdHNldF9vYmogPSBuZXcgT2JqZWN0O1xuXHRcdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cdFx0XHRzZXRfb2JqLnJlbGF0ZWRfaW5zdGFuY2VzID0gcmVsYXRlZF9pbnN0YW5jZXNcblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zX2lkfSwgeyRzZXQ6IHNldF9vYmp9KVxuXG5cdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46ICByZWxhdGVkX2luc3RhbmNlc319LCB7ZmllbGRzOiB7X2lkOiAxLCB2YWx1ZXM6IDF9fSkuZmV0Y2goKVxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICByZW1vdmVfcmVsYXRlZDogZnVuY3Rpb24oaW5zX2lkLCByZV9pbnNfaWQpIHtcbiAgICB2YXIgaW5kZXgsIGlucywgcmVzLCBzZXRfb2JqO1xuICAgIGNoZWNrKGluc19pZCwgU3RyaW5nKTtcbiAgICBjaGVjayhyZV9pbnNfaWQsIFN0cmluZyk7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc19pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICByZWxhdGVkX2luc3RhbmNlczogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnMpIHtcbiAgICAgIHJlcyA9IGlucy5yZWxhdGVkX2luc3RhbmNlcyB8fCBbXTtcbiAgICAgIGluZGV4ID0gcmVzLmluZGV4T2YocmVfaW5zX2lkKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHJlcy5yZW1vdmUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgc2V0X29iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcbiAgICAgIHNldF9vYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcbiAgICAgIHNldF9vYmoucmVsYXRlZF9pbnN0YW5jZXMgPSByZXM7XG4gICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRzZXQ6IHNldF9vYmpcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlX2luc3RhbmNlX3JlbGF0ZWQ6IGZ1bmN0aW9uKGluc19pZCwgcmVsYXRlZF9pbnN0YW5jZXMpIHtcbiAgICB2YXIgaW5zLCBzZXRfb2JqO1xuICAgIGNoZWNrKGluc19pZCwgU3RyaW5nKTtcbiAgICBjaGVjayhyZWxhdGVkX2luc3RhbmNlcywgQXJyYXkpO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnNfaWQsXG4gICAgICAkb3I6IFtcbiAgICAgICAge1xuICAgICAgICAgIHN1Ym1pdHRlcjogdGhpcy51c2VySWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGFwcGxpY2FudDogdGhpcy51c2VySWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGluYm94X3VzZXJzOiB0aGlzLnVzZXJJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2NfdXNlcnM6IHRoaXMudXNlcklkXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaW5zKSB7XG4gICAgICBzZXRfb2JqID0gbmV3IE9iamVjdDtcbiAgICAgIHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuICAgICAgc2V0X29iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xuICAgICAgc2V0X29iai5yZWxhdGVkX2luc3RhbmNlcyA9IHJlbGF0ZWRfaW5zdGFuY2VzO1xuICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRzZXQ6IHNldF9vYmpcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgX2lkOiB7XG4gICAgICAgICRpbjogcmVsYXRlZF9pbnN0YW5jZXNcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgX2lkOiAxLFxuICAgICAgICB2YWx1ZXM6IDFcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdHVwZGF0ZUZsb3dQb3NpdGlvbjogKGRhdGEpIC0+XG5cdFx0ZGIuZmxvd19wb3NpdGlvbnMudXBkYXRlIHsgX2lkOiBkYXRhLl9pZCB9LCAkc2V0OlxuXHRcdFx0cm9sZTogZGF0YS5yb2xlXG5cdFx0XHR1c2VyczogZGF0YS51c2Vyc1xuXHRcdFx0b3JnOiBkYXRhLm9yZ1xuXG5cdHVwZGF0ZUZsb3dSb2xlOiAoZGF0YSkgLT5cblx0XHRjb25zb2xlLmxvZyBkYXRhLl9pZFxuXHRcdGNvbnNvbGUubG9nIGRhdGEubmFtZVxuXHRcdGRiLmZsb3dfcm9sZXMudXBkYXRlIHsgX2lkOiBkYXRhLl9pZCB9LCAkc2V0OlxuXHRcdFx0bmFtZTogZGF0YS5uYW1lIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICB1cGRhdGVGbG93UG9zaXRpb246IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICByZXR1cm4gZGIuZmxvd19wb3NpdGlvbnMudXBkYXRlKHtcbiAgICAgIF9pZDogZGF0YS5faWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiB7XG4gICAgICAgIHJvbGU6IGRhdGEucm9sZSxcbiAgICAgICAgdXNlcnM6IGRhdGEudXNlcnMsXG4gICAgICAgIG9yZzogZGF0YS5vcmdcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgdXBkYXRlRmxvd1JvbGU6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBjb25zb2xlLmxvZyhkYXRhLl9pZCk7XG4gICAgY29uc29sZS5sb2coZGF0YS5uYW1lKTtcbiAgICByZXR1cm4gZGIuZmxvd19yb2xlcy51cGRhdGUoe1xuICAgICAgX2lkOiBkYXRhLl9pZFxuICAgIH0sIHtcbiAgICAgICRzZXQ6IHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcblx0c3RhcnRfZmxvdzogKHNwYWNlLCBmbG93SWQsIHN0YXJ0KSAtPlxuXG5cdFx0a2V5VmFsdWUgPSBkYi5zdGVlZG9zX2tleXZhbHVlcy5maW5kT25lKHsgc3BhY2U6IHNwYWNlLCB1c2VyOiB0aGlzLnVzZXJJZCwga2V5OiAnc3RhcnRfZmxvd3MnIH0sIHsgZmllbGRzOiB7IHZhbHVlOiAxIH0gfSlcblxuXHRcdHN0YXJ0X2Zsb3dzID0ga2V5VmFsdWU/LnZhbHVlIHx8IFtdXG5cblx0XHRpZiBzdGFydFxuXHRcdFx0c3RhcnRfZmxvd3MucHVzaChmbG93SWQpXG5cblx0XHRcdHN0YXJ0X2Zsb3dzID0gXy51bmlxKHN0YXJ0X2Zsb3dzKVxuXHRcdGVsc2Vcblx0XHRcdHN0YXJ0X2Zsb3dzLnJlbW92ZShzdGFydF9mbG93cy5pbmRleE9mKGZsb3dJZCkpXG5cblx0XHRpZiBrZXlWYWx1ZVxuXHRcdFx0ZGIuc3RlZWRvc19rZXl2YWx1ZXMudXBkYXRlKHsgX2lkOiBrZXlWYWx1ZS5faWQgfSwgeyBzcGFjZTogc3BhY2UsIHVzZXI6IHRoaXMudXNlcklkLCBrZXk6ICdzdGFydF9mbG93cycsIHZhbHVlOiBzdGFydF9mbG93cyB9KVxuXHRcdGVsc2Vcblx0XHRcdGRiLnN0ZWVkb3Nfa2V5dmFsdWVzLmluc2VydCh7IHNwYWNlOiBzcGFjZSwgdXNlcjogdGhpcy51c2VySWQsIGtleTogJ3N0YXJ0X2Zsb3dzJywgdmFsdWU6IHN0YXJ0X2Zsb3dzIH0pXG5cbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgc3RhcnRfZmxvdzogZnVuY3Rpb24oc3BhY2UsIGZsb3dJZCwgc3RhcnQpIHtcbiAgICB2YXIga2V5VmFsdWUsIHN0YXJ0X2Zsb3dzO1xuICAgIGtleVZhbHVlID0gZGIuc3RlZWRvc19rZXl2YWx1ZXMuZmluZE9uZSh7XG4gICAgICBzcGFjZTogc3BhY2UsXG4gICAgICB1c2VyOiB0aGlzLnVzZXJJZCxcbiAgICAgIGtleTogJ3N0YXJ0X2Zsb3dzJ1xuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICB2YWx1ZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIHN0YXJ0X2Zsb3dzID0gKGtleVZhbHVlICE9IG51bGwgPyBrZXlWYWx1ZS52YWx1ZSA6IHZvaWQgMCkgfHwgW107XG4gICAgaWYgKHN0YXJ0KSB7XG4gICAgICBzdGFydF9mbG93cy5wdXNoKGZsb3dJZCk7XG4gICAgICBzdGFydF9mbG93cyA9IF8udW5pcShzdGFydF9mbG93cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0X2Zsb3dzLnJlbW92ZShzdGFydF9mbG93cy5pbmRleE9mKGZsb3dJZCkpO1xuICAgIH1cbiAgICBpZiAoa2V5VmFsdWUpIHtcbiAgICAgIHJldHVybiBkYi5zdGVlZG9zX2tleXZhbHVlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGtleVZhbHVlLl9pZFxuICAgICAgfSwge1xuICAgICAgICBzcGFjZTogc3BhY2UsXG4gICAgICAgIHVzZXI6IHRoaXMudXNlcklkLFxuICAgICAgICBrZXk6ICdzdGFydF9mbG93cycsXG4gICAgICAgIHZhbHVlOiBzdGFydF9mbG93c1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkYi5zdGVlZG9zX2tleXZhbHVlcy5pbnNlcnQoe1xuICAgICAgICBzcGFjZTogc3BhY2UsXG4gICAgICAgIHVzZXI6IHRoaXMudXNlcklkLFxuICAgICAgICBrZXk6ICdzdGFydF9mbG93cycsXG4gICAgICAgIHZhbHVlOiBzdGFydF9mbG93c1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdGdldF9pbnN0YW5jZV90cmFjZXM6IChpbnNfaWQpLT5cblx0XHRpZiAoIXRoaXMudXNlcklkKVxuXHRcdFx0cmV0dXJuO1xuXHRcdG1pbmlBcHByb3ZlRmllbGRzID0gWydfaWQnLCAnaXNfZmluaXNoZWQnLCAndXNlcicsICdoYW5kbGVyJywgJ2hhbmRsZXJfbmFtZScsICd0eXBlJywgJ3N0YXJ0X2RhdGUnLCAnZGVzY3JpcHRpb24nLFxuXHRcdFx0J2lzX3JlYWQnLCAnanVkZ2UnLCAnZmluaXNoX2RhdGUnLCAnZnJvbV91c2VyX25hbWUnLCAnZnJvbV91c2VyJywgJ2NjX2Rlc2NyaXB0aW9uJ11cblxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lIHtfaWQ6IGluc19pZH0sIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcInRyYWNlcy5faWRcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuaXNfZmluaXNoZWRcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuc3RlcFwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5zdGFydF9kYXRlXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLm5hbWVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuZmluaXNoX2RhdGVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuanVkZ2VcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuX2lkXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmlzX2ZpbmlzaGVkXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLnVzZXJcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlclwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX25hbWVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMudHlwZVwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5zdGFydF9kYXRlXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmRlc2NyaXB0aW9uXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmlzX3JlYWRcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuanVkZ2VcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZmluaXNoX2RhdGVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyX25hbWVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmNjX2Rlc2NyaXB0aW9uXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLnRyYWNlXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmZvcndhcmRfc3BhY2VcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZm9yd2FyZF9pbnN0YW5jZVwiOiAxXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgIWluc1xuXHRcdFx0cmV0dXJuXG5cblx0XHRyZXR1cm4gaW5zPy50cmFjZXNcblxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBnZXRfaW5zdGFuY2VfdHJhY2VzOiBmdW5jdGlvbihpbnNfaWQpIHtcbiAgICB2YXIgaW5zLCBtaW5pQXBwcm92ZUZpZWxkcztcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG1pbmlBcHByb3ZlRmllbGRzID0gWydfaWQnLCAnaXNfZmluaXNoZWQnLCAndXNlcicsICdoYW5kbGVyJywgJ2hhbmRsZXJfbmFtZScsICd0eXBlJywgJ3N0YXJ0X2RhdGUnLCAnZGVzY3JpcHRpb24nLCAnaXNfcmVhZCcsICdqdWRnZScsICdmaW5pc2hfZGF0ZScsICdmcm9tX3VzZXJfbmFtZScsICdmcm9tX3VzZXInLCAnY2NfZGVzY3JpcHRpb24nXTtcbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc19pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy5faWRcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuaXNfZmluaXNoZWRcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuc3RlcFwiOiAxLFxuICAgICAgICBcInRyYWNlcy5zdGFydF9kYXRlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLm5hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuZmluaXNoX2RhdGVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuanVkZ2VcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuX2lkXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmlzX2ZpbmlzaGVkXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLnVzZXJcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlclwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX25hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMudHlwZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5zdGFydF9kYXRlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmRlc2NyaXB0aW9uXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmlzX3JlYWRcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuanVkZ2VcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZmluaXNoX2RhdGVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyX25hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmNjX2Rlc2NyaXB0aW9uXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLnRyYWNlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmZvcndhcmRfc3BhY2VcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZm9yd2FyZF9pbnN0YW5jZVwiOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGlucyAhPSBudWxsID8gaW5zLnRyYWNlcyA6IHZvaWQgMDtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHQnZ2V0X2JhdGNoX2luc3RhbmNlcyc6IChzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcyktPlxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRpZiAhc3BhY2Vcblx0XHRcdHJldHVyblxuXG5cdFx0X2JhdGNoX2luc3RhbmNlcyA9IEluc3RhbmNlTWFuYWdlci5nZXRCYXRjaEluc3RhbmNlcyhzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcywgdGhpcy51c2VySWQpXG5cblx0XHRyZXR1cm4gX2JhdGNoX2luc3RhbmNlc1xuXG5cdCdnZXRfYmF0Y2hfaW5zdGFuY2VzX2NvdW50JzogKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzKS0+XG5cdFx0aWYgIXRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm5cblxuXHRcdGlmICFzcGFjZVxuXHRcdFx0cmV0dXJuXG5cblx0XHRfYmF0Y2hfaW5zdGFuY2VzID0gSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCB0aGlzLnVzZXJJZClcblxuXHRcdHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzPy5sZW5ndGggfHwgMFxuXG5cdCdnZXRfbXlfYXBwcm92ZXMnOiAoaW5zdGFuY2VJZHMpLT5cblxuXHRcdHRoYXQgPSB0aGlzXG5cblx0XHRpZiAhdGhhdC51c2VySWRcblx0XHRcdHJldHVyblxuXG5cdFx0bXlBcHByb3ZlcyA9IG5ldyBBcnJheSgpXG5cblx0XHRpbnN0YW5jZUlkcy5mb3JFYWNoIChpbnNJZCktPlxuXHRcdFx0bXlfYXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUoaW5zSWQsIHRoYXQudXNlcklkKVxuXHRcdFx0aWYgbXlfYXBwcm92ZVxuXHRcdFx0XHRteUFwcHJvdmVzLnB1c2gobXlfYXBwcm92ZSlcblxuXHRcdHJldHVybiBteUFwcHJvdmVzXG5cblxuXG5cblxuXG5cblxuXG5cblxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICAnZ2V0X2JhdGNoX2luc3RhbmNlcyc6IGZ1bmN0aW9uKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzKSB7XG4gICAgdmFyIF9iYXRjaF9pbnN0YW5jZXM7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXNwYWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF9iYXRjaF9pbnN0YW5jZXMgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMsIHRoaXMudXNlcklkKTtcbiAgICByZXR1cm4gX2JhdGNoX2luc3RhbmNlcztcbiAgfSxcbiAgJ2dldF9iYXRjaF9pbnN0YW5jZXNfY291bnQnOiBmdW5jdGlvbihzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcykge1xuICAgIHZhciBfYmF0Y2hfaW5zdGFuY2VzO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFzcGFjZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBfYmF0Y2hfaW5zdGFuY2VzID0gSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCB0aGlzLnVzZXJJZCk7XG4gICAgcmV0dXJuIChfYmF0Y2hfaW5zdGFuY2VzICE9IG51bGwgPyBfYmF0Y2hfaW5zdGFuY2VzLmxlbmd0aCA6IHZvaWQgMCkgfHwgMDtcbiAgfSxcbiAgJ2dldF9teV9hcHByb3Zlcyc6IGZ1bmN0aW9uKGluc3RhbmNlSWRzKSB7XG4gICAgdmFyIG15QXBwcm92ZXMsIHRoYXQ7XG4gICAgdGhhdCA9IHRoaXM7XG4gICAgaWYgKCF0aGF0LnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBteUFwcHJvdmVzID0gbmV3IEFycmF5KCk7XG4gICAgaW5zdGFuY2VJZHMuZm9yRWFjaChmdW5jdGlvbihpbnNJZCkge1xuICAgICAgdmFyIG15X2FwcHJvdmU7XG4gICAgICBteV9hcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldE15QXBwcm92ZShpbnNJZCwgdGhhdC51c2VySWQpO1xuICAgICAgaWYgKG15X2FwcHJvdmUpIHtcbiAgICAgICAgcmV0dXJuIG15QXBwcm92ZXMucHVzaChteV9hcHByb3ZlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbXlBcHByb3ZlcztcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRjaGFuZ2VfZmxvd19zdGF0ZTogKGZsb3dzKSAtPlxuXHRcdGNoZWNrIGZsb3dzLCBBcnJheVxuXG5cdFx0X3VzZXJJZCA9IHRoaXMudXNlcklkXG5cblx0XHRpZiAhX3VzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRmbG93cy5mb3JFYWNoIChmbG93KSAtPlxuXHRcdFx0c3BhY2VJZCA9IGZsb3cuc3BhY2Vcblx0XHRcdGZvcm1JZCA9IGZsb3cuZm9ybVxuXHRcdFx0Zmxvd0lkID0gZmxvdy5pZFxuXHRcdFx0c3RhdGUgPSBmbG93LnN0YXRlXG5cblx0XHRcdGlmICFTdGVlZG9zLmlzU3BhY2VBZG1pbihzcGFjZUlkLCBfdXNlcklkKVxuXHRcdFx0XHR0aHJvdyAgTWV0ZW9yLkVycm9yKDQwMSwgXCJObyBwZXJtaXNzaW9uXCIpXG5cblx0XHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmb3JtSWQgfSwgeyBmaWVsZHM6IHsgaGlzdG9yeXM6IDAgfSB9KVxuXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogZmxvd0lkIH0sIHsgZmllbGRzOiB7IGhpc3RvcnlzOiAwIH0gfSlcblxuXHRcdFx0aWYgc3RhdGUgIT0gJ2VuYWJsZWQnICYmIHN0YXRlICE9ICdkaXNhYmxlZCdcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwic3RhdGXml6DmlYhcIilcblxuXHRcdFx0aWYgIWZvcm1cblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwiZm9ybeaXoOaViFwiKVxuXG5cdFx0XHRpZiAhZmxvd1xuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJmbG935peg5pWIXCIpXG5cblx0XHRcdGlmICFmb3JtLmlzX3ZhbGlkXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+W8leeUqOeahOihqOWNlVsje2Zvcm0ubmFtZX1d6aqM6K+B5pyq6YCa6L+H77yM6K+35omT5byA5rWB56iL6K6+6K6h5Zmo5qOA5p+l6KGo5Y2V6K6+572uXCIpXG5cblx0XHRcdGlmICFmbG93LmlzX3ZhbGlkXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jOivt+aJk+W8gOa1geeoi+iuvuiuoeWZqOajgOafpea1geeoi+iuvue9rlwiKVxuXG5cdFx0XHRpZiAhWyduZXcnLCAnbW9kaWZ5JywgJ2RlbGV0ZSddLmluY2x1ZGVzKGZsb3cuZmxvd3R5cGUpXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jGZsb3d0eXBl5YC85b+F6aG75pivbmV344CBbW9kaWZ544CBZGVsZXRl5YW25Lit5LmL5LiAXCIpXG5cblx0XHRcdGlmICFfLmlzQXJyYXkoZmxvdy5jdXJyZW50LnN0ZXBzKVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzmtYHnqIvnmoTmraXpqqTkuI3og73kuLrnqbpcIilcblxuXHRcdFx0aWYgXy51bmlxKGZsb3cuY3VycmVudC5zdGVwcywgJ25hbWUnKS5sZW5ndGggIT0gZmxvdy5jdXJyZW50LnN0ZXBzLmxlbmd0aFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzlkIzkuIDkuKrmtYHnqIvkuIvnmoTmraXpqqTnmoTlkI3np7DkuI3og73ph43lpI1cIilcblxuXHRcdFx0bm93ID0gbmV3IERhdGVcblxuXHRcdFx0aWYgc3RhdGUgPT0gJ2VuYWJsZWQnXG5cdFx0XHRcdCPmtYHnqIvlkK/nlKjliY3vvIzmoKHpqozlhbbigJzmjIflrprljoblj7LmraXpqqTigJ3lsZ7mgKfkuK3ooqvlvJXnlKjnmoTmraXpqqTmmK/lkKblrZjlnKjkuJTog73ooqvmib7liLDvvIjku4XpmZDkuo7mtYHnqIvnmoTmnIDmlrDniYjvvIlcblx0XHRcdFx0Zmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2ggKHN0ZXApIC0+XG5cdFx0XHRcdFx0aWYgWydzcGVjaWZ5U3RlcFVzZXInLCAnc3BlY2lmeVN0ZXBSb2xlJ10uaW5jbHVkZXMoc3RlcC5kZWFsX3R5cGUpXG5cdFx0XHRcdFx0XHRpZiAhc3RlcC5hcHByb3Zlcl9zdGVwXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIuatpemqpFsje3N0ZXAubmFtZX1d5Lit55qE5oyH5a6a5Y6G5Y+y5q2l6aqk5LiN5a2Y5Zyo44CCXCIpXG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdHNwZWNpZnlTdGVwID0gXy5maW5kIGZsb3cuY3VycmVudC5zdGVwcywgKF9zdGVwKSAtPlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBzdGVwLmFwcHJvdmVyX3N0ZXAgPT0gX3N0ZXAuX2lkXG5cblx0XHRcdFx0XHRcdFx0aWYgIXNwZWNpZnlTdGVwXG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5q2l6aqkWyN7c3RlcC5uYW1lfV3kuK3nmoTmjIflrprljoblj7LmraXpqqTkuI3lrZjlnKjjgIJcIilcblxuXHRcdFx0XHRmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUgPSBmb3JtLmN1cnJlbnQuZmllbGRzLmdldFByb3BlcnR5KFwiY29kZVwiKVxuXG5cdFx0XHRcdGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoIChzdGVwKSAtPlxuXHRcdFx0XHRcdHN0ZXAuZmllbGRzX21vZGlmaWFibGUgPSBfLmludGVyc2VjdGlvbihzdGVwLmZpZWxkc19tb2RpZmlhYmxlLCBmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUpXG5cblx0XHRcdFx0I+WmguaenCDmtYHnqIvlr7nlupTooajljZUg5piv5YGc55So55qEIOWImeWQr+eUqFxuXHRcdFx0XHRpZiBmb3JtLnN0YXRlID09ICdkaXNhYmxlZCdcblx0XHRcdFx0XHRkYi5mb3Jtcy51cGRhdGUoe19pZDogZm9ybS5faWR9LCB7JHNldDoge1wic3RhdGVcIjogXCJlbmFibGVkXCIsIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdywgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdywgXCJjdXJyZW50Lm1vZGlmaWVkX2J5XCI6IF91c2VySWR9fSlcblxuXHRcdFx0XHRmbG93LmN1cnJlbnQubW9kaWZpZWQgPSBub3dcblx0XHRcdFx0Zmxvdy5jdXJyZW50LnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0Zmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5ID0gX3VzZXJJZFxuXG5cdFx0XHRcdGRiLmZsb3dzLnVwZGF0ZSh7IF9pZDogZmxvdy5faWQgfSwgeyAkc2V0OiB7IFwic3RhdGVcIjogXCJlbmFibGVkXCIsIFwiY3VycmVudFwiOiBmbG93LmN1cnJlbnQgfSB9KVxuXG5cdFx0XHRlbHNlXG5cdFx0XHRcdCPnpoHnlKjmtYHnqItcblx0XHRcdFx0ZGIuZmxvd3MudXBkYXRlKHtfaWQ6IGZsb3cuX2lkfSwgeyRzZXQ6IHtcInN0YXRlXCI6IFwiZGlzYWJsZWRcIiwgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdywgXCJjdXJyZW50LnN0YXJ0X2RhdGVcIjogbm93LCBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZH19KVxuXG5cdFx0XHRcdCMg5Yik5pat6KGo5Y2V5omA5pyJ5rWB56iL5piv5ZCm5bey57uP5YWo6YOo5YGc55SoIOWmguaenOW3suWFqOmDqOWBnOeUqCDliJnkv67mlLnooajljZXnirbmgIHkuLrlgZznlKhcblx0XHRcdFx0X2Zsb3dzID0gZGIuZmxvd3MuZmluZCh7IGZvcm06IGZvcm0uX2lkIH0sIHsgZmllbGRzOiB7IF9pZDogMSwgc3RhdGU6IDEgfSB9KS5mZXRjaCgpXG5cblx0XHRcdFx0X2Zsb3dzX3N0YXRlID0gX2Zsb3dzLmdldFByb3BlcnR5KFwic3RhdGVcIilcblxuXHRcdFx0XHRpZiAhX2Zsb3dzX3N0YXRlLmluY2x1ZGVzKCdlbmFibGVkJylcblx0XHRcdFx0XHRkYi5mb3Jtcy51cGRhdGUoe19pZDogZm9ybS5faWR9LCB7JHNldDoge1wic3RhdGVcIjogXCJkaXNhYmxlZFwiLCBcImN1cnJlbnQubW9kaWZpZWRcIjogbm93LCBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkfX0pXG5cblxuXG5cbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgY2hhbmdlX2Zsb3dfc3RhdGU6IGZ1bmN0aW9uKGZsb3dzKSB7XG4gICAgdmFyIF91c2VySWQ7XG4gICAgY2hlY2soZmxvd3MsIEFycmF5KTtcbiAgICBfdXNlcklkID0gdGhpcy51c2VySWQ7XG4gICAgaWYgKCFfdXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBmbG93cy5mb3JFYWNoKGZ1bmN0aW9uKGZsb3cpIHtcbiAgICAgIHZhciBfZmxvd3MsIF9mbG93c19zdGF0ZSwgZmxvd0lkLCBmb3JtLCBmb3JtSWQsIGZvcm1fY3VycmVudF9maWVsZHNfY29kZSwgbm93LCBzcGFjZUlkLCBzdGF0ZTtcbiAgICAgIHNwYWNlSWQgPSBmbG93LnNwYWNlO1xuICAgICAgZm9ybUlkID0gZmxvdy5mb3JtO1xuICAgICAgZmxvd0lkID0gZmxvdy5pZDtcbiAgICAgIHN0YXRlID0gZmxvdy5zdGF0ZTtcbiAgICAgIGlmICghU3RlZWRvcy5pc1NwYWNlQWRtaW4oc3BhY2VJZCwgX3VzZXJJZCkpIHtcbiAgICAgICAgdGhyb3cgTWV0ZW9yLkVycm9yKDQwMSwgXCJObyBwZXJtaXNzaW9uXCIpO1xuICAgICAgfVxuICAgICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGZvcm1JZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBoaXN0b3J5czogMFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93SWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgaGlzdG9yeXM6IDBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoc3RhdGUgIT09ICdlbmFibGVkJyAmJiBzdGF0ZSAhPT0gJ2Rpc2FibGVkJykge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJzdGF0ZeaXoOaViFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghZm9ybSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJmb3Jt5peg5pWIXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmbG93KSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcImZsb3fml6DmlYhcIik7XG4gICAgICB9XG4gICAgICBpZiAoIWZvcm0uaXNfdmFsaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL5byV55So55qE6KGo5Y2VW1wiICsgZm9ybS5uYW1lICsgXCJd6aqM6K+B5pyq6YCa6L+H77yM6K+35omT5byA5rWB56iL6K6+6K6h5Zmo5qOA5p+l6KGo5Y2V6K6+572uXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmbG93LmlzX3ZhbGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jOivt+aJk+W8gOa1geeoi+iuvuiuoeWZqOajgOafpea1geeoi+iuvue9rlwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghWyduZXcnLCAnbW9kaWZ5JywgJ2RlbGV0ZSddLmluY2x1ZGVzKGZsb3cuZmxvd3R5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jGZsb3d0eXBl5YC85b+F6aG75pivbmV344CBbW9kaWZ544CBZGVsZXRl5YW25Lit5LmL5LiAXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFfLmlzQXJyYXkoZmxvdy5jdXJyZW50LnN0ZXBzKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzmtYHnqIvnmoTmraXpqqTkuI3og73kuLrnqbpcIik7XG4gICAgICB9XG4gICAgICBpZiAoXy51bmlxKGZsb3cuY3VycmVudC5zdGVwcywgJ25hbWUnKS5sZW5ndGggIT09IGZsb3cuY3VycmVudC5zdGVwcy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yM5ZCM5LiA5Liq5rWB56iL5LiL55qE5q2l6aqk55qE5ZCN56ew5LiN6IO96YeN5aSNXCIpO1xuICAgICAgfVxuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBpZiAoc3RhdGUgPT09ICdlbmFibGVkJykge1xuICAgICAgICBmbG93LmN1cnJlbnQuc3RlcHMuZm9yRWFjaChmdW5jdGlvbihzdGVwKSB7XG4gICAgICAgICAgdmFyIHNwZWNpZnlTdGVwO1xuICAgICAgICAgIGlmIChbJ3NwZWNpZnlTdGVwVXNlcicsICdzcGVjaWZ5U3RlcFJvbGUnXS5pbmNsdWRlcyhzdGVwLmRlYWxfdHlwZSkpIHtcbiAgICAgICAgICAgIGlmICghc3RlcC5hcHByb3Zlcl9zdGVwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIuatpemqpFtcIiArIHN0ZXAubmFtZSArIFwiXeS4reeahOaMh+WumuWOhuWPsuatpemqpOS4jeWtmOWcqOOAglwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNwZWNpZnlTdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgZnVuY3Rpb24oX3N0ZXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RlcC5hcHByb3Zlcl9zdGVwID09PSBfc3RlcC5faWQ7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAoIXNwZWNpZnlTdGVwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5q2l6aqkW1wiICsgc3RlcC5uYW1lICsgXCJd5Lit55qE5oyH5a6a5Y6G5Y+y5q2l6aqk5LiN5a2Y5Zyo44CCXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZm9ybV9jdXJyZW50X2ZpZWxkc19jb2RlID0gZm9ybS5jdXJyZW50LmZpZWxkcy5nZXRQcm9wZXJ0eShcImNvZGVcIik7XG4gICAgICAgIGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgICAgICByZXR1cm4gc3RlcC5maWVsZHNfbW9kaWZpYWJsZSA9IF8uaW50ZXJzZWN0aW9uKHN0ZXAuZmllbGRzX21vZGlmaWFibGUsIGZvcm1fY3VycmVudF9maWVsZHNfY29kZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZm9ybS5zdGF0ZSA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgICAgIGRiLmZvcm1zLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGZvcm0uX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICBcInN0YXRlXCI6IFwiZW5hYmxlZFwiLFxuICAgICAgICAgICAgICBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csXG4gICAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csXG4gICAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZmxvdy5jdXJyZW50Lm1vZGlmaWVkID0gbm93O1xuICAgICAgICBmbG93LmN1cnJlbnQuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgZmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5ID0gX3VzZXJJZDtcbiAgICAgICAgcmV0dXJuIGRiLmZsb3dzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBmbG93Ll9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgXCJzdGF0ZVwiOiBcImVuYWJsZWRcIixcbiAgICAgICAgICAgIFwiY3VycmVudFwiOiBmbG93LmN1cnJlbnRcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGIuZmxvd3MudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGZsb3cuX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICBcInN0YXRlXCI6IFwiZGlzYWJsZWRcIixcbiAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csXG4gICAgICAgICAgICBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csXG4gICAgICAgICAgICBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIF9mbG93cyA9IGRiLmZsb3dzLmZpbmQoe1xuICAgICAgICAgIGZvcm06IGZvcm0uX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIF9pZDogMSxcbiAgICAgICAgICAgIHN0YXRlOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgICBfZmxvd3Nfc3RhdGUgPSBfZmxvd3MuZ2V0UHJvcGVydHkoXCJzdGF0ZVwiKTtcbiAgICAgICAgaWYgKCFfZmxvd3Nfc3RhdGUuaW5jbHVkZXMoJ2VuYWJsZWQnKSkge1xuICAgICAgICAgIHJldHVybiBkYi5mb3Jtcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBmb3JtLl9pZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgXCJzdGF0ZVwiOiBcImRpc2FibGVkXCIsXG4gICAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csXG4gICAgICAgICAgICAgIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdyxcbiAgICAgICAgICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkX2J5XCI6IF91c2VySWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cblx0aGlkZV9pbnN0YW5jZTogKGluc0lkLCBpc19oaWRkZW4pIC0+XG5cdFx0aWYgIXRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm5cblxuXHRcdGNoZWNrKGluc0lkLCBTdHJpbmcpXG5cdFx0Y2hlY2soaXNfaGlkZGVuLCBCb29sZWFuKVxuXG5cdFx0dXNlcklkID0gdGhpcy51c2VySWRcblxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zSWQsIHsgZmllbGRzOiB7IHN0YXRlOiAxLCBmbG93OiAxLCBzcGFjZTogMSB9IH0pXG5cblx0XHRpZiBub3QgaW5zdGFuY2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw55Sz6K+35Y2VXCIpXG5cblx0XHRpZiBpbnN0YW5jZS5zdGF0ZSBpc250ICdjb21wbGV0ZWQnXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUs+ivt+WNleeKtuaAgeS4jeaYr+W3sue7k+adn1wiKVxuXG5cdFx0IyDpqozor4Fsb2dpbiB1c2VyX2lk5a+56K+l5rWB56iL5pyJ566h55CG55Sz6K+35Y2V55qE5p2D6ZmQXG5cdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgdXNlcklkKVxuXHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoaW5zdGFuY2Uuc3BhY2UsIHsgZmllbGRzOiB7IGFkbWluczogMSB9IH0pXG5cdFx0aWYgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSBhbmQgKG5vdCBzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcklkKSlcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpXG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKGluc0lkLCB7ICRzZXQ6IHsgaXNfaGlkZGVuOiBpc19oaWRkZW4gfSB9KVxuXG5cdFx0cmV0dXJuIHRydWU7XG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIGhpZGVfaW5zdGFuY2U6IGZ1bmN0aW9uKGluc0lkLCBpc19oaWRkZW4pIHtcbiAgICB2YXIgaW5zdGFuY2UsIHBlcm1pc3Npb25zLCBzcGFjZSwgdXNlcklkO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2hlY2soaW5zSWQsIFN0cmluZyk7XG4gICAgY2hlY2soaXNfaGlkZGVuLCBCb29sZWFuKTtcbiAgICB1c2VySWQgPSB0aGlzLnVzZXJJZDtcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc0lkLCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGZsb3c6IDEsXG4gICAgICAgIHNwYWNlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrmib7liLDnlLPor7fljZVcIik7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5zdGF0ZSAhPT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55Sz6K+35Y2V54q25oCB5LiN5piv5bey57uT5p2fXCIpO1xuICAgIH1cbiAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCB1c2VySWQpO1xuICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoaW5zdGFuY2Uuc3BhY2UsIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBhZG1pbnM6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSAmJiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyh1c2VySWQpKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIik7XG4gICAgfVxuICAgIGRiLmluc3RhbmNlcy51cGRhdGUoaW5zSWQsIHtcbiAgICAgICRzZXQ6IHtcbiAgICAgICAgaXNfaGlkZGVuOiBpc19oaWRkZW5cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRnZXRJbnN0YW5jZVZhbHVlczogKGluc0lkKS0+XG5cdFx0aWYgKCF0aGlzLnVzZXJJZClcblx0XHRcdHJldHVybjtcblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zSWR9LCB7ZmllbGRzOiB7dmFsdWVzOiAxfX0pPy52YWx1ZXMiLCJNZXRlb3IubWV0aG9kcyh7XG4gIGdldEluc3RhbmNlVmFsdWVzOiBmdW5jdGlvbihpbnNJZCkge1xuICAgIHZhciByZWY7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gKHJlZiA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgdmFsdWVzOiAxXG4gICAgICB9XG4gICAgfSkpICE9IG51bGwgPyByZWYudmFsdWVzIDogdm9pZCAwO1xuICB9XG59KTtcbiIsIkNvb2tpZXMgPSByZXF1aXJlKFwiY29va2llc1wiKVxuXG5nZXRJbnN0YW5jZVJlYWRPbmx5ID0gKHJlcSwgcmVzLCBuZXh0LCBvcHRpb25zKSAtPlxuXG5cdHVzZXIgPSBTdGVlZG9zLmdldEFQSUxvZ2luVXNlcihyZXEsIHJlcylcblxuXHRpZiByZXE/LnF1ZXJ5Py5hY2Nlc3NfdG9rZW5cblx0XHR1c2VySWQgPSBTdGVlZG9zLmdldFVzZXJJZEZyb21BY2Nlc3NUb2tlbihyZXEucXVlcnkuYWNjZXNzX3Rva2VuKVxuXHRcdGlmIHVzZXJJZFxuXHRcdFx0dXNlciA9IE1ldGVvci51c2Vycy5maW5kT25lKHtfaWQ6IHVzZXJJZH0pXG5cblx0c3BhY2VJZCA9IHJlcS5wYXJhbXMuc3BhY2VcblxuXHRpbnN0YW5jZUlkID0gcmVxLnBhcmFtcy5pbnN0YW5jZV9pZFxuXG5cdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0pO1xuXG5cdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe19pZDogc3BhY2VJZH0pO1xuXG5cdGhpZGVfdHJhY2VzID0gcmVxLnF1ZXJ5Py5oaWRlX3RyYWNlc1xuXG5cdGlmICFvcHRpb25zXG5cdFx0b3B0aW9ucyA9IHtzaG93VHJhY2U6IHRydWV9XG5cdGVsc2Vcblx0XHRvcHRpb25zLnNob3dUcmFjZSA9IHRydWVcblxuXHRpZiBoaWRlX3RyYWNlcyBpcyBcIjFcIlxuXHRcdGlmIG9wdGlvbnNcblx0XHRcdG9wdGlvbnMuc2hvd1RyYWNlID0gZmFsc2Vcblx0XHRlbHNlXG5cdFx0XHRvcHRpb25zID0ge3Nob3dUcmFjZTogZmFsc2V9XG5cblx0aWYgIW9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzXG5cdFx0b3B0aW9ucy5zaG93QXR0YWNobWVudHMgPSB0cnVlXG5cblx0aWYgIXNwYWNlXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2VcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cdGlmICAhaW5zdGFuY2Vcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBpbnN0YW5jZVwiLFxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRyZXR1cm47XG5cblx0aWYgIXVzZXJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLUF1dGgtVG9rZW4sWC1Vc2VyLUlkXCIsXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdHJldHVybjtcblxuXHRpZiBpbnN0YW5jZS5zcGFjZSAhPSBzcGFjZUlkXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2Ugb3IgaW5zdGFuY2VcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cblxuXHRzcGFjZVVzZXJDb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyB1c2VyOiB1c2VyLl9pZCwgc3BhY2U6IHNwYWNlSWQgfSkuY291bnQoKVxuXG5cdGlmIHNwYWNlVXNlckNvdW50IGlzIDBcblx0XHRpZiAhc3BhY2Vcblx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdFx0ZGF0YTpcblx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNhcGNlVXNlclwiLFxuXHRcdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdFx0cmV0dXJuO1xuXG5cdCPmoKHpqox1c2Vy5piv5ZCm5a+5aW5zdGFuY2XmnInmn6XnnIvmnYPpmZBcblx0X2hhc1Blcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBpbnN0YW5jZSlcblxuXHRpZiAhX2hhc1Blcm1pc3Npb24gICYmIGluc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZVxuXHRcdF9wYXJlbnRfaW5zdGFuY2VzID0gXy51bmlvbihbaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlXSwgaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyB8fCBbXSlcblxuXHRcdF9oYXNQZXJtaXNzaW9uID0gXy5maW5kIF9wYXJlbnRfaW5zdGFuY2VzLCAoX3BhcmVudF9pZCktPlxuXHRcdFx0X3BhcmVudF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOl9wYXJlbnRfaWR9LCB7ZmllbGRzOiB7dHJhY2VzOiAwfX0pXG5cblx0XHRcdHJldHVybiBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBfcGFyZW50X2lucylcblxuXHRpZiAhX2hhc1Blcm1pc3Npb25cblx0XHRfbG9jYWxlID0gU3RlZWRvcy5sb2NhbGUodXNlci5faWQsIHRydWUpXG5cdFx0ZXJyb3IgPSBUQVBpMThuLl9fKFwiaW5zdGFuY2VfcGVybWlzc2lvbnNfZXJyb3JcIiwge30sIF9sb2NhbGUpXG5cdFx0cmVzLmNoYXJzZXQgPSBcInV0Zi04XCJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBlcnJvcixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cdGh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcblx0ZGF0YUJ1ZiA9IG5ldyBCdWZmZXIoaHRtbCk7XG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtbGVuZ3RoJywgZGF0YUJ1Zi5sZW5ndGgpXG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtI3tkYXRhQnVmLmxlbmd0aCAtIDF9LyN7ZGF0YUJ1Zi5sZW5ndGh9XCIpXG5cdHJlcy5zdGF0dXNDb2RlID0gMjAwXG5cdHJlcy5lbmQoaHRtbClcblxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvcmVhZG9ubHkvOmluc3RhbmNlX2lkXCIsIGdldEluc3RhbmNlUmVhZE9ubHlcblxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvcmVhZG9ubHkvOmluc3RhbmNlX2lkLzppbnN0YW5jZV9uYW1lXCIsIChyZXEsIHJlcywgbmV4dCktPlxuXHRyZXMuc2V0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJyk7XG5cdHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb24nLCAnYXR0YWNobWVudDtmaWxlbmFtZT0nK2VuY29kZVVSSShyZXEucGFyYW1zLmluc3RhbmNlX25hbWUpKTtcblx0cmVzLnNldEhlYWRlcignVHJhbnNmZXItRW5jb2RpbmcnLCAnJylcblxuXHRvcHRpb25zID0ge2Fic29sdXRlOiB0cnVlfVxuXG5cdHJldHVybiBnZXRJbnN0YW5jZVJlYWRPbmx5KHJlcSwgcmVzLCBuZXh0LCBvcHRpb25zKVxuIyMjXG5cdOiOt+WPlueUs+ivt+WNleWIl+ihqO+8mlxuICAgIGZpbmFsX2RlY2lzaW9u77ya5a6h5om557uT5p6cXG4gICAgc3RhdGU6IOeUs+ivt+WNleeKtuaAgVxuIyMjXG5Kc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvaW5zdGFuY2VzXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cblxuXHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdHJldHVybiA7XG5cblx0dXNlcl9pZCA9IHJlcS51c2VySWRcblxuXHRzcGFjZUlkID0gcmVxLmhlYWRlcnNbXCJ4LXNwYWNlLWlkXCJdXG5cblx0aWYgbm90IHNwYWNlSWRcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLVNwYWNlLUlkXCIsXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdHJldHVybjtcblxuXHRmbG93SWQgPSByZXEucXVlcnk/LmZsb3dJZFxuXG5cdGlmICFmbG93SWRcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAwLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBmbG93SWRcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cdHF1ZXJ5ID0ge31cblxuXHRyZXRfc3luY190b2tlbiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG5cblx0Zmxvd0lkcyA9IGZsb3dJZC5zcGxpdChcIixcIilcblxuXG5cdGZsb3dzID0gZGIuZmxvd3MuZmluZCh7X2lkOiB7JGluOiBmbG93SWRzfX0pLmZldGNoKClcblxuXHRpID0gMFxuXHR3aGlsZSBpIDwgZmxvd3MubGVuZ3RoXG5cdFx0ZiA9IGZsb3dzW2ldXG5cdFx0c3BhY2VVc2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7c3BhY2U6IGYuc3BhY2UsIHVzZXI6IHVzZXJfaWR9KVxuXHRcdGlmICFzcGFjZVVzZXJcblx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdFx0ZGF0YTpcblx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uLCBmbG93IGlzICN7Zi5faWR9XCIsXG5cdFx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0XHRyZXR1cm47XG5cdFx0ZWxzZVxuXG5cdCNcdOaYr+WQpuW3peS9nOWMuueuoeeQhuWRmFxuXHRcdGlmICFTdGVlZG9zLmlzU3BhY2VBZG1pbihzcGFjZUlkLCB1c2VyX2lkKVxuXHRcdFx0c3BhY2VVc2VyT3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG5cdFx0XHRcdF9pZDoge1xuXHRcdFx0XHRcdCRpbjogc3BhY2VVc2VyLm9yZ2FuaXphdGlvbnNcblx0XHRcdFx0fVxuXHRcdFx0fSkuZmV0Y2goKTtcblxuXHRcdFx0aWYgIVdvcmtmbG93TWFuYWdlci5jYW5Nb25pdG9yKGYsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucykgJiYgIVdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmLCBzcGFjZVVzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpXG5cdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0XHRcdGRhdGE6XG5cdFx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uLCBmbG93IGlzICN7Zi5faWR9XCIsXG5cdFx0XHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRcdFx0cmV0dXJuO1xuXHRcdGkrK1xuXG5cblx0cXVlcnkuZmxvdyA9IHskaW46IGZsb3dJZHN9XG5cblx0cXVlcnkuc3BhY2UgPSBzcGFjZUlkXG5cblx0aWYgcmVxLnF1ZXJ5Py5zeW5jX3Rva2VuXG5cdFx0c3luY190b2tlbiA9IG5ldyBEYXRlKE51bWJlcihyZXEucXVlcnkuc3luY190b2tlbikpXG5cdFx0cXVlcnkubW9kaWZpZWQgPSB7JGd0OiBzeW5jX3Rva2VufVxuXG5cdGlmIHJlcS5xdWVyeT8uZmluYWxfZGVjaXNpb25cblx0XHRxdWVyeS5maW5hbF9kZWNpc2lvbiA9IHskaW4gOiByZXEucXVlcnkuZmluYWxfZGVjaXNpb24uc3BsaXQoXCIsXCIpfVxuXHRlbHNlXG5cdFx0cXVlcnkuZmluYWxfZGVjaXNpb24gPSB7JG5pbjogW1widGVybWluYXRlZFwiLCBcInJlamVjdGVkXCJdfVxuXG5cdGlmIHJlcS5xdWVyeT8uc3RhdGVcblx0XHRxdWVyeS5zdGF0ZSA9IHskaW46IHJlcS5xdWVyeS5zdGF0ZS5zcGxpdChcIixcIil9XG5cdGVsc2Vcblx0XHRxdWVyeS5zdGF0ZSA9IFwiY29tcGxldGVkXCJcblxuI1x05pyA5aSa6L+U5ZueNTAw5p2h5pWw5o2uXG5cdGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7ZmllbGRzOiB7aW5ib3hfdWVyczogMCwgY2NfdXNlcnM6IDAsIG91dGJveF91c2VyczogMCwgdHJhY2VzOiAwLCBhdHRhY2htZW50czogMH0sIHNraXA6IDAsIGxpbWl0OiA1MDB9KS5mZXRjaCgpXG5cdGluc3RhbmNlcy5mb3JFYWNoIChpbnN0YW5jZSktPlxuXG5cdFx0YXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCwnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7JG5lOiB0cnVlfX0sIHtmaWVsZHM6IHtjb3BpZXM6IDB9fSkuZmV0Y2goKVxuXG5cdFx0aW5zdGFuY2UuYXR0YWNobWVudHMgPSBhdHRhY2htZW50c1xuXG5cblx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFx0XHRcInN5bmNfdG9rZW5cIjogcmV0X3N5bmNfdG9rZW5cblx0XHRcdFx0XCJkYXRhXCI6IGluc3RhbmNlc1xuXHRyZXR1cm47XG4iLCJ2YXIgQ29va2llcywgZ2V0SW5zdGFuY2VSZWFkT25seTtcblxuQ29va2llcyA9IHJlcXVpcmUoXCJjb29raWVzXCIpO1xuXG5nZXRJbnN0YW5jZVJlYWRPbmx5ID0gZnVuY3Rpb24ocmVxLCByZXMsIG5leHQsIG9wdGlvbnMpIHtcbiAgdmFyIF9oYXNQZXJtaXNzaW9uLCBfbG9jYWxlLCBfcGFyZW50X2luc3RhbmNlcywgZGF0YUJ1ZiwgZXJyb3IsIGhpZGVfdHJhY2VzLCBodG1sLCBpbnN0YW5jZSwgaW5zdGFuY2VJZCwgcmVmLCByZWYxLCBzcGFjZSwgc3BhY2VJZCwgc3BhY2VVc2VyQ291bnQsIHVzZXIsIHVzZXJJZDtcbiAgdXNlciA9IFN0ZWVkb3MuZ2V0QVBJTG9naW5Vc2VyKHJlcSwgcmVzKTtcbiAgaWYgKHJlcSAhPSBudWxsID8gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5hY2Nlc3NfdG9rZW4gOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICB1c2VySWQgPSBTdGVlZG9zLmdldFVzZXJJZEZyb21BY2Nlc3NUb2tlbihyZXEucXVlcnkuYWNjZXNzX3Rva2VuKTtcbiAgICBpZiAodXNlcklkKSB7XG4gICAgICB1c2VyID0gTWV0ZW9yLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IHVzZXJJZFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHNwYWNlSWQgPSByZXEucGFyYW1zLnNwYWNlO1xuICBpbnN0YW5jZUlkID0gcmVxLnBhcmFtcy5pbnN0YW5jZV9pZDtcbiAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgX2lkOiBpbnN0YW5jZUlkXG4gIH0pO1xuICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHtcbiAgICBfaWQ6IHNwYWNlSWRcbiAgfSk7XG4gIGhpZGVfdHJhY2VzID0gKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLmhpZGVfdHJhY2VzIDogdm9pZCAwO1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgc2hvd1RyYWNlOiB0cnVlXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zLnNob3dUcmFjZSA9IHRydWU7XG4gIH1cbiAgaWYgKGhpZGVfdHJhY2VzID09PSBcIjFcIikge1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICBvcHRpb25zLnNob3dUcmFjZSA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBzaG93VHJhY2U6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBpZiAoIW9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzKSB7XG4gICAgb3B0aW9ucy5zaG93QXR0YWNobWVudHMgPSB0cnVlO1xuICB9XG4gIGlmICghc3BhY2UpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghaW5zdGFuY2UpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgaW5zdGFuY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghdXNlcikge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLUF1dGgtVG9rZW4sWC1Vc2VyLUlkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaW5zdGFuY2Uuc3BhY2UgIT09IHNwYWNlSWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2Ugb3IgaW5zdGFuY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNwYWNlVXNlckNvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgdXNlcjogdXNlci5faWQsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSkuY291bnQoKTtcbiAgaWYgKHNwYWNlVXNlckNvdW50ID09PSAwKSB7XG4gICAgaWYgKCFzcGFjZSkge1xuICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiA0MDEsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNhcGNlVXNlclwiLFxuICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgX2hhc1Blcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBpbnN0YW5jZSk7XG4gIGlmICghX2hhc1Blcm1pc3Npb24gJiYgaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlKSB7XG4gICAgX3BhcmVudF9pbnN0YW5jZXMgPSBfLnVuaW9uKFtpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VdLCBpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzIHx8IFtdKTtcbiAgICBfaGFzUGVybWlzc2lvbiA9IF8uZmluZChfcGFyZW50X2luc3RhbmNlcywgZnVuY3Rpb24oX3BhcmVudF9pZCkge1xuICAgICAgdmFyIF9wYXJlbnRfaW5zO1xuICAgICAgX3BhcmVudF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogX3BhcmVudF9pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0cmFjZXM6IDBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gV29ya2Zsb3dNYW5hZ2VyLmhhc0luc3RhbmNlUGVybWlzc2lvbnModXNlciwgX3BhcmVudF9pbnMpO1xuICAgIH0pO1xuICB9XG4gIGlmICghX2hhc1Blcm1pc3Npb24pIHtcbiAgICBfbG9jYWxlID0gU3RlZWRvcy5sb2NhbGUodXNlci5faWQsIHRydWUpO1xuICAgIGVycm9yID0gVEFQaTE4bi5fXyhcImluc3RhbmNlX3Blcm1pc3Npb25zX2Vycm9yXCIsIHt9LCBfbG9jYWxlKTtcbiAgICByZXMuY2hhcnNldCA9IFwidXRmLThcIjtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogZXJyb3IsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBodG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICBkYXRhQnVmID0gbmV3IEJ1ZmZlcihodG1sKTtcbiAgcmVzLnNldEhlYWRlcignY29udGVudC1sZW5ndGgnLCBkYXRhQnVmLmxlbmd0aCk7XG4gIHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtXCIgKyAoZGF0YUJ1Zi5sZW5ndGggLSAxKSArIFwiL1wiICsgZGF0YUJ1Zi5sZW5ndGgpO1xuICByZXMuc3RhdHVzQ29kZSA9IDIwMDtcbiAgcmV0dXJuIHJlcy5lbmQoaHRtbCk7XG59O1xuXG5Kc29uUm91dGVzLmFkZChcImdldFwiLCBcIi93b3JrZmxvdy9zcGFjZS86c3BhY2Uvdmlldy9yZWFkb25seS86aW5zdGFuY2VfaWRcIiwgZ2V0SW5zdGFuY2VSZWFkT25seSk7XG5cbkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL3dvcmtmbG93L3NwYWNlLzpzcGFjZS92aWV3L3JlYWRvbmx5LzppbnN0YW5jZV9pZC86aW5zdGFuY2VfbmFtZVwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgb3B0aW9ucztcbiAgcmVzLnNldEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtbXNkb3dubG9hZCcpO1xuICByZXMuc2V0SGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uJywgJ2F0dGFjaG1lbnQ7ZmlsZW5hbWU9JyArIGVuY29kZVVSSShyZXEucGFyYW1zLmluc3RhbmNlX25hbWUpKTtcbiAgcmVzLnNldEhlYWRlcignVHJhbnNmZXItRW5jb2RpbmcnLCAnJyk7XG4gIG9wdGlvbnMgPSB7XG4gICAgYWJzb2x1dGU6IHRydWVcbiAgfTtcbiAgcmV0dXJuIGdldEluc3RhbmNlUmVhZE9ubHkocmVxLCByZXMsIG5leHQsIG9wdGlvbnMpO1xufSk7XG5cblxuLypcblx06I635Y+W55Sz6K+35Y2V5YiX6KGo77yaXG4gICAgZmluYWxfZGVjaXNpb27vvJrlrqHmibnnu5PmnpxcbiAgICBzdGF0ZTog55Sz6K+35Y2V54q25oCBXG4gKi9cblxuSnNvblJvdXRlcy5hZGQoXCJnZXRcIiwgXCIvYXBpL3dvcmtmbG93L2luc3RhbmNlc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgZiwgZmxvd0lkLCBmbG93SWRzLCBmbG93cywgaSwgaW5zdGFuY2VzLCBxdWVyeSwgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZXRfc3luY190b2tlbiwgc3BhY2VJZCwgc3BhY2VVc2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zLCBzeW5jX3Rva2VuLCB1c2VyX2lkO1xuICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gIHNwYWNlSWQgPSByZXEuaGVhZGVyc1tcIngtc3BhY2UtaWRcIl07XG4gIGlmICghc3BhY2VJZCkge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLVNwYWNlLUlkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBmbG93SWQgPSAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLmZsb3dJZCA6IHZvaWQgMDtcbiAgaWYgKCFmbG93SWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgZmxvd0lkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBxdWVyeSA9IHt9O1xuICByZXRfc3luY190b2tlbiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBmbG93SWRzID0gZmxvd0lkLnNwbGl0KFwiLFwiKTtcbiAgZmxvd3MgPSBkYi5mbG93cy5maW5kKHtcbiAgICBfaWQ6IHtcbiAgICAgICRpbjogZmxvd0lkc1xuICAgIH1cbiAgfSkuZmV0Y2goKTtcbiAgaSA9IDA7XG4gIHdoaWxlIChpIDwgZmxvd3MubGVuZ3RoKSB7XG4gICAgZiA9IGZsb3dzW2ldO1xuICAgIHNwYWNlVXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IGYuc3BhY2UsXG4gICAgICB1c2VyOiB1c2VyX2lkXG4gICAgfSk7XG4gICAgaWYgKCFzcGFjZVVzZXIpIHtcbiAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogNDAxLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvbiwgZmxvdyBpcyBcIiArIGYuX2lkLFxuICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuXG4gICAgfVxuICAgIGlmICghU3RlZWRvcy5pc1NwYWNlQWRtaW4oc3BhY2VJZCwgdXNlcl9pZCkpIHtcbiAgICAgIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IHNwYWNlVXNlci5vcmdhbml6YXRpb25zXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICBpZiAoIVdvcmtmbG93TWFuYWdlci5jYW5Nb25pdG9yKGYsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucykgJiYgIVdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmLCBzcGFjZVVzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpKSB7XG4gICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiA0MDEsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvbiwgZmxvdyBpcyBcIiArIGYuX2lkLFxuICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpKys7XG4gIH1cbiAgcXVlcnkuZmxvdyA9IHtcbiAgICAkaW46IGZsb3dJZHNcbiAgfTtcbiAgcXVlcnkuc3BhY2UgPSBzcGFjZUlkO1xuICBpZiAoKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLnN5bmNfdG9rZW4gOiB2b2lkIDApIHtcbiAgICBzeW5jX3Rva2VuID0gbmV3IERhdGUoTnVtYmVyKHJlcS5xdWVyeS5zeW5jX3Rva2VuKSk7XG4gICAgcXVlcnkubW9kaWZpZWQgPSB7XG4gICAgICAkZ3Q6IHN5bmNfdG9rZW5cbiAgICB9O1xuICB9XG4gIGlmICgocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIuZmluYWxfZGVjaXNpb24gOiB2b2lkIDApIHtcbiAgICBxdWVyeS5maW5hbF9kZWNpc2lvbiA9IHtcbiAgICAgICRpbjogcmVxLnF1ZXJ5LmZpbmFsX2RlY2lzaW9uLnNwbGl0KFwiLFwiKVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcXVlcnkuZmluYWxfZGVjaXNpb24gPSB7XG4gICAgICAkbmluOiBbXCJ0ZXJtaW5hdGVkXCIsIFwicmVqZWN0ZWRcIl1cbiAgICB9O1xuICB9XG4gIGlmICgocmVmMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjMuc3RhdGUgOiB2b2lkIDApIHtcbiAgICBxdWVyeS5zdGF0ZSA9IHtcbiAgICAgICRpbjogcmVxLnF1ZXJ5LnN0YXRlLnNwbGl0KFwiLFwiKVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcXVlcnkuc3RhdGUgPSBcImNvbXBsZXRlZFwiO1xuICB9XG4gIGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBpbmJveF91ZXJzOiAwLFxuICAgICAgY2NfdXNlcnM6IDAsXG4gICAgICBvdXRib3hfdXNlcnM6IDAsXG4gICAgICB0cmFjZXM6IDAsXG4gICAgICBhdHRhY2htZW50czogMFxuICAgIH0sXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogNTAwXG4gIH0pLmZldGNoKCk7XG4gIGluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgdmFyIGF0dGFjaG1lbnRzO1xuICAgIGF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCxcbiAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcbiAgICAgIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XG4gICAgICAgICRuZTogdHJ1ZVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBjb3BpZXM6IDBcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIHJldHVybiBpbnN0YW5jZS5hdHRhY2htZW50cyA9IGF0dGFjaG1lbnRzO1xuICB9KTtcbiAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgIGNvZGU6IDIwMCxcbiAgICBkYXRhOiB7XG4gICAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICAgIFwic3luY190b2tlblwiOiByZXRfc3luY190b2tlbixcbiAgICAgIFwiZGF0YVwiOiBpbnN0YW5jZXNcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJcbkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL3N0ZWVkb3MtY3NzXCIsIChyZXEsIHJlcywgbmV4dCktPlxuXG5cdGFsbENzcyA9IFdlYkFwcC5nZXRSZWZyZXNoYWJsZUFzc2V0cygpXG5cblx0YWxsQ3NzTGluayA9IFwiXCJcblxuXHRhbGxDc3MuZm9yRWFjaCAoY3NzKSAtPlxuXHRcdGlmIF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVhcblx0XHRcdHJvb3RVcmwgPSBfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMXG5cdFx0XHRpZiByb290VXJsLmVuZHNXaXRoKFwiL1wiKVxuXHRcdFx0XHRjc3NIcmVmID0gcm9vdFVybC5yZXBsYWNlKF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVggKyBcIi9cIiwgXCJcIikgKyBjc3MudXJsXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGNzc0hyZWYgPSByb290VXJsLnJlcGxhY2UoX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTF9QQVRIX1BSRUZJWCwgXCJcIikgKyBjc3MudXJsXG5cdFx0ZWxzZVxuXHRcdFx0Y3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChjc3MudXJsKVxuXHRcdGFsbENzc0xpbmsgKz0gXCJAaW1wb3J0IHVybCgje2Nzc0hyZWZ9KTtcIlxuXG5cdHJlcy5zdGF0dXNDb2RlID0gMjAwXG5cdHJlcy5lbmQoYWxsQ3NzTGluaykiLCJKc29uUm91dGVzLmFkZChcImdldFwiLCBcIi9zdGVlZG9zLWNzc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYWxsQ3NzLCBhbGxDc3NMaW5rO1xuICBhbGxDc3MgPSBXZWJBcHAuZ2V0UmVmcmVzaGFibGVBc3NldHMoKTtcbiAgYWxsQ3NzTGluayA9IFwiXCI7XG4gIGFsbENzcy5mb3JFYWNoKGZ1bmN0aW9uKGNzcykge1xuICAgIHZhciBjc3NIcmVmLCByb290VXJsO1xuICAgIGlmIChfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYKSB7XG4gICAgICByb290VXJsID0gX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTDtcbiAgICAgIGlmIChyb290VXJsLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgICBjc3NIcmVmID0gcm9vdFVybC5yZXBsYWNlKF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVggKyBcIi9cIiwgXCJcIikgKyBjc3MudXJsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3NzSHJlZiA9IHJvb3RVcmwucmVwbGFjZShfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYLCBcIlwiKSArIGNzcy51cmw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNzc0hyZWYgPSBNZXRlb3IuYWJzb2x1dGVVcmwoY3NzLnVybCk7XG4gICAgfVxuICAgIHJldHVybiBhbGxDc3NMaW5rICs9IFwiQGltcG9ydCB1cmwoXCIgKyBjc3NIcmVmICsgXCIpO1wiO1xuICB9KTtcbiAgcmVzLnN0YXR1c0NvZGUgPSAyMDA7XG4gIHJldHVybiByZXMuZW5kKGFsbENzc0xpbmspO1xufSk7XG4iLCJKc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvZHJhZnQvOmZsb3dcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdHJldHVyblxuXG5cdHVzZXJfaWQgPSByZXEudXNlcklkXG5cblx0dXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IHVzZXJfaWQgfSlcblxuXHRzcGFjZUlkID0gcmVxLnBhcmFtcy5zcGFjZVxuXG5cdGZsb3dJZCA9IHJlcS5wYXJhbXMuZmxvd1xuXG5cdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoeyBfaWQ6IHNwYWNlSWQgfSlcblxuXHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogZmxvd0lkIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEsICdjdXJyZW50Ll9pZCc6IDEsIGZvcm06IDEgfSB9KVxuXG5cdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmbG93LmZvcm0gfSwgeyBmaWVsZHM6IHsgJ2N1cnJlbnQuX2lkJzogMSB9IH0pXG5cblx0b3B0aW9ucyA9IHtcblx0XHRzaG93VHJhY2U6IGZhbHNlLFxuXHRcdHNob3dBdHRhY2htZW50czogZmFsc2UsXG5cdFx0dGVtcGxhdGVOYW1lOiBcImRlZmF1bHRcIixcblx0XHRlZGl0YWJsZTogdHJ1ZSxcblx0XHR3aWR0aDogXCIxMDAlXCIsXG5cdFx0aW5zdGFuY2Vfc3R5bGU6IFwiaW5zdGFuY2UtZGVmYXVsdFwiLFxuXHRcdHBsdWdpbnM6IFwiXCJcIlxuXG5cdFx0XHQ8bWV0YSBodHRwLWVxdWl2PVwiWC1VQS1Db21wYXRpYmxlXCIgY29udGVudD1cIklFPWVkZ2UsY2hyb21lPTFcIiAvPlxuXHRcdFx0PG1ldGEgbmFtZT1cImZvcm1hdC1kZXRlY3Rpb25cIiBjb250ZW50PVwidGVsZXBob25lPW5vXCI+XG5cdFx0XHQ8bWV0YSBodHRwLWVxdWl2PVwieC1yaW0tYXV0by1tYXRjaFwiIGNvbnRlbnQ9XCJub25lXCI+XG5cdFx0XHQ8dGl0bGU+I3tmbG93Lm5hbWV9PC90aXRsZT5cblx0XHRcdDxtZXRhIGNvbnRlbnQ9J3dpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIG1heGltdW0tc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPTAnIG5hbWU9J3ZpZXdwb3J0JyAvPlxuXHRcdFx0PG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aFwiIC8+XG5cblx0XHRcdDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBocmVmPVwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2Nzcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmNzc1wiPlxuXG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuXG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9sb2NhbGVzL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci56aC1DTi5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIiBjaGFyc2V0PVwiVVRGLThcIj48L3NjcmlwdD5cblxuXHRcdFx0PGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiIGhyZWY9XCIvcGx1Z2lucy90b2FzdHIvdG9hc3RyLm1pbi5jc3NcIj5cblx0XHRcdDxzY3JpcHQgc3JjPVwiL3BsdWdpbnMvdG9hc3RyL3RvYXN0ci5taW4uanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG5cdFx0XHQ8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgaHJlZj1cIi9qcy93b3JrZmxvd19jbGllbnQuY3NzXCI+XG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9qcy93b3JrZmxvd19jbGllbnQuanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG5cdFx0XCJcIlwiXG5cdH1cblxuXHRpbnN0YW5jZSA9IHtcblx0XHRmbG93OiBmbG93Ll9pZCxcblx0XHRmbG93X3ZlcnNpb246IGZsb3cuY3VycmVudC5faWQsXG5cdFx0Zm9ybTogZm9ybS5faWQsXG5cdFx0Zm9ybV92ZXJzaW9uOiBmb3JtLmN1cnJlbnQuX2lkLFxuXHRcdHZhbHVlczoge30sXG5cdFx0bmFtZTogZmxvdy5uYW1lLFxuXHRcdHNwYWNlOiBzcGFjZUlkXG5cdH1cblxuXHRodG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpXG5cblx0ZGF0YUJ1ZiA9IG5ldyBCdWZmZXIoaHRtbClcblxuXHRyZXMuc2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcsIGRhdGFCdWYubGVuZ3RoKVxuXG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtI3tkYXRhQnVmLmxlbmd0aCAtIDF9LyN7ZGF0YUJ1Zi5sZW5ndGh9XCIpXG5cblx0cmVzLnN0YXR1c0NvZGUgPSAyMDBcblxuXHRyZXMuZW5kKGh0bWwpXG4iLCJKc29uUm91dGVzLmFkZChcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvZHJhZnQvOmZsb3dcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGRhdGFCdWYsIGZsb3csIGZsb3dJZCwgZm9ybSwgaHRtbCwgaW5zdGFuY2UsIG9wdGlvbnMsIHNwYWNlLCBzcGFjZUlkLCB1c2VyLCB1c2VyX2lkO1xuICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICBfaWQ6IHVzZXJfaWRcbiAgfSk7XG4gIHNwYWNlSWQgPSByZXEucGFyYW1zLnNwYWNlO1xuICBmbG93SWQgPSByZXEucGFyYW1zLmZsb3c7XG4gIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe1xuICAgIF9pZDogc3BhY2VJZFxuICB9KTtcbiAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgIF9pZDogZmxvd0lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICAnY3VycmVudC5faWQnOiAxLFxuICAgICAgZm9ybTogMVxuICAgIH1cbiAgfSk7XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICBfaWQ6IGZsb3cuZm9ybVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICAnY3VycmVudC5faWQnOiAxXG4gICAgfVxuICB9KTtcbiAgb3B0aW9ucyA9IHtcbiAgICBzaG93VHJhY2U6IGZhbHNlLFxuICAgIHNob3dBdHRhY2htZW50czogZmFsc2UsXG4gICAgdGVtcGxhdGVOYW1lOiBcImRlZmF1bHRcIixcbiAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgaW5zdGFuY2Vfc3R5bGU6IFwiaW5zdGFuY2UtZGVmYXVsdFwiLFxuICAgIHBsdWdpbnM6IFwiXFxuPG1ldGEgaHR0cC1lcXVpdj1cXFwiWC1VQS1Db21wYXRpYmxlXFxcIiBjb250ZW50PVxcXCJJRT1lZGdlLGNocm9tZT0xXFxcIiAvPlxcbjxtZXRhIG5hbWU9XFxcImZvcm1hdC1kZXRlY3Rpb25cXFwiIGNvbnRlbnQ9XFxcInRlbGVwaG9uZT1ub1xcXCI+XFxuPG1ldGEgaHR0cC1lcXVpdj1cXFwieC1yaW0tYXV0by1tYXRjaFxcXCIgY29udGVudD1cXFwibm9uZVxcXCI+XFxuPHRpdGxlPlwiICsgZmxvdy5uYW1lICsgXCI8L3RpdGxlPlxcbjxtZXRhIGNvbnRlbnQ9J3dpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIG1heGltdW0tc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPTAnIG5hbWU9J3ZpZXdwb3J0JyAvPlxcbjxtZXRhIG5hbWU9XFxcInZpZXdwb3J0XFxcIiBjb250ZW50PVxcXCJ3aWR0aD1kZXZpY2Utd2lkdGhcXFwiIC8+XFxuXFxuPGxpbmsgcmVsPVxcXCJzdHlsZXNoZWV0XFxcIiB0eXBlPVxcXCJ0ZXh0L2Nzc1xcXCIgaHJlZj1cXFwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2Nzcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmNzc1xcXCI+XFxuXFxuPHNjcmlwdCBzcmM9XFxcIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0PlxcblxcbjxzY3JpcHQgc3JjPVxcXCIvcGx1Z2lucy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIvanMvbG9jYWxlcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIuemgtQ04uanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCIgY2hhcnNldD1cXFwiVVRGLThcXFwiPjwvc2NyaXB0PlxcblxcbjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGhyZWY9XFxcIi9wbHVnaW5zL3RvYXN0ci90b2FzdHIubWluLmNzc1xcXCI+XFxuPHNjcmlwdCBzcmM9XFxcIi9wbHVnaW5zL3RvYXN0ci90b2FzdHIubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0PlxcbjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGhyZWY9XFxcIi9qcy93b3JrZmxvd19jbGllbnQuY3NzXFxcIj5cXG48c2NyaXB0IHNyYz1cXFwiL2pzL3dvcmtmbG93X2NsaWVudC5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cIlxuICB9O1xuICBpbnN0YW5jZSA9IHtcbiAgICBmbG93OiBmbG93Ll9pZCxcbiAgICBmbG93X3ZlcnNpb246IGZsb3cuY3VycmVudC5faWQsXG4gICAgZm9ybTogZm9ybS5faWQsXG4gICAgZm9ybV92ZXJzaW9uOiBmb3JtLmN1cnJlbnQuX2lkLFxuICAgIHZhbHVlczoge30sXG4gICAgbmFtZTogZmxvdy5uYW1lLFxuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH07XG4gIGh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIGRhdGFCdWYgPSBuZXcgQnVmZmVyKGh0bWwpO1xuICByZXMuc2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcsIGRhdGFCdWYubGVuZ3RoKTtcbiAgcmVzLnNldEhlYWRlcignY29udGVudC1yYW5nZScsIFwiYnl0ZXMgMC1cIiArIChkYXRhQnVmLmxlbmd0aCAtIDEpICsgXCIvXCIgKyBkYXRhQnVmLmxlbmd0aCk7XG4gIHJlcy5zdGF0dXNDb2RlID0gMjAwO1xuICByZXR1cm4gcmVzLmVuZChodG1sKTtcbn0pO1xuIiwiQXJyYXkucHJvdG90eXBlLmZpbHRlclByb3BlcnR5ID0gZnVuY3Rpb24oaCwgbCl7XG4gICAgdmFyIGcgPSBbXTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odCl7XG4gICAgICAgIHZhciBtID0gdD8gdFtoXTpudWxsO1xuICAgICAgICB2YXIgZCA9IGZhbHNlO1xuICAgICAgICBpZihtIGluc3RhbmNlb2YgQXJyYXkpe1xuICAgICAgICAgICAgZCA9IG0uaW5jbHVkZXMobCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZCA9IChsID09PSB1bmRlZmluZWQpPyBmYWxzZTptPT1sO1xuICAgICAgICB9XG4gICAgICAgIGlmKGQpe1xuICAgICAgICAgICAgZy5wdXNoKHQpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGc7XG59O1xuXG5BcnJheS5wcm90b3R5cGUuZ2V0UHJvcGVydHkgPSBmdW5jdGlvbihrKXtcbiAgICB2YXIgdiA9IG5ldyBBcnJheSgpO1xuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih0KXtcbiAgICAgICAgdmFyIG0gPSB0PyB0W2tdOm51bGw7XG4gICAgICAgIHYucHVzaChtKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdjtcbn1cblxuQXJyYXkucHJvdG90eXBlLmdldEVhY2ggPSBmdW5jdGlvbihjb2RlKXtcbiAgICB2YXIgcmV2ID0gW107XG4gICAgZm9yKHZhciBpID0gMCA7IGkgPCB0aGlzLmxlbmd0aCA7IGkrKyl7XG4gICAgICAgIHJldi5wdXNoKHRoaXNbaV1bY29kZV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmV2O1xufTtcblxuQXJyYXkucHJvdG90eXBlLnVuaXEgPSBmdW5jdGlvbigpe1xuICAgIHZhciBhID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGIpeyBcbiAgICAgICAgaWYoYS5pbmRleE9mKGIpIDwgMClcbiAgICAgICAgICAgIHthW2EubGVuZ3RoXSA9IGJ9XG4gICAgfSk7XG4gICAgcmV0dXJuIGE7XG59O1xuXG5Gb3JtX2Zvcm11bGEgPSB7fTtcblxuXG5Gb3JtX2Zvcm11bGEubWl4aW4gPSBmdW5jdGlvbihkZXN0LCBzcmMpe1xuICAgIGZvcih2YXIga2V5IGluIHNyYyl7XG4gICAgICAgIGRlc3Rba2V5XSA9IHNyY1trZXldO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdDtcbn07XG5cblxuRm9ybV9mb3JtdWxhLmhhbmRlclVzZXJPYmplY3QgPSBmdW5jdGlvbih1KXtcblxuICAgIGlmKHUgaW5zdGFuY2VvZiBBcnJheSl7XG4gICAgICAgIHZhciB1c2VyID0ge307XG5cbiAgICAgICAgdXNlci5uYW1lID0gdS5nZXRQcm9wZXJ0eShcIm5hbWVcIilcbiAgICAgICAgdXNlci5vcmdhbml6YXRpb24gPSB7fTtcbiAgICAgICAgdXNlci5vcmdhbml6YXRpb24ubmFtZSA9IHUuZ2V0UHJvcGVydHkoXCJvcmdhbml6YXRpb25cIikuZ2V0UHJvcGVydHkoXCJuYW1lXCIpO1xuICAgICAgICB1c2VyLm9yZ2FuaXphdGlvbi5mdWxsbmFtZSA9IHUuZ2V0UHJvcGVydHkoXCJvcmdhbml6YXRpb25cIikuZ2V0UHJvcGVydHkoXCJmdWxsbmFtZVwiKTtcblxuICAgICAgICB1c2VyLmhyID0gdS5nZXRQcm9wZXJ0eShcImhyXCIpXG5cbiAgICAgICAgdXNlci5zb3J0X25vID0gdS5nZXRQcm9wZXJ0eShcInNvcnRfbm9cIilcblxuXHRcdHVzZXIubW9iaWxlID0gdS5nZXRQcm9wZXJ0eShcIm1vYmlsZVwiKVxuXG5cdFx0dXNlci53b3JrX3Bob25lID0gdS5nZXRQcm9wZXJ0eShcIndvcmtfcGhvbmVcIilcblxuXHRcdHVzZXIucG9zaXRpb24gPSB1LmdldFByb3BlcnR5KFwicG9zaXRpb25cIilcblxuICAgICAgICB2YXIgdXNlclJvbGVzID0gdS5nZXRQcm9wZXJ0eShcInJvbGVzXCIpO1xuICAgICAgICB2YXIgcm9sZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdXNlclJvbGVzLmZvckVhY2goZnVuY3Rpb24oaSl7XG4gICAgICAgICAgICByb2xlcyA9IHJvbGVzLmNvbmNhdChpKTtcbiAgICAgICAgfSk7IFxuICAgICAgICByb2xlcy51bmlxKCk7XG4gICAgICAgIHVzZXIucm9sZXMgPSByb2xlcztcbiAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB1O1xuICAgIH1cbn1cblxuRm9ybV9mb3JtdWxhLmhhbmRlck9yZ09iamVjdCA9IGZ1bmN0aW9uKG8pe1xuXG4gICAgaWYobyBpbnN0YW5jZW9mIEFycmF5KXtcbiAgICAgICAgdmFyIG9yZyA9IHt9O1xuXHRcdG9yZy5pZCA9IG8uZ2V0UHJvcGVydHkoXCJfaWRcIik7XG4gICAgICAgIG9yZy5uYW1lID0gby5nZXRQcm9wZXJ0eShcIm5hbWVcIik7XG4gICAgICAgIG9yZy5mdWxsbmFtZSA9IG8uZ2V0UHJvcGVydHkoXCJmdWxsbmFtZVwiKTtcblxuICAgICAgICByZXR1cm4gb3JnO1xuICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gbztcbiAgICB9XG59XG5cblxuXG4vKipcbiAgICAqIOiOt+W+l+WFrOW8j+mcgOimgeeUqOWIsOeahOWIneWni+WAvFxuICAgICog6L6T5YWl77yaZmllbGRzLCB2YWx1ZXMsIGFwcGxpY2FudFxuICAgICog6L6T5Ye677yaX192YWx1ZXNcbioqL1xuRm9ybV9mb3JtdWxhLmluaXRfZm9ybXVsYV92YWx1ZXMgPSBmdW5jdGlvbihmaWVsZHMsIGF1dG9Gb3JtRG9jLCBhcHByb3ZlciwgYXBwbGljYW50LCBzcGFjZUlkKXtcbiAgICB2YXIgX192YWx1ZXMgPSB7fTtcbiAgICAvL+eUs+ivt+WNleS4reWhq+eahOWAvOWkhOeQhlxuICAgIGlmKGZpZWxkcyAmJiBmaWVsZHMubGVuZ3RoICYmIGF1dG9Gb3JtRG9jKSB7XG4gICAgICAgIC8vZGVidWdnZXI7XG4gICAgICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKXtcbiAgICAgICAgICAgIHZhciB0eXBlID0gZmllbGQudHlwZTtcbiAgICAgICAgICAgIGlmKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZih0eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICog5bCG6KGo5qC85a2X5q6155qE5YC86L+b6KGM6L2s5o2i5ZCO5Lyg5YWlX192YWx1ZXPkuK1cbiAgICAgICAgICAgICAgICAgICAgKiB2YWx1ZXPkuK3ooajmoLznmoTlgLzmoLzlvI/kuLpcbiAgICAgICAgICAgICAgICAgICAgKiBbe1wiYVwiOjEsXCJiXCI6NH0se1wiYVwiOjIsXCJiXCI6NX0se1wiYVwiOjMsXCJiXCI6Nn1dXG4gICAgICAgICAgICAgICAgICAgICogX192YWx1ZXPpnIDopoHovazljJbkuLrkuIvpnaLmoLzlvI/kuJTlkozkuLvooajnmoTlgLzkuIDmoLfmlL7liLDnrKzkuIDlsYJcbiAgICAgICAgICAgICAgICAgICAgKiB7XCJhXCI6WzEsMiwzXSxcImJcIjpbNCw1LDZdfVxuICAgICAgICAgICAgICAgICAgICAqKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlRmllbGRzID0gZmllbGQuc2ZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlVmFsdWVzID0gYXV0b0Zvcm1Eb2NbZmllbGQuY29kZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtdWxhVGFibGVWYWx1ZXMgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fdGFibGVWYWx1ZXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgLy/mjInlhazlvI/nmoTmoLzlvI/ovazmjaLlgLzkuLpfX3RhYmxlVmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIGlmKHRhYmxlRmllbGRzICYmIHRhYmxlRmllbGRzLmxlbmd0aCAmJiB0YWJsZVZhbHVlcyAmJiB0YWJsZVZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZVZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKHRhYmxlVmFsdWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm11bGFUYWJsZVZhbHVlcy5wdXNoKEZvcm1fZm9ybXVsYS5pbml0X2Zvcm11bGFfdmFsdWVzKHRhYmxlRmllbGRzLCB0YWJsZVZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5oyJ5Li76KGo55qE5qC85byP6L2s5o2iX190YWJsZVZhbHVlc+WKoOWIsFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVGaWVsZHMuZm9yRWFjaChmdW5jdGlvbih0YWJsZWZpZWxkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX3RhYmxlVmFsdWVzW3RhYmxlZmllbGQuY29kZV0gPSBmb3JtdWxhVGFibGVWYWx1ZXMuZ2V0RWFjaCh0YWJsZWZpZWxkLmNvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfX3ZhbHVlcyA9IEZvcm1fZm9ybXVsYS5taXhpbihfX3ZhbHVlcywgX190YWJsZVZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ3VzZXInKXtcbiAgICAgICAgICAgICAgICAgICAgX192YWx1ZXNbZmllbGQuY29kZV0gPSBGb3JtX2Zvcm11bGEuaGFuZGVyVXNlck9iamVjdChXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3RzKHNwYWNlSWQsIGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdKSk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ2dyb3VwJyl7XG4gICAgICAgICAgICAgICAgICAgIF9fdmFsdWVzW2ZpZWxkLmNvZGVdID0gRm9ybV9mb3JtdWxhLmhhbmRlck9yZ09iamVjdChXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYU9yZ09iamVjdHMoYXV0b0Zvcm1Eb2NbZmllbGQuY29kZV0pKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnb2RhdGEnKXtcblx0XHRcdFx0XHRfX3ZhbHVlc1tmaWVsZC5jb2RlXSA9IGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdIHx8IHt9XG5cblx0XHRcdFx0fSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy/mraTlpITkvKBzcGFjZUlk57uZ6YCJ5Lq65o6n5Lu255qE5pen5pWw5o2u6K6h566Xcm9sZXPlkoxvcmdhbml6YXRpb25cbiAgICAgICAgICAgICAgICAgICAgX192YWx1ZXNbZmllbGQuY29kZV0gPSBhdXRvRm9ybURvY1tmaWVsZC5jb2RlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgICAvL+W9k+WJjeWkhOeQhuS6ulxuICAgIF9fdmFsdWVzW1wiYXBwcm92ZXJcIl0gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3Qoc3BhY2VJZCwgYXBwcm92ZXIpO1xuICAgIC8v55Sz6K+35Lq6XG4gICAgX192YWx1ZXNbXCJhcHBsaWNhbnRcIl0gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3Qoc3BhY2VJZCwgYXBwbGljYW50KTtcblxuICAgIHJldHVybiBfX3ZhbHVlcztcbn07XG5cbiIsImdldEhhbmRsZXJzTWFuYWdlciA9IHt9XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyA9ICh1c2VyX2lkcywgcm9sZV9pZHMsIHNwYWNlX2lkKS0+XG5cdGFwcHJvdmVfdXNlcnMgPSBuZXcgQXJyYXlcblx0Xy5lYWNoKHVzZXJfaWRzLCAodXNlcl9pZCktPlxuXHRcdGlmIGRiLnVzZXJzLmZpbmQoe19pZDogdXNlcl9pZH0pLmNvdW50KCkgPiAwXG5cdFx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKHVzZXJfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZClcblx0XHRcdGlmIHVzZXJzLmxlbmd0aCA+IDBcblx0XHRcdFx0YXBwcm92ZV91c2VycyA9IGFwcHJvdmVfdXNlcnMuY29uY2F0KHVzZXJzKVxuXHRcdGVsc2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwidXNlcl9pZOS4jeWQiOazleS4jeWQiOazlVwiKVxuXHQpXG5cdGFwcHJvdmVfdXNlcnMgPSBfLnVuaXEoYXBwcm92ZV91c2Vycylcblx0cmV0dXJuIGFwcHJvdmVfdXNlcnNcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMgPSAodXNlcl9pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKS0+XG5cdHVzZXJfaWRzID0gbmV3IEFycmF5XG5cdF8uZWFjaChyb2xlX2lkcywgKHJvbGVfaWQpLT5cblx0XHRpZiBkYi5mbG93X3JvbGVzLmZpbmQoe19pZDogcm9sZV9pZH0pLmNvdW50KCkgPiAwXG5cdFx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUodXNlcl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpXG5cdFx0XHRpZiB1c2Vycy5sZW5ndGggPiAwXG5cdFx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKVxuXHRcdGVsc2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwicm9sZV9pZOW3sue7j+iiq+WIoOmZpFwiKVxuXHQpXG5cdGlmIHVzZXJfaWRzLmxlbmd0aCA+IDBcblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcblx0XHRyZXR1cm4gdXNlcl9pZHNcblx0ZWxzZVxuXHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5qC55o2udXNlcl9pZOWSjHJvbGVfaWRz5rKh5p+l5Yiw5a+55bqU55qE5aSE55CG5Lq6XCIpXG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUgPSAodXNlcl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpIC0+XG5cdG9yZ3MgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXJzOiB1c2VyX2lkIH0sIHsgZmllbGRzOiB7IF9pZDogMSB9IH0pLmZldGNoKClcblx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0Xy5lYWNoKG9yZ3MsIChvcmcpIC0+XG5cdFx0dXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUob3JnLl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpXG5cdFx0aWYgdXNlcnMubGVuZ3RoID4gMFxuXHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpXG5cdClcblx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXG5cdHJldHVybiB1c2VyX2lkc1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyA9IChvcmdfaWRzLCByb2xlX2lkcywgc3BhY2VfaWQpLT5cblx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0Xy5lYWNoKG9yZ19pZHMsIChvcmdfaWQpLT5cblx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZXMob3JnX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpXG5cdFx0aWYgdXNlcnMubGVuZ3RoID4gMFxuXHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpXG5cdClcblx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXG5cdHJldHVybiB1c2VyX2lkc1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGVzID0gKG9yZ19pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKS0+XG5cdHVzZXJfaWRzID0gbmV3IEFycmF5XG5cdF8uZWFjaChyb2xlX2lkcywgKHJvbGVfaWQpLT5cblx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZShvcmdfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKVxuXHRcdGlmIHVzZXJzLmxlbmd0aCA+IDBcblx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKVxuXHQpXG5cdGlmIHVzZXJfaWRzLmxlbmd0aCA+IDBcblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcblx0XHRyZXR1cm4gdXNlcl9pZHNcblx0ZWxzZVxuXHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5qC55o2ub3JnX2lk5ZKMcm9sZV9pZHPmsqHmn6XliLDlr7nlupTnmoTlpITnkIbkurpcIilcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlID0gKG9yZ19pZCwgcm9sZV9pZCwgc3BhY2VfaWQpIC0+XG5cdG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7IF9pZDogb3JnX2lkIH0sIHsgZmllbGRzOiB7IHBhcmVudHM6IDEgfSB9KVxuXHR1c2VyX2lkcyA9IG5ldyBBcnJheVxuXHRwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCBvcmc6IG9yZ19pZCwgcm9sZTogcm9sZV9pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pLmZldGNoKClcblx0Xy5lYWNoKHBvc2l0aW9ucywgKHBvc2l0aW9uKSAtPlxuXHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHBvc2l0aW9uLnVzZXJzKVxuXHQpXG5cdGlmIHVzZXJfaWRzLmxlbmd0aCBpcyAwXG5cdFx0cGFyZW50cyA9IG9yZy5wYXJlbnRzXG5cdFx0Xy5lYWNoKHBhcmVudHMsIChwYXJlbnRfaWQpIC0+XG5cdFx0XHRwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCBvcmc6IHBhcmVudF9pZCwgcm9sZTogcm9sZV9pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pLmZldGNoKClcblx0XHRcdGlmIHBvc2l0aW9ucy5sZW5ndGggPiAwXG5cdFx0XHRcdF8uZWFjaChwb3NpdGlvbnMsIChwb3NpdGlvbikgLT5cblx0XHRcdFx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChwb3NpdGlvbi51c2Vycylcblx0XHRcdFx0KVxuXHRcdClcblxuXHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcblx0cmV0dXJuIHVzZXJfaWRzXG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyA9IChpbnN0YW5jZV9pZCwgc3RlcF9pZCkgLT5cblx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZClcblxuXHQjIOaLn+eov+aXtiwg5Y+v5Lul6K6+5a6a5ZCO57ut5q+P5Liq5q2l6aqk55qE5aSE55CG5Lq6ICMxOTI2XG5cdGlmIGluc3RhbmNlLnN0ZXBfYXBwcm92ZSAmJiAhXy5pc0VtcHR5KGluc3RhbmNlLnN0ZXBfYXBwcm92ZVtcIiN7c3RlcF9pZH1fb3B0aW9uc1wiXSlcblx0XHRyZXR1cm4gaW5zdGFuY2Uuc3RlcF9hcHByb3ZlW1wiI3tzdGVwX2lkfV9vcHRpb25zXCJdXG5cblx0YXBwcm92ZV91c2VycyA9IG5ldyBBcnJheVxuXHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXG5cdGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93XG5cdGZsb3dfcmV2ID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uXG5cdGN1cnJlbnRfZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoZmxvd19pZClcblx0Y3VycmVudF9zdGVwID0gbnVsbFxuXHRjdXJyZW50X3N0ZXBzID0gbmV3IEFycmF5XG5cblx0aWYgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkIGlzIGZsb3dfcmV2XG5cdFx0Y3VycmVudF9zdGVwcyA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LnN0ZXBzXG5cdGVsc2Vcblx0XHRjdXJyZW50ID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGhpc3RvcnkpIC0+XG5cdFx0XHRyZXR1cm4gaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcblx0XHQpXG5cdFx0Y3VycmVudF9zdGVwcyA9IGN1cnJlbnQuc3RlcHNcblxuXHQjIOS7juiOt+WPlueahHN0ZXBz5Lit5qC55o2uOnN0ZXBfaWTmj5Dlj5blr7nlupTnmoRzdGVw5a+56LGhXG5cdGN1cnJlbnRfc3RlcCA9IF8uZmluZChjdXJyZW50X3N0ZXBzLCAoc3RlcCkgLT5cblx0XHRyZXR1cm4gc3RlcC5faWQgaXMgc3RlcF9pZFxuXHQpXG5cdCMg5Yik5patc3RlcF90eXBlXG5cdGlmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXMgXCJjb25kaXRpb25cIlxuXHRcdHVuZmluaXNoZWRfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCAodHJhY2UpIC0+XG5cdFx0XHRyZXR1cm4gdHJhY2UuaXNfZmluaXNoZWQgaXMgZmFsc2Vcblx0XHQpXG5cblx0XHRyZXR1cm4gbmV3IEFycmF5KHVuZmluaXNoZWRfdHJhY2UuYXBwcm92ZXNbMF0udXNlcilcblxuXHRpZiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzIFwic3RhcnRcIlxuXHRcdGhhbmRsZXJzID0gbmV3IEFycmF5XG5cdFx0aGFuZGxlcnMucHVzaChpbnN0YW5jZS5hcHBsaWNhbnQpXG5cdFx0aGFuZGxlcnMucHVzaChpbnN0YW5jZS5zdWJtaXR0ZXIpXG5cdFx0aGFuZGxlcnMgPSBfLnVuaXEoaGFuZGxlcnMpXG5cdFx0cmV0dXJuIGhhbmRsZXJzXG5cdCMg5b6X5Yiwc3RlcOeahFwiZGVhbF90eXBlXCLvvIzlubbov5vooYzpgLvovpHliKTmlq3mib7liLDlr7nlupTnmoTlpITnkIbkurpcblx0ZGVhbF90eXBlID0gY3VycmVudF9zdGVwLmRlYWxfdHlwZVxuXHR1c2VycyA9IG5ldyBBcnJheVxuXHRpZiBkZWFsX3R5cGUgaXMgXCJhcHBsaWNhbnRSb2xlXCJcblx0XHQjIDEuKioqKioqKioqKirnlLPor7fkurrmiYDlsZ7nu4Tnu4fkuK3nmoTlrqHmibnlspfkvY0qKioqKioqKioqKlxuXHRcdGFwcGxpY2FudCA9IGluc3RhbmNlLmFwcGxpY2FudFxuXHRcdGlmIGFwcGxpY2FudFxuXHRcdFx0c3BhY2VfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcGxpY2FudCB9KS5jb3VudCgpXG5cdFx0XHRpZiBzcGFjZV91c2VyX2NvdW50IGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY1zcGFjZVwiKVxuXG5cdFx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgYW5kIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwXG5cdFx0XHRcdF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIChhcHByb3Zlcl9yb2xlKSAtPlxuXHRcdFx0XHRcdHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX3JvbGUgfSkuY291bnQoKVxuXHRcdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLlt7Lnu4/ooqvliKDpmaRcIilcblx0XHRcdFx0KVxuXG5cdFx0XHRcdHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyhhcHBsaWNhbnQsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgc3BhY2VfaWQpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpXG5cblx0XHRlbHNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIkluc3RhbmNl55qE5o+Q5Lqk5Lq65Li656m6XCIpXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwiaHJSb2xlXCJcblx0XHRhcHByb3ZlSHJSb2xlSWRzID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX2hyX3JvbGVzO1xuXHRcdGlmIChhcHByb3ZlSHJSb2xlSWRzKVxuXHRcdFx0cmV0dXJuIF8ucGx1Y2soV29ya2Zsb3dNYW5hZ2VyLmdldEhyUm9sZXNVc2VycyhzcGFjZV9pZCwgYXBwcm92ZUhyUm9sZUlkcyksICd1c2VyJyk7XG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLmnKrmjIflrppcIilcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJhcHBsaWNhbnRcIlxuXHRcdCMgMi4qKioqKioqKioqKueUs+ivt+S6uioqKioqKioqKioqXG5cdFx0YXBwbGljYW50ID0gaW5zdGFuY2UuYXBwbGljYW50XG5cdFx0c3BhY2VfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcGxpY2FudCB9KS5jb3VudCgpXG5cdFx0aWYgc3BhY2VfdXNlcl9jb3VudCBpcyAwXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjXNwYWNlXCIpXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIG5ldyBBcnJheShhcHBsaWNhbnQpXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwib3JnRmllbGRSb2xlXCJcblx0XHQjIDMuKioqKioqKioqKirpg6jpl6jlrZfmrrXmiYDlsZ7nu4Tnu4fkuK3nmoTlrqHmibnlspfkvY0qKioqKioqKioqKlxuXHRcdGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybVxuXHRcdGZvcm1fcmV2ID0gbnVsbFxuXHRcdGlmIGZsb3dfcmV2IGlzIGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZFxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb25cblx0XHRlbHNlXG5cdFx0XHRjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIChjdXJyZW50X2Zsb3dfaGlzdG9yeSkgLT5cblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxuXHRcdFx0KVxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb24gaWYgY3VycmVudF9mbG93X3ZlcnNpb25cblxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpXG5cdFx0Y3VycmVudF9mb3JtID0gbnVsbFxuXHRcdGlmIGZvcm1fcmV2IGlzIGZvcm0uY3VycmVudC5faWRcblx0XHRcdGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudFxuXHRcdGVsc2Vcblx0XHRcdGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCAoZm9ybV9oaXN0b3J5KSAtPlxuXHRcdFx0XHRyZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCBpcyBmb3JtX3JldlxuXHRcdFx0KVxuXG5cdFx0YXBwcm92ZXJfb3JnX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ19maWVsZFxuXHRcdGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkc1xuXHRcdGZpZWxkX2NvZGUgPSBudWxsXG5cdFx0Xy5lYWNoKGZvcm1fZmllbGRzLCAoZm9ybV9maWVsZCkgLT5cblx0XHRcdGlmIGZvcm1fZmllbGQuX2lkIGlzIGFwcHJvdmVyX29yZ19maWVsZFxuXHRcdFx0XHRmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlXG5cdFx0KVxuXG5cdFx0IyDlj5blvpfmnIDmlrDnmoR2YWx1ZXNcblx0XHRuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKVxuXHRcdG9yZ19pZHMgPSBuZXcgQXJyYXlcblx0XHRvcmdfaWRzX25hbWVzID0gbmV3IEFycmF5XG5cdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxuXHRcdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5XG5cdFx0XHRcdG9yZ19pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXG5cdFx0XHRlbHNlXG5cdFx0XHRcdG9yZ19pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKVxuXG5cdFx0IyDmoKHpqoxvcmdfaWTmlbDnu4TkuK1vcmdfaWTmmK/lkKblkIjms5Vcblx0XHRfLmVhY2gob3JnX2lkc19uYW1lcywgKG9yZykgLT5cblx0XHRcdGNoZWNrX29yZ19jb3VudCA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IF9pZDogb3JnW1wiaWRcIl0gfSkuY291bnQoKVxuXHRcdFx0aWYgY2hlY2tfb3JnX2NvdW50IGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnu4Tnu4dJROS4jeWQiOazlVwiKVxuXHRcdFx0b3JnX2lkcy5wdXNoKG9yZ1tcImlkXCJdKVxuXHRcdClcblxuXHRcdGlmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyBhbmQgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDBcblx0XHRcdCMg5qOA5p+lYXBwcm92ZXJfcm9sZXPkuK1yb2xl5piv5ZCm5LiN5a2Y5Zyo5oiW5bey57uP6KKr5Yig6ZmkXG5cdFx0XHRfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCAoYXBwcm92ZXJfcm9sZSkgLT5cblx0XHRcdFx0cm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7IF9pZDogYXBwcm92ZXJfcm9sZSB9KS5jb3VudCgpXG5cdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKVxuXHRcdFx0KVxuXHRcdFx0cmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3Jnc0FuZFJvbGVzKG9yZ19pZHMsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgaW5zdGFuY2Uuc3BhY2UpXG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIilcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJvcmdGaWVsZFwiXG5cdFx0IyA0LioqKioqKioqKioq6YOo6Zeo5a2X5q615omA5bGe57uE57uH5Lit55qE5Lq65ZGYKioqKioqKioqKipcblx0XHRmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm1cblx0XHRmb3JtX3JldiA9IG51bGxcblx0XHRpZiBmbG93X3JldiBpcyBjdXJyZW50X2Zsb3cuY3VycmVudC5faWRcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uXG5cdFx0ZWxzZVxuXHRcdFx0Y3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCAoY3VycmVudF9mbG93X2hpc3RvcnkpIC0+XG5cdFx0XHRcdHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcblx0XHRcdClcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uIGlmIGN1cnJlbnRfZmxvd192ZXJzaW9uXG5cblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKVxuXHRcdGN1cnJlbnRfZm9ybSA9IG51bGxcblx0XHRpZiBmb3JtX3JldiBpcyBmb3JtLmN1cnJlbnQuX2lkXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnRcblx0XHRlbHNlXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgKGZvcm1faGlzdG9yeSkgLT5cblx0XHRcdFx0cmV0dXJuIGZvcm1faGlzdG9yeS5faWQgaXMgZm9ybV9yZXZcblx0XHRcdClcblxuXHRcdGFwcHJvdmVyX29yZ19maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9vcmdfZmllbGRcblx0XHRmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHNcblx0XHRmaWVsZF9jb2RlID0gbnVsbFxuXHRcdF8uZWFjaChmb3JtX2ZpZWxkcywgKGZvcm1fZmllbGQpLT5cblx0XHRcdGlmIGZvcm1fZmllbGQuX2lkIGlzIGFwcHJvdmVyX29yZ19maWVsZFxuXHRcdFx0XHRmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlXG5cdFx0KVxuXG5cdFx0IyDlj5blvpfmnIDmlrDnmoR2YWx1ZXNcblx0XHRuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKVxuXG5cdFx0b3JnX2lkcyA9IG5ldyBBcnJheVxuXHRcdG9yZ19pZHNfbmFtZXMgPSBuZXcgQXJyYXlcblx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXG5cdFx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXlcblx0XHRcdFx0b3JnX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cblx0XHRcdGVsc2Vcblx0XHRcdFx0b3JnX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pXG5cblx0XHQjIOagoemqjG9yZ19pZOaVsOe7hOS4rW9yZ19pZOaYr+WQpuWQiOazlVxuXHRcdF8uZWFjaChvcmdfaWRzX25hbWVzLCAob3JnKSAtPlxuXHRcdFx0Y2hlY2tfb3JnX2NvdW50ID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHsgX2lkOiBvcmdbXCJpZFwiXSB9KS5jb3VudCgpXG5cdFx0XHRpZiBjaGVja19vcmdfY291bnQgaXMgMFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h0lE5LiN5ZCI5rOVXCIpXG5cdFx0XHRvcmdfaWRzLnB1c2gob3JnW1wiaWRcIl0pXG5cdFx0KVxuXG5cdFx0IyDmoKHpqoxvcmfkuIvlrZjlnKjlpITnkIbkurpcblx0XHR1c2VyX2lkcyA9IG5ldyBBcnJheVxuXHRcdF8uZWFjaChvcmdfaWRzLCAob3JnX2lkKSAtPlxuXHRcdFx0b3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHsgX2lkOiBvcmdfaWQgfSwgeyBmaWVsZHM6IHsgdXNlcnM6IDEgfSB9KVxuXHRcdFx0b3JnX2NoaWxkcmVuID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCBwYXJlbnRzOiBvcmdfaWQgfSwgeyBmaWVsZHM6IHsgdXNlcnM6IDEgfSB9KS5mZXRjaCgpXG5cdFx0XHRvcmdfY2hpbGRyZW4udW5zaGlmdChvcmcpXG5cdFx0XHRjaGVja19vcmdzID0gb3JnX2NoaWxkcmVuXG5cdFx0XHRvcmdfdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRcdF8uZWFjaChjaGVja19vcmdzLCAoY2hlY2tfb3JnX3VzZXIpIC0+XG5cdFx0XHRcdGlmIGNoZWNrX29yZ191c2VyLnVzZXJzXG5cdFx0XHRcdFx0Xy5lYWNoKGNoZWNrX29yZ191c2VyLnVzZXJzLCAob3JnX3VzZXIpIC0+XG5cdFx0XHRcdFx0XHRpZiBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBvcmdfdXNlciB9KS5jb3VudCgpIGlzIDBcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJzcGFjZeS4i+S4jeWtmOWcqOatpHVzZXJcIilcblx0XHRcdFx0XHQpXG5cdFx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KGNoZWNrX29yZ191c2VyLnVzZXJzKVxuXHRcdFx0XHRvcmdfdXNlcnMgPSBvcmdfdXNlcnMuY29uY2F0KGNoZWNrX29yZ191c2VyLnVzZXJzKVxuXHRcdFx0KVxuXG5cdFx0XHRpZiBvcmdfdXNlcnMubGVuZ3RoIGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnu4Tnu4dcIiArIG9yZ19pZCArIFwi5LiN5a2Y5Zyo5aSE55CG5Lq6XCIpXG5cblx0XHQpXG5cblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcblx0XHRyZXR1cm4gdXNlcl9pZHNcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJ1c2VyRmllbGRSb2xlXCJcblx0XHQjIDUuKioqKioqKioqKirkurrlkZjlrZfmrrXmiYDlsZ7nu4Tnu4fkuK3nmoTlrqHmibnlspfkvY0qKioqKioqKioqKlxuXHRcdGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybVxuXHRcdGZvcm1fcmV2ID0gbnVsbFxuXHRcdGlmIGZsb3dfcmV2IGlzIGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZFxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb25cblx0XHRlbHNlXG5cdFx0XHRjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIChjdXJyZW50X2Zsb3dfaGlzdG9yeSkgLT5cblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxuXHRcdFx0KVxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb24gaWYgY3VycmVudF9mbG93X3ZlcnNpb25cblxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpXG5cdFx0Y3VycmVudF9mb3JtID0gbnVsbFxuXHRcdGlmIGZvcm1fcmV2IGlzIGZvcm0uY3VycmVudC5faWRcblx0XHRcdGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudFxuXHRcdGVsc2Vcblx0XHRcdGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCAoZm9ybV9oaXN0b3J5KSAtPlxuXHRcdFx0XHRyZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCBpcyBmb3JtX3JldlxuXHRcdFx0KVxuXG5cdFx0YXBwcm92ZXJfdXNlcl9maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl91c2VyX2ZpZWxkXG5cdFx0Zm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzXG5cdFx0ZmllbGRfY29kZSA9IG51bGxcblx0XHRfLmVhY2goZm9ybV9maWVsZHMsIChmb3JtX2ZpZWxkKSAtPlxuXHRcdFx0aWYgZm9ybV9maWVsZC5faWQgaXMgYXBwcm92ZXJfdXNlcl9maWVsZFxuXHRcdFx0XHRmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlXG5cdFx0KVxuXG5cdFx0IyDlj5blvpfmnIDmlrDnmoR2YWx1ZXNcblx0XHRuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKVxuXHRcdCMg6I635Y+WdXNlcl9pZOaVsOe7hFxuXHRcdHVzZXJfaWRzX25hbWVzID0gbmV3IEFycmF5XG5cdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxuXHRcdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5XG5cdFx0XHRcdHVzZXJfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR1c2VyX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pXG5cblx0XHQjIOagoemqjHVzZXJfaWTmlbDnu4TkuK11c2VyX2lk5piv5ZCm5ZCI5rOVXG5cdFx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2godXNlcl9pZHNfbmFtZXMsICh1c2VyKSAtPlxuXHRcdFx0Y2hlY2tfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IHVzZXJbXCJpZFwiXSB9KS5jb3VudCgpXG5cdFx0XHRpZiBjaGVja191c2VyX2NvdW50IGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkurrlkZhJROS4jeWQiOazlVwiKVxuXHRcdFx0dXNlcl9pZHMucHVzaCh1c2VyW1wiaWRcIl0pXG5cdFx0KVxuXG5cdFx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXG5cdFx0aWYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzIGFuZCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMFxuXHRcdFx0IyDmo4Dmn6VhcHByb3Zlcl9yb2xlc+S4rXJvbGXmmK/lkKbkuI3lrZjlnKjmiJblt7Lnu4/ooqvliKDpmaRcblx0XHRcdF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIChhcHByb3Zlcl9yb2xlKSAtPlxuXHRcdFx0XHRyb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHsgX2lkOiBhcHByb3Zlcl9yb2xlIH0pLmNvdW50KClcblx0XHRcdFx0aWYgcm9sZV9jb3VudCBpcyAwXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpXG5cdFx0XHQpXG5cdFx0XHRyZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzKHVzZXJfaWRzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGluc3RhbmNlLnNwYWNlKVxuXHRcdGVsc2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5rWB56iL5q2l6aqkXCIgKyBjdXJyZW50X3N0ZXAubmFtZSArIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwidXNlckZpZWxkXCJcblx0XHQjIDYuKioqKioqKioqKirooajljZXkurrlkZjlrZfmrrUqKioqKioqKioqKlxuXHRcdGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybVxuXHRcdGZvcm1fcmV2ID0gbnVsbFxuXHRcdGlmIGZsb3dfcmV2IGlzIGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZFxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb25cblx0XHRlbHNlXG5cdFx0XHRjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIChjdXJyZW50X2Zsb3dfaGlzdG9yeSkgLT5cblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxuXHRcdFx0KVxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb24gaWYgY3VycmVudF9mbG93X3ZlcnNpb25cblxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpXG5cdFx0Y3VycmVudF9mb3JtID0gbnVsbFxuXHRcdGlmIGZvcm1fcmV2IGlzIGZvcm0uY3VycmVudC5faWRcblx0XHRcdGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudFxuXHRcdGVsc2Vcblx0XHRcdGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCAoZm9ybV9oaXN0b3J5KSAtPlxuXHRcdFx0XHRyZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCBpcyBmb3JtX3JldlxuXHRcdFx0KVxuXG5cdFx0YXBwcm92ZXJfdXNlcl9maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl91c2VyX2ZpZWxkXG5cdFx0Zm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzXG5cdFx0ZmllbGRfY29kZSA9IG51bGxcblx0XHRfLmVhY2goZm9ybV9maWVsZHMsIChmb3JtX2ZpZWxkKS0+XG5cdFx0XHRpZiBmb3JtX2ZpZWxkLl9pZCBpcyBhcHByb3Zlcl91c2VyX2ZpZWxkXG5cdFx0XHRcdGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGVcblx0XHQpXG5cblx0XHQjIOWPluW+l+acgOaWsOeahHZhbHVlc1xuXHRcdG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpXG5cblx0XHQjIOiOt+WPlnVzZXJfaWTmlbDnu4Rcblx0XHR1c2VyX2lkc19uYW1lcyA9IG5ldyBBcnJheVxuXHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cblx0XHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheVxuXHRcdFx0XHR1c2VyX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cblx0XHRcdGVsc2Vcblx0XHRcdFx0dXNlcl9pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKVxuXG5cdFx0IyDmoKHpqox1c2VyX2lk5pWw57uE5LitdXNlcl9pZOaYr+WQpuWQiOazlVxuXHRcdHVzZXJfaWRzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoKHVzZXJfaWRzX25hbWVzLCAodXNlcikgLT5cblx0XHRcdGNoZWNrX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiB1c2VyW1wiaWRcIl0gfSkuY291bnQoKVxuXHRcdFx0aWYgY2hlY2tfdXNlcl9jb3VudCBpcyAwXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5Lq65ZGYSUTkuI3lkIjms5VcIilcblx0XHRcdHVzZXJfaWRzLnB1c2godXNlcltcImlkXCJdKVxuXHRcdClcblxuXHRcdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxuXHRcdHJldHVybiB1c2VyX2lkc1xuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInNwZWNpZnlTdGVwUm9sZVwiXG5cdFx0IyA3LioqKioqKioqKioq5oyH5a6a5q2l6aqk5aSE55CG5a6h5om55bKX5L2NKioqKioqKioqKipcblx0XHRhcHByb3Zlcl9zdGVwID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3N0ZXBcblx0XHRmaW5pc2hlZF90cmFjZXMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2goaW5zdGFuY2UudHJhY2VzLCAodHJhY2UpIC0+XG5cdFx0XHRpZiB0cmFjZS5zdGVwIGlzIGFwcHJvdmVyX3N0ZXBcblx0XHRcdFx0ZmluaXNoZWRfdHJhY2VzLnB1c2godHJhY2UpXG5cdFx0KVxuXHRcdCMg5qC55o2uc3RhcnRfZGF0ZeWPluacgOaWsOeahHRyYWNlXG5cdFx0bWF4X3N0YXJ0RGF0ZV90cmFjZSA9IF8ubWF4KGZpbmlzaGVkX3RyYWNlcywgKHQpIC0+XG5cdFx0XHRyZXR1cm4gdC5zdGFydF9kYXRlXG5cdFx0KVxuXG5cdFx0YXBwcm92ZV91c2VycyA9IF8ucGx1Y2sobWF4X3N0YXJ0RGF0ZV90cmFjZS5hcHByb3ZlcywgXCJ1c2VyXCIpXG5cblx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXNcblx0XHRcdF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIChhcHByb3Zlcl9yb2xlKSAtPlxuXHRcdFx0XHRyb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHsgX2lkOiBhcHByb3Zlcl9yb2xlIH0pLmNvdW50KClcblx0XHRcdFx0aWYgcm9sZV9jb3VudCBpcyAwXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLlt7Lnu4/ooqvliKDpmaRcIilcblx0XHRcdClcblxuXHRcdCMg6aqM6K+B5p+l5Yiw55qEdXNlcuaYr+WQpumDveWQiOazlVxuXHRcdF8uZWFjaChhcHByb3ZlX3VzZXJzLCAoYXBwcm92ZV91c2VyKSAtPlxuXHRcdFx0aWYgZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwcm92ZV91c2VyIH0pLmNvdW50KCkgaXMgMFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaMh+WumuatpemqpOeahOWkhOeQhuS6uuW3sue7j+WPmOabtFwiKVxuXHRcdClcblxuXHRcdHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXMoYXBwcm92ZV91c2VycywgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZClcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzcGVjaWZ5U3RlcFVzZXJcIlxuXHRcdCMgOC4qKioqKioqKioqKuaMh+WumuatpemqpOWkhOeQhuS6uioqKioqKioqKioqXG5cdFx0YXBwcm92ZXJfc3RlcCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9zdGVwXG5cdFx0ZmluaXNoZWRfdHJhY2VzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoKGluc3RhbmNlLnRyYWNlcywgKHRyYWNlKSAtPlxuXHRcdFx0aWYgdHJhY2Uuc3RlcCBpcyBhcHByb3Zlcl9zdGVwXG5cdFx0XHRcdGZpbmlzaGVkX3RyYWNlcy5wdXNoKHRyYWNlKVxuXHRcdClcblx0XHQjIOagueaNrnN0YXJ0X2RhdGXlj5bmnIDmlrDnmoR0cmFjZVxuXHRcdG1heF9zdGFydERhdGVfdHJhY2UgPSBfLm1heChmaW5pc2hlZF90cmFjZXMsICh0KSAtPlxuXHRcdFx0cmV0dXJuIHQuc3RhcnRfZGF0ZVxuXHRcdClcblxuXHRcdGFwcHJvdmVfdXNlcnMgPSBfLnBsdWNrKG1heF9zdGFydERhdGVfdHJhY2UuYXBwcm92ZXMsIFwidXNlclwiKVxuXG5cdFx0IyDpqozor4Hmn6XliLDnmoR1c2Vy5piv5ZCm6YO95ZCI5rOVXG5cdFx0Xy5lYWNoKGFwcHJvdmVfdXNlcnMsIChhcHByb3ZlX3VzZXIpLT5cblx0XHRcdGNoZWNrX2FwcHJvdmVfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcHJvdmVfdXNlciB9KS5jb3VudCgpXG5cdFx0XHRpZiBjaGVja19hcHByb3ZlX3VzZXJfY291bnQgaXMgMFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaMh+WumuatpemqpOeahOWkhOeQhuS6uuW3sue7j+WPmOabtFwiKVxuXHRcdClcblxuXHRcdGFwcHJvdmVfdXNlcnMgPSBfLnVuaXEoYXBwcm92ZV91c2Vycylcblx0XHRyZXR1cm4gYXBwcm92ZV91c2Vyc1xuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInN1Ym1pdHRlclJvbGVcIlxuXHRcdCMgOS4qKioqKioqKioqKuWhq+WNleS6uuaJgOWxnue7hOe7h+S4reeahOWuoeaJueWyl+S9jSoqKioqKioqKioqXG5cdFx0c3VibWl0dGVyID0gaW5zdGFuY2Uuc3VibWl0dGVyXG5cdFx0aWYgbm90IHN1Ym1pdHRlclxuXHRcdFx0IyDliKTmlq3mj5DkuqTkurrmmK/lkKblt7Lnu4/ooqvliKDpmaRcblx0XHRcdHN1Ym1pdHRlcl91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogc3VibWl0dGVyIH0pLmNvdW50KClcblx0XHRcdGlmIHN1Ym1pdHRlcl91c2VyX2NvdW50IGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY3lt6XkvZzljLpcIilcblx0XHRcdGVsc2Vcblx0XHRcdFx0aWYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzIGFuZCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMFxuXHRcdFx0XHRcdCMg5qOA5p+lYXBwcm92ZXJfcm9sZXPkuK1yb2xl5piv5ZCm5LiN5a2Y5Zyo5oiW5bey57uP6KKr5Yig6ZmkXG5cdFx0XHRcdFx0Xy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgKGFwcHJvdmVyX3JvbGUpIC0+XG5cdFx0XHRcdFx0XHRyb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHsgX2lkOiBhcHByb3Zlcl9yb2xlIH0pLmNvdW50KClcblx0XHRcdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBhcHByb3Zlcl9yb2xlICsgXCLlt7Lnu4/ooqvliKDpmaRcIilcblx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0cmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKHN1Ym1pdHRlciwgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZClcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5rWB56iL5q2l6aqkXCIgKyBjdXJyZW50X3N0ZXAubmFtZSArIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpXG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlLPor7fljZXnmoTmj5DkuqTkurrkuLrnqbpcIilcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzdWJtaXR0ZXJcIlxuXHRcdCMgMTAuKioqKioqKioqKirmj5DkuqTkuroqKioqKioqKioqKlxuXHRcdHN1Ym1pdHRlciA9IGluc3RhbmNlLnN1Ym1pdHRlclxuXHRcdCMg5Yik5pat5o+Q5Lqk5Lq65piv5ZCm5bey57uP6KKr5Yig6ZmkXG5cdFx0c3VibWl0dGVyX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBzdWJtaXR0ZXIgfSkuY291bnQoKVxuXHRcdGlmIHN1Ym1pdHRlcl91c2VyX2NvdW50IGlzIDBcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmN5bel5L2c5Yy6XCIpXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIG5ldyBBcnJheShzdWJtaXR0ZXIpXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3BlY2lmeU9yZ1wiXG5cdFx0IyAxMS4qKioqKioqKioqKuafkOmDqOmXqOWGheeahOaJgOacieS6uioqKioqKioqKioqXG5cdFx0YXBwcm92ZXJfb3JnX2lkcyA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9vcmdzXG5cdFx0aWYgbm90IGFwcHJvdmVyX29yZ19pZHMgb3IgYXBwcm92ZXJfb3JnX2lkcy5sZW5ndGggaXMgMFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrlrprkuYnnlKjkuo7mn6Xmib7kuIvkuIDmraXlpITnkIbkurrnmoTpg6jpl6jvvIzor7fogZTns7vnrqHnkIblkZjosIPmn6XmtYHnqIvlm77nmoTphY3nva7mmK/lkKbmraPnoa5cIilcblxuXHRcdCMg6aqM6K+B5omA5oyH5a6a55qEb3JnYW5pemF0aW9uX2lk6YO95a2Y5ZyoXG5cdFx0dmFsaWRfYXBwcm92ZXJfb3JnX2lkcyA9IG5ldyBBcnJheVxuXHRcdF8uZWFjaChhcHByb3Zlcl9vcmdfaWRzLCAoYXBwcm92ZXJfb3JnX2lkKSAtPlxuXHRcdFx0aWYgZGIub3JnYW5pemF0aW9ucy5maW5kKHsgX2lkOiBhcHByb3Zlcl9vcmdfaWQgfSkuY291bnQoKSA+IDBcblx0XHRcdFx0dmFsaWRfYXBwcm92ZXJfb3JnX2lkcy51bnNoaWZ0KGFwcHJvdmVyX29yZ19pZClcblx0XHQpXG5cblx0XHRvcmdfdXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2godmFsaWRfYXBwcm92ZXJfb3JnX2lkcywgKHZhbGlkX2FwcHJvdmVyX29yZ19pZCkgLT5cblx0XHRcdHZhbGlkX2FwcHJvdmVyX29yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7IF9pZDogdmFsaWRfYXBwcm92ZXJfb3JnX2lkIH0sIHsgZmllbGRzOiB7IHVzZXJzOiAxIH0gfSlcblx0XHRcdGlmIHZhbGlkX2FwcHJvdmVyX29yZy51c2Vyc1xuXHRcdFx0XHRvcmdfdXNlcl9pZHMgPSBvcmdfdXNlcl9pZHMuY29uY2F0KHZhbGlkX2FwcHJvdmVyX29yZy51c2VycylcblxuXHRcdFx0Y2hpbGRfb3JncyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgcGFyZW50czogdmFsaWRfYXBwcm92ZXJfb3JnX2lkIH0sIHsgZmllbGRzOiB7IHVzZXJzOiAxIH0gfSkuZmV0Y2goKVxuXHRcdFx0Xy5lYWNoKGNoaWxkX29yZ3MsIChjaGlsZF9vcmcpIC0+XG5cdFx0XHRcdGlmIGNoaWxkX29yZy51c2Vyc1xuXHRcdFx0XHRcdG9yZ191c2VyX2lkcyA9IG9yZ191c2VyX2lkcy5jb25jYXQoY2hpbGRfb3JnLnVzZXJzKVxuXHRcdFx0KVxuXHRcdClcblxuXHRcdG9yZ191c2VyX2lkcyA9IF8udW5pcShvcmdfdXNlcl9pZHMpXG5cdFx0bmV3X29yZ191c2VyX2lkcyA9IG5ldyBBcnJheVxuXHRcdF8uZWFjaChvcmdfdXNlcl9pZHMsIChvcmdfdXNlcl9pZCkgLT5cblx0XHRcdHNwYWNlX3VzZXJfaW5mb19jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IG9yZ191c2VyX2lkIH0pLmNvdW50KClcblx0XHRcdGlmIHNwYWNlX3VzZXJfaW5mb19jb3VudCA+IDBcblx0XHRcdFx0bmV3X29yZ191c2VyX2lkcy5wdXNoKG9yZ191c2VyX2lkKVxuXHRcdClcblxuXHRcdHJldHVybiBuZXdfb3JnX3VzZXJfaWRzXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3BlY2lmeVVzZXJcIlxuXHRcdCMgMTIuKioqKioqKioqKirmjIflrprnmoTkurrlkZgqKioqKioqKioqKlxuXHRcdGFwcHJvdmVyX3VzZXJfaWRzID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJzXG5cdFx0YXBwcm92ZXJfdXNlcl9pZHMgPSBfLnVuaXEoYXBwcm92ZXJfdXNlcl9pZHMpXG5cdFx0bmV3X2FwcHJvdmVyX3VzZXJfaWRzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoKGFwcHJvdmVyX3VzZXJfaWRzLCAoYXBwcm92ZXJfdXNlcl9pZCkgLT5cblx0XHRcdHNwYWNlX3VzZXJfaW5mb19jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcHJvdmVyX3VzZXJfaWQgfSkuY291bnQoKVxuXHRcdFx0aWYgc3BhY2VfdXNlcl9pbmZvX2NvdW50ID4gMFxuXHRcdFx0XHRuZXdfYXBwcm92ZXJfdXNlcl9pZHMucHVzaChhcHByb3Zlcl91c2VyX2lkKVxuXHRcdClcblxuXHRcdHJldHVybiBuZXdfYXBwcm92ZXJfdXNlcl9pZHNcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJwaWNrdXBBdFJ1bnRpbWVcIlxuXHRcdCMgMTMuKioqKioqKioqKirlrqHmibnml7bmjIflrpoqKioqKioqKioqKlxuXHRcdG5leHRfc3RlcF91c2VycyA9IG5ldyBBcnJheVxuXHRcdF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIChfdHIpIC0+XG5cdFx0XHRyZXR1cm4gX3RyLmlzX2ZpbmlzaGVkIGlzIGZhbHNlXG5cdFx0KVxuXHRcdF9hcHByb3ZlID0gXy5maW5kKF90cmFjZS5hcHByb3ZlcywgKF9hcHApIC0+XG5cdFx0XHRyZXR1cm4gX2FwcC5pc19maW5pc2hlZCBpcyBmYWxzZSBhbmQgX2FwcC50eXBlIGlzbnQgJ2NjJ1xuXHRcdClcblxuXHRcdGlmIF9hcHByb3ZlLm5leHRfc3RlcHNcblx0XHRcdGlmIF9hcHByb3ZlLm5leHRfc3RlcHNbMF1bXCJ1c2Vyc1wiXVxuXHRcdFx0XHRuZXh0X3N0ZXBfdXNlcnMgPSBfYXBwcm92ZS5uZXh0X3N0ZXBzWzBdW1widXNlcnNcIl1cblxuXHRcdHJldHVybiBuZXh0X3N0ZXBfdXNlcnNcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJhcHBsaWNhbnRTdXBlcmlvclwiXG5cdFx0IyAxNC4qKioqKioqKioqKueUs+ivt+S6uuS4iue6p+S4u+euoSoqKioqKioqKioqXG5cdFx0YXBwbGljYW50U3VwZXJpb3JzID0gbmV3IEFycmF5XG5cdFx0X3NwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBpbnN0YW5jZS5hcHBsaWNhbnQgfSwgeyBmaWVsZHM6IHsgbWFuYWdlcjogMSB9IH0pXG5cdFx0aWYgX3NwYWNlX3VzZXIubWFuYWdlclxuXHRcdFx0YXBwbGljYW50U3VwZXJpb3JzLnB1c2goX3NwYWNlX3VzZXIubWFuYWdlcilcblxuXHRcdHJldHVybiBhcHBsaWNhbnRTdXBlcmlvcnMiLCIgICAgICAgICAgICAgICAgICAgICAgIFxuXG5nZXRIYW5kbGVyc01hbmFnZXIgPSB7fTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzID0gZnVuY3Rpb24odXNlcl9pZHMsIHJvbGVfaWRzLCBzcGFjZV9pZCkge1xuICB2YXIgYXBwcm92ZV91c2VycztcbiAgYXBwcm92ZV91c2VycyA9IG5ldyBBcnJheTtcbiAgXy5lYWNoKHVzZXJfaWRzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgdmFyIHVzZXJzO1xuICAgIGlmIChkYi51c2Vycy5maW5kKHtcbiAgICAgIF9pZDogdXNlcl9pZFxuICAgIH0pLmNvdW50KCkgPiAwKSB7XG4gICAgICB1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKHVzZXJfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZCk7XG4gICAgICBpZiAodXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gYXBwcm92ZV91c2VycyA9IGFwcHJvdmVfdXNlcnMuY29uY2F0KHVzZXJzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJ1c2VyX2lk5LiN5ZCI5rOV5LiN5ZCI5rOVXCIpO1xuICAgIH1cbiAgfSk7XG4gIGFwcHJvdmVfdXNlcnMgPSBfLnVuaXEoYXBwcm92ZV91c2Vycyk7XG4gIHJldHVybiBhcHByb3ZlX3VzZXJzO1xufTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMgPSBmdW5jdGlvbih1c2VyX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpIHtcbiAgdmFyIHVzZXJfaWRzO1xuICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgXy5lYWNoKHJvbGVfaWRzLCBmdW5jdGlvbihyb2xlX2lkKSB7XG4gICAgdmFyIHVzZXJzO1xuICAgIGlmIChkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgX2lkOiByb2xlX2lkXG4gICAgfSkuY291bnQoKSA+IDApIHtcbiAgICAgIHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZSh1c2VyX2lkLCByb2xlX2lkLCBzcGFjZV9pZCk7XG4gICAgICBpZiAodXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcInJvbGVfaWTlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgfVxuICB9KTtcbiAgaWYgKHVzZXJfaWRzLmxlbmd0aCA+IDApIHtcbiAgICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gICAgcmV0dXJuIHVzZXJfaWRzO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5qC55o2udXNlcl9pZOWSjHJvbGVfaWRz5rKh5p+l5Yiw5a+55bqU55qE5aSE55CG5Lq6XCIpO1xuICB9XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlID0gZnVuY3Rpb24odXNlcl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpIHtcbiAgdmFyIG9yZ3MsIHVzZXJfaWRzO1xuICBvcmdzID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgdXNlcnM6IHVzZXJfaWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxXG4gICAgfVxuICB9KS5mZXRjaCgpO1xuICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgXy5lYWNoKG9yZ3MsIGZ1bmN0aW9uKG9yZykge1xuICAgIHZhciB1c2VycztcbiAgICB1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZShvcmcuX2lkLCByb2xlX2lkLCBzcGFjZV9pZCk7XG4gICAgaWYgKHVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2Vycyk7XG4gICAgfVxuICB9KTtcbiAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICByZXR1cm4gdXNlcl9pZHM7XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyA9IGZ1bmN0aW9uKG9yZ19pZHMsIHJvbGVfaWRzLCBzcGFjZV9pZCkge1xuICB2YXIgdXNlcl9pZHM7XG4gIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICBfLmVhY2gob3JnX2lkcywgZnVuY3Rpb24ob3JnX2lkKSB7XG4gICAgdmFyIHVzZXJzO1xuICAgIHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlcyhvcmdfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZCk7XG4gICAgaWYgKHVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2Vycyk7XG4gICAgfVxuICB9KTtcbiAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICByZXR1cm4gdXNlcl9pZHM7XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGVzID0gZnVuY3Rpb24ob3JnX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpIHtcbiAgdmFyIHVzZXJfaWRzO1xuICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgXy5lYWNoKHJvbGVfaWRzLCBmdW5jdGlvbihyb2xlX2lkKSB7XG4gICAgdmFyIHVzZXJzO1xuICAgIHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlKG9yZ19pZCwgcm9sZV9pZCwgc3BhY2VfaWQpO1xuICAgIGlmICh1c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpO1xuICAgIH1cbiAgfSk7XG4gIGlmICh1c2VyX2lkcy5sZW5ndGggPiAwKSB7XG4gICAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICAgIHJldHVybiB1c2VyX2lkcztcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuagueaNrm9yZ19pZOWSjHJvbGVfaWRz5rKh5p+l5Yiw5a+55bqU55qE5aSE55CG5Lq6XCIpO1xuICB9XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUgPSBmdW5jdGlvbihvcmdfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKSB7XG4gIHZhciBvcmcsIHBhcmVudHMsIHBvc2l0aW9ucywgdXNlcl9pZHM7XG4gIG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7XG4gICAgX2lkOiBvcmdfaWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgcGFyZW50czogMVxuICAgIH1cbiAgfSk7XG4gIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICBwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgb3JnOiBvcmdfaWQsXG4gICAgcm9sZTogcm9sZV9pZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICB1c2VyczogMVxuICAgIH1cbiAgfSkuZmV0Y2goKTtcbiAgXy5lYWNoKHBvc2l0aW9ucywgZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICByZXR1cm4gdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQocG9zaXRpb24udXNlcnMpO1xuICB9KTtcbiAgaWYgKHVzZXJfaWRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHBhcmVudHMgPSBvcmcucGFyZW50cztcbiAgICBfLmVhY2gocGFyZW50cywgZnVuY3Rpb24ocGFyZW50X2lkKSB7XG4gICAgICBwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICBvcmc6IHBhcmVudF9pZCxcbiAgICAgICAgcm9sZTogcm9sZV9pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB1c2VyczogMVxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgaWYgKHBvc2l0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBfLmVhY2gocG9zaXRpb25zLCBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChwb3NpdGlvbi51c2Vycyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgcmV0dXJuIHVzZXJfaWRzO1xufTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzID0gZnVuY3Rpb24oaW5zdGFuY2VfaWQsIHN0ZXBfaWQpIHtcbiAgdmFyIF9hcHByb3ZlLCBfc3BhY2VfdXNlciwgX3RyYWNlLCBhcHBsaWNhbnQsIGFwcGxpY2FudFN1cGVyaW9ycywgYXBwcm92ZUhyUm9sZUlkcywgYXBwcm92ZV91c2VycywgYXBwcm92ZXJfb3JnX2ZpZWxkLCBhcHByb3Zlcl9vcmdfaWRzLCBhcHByb3Zlcl9zdGVwLCBhcHByb3Zlcl91c2VyX2ZpZWxkLCBhcHByb3Zlcl91c2VyX2lkcywgY3VycmVudCwgY3VycmVudF9mbG93LCBjdXJyZW50X2Zsb3dfdmVyc2lvbiwgY3VycmVudF9mb3JtLCBjdXJyZW50X3N0ZXAsIGN1cnJlbnRfc3RlcHMsIGRlYWxfdHlwZSwgZmllbGRfY29kZSwgZmluaXNoZWRfdHJhY2VzLCBmbG93X2lkLCBmbG93X3JldiwgZm9ybSwgZm9ybV9maWVsZHMsIGZvcm1faWQsIGZvcm1fcmV2LCBoYW5kbGVycywgaW5zdGFuY2UsIG1heF9zdGFydERhdGVfdHJhY2UsIG5ld19hcHByb3Zlcl91c2VyX2lkcywgbmV3X29yZ191c2VyX2lkcywgbmV3ZXN0X3ZhbHVlcywgbmV4dF9zdGVwX3VzZXJzLCBvcmdfaWRzLCBvcmdfaWRzX25hbWVzLCBvcmdfdXNlcl9pZHMsIHNwYWNlX2lkLCBzcGFjZV91c2VyX2NvdW50LCBzdWJtaXR0ZXIsIHN1Ym1pdHRlcl91c2VyX2NvdW50LCB1bmZpbmlzaGVkX3RyYWNlLCB1c2VyX2lkcywgdXNlcl9pZHNfbmFtZXMsIHVzZXJzLCB2YWxpZF9hcHByb3Zlcl9vcmdfaWRzO1xuICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkKTtcbiAgaWYgKGluc3RhbmNlLnN0ZXBfYXBwcm92ZSAmJiAhXy5pc0VtcHR5KGluc3RhbmNlLnN0ZXBfYXBwcm92ZVtzdGVwX2lkICsgXCJfb3B0aW9uc1wiXSkpIHtcbiAgICByZXR1cm4gaW5zdGFuY2Uuc3RlcF9hcHByb3ZlW3N0ZXBfaWQgKyBcIl9vcHRpb25zXCJdO1xuICB9XG4gIGFwcHJvdmVfdXNlcnMgPSBuZXcgQXJyYXk7XG4gIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gIGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuICBmbG93X3JldiA9IGluc3RhbmNlLmZsb3dfdmVyc2lvbjtcbiAgY3VycmVudF9mbG93ID0gZGIuZmxvd3MuZmluZE9uZShmbG93X2lkKTtcbiAgY3VycmVudF9zdGVwID0gbnVsbDtcbiAgY3VycmVudF9zdGVwcyA9IG5ldyBBcnJheTtcbiAgaWYgKGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCA9PT0gZmxvd19yZXYpIHtcbiAgICBjdXJyZW50X3N0ZXBzID0gY3VycmVudF9mbG93LmN1cnJlbnQuc3RlcHM7XG4gIH0gZWxzZSB7XG4gICAgY3VycmVudCA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIGZ1bmN0aW9uKGhpc3RvcnkpIHtcbiAgICAgIHJldHVybiBoaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXY7XG4gICAgfSk7XG4gICAgY3VycmVudF9zdGVwcyA9IGN1cnJlbnQuc3RlcHM7XG4gIH1cbiAgY3VycmVudF9zdGVwID0gXy5maW5kKGN1cnJlbnRfc3RlcHMsIGZ1bmN0aW9uKHN0ZXApIHtcbiAgICByZXR1cm4gc3RlcC5faWQgPT09IHN0ZXBfaWQ7XG4gIH0pO1xuICBpZiAoY3VycmVudF9zdGVwLnN0ZXBfdHlwZSA9PT0gXCJjb25kaXRpb25cIikge1xuICAgIHVuZmluaXNoZWRfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0cmFjZSkge1xuICAgICAgcmV0dXJuIHRyYWNlLmlzX2ZpbmlzaGVkID09PSBmYWxzZTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IEFycmF5KHVuZmluaXNoZWRfdHJhY2UuYXBwcm92ZXNbMF0udXNlcik7XG4gIH1cbiAgaWYgKGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgPT09IFwic3RhcnRcIikge1xuICAgIGhhbmRsZXJzID0gbmV3IEFycmF5O1xuICAgIGhhbmRsZXJzLnB1c2goaW5zdGFuY2UuYXBwbGljYW50KTtcbiAgICBoYW5kbGVycy5wdXNoKGluc3RhbmNlLnN1Ym1pdHRlcik7XG4gICAgaGFuZGxlcnMgPSBfLnVuaXEoaGFuZGxlcnMpO1xuICAgIHJldHVybiBoYW5kbGVycztcbiAgfVxuICBkZWFsX3R5cGUgPSBjdXJyZW50X3N0ZXAuZGVhbF90eXBlO1xuICB1c2VycyA9IG5ldyBBcnJheTtcbiAgaWYgKGRlYWxfdHlwZSA9PT0gXCJhcHBsaWNhbnRSb2xlXCIpIHtcbiAgICBhcHBsaWNhbnQgPSBpbnN0YW5jZS5hcHBsaWNhbnQ7XG4gICAgaWYgKGFwcGxpY2FudCkge1xuICAgICAgc3BhY2VfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IGFwcGxpY2FudFxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChzcGFjZV91c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmNc3BhY2VcIik7XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzICYmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGZ1bmN0aW9uKGFwcHJvdmVyX3JvbGUpIHtcbiAgICAgICAgICB2YXIgcm9sZV9jb3VudDtcbiAgICAgICAgICByb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICAgIF9pZDogYXBwcm92ZXJfcm9sZVxuICAgICAgICAgIH0pLmNvdW50KCk7XG4gICAgICAgICAgaWYgKHJvbGVfY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6KeS6Imy5bey57uP6KKr5Yig6ZmkXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyhhcHBsaWNhbnQsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgc3BhY2VfaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwiSW5zdGFuY2XnmoTmj5DkuqTkurrkuLrnqbpcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJoclJvbGVcIikge1xuICAgIGFwcHJvdmVIclJvbGVJZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfaHJfcm9sZXM7XG4gICAgaWYgKGFwcHJvdmVIclJvbGVJZHMpIHtcbiAgICAgIHJldHVybiBfLnBsdWNrKFdvcmtmbG93TWFuYWdlci5nZXRIclJvbGVzVXNlcnMoc3BhY2VfaWQsIGFwcHJvdmVIclJvbGVJZHMpLCAndXNlcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuacquaMh+WumlwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcImFwcGxpY2FudFwiKSB7XG4gICAgYXBwbGljYW50ID0gaW5zdGFuY2UuYXBwbGljYW50O1xuICAgIHNwYWNlX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgIHVzZXI6IGFwcGxpY2FudFxuICAgIH0pLmNvdW50KCk7XG4gICAgaWYgKHNwYWNlX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmNc3BhY2VcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgQXJyYXkoYXBwbGljYW50KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcIm9yZ0ZpZWxkUm9sZVwiKSB7XG4gICAgZm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtO1xuICAgIGZvcm1fcmV2ID0gbnVsbDtcbiAgICBpZiAoZmxvd19yZXYgPT09IGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCkge1xuICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oY3VycmVudF9mbG93X2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXY7XG4gICAgICB9KTtcbiAgICAgIGlmIChjdXJyZW50X2Zsb3dfdmVyc2lvbikge1xuICAgICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZCk7XG4gICAgY3VycmVudF9mb3JtID0gbnVsbDtcbiAgICBpZiAoZm9ybV9yZXYgPT09IGZvcm0uY3VycmVudC5faWQpIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIGZ1bmN0aW9uKGZvcm1faGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCA9PT0gZm9ybV9yZXY7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwcm92ZXJfb3JnX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ19maWVsZDtcbiAgICBmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHM7XG4gICAgZmllbGRfY29kZSA9IG51bGw7XG4gICAgXy5lYWNoKGZvcm1fZmllbGRzLCBmdW5jdGlvbihmb3JtX2ZpZWxkKSB7XG4gICAgICBpZiAoZm9ybV9maWVsZC5faWQgPT09IGFwcHJvdmVyX29yZ19maWVsZCkge1xuICAgICAgICByZXR1cm4gZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKTtcbiAgICBvcmdfaWRzID0gbmV3IEFycmF5O1xuICAgIG9yZ19pZHNfbmFtZXMgPSBuZXcgQXJyYXk7XG4gICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pIHtcbiAgICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgb3JnX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcmdfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSk7XG4gICAgICB9XG4gICAgfVxuICAgIF8uZWFjaChvcmdfaWRzX25hbWVzLCBmdW5jdGlvbihvcmcpIHtcbiAgICAgIHZhciBjaGVja19vcmdfY291bnQ7XG4gICAgICBjaGVja19vcmdfY291bnQgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IG9yZ1tcImlkXCJdXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX29yZ19jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h0lE5LiN5ZCI5rOVXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9yZ19pZHMucHVzaChvcmdbXCJpZFwiXSk7XG4gICAgfSk7XG4gICAgaWYgKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyAmJiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMCkge1xuICAgICAgXy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgZnVuY3Rpb24oYXBwcm92ZXJfcm9sZSkge1xuICAgICAgICB2YXIgcm9sZV9jb3VudDtcbiAgICAgICAgcm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgX2lkOiBhcHByb3Zlcl9yb2xlXG4gICAgICAgIH0pLmNvdW50KCk7XG4gICAgICAgIGlmIChyb2xlX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyhvcmdfaWRzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGluc3RhbmNlLnNwYWNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJvcmdGaWVsZFwiKSB7XG4gICAgZm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtO1xuICAgIGZvcm1fcmV2ID0gbnVsbDtcbiAgICBpZiAoZmxvd19yZXYgPT09IGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCkge1xuICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oY3VycmVudF9mbG93X2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXY7XG4gICAgICB9KTtcbiAgICAgIGlmIChjdXJyZW50X2Zsb3dfdmVyc2lvbikge1xuICAgICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZCk7XG4gICAgY3VycmVudF9mb3JtID0gbnVsbDtcbiAgICBpZiAoZm9ybV9yZXYgPT09IGZvcm0uY3VycmVudC5faWQpIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIGZ1bmN0aW9uKGZvcm1faGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCA9PT0gZm9ybV9yZXY7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwcm92ZXJfb3JnX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ19maWVsZDtcbiAgICBmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHM7XG4gICAgZmllbGRfY29kZSA9IG51bGw7XG4gICAgXy5lYWNoKGZvcm1fZmllbGRzLCBmdW5jdGlvbihmb3JtX2ZpZWxkKSB7XG4gICAgICBpZiAoZm9ybV9maWVsZC5faWQgPT09IGFwcHJvdmVyX29yZ19maWVsZCkge1xuICAgICAgICByZXR1cm4gZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKTtcbiAgICBvcmdfaWRzID0gbmV3IEFycmF5O1xuICAgIG9yZ19pZHNfbmFtZXMgPSBuZXcgQXJyYXk7XG4gICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pIHtcbiAgICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgb3JnX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcmdfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSk7XG4gICAgICB9XG4gICAgfVxuICAgIF8uZWFjaChvcmdfaWRzX25hbWVzLCBmdW5jdGlvbihvcmcpIHtcbiAgICAgIHZhciBjaGVja19vcmdfY291bnQ7XG4gICAgICBjaGVja19vcmdfY291bnQgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IG9yZ1tcImlkXCJdXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX29yZ19jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h0lE5LiN5ZCI5rOVXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9yZ19pZHMucHVzaChvcmdbXCJpZFwiXSk7XG4gICAgfSk7XG4gICAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKG9yZ19pZHMsIGZ1bmN0aW9uKG9yZ19pZCkge1xuICAgICAgdmFyIGNoZWNrX29yZ3MsIG9yZywgb3JnX2NoaWxkcmVuLCBvcmdfdXNlcnM7XG4gICAgICBvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IG9yZ19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB1c2VyczogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG9yZ19jaGlsZHJlbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgcGFyZW50czogb3JnX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHVzZXJzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICBvcmdfY2hpbGRyZW4udW5zaGlmdChvcmcpO1xuICAgICAgY2hlY2tfb3JncyA9IG9yZ19jaGlsZHJlbjtcbiAgICAgIG9yZ191c2VycyA9IG5ldyBBcnJheTtcbiAgICAgIF8uZWFjaChjaGVja19vcmdzLCBmdW5jdGlvbihjaGVja19vcmdfdXNlcikge1xuICAgICAgICBpZiAoY2hlY2tfb3JnX3VzZXIudXNlcnMpIHtcbiAgICAgICAgICBfLmVhY2goY2hlY2tfb3JnX3VzZXIudXNlcnMsIGZ1bmN0aW9uKG9yZ191c2VyKSB7XG4gICAgICAgICAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgICAgICAgdXNlcjogb3JnX3VzZXJcbiAgICAgICAgICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJzcGFjZeS4i+S4jeWtmOWcqOatpHVzZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQoY2hlY2tfb3JnX3VzZXIudXNlcnMpO1xuICAgICAgICByZXR1cm4gb3JnX3VzZXJzID0gb3JnX3VzZXJzLmNvbmNhdChjaGVja19vcmdfdXNlci51c2Vycyk7XG4gICAgICB9KTtcbiAgICAgIGlmIChvcmdfdXNlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHXCIgKyBvcmdfaWQgKyBcIuS4jeWtmOWcqOWkhOeQhuS6ulwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gICAgcmV0dXJuIHVzZXJfaWRzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJ1c2VyRmllbGRSb2xlXCIpIHtcbiAgICBmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm07XG4gICAgZm9ybV9yZXYgPSBudWxsO1xuICAgIGlmIChmbG93X3JldiA9PT0gY3VycmVudF9mbG93LmN1cnJlbnQuX2lkKSB7XG4gICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihjdXJyZW50X2Zsb3dfaGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkID09PSBmbG93X3JldjtcbiAgICAgIH0pO1xuICAgICAgaWYgKGN1cnJlbnRfZmxvd192ZXJzaW9uKSB7XG4gICAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKTtcbiAgICBjdXJyZW50X2Zvcm0gPSBudWxsO1xuICAgIGlmIChmb3JtX3JldiA9PT0gZm9ybS5jdXJyZW50Ll9pZCkge1xuICAgICAgY3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgZnVuY3Rpb24oZm9ybV9oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBmb3JtX2hpc3RvcnkuX2lkID09PSBmb3JtX3JldjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhcHByb3Zlcl91c2VyX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJfZmllbGQ7XG4gICAgZm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzO1xuICAgIGZpZWxkX2NvZGUgPSBudWxsO1xuICAgIF8uZWFjaChmb3JtX2ZpZWxkcywgZnVuY3Rpb24oZm9ybV9maWVsZCkge1xuICAgICAgaWYgKGZvcm1fZmllbGQuX2lkID09PSBhcHByb3Zlcl91c2VyX2ZpZWxkKSB7XG4gICAgICAgIHJldHVybiBmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpO1xuICAgIHVzZXJfaWRzX25hbWVzID0gbmV3IEFycmF5O1xuICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKSB7XG4gICAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHVzZXJfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVzZXJfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaCh1c2VyX2lkc19uYW1lcywgZnVuY3Rpb24odXNlcikge1xuICAgICAgdmFyIGNoZWNrX3VzZXJfY291bnQ7XG4gICAgICBjaGVja191c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogdXNlcltcImlkXCJdXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkurrlkZhJROS4jeWQiOazlVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1c2VyX2lkcy5wdXNoKHVzZXJbXCJpZFwiXSk7XG4gICAgfSk7XG4gICAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICAgIGlmIChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgJiYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGZ1bmN0aW9uKGFwcHJvdmVyX3JvbGUpIHtcbiAgICAgICAgdmFyIHJvbGVfY291bnQ7XG4gICAgICAgIHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICAgIF9pZDogYXBwcm92ZXJfcm9sZVxuICAgICAgICB9KS5jb3VudCgpO1xuICAgICAgICBpZiAocm9sZV9jb3VudCA9PT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzKHVzZXJfaWRzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGluc3RhbmNlLnNwYWNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJ1c2VyRmllbGRcIikge1xuICAgIGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybTtcbiAgICBmb3JtX3JldiA9IG51bGw7XG4gICAgaWYgKGZsb3dfcmV2ID09PSBjdXJyZW50X2Zsb3cuY3VycmVudC5faWQpIHtcbiAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIGZ1bmN0aW9uKGN1cnJlbnRfZmxvd19oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2O1xuICAgICAgfSk7XG4gICAgICBpZiAoY3VycmVudF9mbG93X3ZlcnNpb24pIHtcbiAgICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb247XG4gICAgICB9XG4gICAgfVxuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpO1xuICAgIGN1cnJlbnRfZm9ybSA9IG51bGw7XG4gICAgaWYgKGZvcm1fcmV2ID09PSBmb3JtLmN1cnJlbnQuX2lkKSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCBmdW5jdGlvbihmb3JtX2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1faGlzdG9yeS5faWQgPT09IGZvcm1fcmV2O1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcHJvdmVyX3VzZXJfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcl9maWVsZDtcbiAgICBmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHM7XG4gICAgZmllbGRfY29kZSA9IG51bGw7XG4gICAgXy5lYWNoKGZvcm1fZmllbGRzLCBmdW5jdGlvbihmb3JtX2ZpZWxkKSB7XG4gICAgICBpZiAoZm9ybV9maWVsZC5faWQgPT09IGFwcHJvdmVyX3VzZXJfZmllbGQpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSk7XG4gICAgdXNlcl9pZHNfbmFtZXMgPSBuZXcgQXJyYXk7XG4gICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pIHtcbiAgICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgdXNlcl9pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXNlcl9pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKHVzZXJfaWRzX25hbWVzLCBmdW5jdGlvbih1c2VyKSB7XG4gICAgICB2YXIgY2hlY2tfdXNlcl9jb3VudDtcbiAgICAgIGNoZWNrX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiB1c2VyW1wiaWRcIl1cbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoY2hlY2tfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS6uuWRmElE5LiN5ZCI5rOVXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVzZXJfaWRzLnB1c2godXNlcltcImlkXCJdKTtcbiAgICB9KTtcbiAgICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gICAgcmV0dXJuIHVzZXJfaWRzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJzcGVjaWZ5U3RlcFJvbGVcIikge1xuICAgIGFwcHJvdmVyX3N0ZXAgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfc3RlcDtcbiAgICBmaW5pc2hlZF90cmFjZXMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgIGlmICh0cmFjZS5zdGVwID09PSBhcHByb3Zlcl9zdGVwKSB7XG4gICAgICAgIHJldHVybiBmaW5pc2hlZF90cmFjZXMucHVzaCh0cmFjZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbWF4X3N0YXJ0RGF0ZV90cmFjZSA9IF8ubWF4KGZpbmlzaGVkX3RyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgcmV0dXJuIHQuc3RhcnRfZGF0ZTtcbiAgICB9KTtcbiAgICBhcHByb3ZlX3VzZXJzID0gXy5wbHVjayhtYXhfc3RhcnREYXRlX3RyYWNlLmFwcHJvdmVzLCBcInVzZXJcIik7XG4gICAgaWYgKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcykge1xuICAgICAgXy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgZnVuY3Rpb24oYXBwcm92ZXJfcm9sZSkge1xuICAgICAgICB2YXIgcm9sZV9jb3VudDtcbiAgICAgICAgcm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgX2lkOiBhcHByb3Zlcl9yb2xlXG4gICAgICAgIH0pLmNvdW50KCk7XG4gICAgICAgIGlmIChyb2xlX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBfLmVhY2goYXBwcm92ZV91c2VycywgZnVuY3Rpb24oYXBwcm92ZV91c2VyKSB7XG4gICAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwcm92ZV91c2VyXG4gICAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oyH5a6a5q2l6aqk55qE5aSE55CG5Lq65bey57uP5Y+Y5pu0XCIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXMoYXBwcm92ZV91c2VycywgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZCk7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInNwZWNpZnlTdGVwVXNlclwiKSB7XG4gICAgYXBwcm92ZXJfc3RlcCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9zdGVwO1xuICAgIGZpbmlzaGVkX3RyYWNlcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0cmFjZSkge1xuICAgICAgaWYgKHRyYWNlLnN0ZXAgPT09IGFwcHJvdmVyX3N0ZXApIHtcbiAgICAgICAgcmV0dXJuIGZpbmlzaGVkX3RyYWNlcy5wdXNoKHRyYWNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBtYXhfc3RhcnREYXRlX3RyYWNlID0gXy5tYXgoZmluaXNoZWRfdHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICByZXR1cm4gdC5zdGFydF9kYXRlO1xuICAgIH0pO1xuICAgIGFwcHJvdmVfdXNlcnMgPSBfLnBsdWNrKG1heF9zdGFydERhdGVfdHJhY2UuYXBwcm92ZXMsIFwidXNlclwiKTtcbiAgICBfLmVhY2goYXBwcm92ZV91c2VycywgZnVuY3Rpb24oYXBwcm92ZV91c2VyKSB7XG4gICAgICB2YXIgY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50O1xuICAgICAgY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwcm92ZV91c2VyXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX2FwcHJvdmVfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaMh+WumuatpemqpOeahOWkhOeQhuS6uuW3sue7j+WPmOabtFwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBhcHByb3ZlX3VzZXJzID0gXy51bmlxKGFwcHJvdmVfdXNlcnMpO1xuICAgIHJldHVybiBhcHByb3ZlX3VzZXJzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJzdWJtaXR0ZXJSb2xlXCIpIHtcbiAgICBzdWJtaXR0ZXIgPSBpbnN0YW5jZS5zdWJtaXR0ZXI7XG4gICAgaWYgKCFzdWJtaXR0ZXIpIHtcbiAgICAgIHN1Ym1pdHRlcl91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogc3VibWl0dGVyXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKHN1Ym1pdHRlcl91c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmN5bel5L2c5Yy6XCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyAmJiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGZ1bmN0aW9uKGFwcHJvdmVyX3JvbGUpIHtcbiAgICAgICAgICAgIHZhciByb2xlX2NvdW50O1xuICAgICAgICAgICAgcm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgICAgIF9pZDogYXBwcm92ZXJfcm9sZVxuICAgICAgICAgICAgfSkuY291bnQoKTtcbiAgICAgICAgICAgIGlmIChyb2xlX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMoc3VibWl0dGVyLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIua1geeoi+atpemqpFwiICsgY3VycmVudF9zdGVwLm5hbWUgKyBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUs+ivt+WNleeahOaPkOS6pOS6uuS4uuepulwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInN1Ym1pdHRlclwiKSB7XG4gICAgc3VibWl0dGVyID0gaW5zdGFuY2Uuc3VibWl0dGVyO1xuICAgIHN1Ym1pdHRlcl91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICB1c2VyOiBzdWJtaXR0ZXJcbiAgICB9KS5jb3VudCgpO1xuICAgIGlmIChzdWJtaXR0ZXJfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY3lt6XkvZzljLpcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgQXJyYXkoc3VibWl0dGVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInNwZWNpZnlPcmdcIikge1xuICAgIGFwcHJvdmVyX29yZ19pZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3JncztcbiAgICBpZiAoIWFwcHJvdmVyX29yZ19pZHMgfHwgYXBwcm92ZXJfb3JnX2lkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5a6a5LmJ55So5LqO5p+l5om+5LiL5LiA5q2l5aSE55CG5Lq655qE6YOo6Zeo77yM6K+36IGU57O7566h55CG5ZGY6LCD5p+l5rWB56iL5Zu+55qE6YWN572u5piv5ZCm5q2j56GuXCIpO1xuICAgIH1cbiAgICB2YWxpZF9hcHByb3Zlcl9vcmdfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChhcHByb3Zlcl9vcmdfaWRzLCBmdW5jdGlvbihhcHByb3Zlcl9vcmdfaWQpIHtcbiAgICAgIGlmIChkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IGFwcHJvdmVyX29yZ19pZFxuICAgICAgfSkuY291bnQoKSA+IDApIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkX2FwcHJvdmVyX29yZ19pZHMudW5zaGlmdChhcHByb3Zlcl9vcmdfaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG9yZ191c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2godmFsaWRfYXBwcm92ZXJfb3JnX2lkcywgZnVuY3Rpb24odmFsaWRfYXBwcm92ZXJfb3JnX2lkKSB7XG4gICAgICB2YXIgY2hpbGRfb3JncywgdmFsaWRfYXBwcm92ZXJfb3JnO1xuICAgICAgdmFsaWRfYXBwcm92ZXJfb3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHtcbiAgICAgICAgX2lkOiB2YWxpZF9hcHByb3Zlcl9vcmdfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdXNlcnM6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAodmFsaWRfYXBwcm92ZXJfb3JnLnVzZXJzKSB7XG4gICAgICAgIG9yZ191c2VyX2lkcyA9IG9yZ191c2VyX2lkcy5jb25jYXQodmFsaWRfYXBwcm92ZXJfb3JnLnVzZXJzKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkX29yZ3MgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHBhcmVudHM6IHZhbGlkX2FwcHJvdmVyX29yZ19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB1c2VyczogMVxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgcmV0dXJuIF8uZWFjaChjaGlsZF9vcmdzLCBmdW5jdGlvbihjaGlsZF9vcmcpIHtcbiAgICAgICAgaWYgKGNoaWxkX29yZy51c2Vycykge1xuICAgICAgICAgIHJldHVybiBvcmdfdXNlcl9pZHMgPSBvcmdfdXNlcl9pZHMuY29uY2F0KGNoaWxkX29yZy51c2Vycyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIG9yZ191c2VyX2lkcyA9IF8udW5pcShvcmdfdXNlcl9pZHMpO1xuICAgIG5ld19vcmdfdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKG9yZ191c2VyX2lkcywgZnVuY3Rpb24ob3JnX3VzZXJfaWQpIHtcbiAgICAgIHZhciBzcGFjZV91c2VyX2luZm9fY291bnQ7XG4gICAgICBzcGFjZV91c2VyX2luZm9fY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBvcmdfdXNlcl9pZFxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChzcGFjZV91c2VyX2luZm9fY291bnQgPiAwKSB7XG4gICAgICAgIHJldHVybiBuZXdfb3JnX3VzZXJfaWRzLnB1c2gob3JnX3VzZXJfaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXdfb3JnX3VzZXJfaWRzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJzcGVjaWZ5VXNlclwiKSB7XG4gICAgYXBwcm92ZXJfdXNlcl9pZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcnM7XG4gICAgYXBwcm92ZXJfdXNlcl9pZHMgPSBfLnVuaXEoYXBwcm92ZXJfdXNlcl9pZHMpO1xuICAgIG5ld19hcHByb3Zlcl91c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goYXBwcm92ZXJfdXNlcl9pZHMsIGZ1bmN0aW9uKGFwcHJvdmVyX3VzZXJfaWQpIHtcbiAgICAgIHZhciBzcGFjZV91c2VyX2luZm9fY291bnQ7XG4gICAgICBzcGFjZV91c2VyX2luZm9fY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBhcHByb3Zlcl91c2VyX2lkXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKHNwYWNlX3VzZXJfaW5mb19jb3VudCA+IDApIHtcbiAgICAgICAgcmV0dXJuIG5ld19hcHByb3Zlcl91c2VyX2lkcy5wdXNoKGFwcHJvdmVyX3VzZXJfaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXdfYXBwcm92ZXJfdXNlcl9pZHM7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInBpY2t1cEF0UnVudGltZVwiKSB7XG4gICAgbmV4dF9zdGVwX3VzZXJzID0gbmV3IEFycmF5O1xuICAgIF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKF90cikge1xuICAgICAgcmV0dXJuIF90ci5pc19maW5pc2hlZCA9PT0gZmFsc2U7XG4gICAgfSk7XG4gICAgX2FwcHJvdmUgPSBfLmZpbmQoX3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihfYXBwKSB7XG4gICAgICByZXR1cm4gX2FwcC5pc19maW5pc2hlZCA9PT0gZmFsc2UgJiYgX2FwcC50eXBlICE9PSAnY2MnO1xuICAgIH0pO1xuICAgIGlmIChfYXBwcm92ZS5uZXh0X3N0ZXBzKSB7XG4gICAgICBpZiAoX2FwcHJvdmUubmV4dF9zdGVwc1swXVtcInVzZXJzXCJdKSB7XG4gICAgICAgIG5leHRfc3RlcF91c2VycyA9IF9hcHByb3ZlLm5leHRfc3RlcHNbMF1bXCJ1c2Vyc1wiXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5leHRfc3RlcF91c2VycztcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwiYXBwbGljYW50U3VwZXJpb3JcIikge1xuICAgIGFwcGxpY2FudFN1cGVyaW9ycyA9IG5ldyBBcnJheTtcbiAgICBfc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgdXNlcjogaW5zdGFuY2UuYXBwbGljYW50XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIG1hbmFnZXI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoX3NwYWNlX3VzZXIubWFuYWdlcikge1xuICAgICAgYXBwbGljYW50U3VwZXJpb3JzLnB1c2goX3NwYWNlX3VzZXIubWFuYWdlcik7XG4gICAgfVxuICAgIHJldHVybiBhcHBsaWNhbnRTdXBlcmlvcnM7XG4gIH1cbn07XG4iLCJwZXJtaXNzaW9uTWFuYWdlciA9IHt9XG5cbnBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyA9IChmbG93X2lkLCB1c2VyX2lkKSAtPlxuXHQjIOagueaNrjpmbG93X2lk5p+l5Yiw5a+55bqU55qEZmxvd1xuXHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGZsb3dfaWQpXG5cdHNwYWNlX2lkID0gZmxvdy5zcGFjZVxuXHQjIOagueaNrnNwYWNlX2lk5ZKMOnVzZXJfaWTliLBvcmdhbml6YXRpb25z6KGo5Lit5p+l5Yiw55So5oi35omA5bGe5omA5pyJ55qEb3JnX2lk77yI5YyF5ous5LiK57qn57uESUTvvIlcblx0b3JnX2lkcyA9IG5ldyBBcnJheVxuXHRvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcblx0XHRzcGFjZTogc3BhY2VfaWQsIHVzZXJzOiB1c2VyX2lkIH0sIHsgZmllbGRzOiB7IHBhcmVudHM6IDEgfSB9KS5mZXRjaCgpXG5cdF8uZWFjaChvcmdhbml6YXRpb25zLCAob3JnKSAtPlxuXHRcdG9yZ19pZHMucHVzaChvcmcuX2lkKVxuXHRcdGlmIG9yZy5wYXJlbnRzXG5cdFx0XHRfLmVhY2gob3JnLnBhcmVudHMsIChwYXJlbnRfaWQpIC0+XG5cdFx0XHRcdG9yZ19pZHMucHVzaChwYXJlbnRfaWQpXG5cdFx0XHQpXG5cdClcblx0b3JnX2lkcyA9IF8udW5pcShvcmdfaWRzKVxuXHRteV9wZXJtaXNzaW9ucyA9IG5ldyBBcnJheVxuXHRpZiBmbG93LnBlcm1zXG5cdFx0IyDliKTmlq1mbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pbuS4reaYr+WQpuWMheWQq+W9k+WJjeeUqOaIt++8jFxuXHRcdCMg5oiW6ICFZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGTmmK/lkKbljIXlkKs05q2l5b6X5Yiw55qEb3JnX2lk5pWw57uE5Lit55qE5Lu75L2V5LiA5Liq77yMXG5cdFx0IyDoi6XmmK/vvIzliJnlnKjov5Tlm57nmoTmlbDnu4TkuK3liqDkuIphZGRcblx0XHRpZiBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZGRcblx0XHRcdHVzZXJzX2Nhbl9hZGQgPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZGRcblx0XHRcdGlmIHVzZXJzX2Nhbl9hZGQuaW5jbHVkZXModXNlcl9pZClcblx0XHRcdFx0bXlfcGVybWlzc2lvbnMucHVzaChcImFkZFwiKVxuXG5cdFx0aWYgZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGRcblx0XHRcdG9yZ3NfY2FuX2FkZCA9IGZsb3cucGVybXMub3Jnc19jYW5fYWRkXG5cdFx0XHRfLmVhY2gob3JnX2lkcywgKG9yZ19pZCkgLT5cblx0XHRcdFx0aWYgb3Jnc19jYW5fYWRkLmluY2x1ZGVzKG9yZ19pZClcblx0XHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRkXCIpXG5cdFx0XHQpXG5cdFx0IyDliKTmlq1mbG93LnBlcm1zLnVzZXJzX2Nhbl9tb25pdG9y5Lit5piv5ZCm5YyF5ZCr5b2T5YmN55So5oi377yMXG5cdFx0IyDmiJbogIVmbG93LnBlcm1zLm9yZ3NfY2FuX21vbml0b3LmmK/lkKbljIXlkKs05q2l5b6X5Yiw55qEb3JnX2lk5pWw57uE5Lit55qE5Lu75L2V5LiA5Liq77yMXG5cdFx0IyDoi6XmmK/vvIzliJnlnKjov5Tlm57nmoTmlbDnu4TkuK3liqDkuIptb25pdG9yXG5cdFx0aWYgZmxvdy5wZXJtcy51c2Vyc19jYW5fbW9uaXRvclxuXHRcdFx0dXNlcnNfY2FuX21vbml0b3IgPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9tb25pdG9yXG5cdFx0XHRpZiB1c2Vyc19jYW5fbW9uaXRvci5pbmNsdWRlcyh1c2VyX2lkKVxuXHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwibW9uaXRvclwiKVxuXG5cdFx0aWYgZmxvdy5wZXJtcy5vcmdzX2Nhbl9tb25pdG9yXG5cdFx0XHRvcmdzX2Nhbl9tb25pdG9yID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9tb25pdG9yXG5cdFx0XHRfLmVhY2gob3JnX2lkcywgKG9yZ19pZCkgLT5cblx0XHRcdFx0aWYgb3Jnc19jYW5fbW9uaXRvci5pbmNsdWRlcyhvcmdfaWQpXG5cdFx0XHRcdFx0bXlfcGVybWlzc2lvbnMucHVzaChcIm1vbml0b3JcIilcblx0XHRcdClcblx0XHQjIOWIpOaWrWZsb3cucGVybXMudXNlcnNfY2FuX2FkbWlu5Lit5piv5ZCm5YyF5ZCr5b2T5YmN55So5oi377yMXG5cdFx0IyDmiJbogIVmbG93LnBlcm1zLm9yZ3NfY2FuX2FkbWlu5piv5ZCm5YyF5ZCrNOatpeW+l+WIsOeahG9yZ19pZOaVsOe7hOS4reeahOS7u+S9leS4gOS4qu+8jFxuXHRcdCMg6Iul5piv77yM5YiZ5Zyo6L+U5Zue55qE5pWw57uE5Lit5Yqg5LiKYWRtaW5cblx0XHRpZiBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pblxuXHRcdFx0dXNlcnNfY2FuX2FkbWluID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRtaW5cblx0XHRcdGlmIHVzZXJzX2Nhbl9hZG1pbi5pbmNsdWRlcyh1c2VyX2lkKVxuXHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRtaW5cIilcblxuXHRcdGlmIGZsb3cucGVybXMub3Jnc19jYW5fYWRtaW5cblx0XHRcdG9yZ3NfY2FuX2FkbWluID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZG1pblxuXHRcdFx0Xy5lYWNoKG9yZ19pZHMsIChvcmdfaWQpIC0+XG5cdFx0XHRcdGlmIG9yZ3NfY2FuX2FkbWluLmluY2x1ZGVzKG9yZ19pZClcblx0XHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRtaW5cIilcblx0XHRcdClcblxuXHRteV9wZXJtaXNzaW9ucyA9IF8udW5pcShteV9wZXJtaXNzaW9ucylcblx0cmV0dXJuIG15X3Blcm1pc3Npb25zIiwiICAgICAgICAgICAgICAgICAgICAgIFxuXG5wZXJtaXNzaW9uTWFuYWdlciA9IHt9O1xuXG5wZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMgPSBmdW5jdGlvbihmbG93X2lkLCB1c2VyX2lkKSB7XG4gIHZhciBmbG93LCBteV9wZXJtaXNzaW9ucywgb3JnX2lkcywgb3JnYW5pemF0aW9ucywgb3Jnc19jYW5fYWRkLCBvcmdzX2Nhbl9hZG1pbiwgb3Jnc19jYW5fbW9uaXRvciwgc3BhY2VfaWQsIHVzZXJzX2Nhbl9hZGQsIHVzZXJzX2Nhbl9hZG1pbiwgdXNlcnNfY2FuX21vbml0b3I7XG4gIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coZmxvd19pZCk7XG4gIHNwYWNlX2lkID0gZmxvdy5zcGFjZTtcbiAgb3JnX2lkcyA9IG5ldyBBcnJheTtcbiAgb3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgIHVzZXJzOiB1c2VyX2lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHBhcmVudHM6IDFcbiAgICB9XG4gIH0pLmZldGNoKCk7XG4gIF8uZWFjaChvcmdhbml6YXRpb25zLCBmdW5jdGlvbihvcmcpIHtcbiAgICBvcmdfaWRzLnB1c2gob3JnLl9pZCk7XG4gICAgaWYgKG9yZy5wYXJlbnRzKSB7XG4gICAgICByZXR1cm4gXy5lYWNoKG9yZy5wYXJlbnRzLCBmdW5jdGlvbihwYXJlbnRfaWQpIHtcbiAgICAgICAgcmV0dXJuIG9yZ19pZHMucHVzaChwYXJlbnRfaWQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgb3JnX2lkcyA9IF8udW5pcShvcmdfaWRzKTtcbiAgbXlfcGVybWlzc2lvbnMgPSBuZXcgQXJyYXk7XG4gIGlmIChmbG93LnBlcm1zKSB7XG4gICAgaWYgKGZsb3cucGVybXMudXNlcnNfY2FuX2FkZCkge1xuICAgICAgdXNlcnNfY2FuX2FkZCA9IGZsb3cucGVybXMudXNlcnNfY2FuX2FkZDtcbiAgICAgIGlmICh1c2Vyc19jYW5fYWRkLmluY2x1ZGVzKHVzZXJfaWQpKSB7XG4gICAgICAgIG15X3Blcm1pc3Npb25zLnB1c2goXCJhZGRcIik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmbG93LnBlcm1zLm9yZ3NfY2FuX2FkZCkge1xuICAgICAgb3Jnc19jYW5fYWRkID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGQ7XG4gICAgICBfLmVhY2gob3JnX2lkcywgZnVuY3Rpb24ob3JnX2lkKSB7XG4gICAgICAgIGlmIChvcmdzX2Nhbl9hZGQuaW5jbHVkZXMob3JnX2lkKSkge1xuICAgICAgICAgIHJldHVybiBteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRkXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMudXNlcnNfY2FuX21vbml0b3IpIHtcbiAgICAgIHVzZXJzX2Nhbl9tb25pdG9yID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fbW9uaXRvcjtcbiAgICAgIGlmICh1c2Vyc19jYW5fbW9uaXRvci5pbmNsdWRlcyh1c2VyX2lkKSkge1xuICAgICAgICBteV9wZXJtaXNzaW9ucy5wdXNoKFwibW9uaXRvclwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMub3Jnc19jYW5fbW9uaXRvcikge1xuICAgICAgb3Jnc19jYW5fbW9uaXRvciA9IGZsb3cucGVybXMub3Jnc19jYW5fbW9uaXRvcjtcbiAgICAgIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICAgICAgaWYgKG9yZ3NfY2FuX21vbml0b3IuaW5jbHVkZXMob3JnX2lkKSkge1xuICAgICAgICAgIHJldHVybiBteV9wZXJtaXNzaW9ucy5wdXNoKFwibW9uaXRvclwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pbikge1xuICAgICAgdXNlcnNfY2FuX2FkbWluID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRtaW47XG4gICAgICBpZiAodXNlcnNfY2FuX2FkbWluLmluY2x1ZGVzKHVzZXJfaWQpKSB7XG4gICAgICAgIG15X3Blcm1pc3Npb25zLnB1c2goXCJhZG1pblwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMub3Jnc19jYW5fYWRtaW4pIHtcbiAgICAgIG9yZ3NfY2FuX2FkbWluID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZG1pbjtcbiAgICAgIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICAgICAgaWYgKG9yZ3NfY2FuX2FkbWluLmluY2x1ZGVzKG9yZ19pZCkpIHtcbiAgICAgICAgICByZXR1cm4gbXlfcGVybWlzc2lvbnMucHVzaChcImFkbWluXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgbXlfcGVybWlzc2lvbnMgPSBfLnVuaXEobXlfcGVybWlzc2lvbnMpO1xuICByZXR1cm4gbXlfcGVybWlzc2lvbnM7XG59O1xuIiwiYXBwcm92ZU1hbmFnZXIgPSB7fVxuXG5cbiMjI1xuICAgIOWvueavlGFwcHJvdmVfdmFsdWVz5LiObGFzdF92YWx1ZXMg5a+56LGh77yMIOi/lOWbnmFwcHJvdmVfdmFsdWVz5q+UbGFzdF92YWx1ZXPlpJrlh7rnmoTmiJbogIXmlLnlj5jnmoTpg6jliIZcbiMjI1xuYXBwcm92ZU1hbmFnZXIuZ2V0Q2hhbmdlVmFsdWVzID0gKGxhc3RfdmFsdWVzLGFwcHJvdmVfdmFsdWVzKSAtPlxuXG5cdGNoYW5nZVZhbHVlcyA9IHt9XG5cblx0bGFzdF92YWx1ZXNfa2V5cyA9IF8ua2V5cyhsYXN0X3ZhbHVlcylcblxuXHRhcHByb3ZlX3ZhbHVlc19rZXlzID0gXy5rZXlzKGFwcHJvdmVfdmFsdWVzKVxuXG4jXHRjb25zb2xlLmxvZyhcImxhc3RfdmFsdWVzX2tleXNcIiwgbGFzdF92YWx1ZXNfa2V5cylcbiNcbiNcdGNvbnNvbGUubG9nKFwiYXBwcm92ZV92YWx1ZXNfa2V5c1wiLCBhcHByb3ZlX3ZhbHVlc19rZXlzKVxuXG5cdGFwcHJvdmVfdmFsdWVzX2tleXMuZm9yRWFjaCAoa2V5KS0+XG5cdFx0aWYgXy5jb250YWlucyhsYXN0X3ZhbHVlc19rZXlzLCBrZXkpXG5cdFx0XHRpZiAhXy5pc0VxdWFsKGxhc3RfdmFsdWVzW2tleV0sIGFwcHJvdmVfdmFsdWVzW2tleV0pXG5cdFx0XHRcdGNoYW5nZVZhbHVlc1trZXldID0gYXBwcm92ZV92YWx1ZXNba2V5XVxuXHRcdGVsc2Vcblx0XHRcdGlmIGFwcHJvdmVfdmFsdWVzW2tleV0gIT0gJydcbiNcdFx0XHRcdGNvbnNvbGUubG9nKGtleSxhcHByb3ZlX3ZhbHVlc1trZXldKVxuXHRcdFx0XHRjaGFuZ2VWYWx1ZXNba2V5XSA9IGFwcHJvdmVfdmFsdWVzW2tleV1cblxuXHRyZXR1cm4gY2hhbmdlVmFsdWVzXG4iLCIgICAgICAgICAgICAgICAgICAgXG5cbmFwcHJvdmVNYW5hZ2VyID0ge307XG5cblxuLypcbiAgICDlr7nmr5RhcHByb3ZlX3ZhbHVlc+S4jmxhc3RfdmFsdWVzIOWvueixoe+8jCDov5Tlm55hcHByb3ZlX3ZhbHVlc+avlGxhc3RfdmFsdWVz5aSa5Ye655qE5oiW6ICF5pS55Y+Y55qE6YOo5YiGXG4gKi9cblxuYXBwcm92ZU1hbmFnZXIuZ2V0Q2hhbmdlVmFsdWVzID0gZnVuY3Rpb24obGFzdF92YWx1ZXMsIGFwcHJvdmVfdmFsdWVzKSB7XG4gIHZhciBhcHByb3ZlX3ZhbHVlc19rZXlzLCBjaGFuZ2VWYWx1ZXMsIGxhc3RfdmFsdWVzX2tleXM7XG4gIGNoYW5nZVZhbHVlcyA9IHt9O1xuICBsYXN0X3ZhbHVlc19rZXlzID0gXy5rZXlzKGxhc3RfdmFsdWVzKTtcbiAgYXBwcm92ZV92YWx1ZXNfa2V5cyA9IF8ua2V5cyhhcHByb3ZlX3ZhbHVlcyk7XG4gIGFwcHJvdmVfdmFsdWVzX2tleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoXy5jb250YWlucyhsYXN0X3ZhbHVlc19rZXlzLCBrZXkpKSB7XG4gICAgICBpZiAoIV8uaXNFcXVhbChsYXN0X3ZhbHVlc1trZXldLCBhcHByb3ZlX3ZhbHVlc1trZXldKSkge1xuICAgICAgICByZXR1cm4gY2hhbmdlVmFsdWVzW2tleV0gPSBhcHByb3ZlX3ZhbHVlc1trZXldO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYXBwcm92ZV92YWx1ZXNba2V5XSAhPT0gJycpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5nZVZhbHVlc1trZXldID0gYXBwcm92ZV92YWx1ZXNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY2hhbmdlVmFsdWVzO1xufTtcbiIsImZsb3dNYW5hZ2VyID0ge31cblxuZmxvd01hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zsb3dzID0gKHNwYWNlSWQsIGNhdGVnb3JpZUlkLCBmaWVsZHMpLT5cblxuXHRjYXRlZ29yaWVzRm9ybXMgPSBmb3JtTWFuYWdlci5nZXRDYXRlZ29yaWVzRm9ybXMoc3BhY2VJZCwgY2F0ZWdvcmllSWQsIHtfaWQ6IDF9KS5mZXRjaCgpXG5cblx0cmV0dXJuIGRiLmZsb3dzLmZpbmQoe2Zvcm06IHskaW4gOiBjYXRlZ29yaWVzRm9ybXMuZ2V0UHJvcGVydHkoXCJfaWRcIil9fSlcblxuZmxvd01hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRmxvd3MgPSAoc3BhY2VJZCwgZmllbGRzKS0+XG5cblx0dW5DYXRlZ29yaWVzRm9ybXMgPSBmb3JtTWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGb3JtcyhzcGFjZUlkLCB7X2lkOiAxfSkuZmV0Y2goKVxuXG5cdHJldHVybiBkYi5mbG93cy5maW5kKHtmb3JtOiB7JGluIDogdW5DYXRlZ29yaWVzRm9ybXMuZ2V0UHJvcGVydHkoXCJfaWRcIil9fSlcblxuXG5cblxuXG5cblxuIiwiZm9ybU1hbmFnZXIgPSB7fVxuXG5mb3JtTWFuYWdlci5nZXRDYXRlZ29yaWVzRm9ybXMgPSAoc3BhY2VJZCwgY2F0ZWdvcmllSWQsIGZpZWxkcyktPlxuXHRpZiBmaWVsZHNcblx0XHRfZmllbGRzID0ge2ZpZWxkczogZmllbGRzfVxuXG5cdHJldHVybiBkYi5mb3Jtcy5maW5kKHtzcGFjZTogc3BhY2VJZCwgY2F0ZWdvcnk6IGNhdGVnb3JpZUlkLCBzdGF0ZTogXCJlbmFibGVkXCJ9LCBfZmllbGRzKVxuXG5mb3JtTWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGb3JtcyA9IChzcGFjZUlkLCBmaWVsZHMpIC0+XG5cdGlmIGZpZWxkc1xuXHRcdF9maWVsZHMgPSB7ZmllbGRzOiBmaWVsZHN9XG5cdHJldHVybiBkYi5mb3Jtcy5maW5kKHtzcGFjZTogc3BhY2VJZCwgY2F0ZWdvcnk6IHskaW46IFtudWxsLCBcIlwiXX0sIHN0YXRlOiBcImVuYWJsZWRcIn0sIF9maWVsZHMpXG4iLCIgICAgICAgICAgICAgICAgXG5cbmZvcm1NYW5hZ2VyID0ge307XG5cbmZvcm1NYW5hZ2VyLmdldENhdGVnb3JpZXNGb3JtcyA9IGZ1bmN0aW9uKHNwYWNlSWQsIGNhdGVnb3JpZUlkLCBmaWVsZHMpIHtcbiAgdmFyIF9maWVsZHM7XG4gIGlmIChmaWVsZHMpIHtcbiAgICBfZmllbGRzID0ge1xuICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICB9O1xuICB9XG4gIHJldHVybiBkYi5mb3Jtcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZCxcbiAgICBjYXRlZ29yeTogY2F0ZWdvcmllSWQsXG4gICAgc3RhdGU6IFwiZW5hYmxlZFwiXG4gIH0sIF9maWVsZHMpO1xufTtcblxuZm9ybU1hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRm9ybXMgPSBmdW5jdGlvbihzcGFjZUlkLCBmaWVsZHMpIHtcbiAgdmFyIF9maWVsZHM7XG4gIGlmIChmaWVsZHMpIHtcbiAgICBfZmllbGRzID0ge1xuICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICB9O1xuICB9XG4gIHJldHVybiBkYi5mb3Jtcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZCxcbiAgICBjYXRlZ29yeToge1xuICAgICAgJGluOiBbbnVsbCwgXCJcIl1cbiAgICB9LFxuICAgIHN0YXRlOiBcImVuYWJsZWRcIlxuICB9LCBfZmllbGRzKTtcbn07XG4iLCJzdGVwTWFuYWdlciA9IHt9XG5cbnN0ZXBNYW5hZ2VyLmFsbG93QmF0Y2ggPSAoc3RlcCktPlxuXHRyZXR1cm4gc3RlcC5hbGxvd0JhdGNoXG5cbnN0ZXBNYW5hZ2VyLmdldFN0ZXAgPSAoaW5zdGFuY2UsIGZsb3csIHN0ZXBfaWQpLT5cblx0Zmxvd19yZXYgPSBpbnN0YW5jZS5mbG93X3ZlcnNpb25cblx0aXNFeGlzdFN0ZXAgPSBudWxsXG5cdGlmIGZsb3cuY3VycmVudC5faWQgaXMgZmxvd19yZXZcblx0XHRpc0V4aXN0U3RlcCA9IF8uZmluZChmbG93LmN1cnJlbnQuc3RlcHMsIChzdGVwKS0+XG5cdFx0XHRyZXR1cm4gc3RlcC5faWQgaXMgc3RlcF9pZFxuXHRcdClcblx0ZWxzZVxuXHRcdF8uZWFjaChmbG93Lmhpc3RvcnlzLCAoaGlzdG9yeSktPlxuXHRcdFx0aWYgaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcblx0XHRcdFx0aXNFeGlzdFN0ZXAgPSBfLmZpbmQoaGlzdG9yeS5zdGVwcywgKHN0ZXApLT5cblx0XHRcdFx0XHRyZXR1cm4gc3RlcC5faWQgaXMgc3RlcF9pZFxuXHRcdFx0XHQpXG5cdFx0KVxuXG5cdGlmIG5vdCBpc0V4aXN0U3RlcFxuXHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN6IO96I635Y+Wc3RlcFwiKVxuXG5cdHJldHVybiBpc0V4aXN0U3RlcCIsIiAgICAgICAgICAgICAgICBcblxuc3RlcE1hbmFnZXIgPSB7fTtcblxuc3RlcE1hbmFnZXIuYWxsb3dCYXRjaCA9IGZ1bmN0aW9uKHN0ZXApIHtcbiAgcmV0dXJuIHN0ZXAuYWxsb3dCYXRjaDtcbn07XG5cbnN0ZXBNYW5hZ2VyLmdldFN0ZXAgPSBmdW5jdGlvbihpbnN0YW5jZSwgZmxvdywgc3RlcF9pZCkge1xuICB2YXIgZmxvd19yZXYsIGlzRXhpc3RTdGVwO1xuICBmbG93X3JldiA9IGluc3RhbmNlLmZsb3dfdmVyc2lvbjtcbiAgaXNFeGlzdFN0ZXAgPSBudWxsO1xuICBpZiAoZmxvdy5jdXJyZW50Ll9pZCA9PT0gZmxvd19yZXYpIHtcbiAgICBpc0V4aXN0U3RlcCA9IF8uZmluZChmbG93LmN1cnJlbnQuc3RlcHMsIGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgIHJldHVybiBzdGVwLl9pZCA9PT0gc3RlcF9pZDtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBfLmVhY2goZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oaGlzdG9yeSkge1xuICAgICAgaWYgKGhpc3RvcnkuX2lkID09PSBmbG93X3Jldikge1xuICAgICAgICByZXR1cm4gaXNFeGlzdFN0ZXAgPSBfLmZpbmQoaGlzdG9yeS5zdGVwcywgZnVuY3Rpb24oc3RlcCkge1xuICAgICAgICAgIHJldHVybiBzdGVwLl9pZCA9PT0gc3RlcF9pZDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFpc0V4aXN0U3RlcCkge1xuICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN6IO96I635Y+Wc3RlcFwiKTtcbiAgfVxuICByZXR1cm4gaXNFeGlzdFN0ZXA7XG59O1xuIiwiX2V2YWwgPSByZXF1aXJlKCdldmFsJylcblxuSW5zdGFuY2VNYW5hZ2VyID0ge31cblxubG9nZ2VyID0gbmV3IExvZ2dlciAnV29ya2Zsb3cgLT4gSW5zdGFuY2VNYW5hZ2VyJ1xuXG5JbnN0YW5jZU1hbmFnZXIuaGFuZGxlckluc3RhbmNlQnlGaWVsZE1hcCA9IChpbnMsIGZpZWxkX21hcCkgLT5cblx0cmVzID0gaW5zXG5cdGlmIGluc1xuXHRcdGlmICFmaWVsZF9tYXBcblxuXHRcdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoeyBfaWQ6IGlucy5mbG93IH0sIHsgZmllbGRzOiB7IGZpZWxkX21hcDogMSB9IH0pXG5cblx0XHRcdGlmIGZsb3c/LmZpZWxkX21hcFxuXHRcdFx0XHRmaWVsZF9tYXAgPSBmbG93LmZpZWxkX21hcFxuXG5cdFx0aWYgZmllbGRfbWFwXG5cdFx0XHRjb250ZXh0ID0gXy5jbG9uZShpbnMpXG5cblx0XHRcdGNvbnRleHQuXyA9IF9cblxuXHRcdFx0c2NyaXB0ID0gXCJ2YXIgaW5zdGFuY2VzID0gI3tmaWVsZF9tYXB9OyBleHBvcnRzLmluc3RhbmNlcyA9IGluc3RhbmNlc1wiXG5cdFx0XHR0cnlcblx0XHRcdFx0cmVzID0gX2V2YWwoc2NyaXB0LCBcImhhbmRsZXJJbnN0YW5jZUJ5RmllbGRNYXBcIiwgY29udGV4dCwgZmFsc2UpLmluc3RhbmNlc1xuXHRcdFx0Y2F0Y2ggZVxuXHRcdFx0XHRyZXMgPSB7IF9lcnJvcjogZSB9XG5cdFx0XHRcdGxvZ2dlci5lcnJvciBlXG5cdHJldHVybiByZXNcblxuSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlID0gKGluc3RhbmNlLCBoYW5kbGVyKS0+XG5cblx0aWYgIWluc3RhbmNlIG9yICFpbnN0YW5jZS50cmFjZXMgb3IgaW5zdGFuY2UudHJhY2VzLmxlbmd0aCA8IDFcblx0XHRyZXR1cm5cblxuXHRjdXJyZW50VHJhY2VzID0gaW5zdGFuY2UudHJhY2VzLmZpbHRlclByb3BlcnR5KCdpc19maW5pc2hlZCcsIGZhbHNlKVxuXG5cdGlmIGN1cnJlbnRUcmFjZXMubGVuZ3RoXG5cdFx0Y3VycmVudEFwcHJvdmVzID0gY3VycmVudFRyYWNlc1swXS5hcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eSgnaXNfZmluaXNoZWQnLCBmYWxzZSkuZmlsdGVyUHJvcGVydHkoJ2hhbmRsZXInLCBoYW5kbGVyKVxuXHRcdGN1cnJlbnRBcHByb3ZlID0gaWYgY3VycmVudEFwcHJvdmVzLmxlbmd0aCA+IDAgdGhlbiBjdXJyZW50QXBwcm92ZXNbMF0gZWxzZSBudWxsXG5cblx0I+S8oOmYheeahGFwcHJvdmXov5Tlm57mnIDmlrDkuIDmnaFcblx0aWYgIWN1cnJlbnRBcHByb3ZlIG9yIGN1cnJlbnRBcHByb3ZlLnR5cGUgPT0gJ2NjJ1xuXHRcdCMg5b2T5YmN5piv5Lyg6ZiFXG5cdFx0Xy5lYWNoIGluc3RhbmNlLnRyYWNlcywgKHQpIC0+XG5cdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGEpIC0+XG5cdFx0XHRcdGlmIGEudHlwZSA9PSAnY2MnIGFuZCBhLnVzZXIgPT0gaGFuZGxlciBhbmQgYS5pc19maW5pc2hlZCA9PSBmYWxzZVxuXHRcdFx0XHRcdGN1cnJlbnRBcHByb3ZlID0gYVxuXHRcdFx0XHRyZXR1cm5cblx0XHRcdHJldHVyblxuXG5cdGlmICFjdXJyZW50QXBwcm92ZVxuXHRcdHJldHVyblxuXG5cdHJldHVybiBjdXJyZW50QXBwcm92ZVxuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFRyYWNlID0gKGluc3RhbmNlLCB0cmFjZUlkKS0+XG5cdHJldHVybiBpbnN0YW5jZS50cmFjZXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB0cmFjZUlkKVxuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0TXlBcHByb3ZlID0gKGluc3RhbmNlSWQsIHVzZXJJZCktPlxuXHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlSWR9KVxuXG5cdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdylcblxuXHRteV9hcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKGluc3RhbmNlLCB1c2VySWQpXG5cblx0aWYgbXlfYXBwcm92ZVxuXG4jXHRcdGxhbmcgPSBTdGVlZG9zLmxvY2FsZSh0aGF0LnVzZXJJZCwgdHJ1ZSlcblxuXHRcdHRyYWNlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRUcmFjZShpbnN0YW5jZSwgbXlfYXBwcm92ZS50cmFjZSlcblxuXHRcdHN0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHRyYWNlLnN0ZXApXG5cblx0XHRzdGVwX3R5cGUgPSBzdGVwLnN0ZXBfdHlwZVxuXG5cdFx0anVkZ2UgPSBpZiBzdGVwX3R5cGUgPT0gXCJzaWduXCIgdGhlbiBcImFwcHJvdmVkXCIgZWxzZSBcIlwiXG5cblx0XHRuZXh0U3RlcHMgPSB1dWZsb3dNYW5hZ2VyLmdldE5leHRTdGVwcyhpbnN0YW5jZSwgZmxvdywgc3RlcCwganVkZ2UpXG5cblx0XHRpZiBuZXh0U3RlcHMubGVuZ3RoID09IDFcblx0XHRcdGlmIHN0ZXBfdHlwZSA9PSBcInNpZ25cIiB8fCBzdGVwX3R5cGUgPT0gXCJjb3VudGVyU2lnblwiXG5cdFx0XHRcdG15X2FwcHJvdmUuanVkZ2UgPSAnYXBwcm92ZWQnXG5cdFx0XHRuZXh0X3VzZXJfaWRzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzKGluc3RhbmNlLl9pZCAsIG5leHRTdGVwc1swXSlcblx0XHRcdGlmICFuZXh0X3VzZXJfaWRzXG5cdFx0XHRcdG15X2FwcHJvdmUubmV4dF9zdGVwcyA9IFt7IHN0ZXA6IG5leHRTdGVwc1swXSwgdXNlcnM6IFtdIH1dXG5cdFx0XHRcdHJldHVybiBteV9hcHByb3ZlXG5cdFx0XHRpZiBuZXh0X3VzZXJfaWRzLmxlbmd0aCA9PSAxXG5cdFx0XHRcdG15X2FwcHJvdmUubmV4dF9zdGVwcyA9IFt7c3RlcDogbmV4dFN0ZXBzWzBdLCB1c2VyczogbmV4dF91c2VyX2lkc31dXG5cdFx0XHRcdHJldHVybiBteV9hcHByb3ZlXG4jXHRcdFx0ZWxzZVxuI1x0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgVEFQaTE4bi5fXygnd29ya2Zsb3dfZXJyb3JfbXVsdGlwbGVfbmV4dF9zdGVwX3VzZXJzJywge2luc25hbWU6IGluc3RhbmNlLm5hbWV9LCBsYW5nKSlcbiNcdFx0ZWxzZVxuI1x0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFRBUGkxOG4uX18oJ3dvcmtmbG93X2Vycm9yX211bHRpcGxlX25leHRfc3RlcCcsIHtpbnNuYW1lOiBpbnN0YW5jZS5uYW1lfSwgbGFuZykpXG5cblx0cmV0dXJuXG5cblxuSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzID0gKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCBpbmJveF91c2VyKS0+XG5cdF9iYXRjaF9pbnN0YW5jZXMgPSBuZXcgQXJyYXkoKVxuXG5cdHF1ZXJ5ID0ge3NwYWNlOiBzcGFjZSwgaW5ib3hfdXNlcnM6IGluYm94X3VzZXJ9XG5cblx0RklFTERTID0geyBuYW1lOiAxLCBhcHBsaWNhbnRfbmFtZTogMSwgc3VibWl0X2RhdGU6IDEsIGZsb3dfdmVyc2lvbjogMSwgXCJ0cmFjZXMuc3RlcFwiOiAxLCBmbG93OiAxLCBjdXJyZW50X3N0ZXBfbmFtZTogMSwgZmxvd19uYW1lOiAxIH1cblxuXHRpZiBjYXRlZ29yeUlkXG5cblx0XHRpZiBjYXRlZ29yeUlkID09ICctMSdcblx0XHRcdHVuQ2F0ZWdvcnlGbG93cyA9IGZsb3dNYW5hZ2VyLmdldFVuQ2F0ZWdvcmllc0Zsb3dzKHNwYWNlLCB7X2lkOiAxfSkuZmV0Y2goKS5nZXRQcm9wZXJ0eShcIl9pZFwiKVxuXHRcdFx0cXVlcnkuZmxvdyA9IHskaW46IHVuQ2F0ZWdvcnlGbG93c31cblx0XHRlbHNlXG5cdFx0XHRjYXRlZ29yeUZsb3dzID0gZmxvd01hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zsb3dzKHNwYWNlLCBjYXRlZ29yeUlkLCB7X2lkOiAxfSkuZmV0Y2goKS5nZXRQcm9wZXJ0eShcIl9pZFwiKVxuXHRcdFx0cXVlcnkuZmxvdyA9IHskaW46IGNhdGVnb3J5Rmxvd3N9XG5cblx0aWYgZmxvd0lkc1xuXHRcdHF1ZXJ5LmZsb3cgPSB7JGluOiBmbG93SWRzfVxuXG4jXHRjb25zb2xlLmxvZyhcInF1ZXJ5XCIsIEpTT04uc3RyaW5naWZ5KHF1ZXJ5KSlcblxuXHRpbmJveF9pbnN0YW5jZXMgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge2ZpZWxkczogRklFTERTLCBza2lwOiAwLCBsaW1pdDogMTAwfSlcblxuXHRpbmJveF9pbnN0YW5jZXMuZm9yRWFjaCAoaW5zKS0+XG5cdFx0Y3VycmVudFN0ZXBJZCA9IF8ubGFzdChpbnMudHJhY2VzKS5zdGVwICNUT0RPIOatpOS7o+eggeS4jemAgueUqOS8oOmYheaJueWkhOeQhlxuXG5cdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogaW5zLmZsb3d9KVxuXG5cdFx0Y3VycmVudFN0ZXAgPSBzdGVwTWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgY3VycmVudFN0ZXBJZClcblxuXHRcdG15QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUoaW5zLl9pZCwgaW5ib3hfdXNlcilcblxuXHRcdGlmIHN0ZXBNYW5hZ2VyLmFsbG93QmF0Y2goY3VycmVudFN0ZXApICYmIG15QXBwcm92ZVxuXG5cdFx0XHRkZWxldGUgaW5zLmZsb3dfdmVyc2lvblxuXG5cdFx0XHRkZWxldGUgaW5zLnRyYWNlc1xuXG5cdFx0XHRkZWxldGUgaW5zLmZsb3dcblxuXHRcdFx0aW5zLmFwcHJvdmVfc3RhcnRfZGF0ZSA9IG15QXBwcm92ZS5zdGFydF9kYXRlXG5cblx0XHRcdF9iYXRjaF9pbnN0YW5jZXMucHVzaChpbnMpXG4jXHRcdGVsc2VcbiNcdFx0XHRjb25zb2xlLmxvZyhcIuaJuemHj+WuoeaJuS3lvILluLjmlbDmja5cIiwgaW5zLl9pZClcblxuXHRyZXR1cm4gX2JhdGNoX2luc3RhbmNlc1xuIiwidmFyIF9ldmFsLCBsb2dnZXI7ICAgICAgICAgICAgICAgICBcblxuX2V2YWwgPSByZXF1aXJlKCdldmFsJyk7XG5cbkluc3RhbmNlTWFuYWdlciA9IHt9O1xuXG5sb2dnZXIgPSBuZXcgTG9nZ2VyKCdXb3JrZmxvdyAtPiBJbnN0YW5jZU1hbmFnZXInKTtcblxuSW5zdGFuY2VNYW5hZ2VyLmhhbmRsZXJJbnN0YW5jZUJ5RmllbGRNYXAgPSBmdW5jdGlvbihpbnMsIGZpZWxkX21hcCkge1xuICB2YXIgY29udGV4dCwgZSwgZmxvdywgcmVzLCBzY3JpcHQ7XG4gIHJlcyA9IGlucztcbiAgaWYgKGlucykge1xuICAgIGlmICghZmllbGRfbWFwKSB7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogaW5zLmZsb3dcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgZmllbGRfbWFwOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGZsb3cgIT0gbnVsbCA/IGZsb3cuZmllbGRfbWFwIDogdm9pZCAwKSB7XG4gICAgICAgIGZpZWxkX21hcCA9IGZsb3cuZmllbGRfbWFwO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmllbGRfbWFwKSB7XG4gICAgICBjb250ZXh0ID0gXy5jbG9uZShpbnMpO1xuICAgICAgY29udGV4dC5fID0gXztcbiAgICAgIHNjcmlwdCA9IFwidmFyIGluc3RhbmNlcyA9IFwiICsgZmllbGRfbWFwICsgXCI7IGV4cG9ydHMuaW5zdGFuY2VzID0gaW5zdGFuY2VzXCI7XG4gICAgICB0cnkge1xuICAgICAgICByZXMgPSBfZXZhbChzY3JpcHQsIFwiaGFuZGxlckluc3RhbmNlQnlGaWVsZE1hcFwiLCBjb250ZXh0LCBmYWxzZSkuaW5zdGFuY2VzO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICByZXMgPSB7XG4gICAgICAgICAgX2Vycm9yOiBlXG4gICAgICAgIH07XG4gICAgICAgIGxvZ2dlci5lcnJvcihlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5cbkluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSA9IGZ1bmN0aW9uKGluc3RhbmNlLCBoYW5kbGVyKSB7XG4gIHZhciBjdXJyZW50QXBwcm92ZSwgY3VycmVudEFwcHJvdmVzLCBjdXJyZW50VHJhY2VzO1xuICBpZiAoIWluc3RhbmNlIHx8ICFpbnN0YW5jZS50cmFjZXMgfHwgaW5zdGFuY2UudHJhY2VzLmxlbmd0aCA8IDEpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY3VycmVudFRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcy5maWx0ZXJQcm9wZXJ0eSgnaXNfZmluaXNoZWQnLCBmYWxzZSk7XG4gIGlmIChjdXJyZW50VHJhY2VzLmxlbmd0aCkge1xuICAgIGN1cnJlbnRBcHByb3ZlcyA9IGN1cnJlbnRUcmFjZXNbMF0uYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoJ2lzX2ZpbmlzaGVkJywgZmFsc2UpLmZpbHRlclByb3BlcnR5KCdoYW5kbGVyJywgaGFuZGxlcik7XG4gICAgY3VycmVudEFwcHJvdmUgPSBjdXJyZW50QXBwcm92ZXMubGVuZ3RoID4gMCA/IGN1cnJlbnRBcHByb3Zlc1swXSA6IG51bGw7XG4gIH1cbiAgaWYgKCFjdXJyZW50QXBwcm92ZSB8fCBjdXJyZW50QXBwcm92ZS50eXBlID09PSAnY2MnKSB7XG4gICAgXy5lYWNoKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgaWYgKGEudHlwZSA9PT0gJ2NjJyAmJiBhLnVzZXIgPT09IGhhbmRsZXIgJiYgYS5pc19maW5pc2hlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBjdXJyZW50QXBwcm92ZSA9IGE7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGlmICghY3VycmVudEFwcHJvdmUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIGN1cnJlbnRBcHByb3ZlO1xufTtcblxuSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRUcmFjZSA9IGZ1bmN0aW9uKGluc3RhbmNlLCB0cmFjZUlkKSB7XG4gIHJldHVybiBpbnN0YW5jZS50cmFjZXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB0cmFjZUlkKTtcbn07XG5cbkluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUgPSBmdW5jdGlvbihpbnN0YW5jZUlkLCB1c2VySWQpIHtcbiAgdmFyIGZsb3csIGluc3RhbmNlLCBqdWRnZSwgbXlfYXBwcm92ZSwgbmV4dFN0ZXBzLCBuZXh0X3VzZXJfaWRzLCBzdGVwLCBzdGVwX3R5cGUsIHRyYWNlO1xuICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICBfaWQ6IGluc3RhbmNlSWRcbiAgfSk7XG4gIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gIG15X2FwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoaW5zdGFuY2UsIHVzZXJJZCk7XG4gIGlmIChteV9hcHByb3ZlKSB7XG4gICAgdHJhY2UgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFRyYWNlKGluc3RhbmNlLCBteV9hcHByb3ZlLnRyYWNlKTtcbiAgICBzdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCB0cmFjZS5zdGVwKTtcbiAgICBzdGVwX3R5cGUgPSBzdGVwLnN0ZXBfdHlwZTtcbiAgICBqdWRnZSA9IHN0ZXBfdHlwZSA9PT0gXCJzaWduXCIgPyBcImFwcHJvdmVkXCIgOiBcIlwiO1xuICAgIG5leHRTdGVwcyA9IHV1Zmxvd01hbmFnZXIuZ2V0TmV4dFN0ZXBzKGluc3RhbmNlLCBmbG93LCBzdGVwLCBqdWRnZSk7XG4gICAgaWYgKG5leHRTdGVwcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIGlmIChzdGVwX3R5cGUgPT09IFwic2lnblwiIHx8IHN0ZXBfdHlwZSA9PT0gXCJjb3VudGVyU2lnblwiKSB7XG4gICAgICAgIG15X2FwcHJvdmUuanVkZ2UgPSAnYXBwcm92ZWQnO1xuICAgICAgfVxuICAgICAgbmV4dF91c2VyX2lkcyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyhpbnN0YW5jZS5faWQsIG5leHRTdGVwc1swXSk7XG4gICAgICBpZiAoIW5leHRfdXNlcl9pZHMpIHtcbiAgICAgICAgbXlfYXBwcm92ZS5uZXh0X3N0ZXBzID0gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0ZXA6IG5leHRTdGVwc1swXSxcbiAgICAgICAgICAgIHVzZXJzOiBbXVxuICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIG15X2FwcHJvdmU7XG4gICAgICB9XG4gICAgICBpZiAobmV4dF91c2VyX2lkcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgbXlfYXBwcm92ZS5uZXh0X3N0ZXBzID0gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0ZXA6IG5leHRTdGVwc1swXSxcbiAgICAgICAgICAgIHVzZXJzOiBuZXh0X3VzZXJfaWRzXG4gICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gbXlfYXBwcm92ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbkluc3RhbmNlTWFuYWdlci5nZXRCYXRjaEluc3RhbmNlcyA9IGZ1bmN0aW9uKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCBpbmJveF91c2VyKSB7XG4gIHZhciBGSUVMRFMsIF9iYXRjaF9pbnN0YW5jZXMsIGNhdGVnb3J5Rmxvd3MsIGluYm94X2luc3RhbmNlcywgcXVlcnksIHVuQ2F0ZWdvcnlGbG93cztcbiAgX2JhdGNoX2luc3RhbmNlcyA9IG5ldyBBcnJheSgpO1xuICBxdWVyeSA9IHtcbiAgICBzcGFjZTogc3BhY2UsXG4gICAgaW5ib3hfdXNlcnM6IGluYm94X3VzZXJcbiAgfTtcbiAgRklFTERTID0ge1xuICAgIG5hbWU6IDEsXG4gICAgYXBwbGljYW50X25hbWU6IDEsXG4gICAgc3VibWl0X2RhdGU6IDEsXG4gICAgZmxvd192ZXJzaW9uOiAxLFxuICAgIFwidHJhY2VzLnN0ZXBcIjogMSxcbiAgICBmbG93OiAxLFxuICAgIGN1cnJlbnRfc3RlcF9uYW1lOiAxLFxuICAgIGZsb3dfbmFtZTogMVxuICB9O1xuICBpZiAoY2F0ZWdvcnlJZCkge1xuICAgIGlmIChjYXRlZ29yeUlkID09PSAnLTEnKSB7XG4gICAgICB1bkNhdGVnb3J5Rmxvd3MgPSBmbG93TWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGbG93cyhzcGFjZSwge1xuICAgICAgICBfaWQ6IDFcbiAgICAgIH0pLmZldGNoKCkuZ2V0UHJvcGVydHkoXCJfaWRcIik7XG4gICAgICBxdWVyeS5mbG93ID0ge1xuICAgICAgICAkaW46IHVuQ2F0ZWdvcnlGbG93c1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2F0ZWdvcnlGbG93cyA9IGZsb3dNYW5hZ2VyLmdldENhdGVnb3JpZXNGbG93cyhzcGFjZSwgY2F0ZWdvcnlJZCwge1xuICAgICAgICBfaWQ6IDFcbiAgICAgIH0pLmZldGNoKCkuZ2V0UHJvcGVydHkoXCJfaWRcIik7XG4gICAgICBxdWVyeS5mbG93ID0ge1xuICAgICAgICAkaW46IGNhdGVnb3J5Rmxvd3NcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIGlmIChmbG93SWRzKSB7XG4gICAgcXVlcnkuZmxvdyA9IHtcbiAgICAgICRpbjogZmxvd0lkc1xuICAgIH07XG4gIH1cbiAgaW5ib3hfaW5zdGFuY2VzID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcbiAgICBmaWVsZHM6IEZJRUxEUyxcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiAxMDBcbiAgfSk7XG4gIGluYm94X2luc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGlucykge1xuICAgIHZhciBjdXJyZW50U3RlcCwgY3VycmVudFN0ZXBJZCwgZmxvdywgbXlBcHByb3ZlO1xuICAgIGN1cnJlbnRTdGVwSWQgPSBfLmxhc3QoaW5zLnRyYWNlcykuc3RlcDtcbiAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICBfaWQ6IGlucy5mbG93XG4gICAgfSk7XG4gICAgY3VycmVudFN0ZXAgPSBzdGVwTWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgY3VycmVudFN0ZXBJZCk7XG4gICAgbXlBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldE15QXBwcm92ZShpbnMuX2lkLCBpbmJveF91c2VyKTtcbiAgICBpZiAoc3RlcE1hbmFnZXIuYWxsb3dCYXRjaChjdXJyZW50U3RlcCkgJiYgbXlBcHByb3ZlKSB7XG4gICAgICBkZWxldGUgaW5zLmZsb3dfdmVyc2lvbjtcbiAgICAgIGRlbGV0ZSBpbnMudHJhY2VzO1xuICAgICAgZGVsZXRlIGlucy5mbG93O1xuICAgICAgaW5zLmFwcHJvdmVfc3RhcnRfZGF0ZSA9IG15QXBwcm92ZS5zdGFydF9kYXRlO1xuICAgICAgcmV0dXJuIF9iYXRjaF9pbnN0YW5jZXMucHVzaChpbnMpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzO1xufTtcbiIsIk1ldGVvci5wdWJsaXNoICdjYXRlZ29yaWVzJywgKHNwYWNlSWQpIC0+XG5cdGNoZWNrIHNwYWNlSWQsIFN0cmluZ1xuXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXG5cdHJldHVybiBkYi5jYXRlZ29yaWVzLmZpbmQoeyBzcGFjZTogc3BhY2VJZCB9LCB7IGZpZWxkczogeyBuYW1lOiAxLCBzcGFjZTogMSwgc29ydF9ubzogMSwgYXBwOiAxIH0gfSkiLCJNZXRlb3IucHVibGlzaCgnY2F0ZWdvcmllcycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuY2F0ZWdvcmllcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBzb3J0X25vOiAxLFxuICAgICAgYXBwOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiXG5NZXRlb3IucHVibGlzaCAnY2ZzX2luc3RhbmNlcycsIChpbnN0YW5jZUlkcyktPlxuXHRjaGVjayhpbnN0YW5jZUlkcywgQXJyYXkpXG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBpbnN0YW5jZUlkc1xuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHJldHVybiBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IHskaW46IGluc3RhbmNlSWRzfSAsICRvcjogW3snbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHskbmU6IHRydWV9fSx7J21ldGFkYXRhLmlzX3ByaXZhdGUnOiB0cnVlLCBcIm1ldGFkYXRhLm93bmVyXCI6IHRoaXMudXNlcklkfV19KVxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Nmc19pbnN0YW5jZXMnLCBmdW5jdGlvbihpbnN0YW5jZUlkcykge1xuICBjaGVjayhpbnN0YW5jZUlkcywgQXJyYXkpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlSWRzKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG4gICAgICAkaW46IGluc3RhbmNlSWRzXG4gICAgfSxcbiAgICAkb3I6IFtcbiAgICAgIHtcbiAgICAgICAgJ21ldGFkYXRhLmlzX3ByaXZhdGUnOiB7XG4gICAgICAgICAgJG5lOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgJ21ldGFkYXRhLmlzX3ByaXZhdGUnOiB0cnVlLFxuICAgICAgICBcIm1ldGFkYXRhLm93bmVyXCI6IHRoaXMudXNlcklkXG4gICAgICB9XG4gICAgXVxuICB9KTtcbn0pO1xuIiwiXG5cbk1ldGVvci5wdWJsaXNoICdmbG93X3Bvc2l0aW9ucycsIChzcGFjZUlkKS0+XG5cdFxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cdFxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRyZXR1cm4gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7c3BhY2U6IHNwYWNlSWR9LCB7ZmllbGRzOiB7cm9sZToxLCB1c2VyczogMSwgb3JnOiAxfX0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Zsb3dfcG9zaXRpb25zJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICByb2xlOiAxLFxuICAgICAgdXNlcnM6IDEsXG4gICAgICBvcmc6IDFcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaENvbXBvc2l0ZSAnZmxvd19wb3NpdGlvbnNfdGFidWxhcicsICh0YWJsZU5hbWUsIGlkcywgZmllbGRzKS0+XG5cdGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcblx0Y2hlY2soaWRzLCBBcnJheSk7XG5cdGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHRoaXMudW5ibG9jaygpXG5cblx0ZmluZDogLT5cblx0XHR0aGlzLnVuYmxvY2soKVxuXHRcdGRiLmZsb3dfcG9zaXRpb25zLmZpbmQge19pZDogeyRpbjogaWRzfX0sIGZpZWxkczogZmllbGRzXG5cblx0Y2hpbGRyZW46IFtcblx0XHR7XG5cdFx0XHRmaW5kOiAocG9zaXRpb24pIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIGZsb3dfcm9sZXNcblx0XHRcdFx0ZGIuZmxvd19yb2xlcy5maW5kIHsgX2lkOiBwb3NpdGlvbi5yb2xlIH0sIGZpZWxkczogbmFtZTogMVxuXHRcdH1cblx0XHR7XG5cdFx0XHRmaW5kOiAocG9zaXRpb24pIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIG9yZ2FuaXphdGlvbnNcblx0XHRcdFx0ZGIub3JnYW5pemF0aW9ucy5maW5kIHsgX2lkOiBwb3NpdGlvbi5vcmcgfSwgZmllbGRzOiBmdWxsbmFtZTogMVxuXHRcdH1cblx0XHR7XG5cdFx0XHRmaW5kOiAocG9zaXRpb24pIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIHVzZXJcblx0XHRcdFx0ZGIuc3BhY2VfdXNlcnMuZmluZCB7XG5cdFx0XHRcdFx0c3BhY2U6IHBvc2l0aW9uLnNwYWNlXG5cdFx0XHRcdFx0dXNlcjogJGluOiBwb3NpdGlvbi51c2Vyc1xuXHRcdFx0XHR9LCBmaWVsZHM6XG5cdFx0XHRcdFx0c3BhY2U6IDFcblx0XHRcdFx0XHR1c2VyOiAxXG5cdFx0XHRcdFx0bmFtZTogMVxuXHRcdH1cblx0XSIsIk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlKCdmbG93X3Bvc2l0aW9uc190YWJ1bGFyJywgZnVuY3Rpb24odGFibGVOYW1lLCBpZHMsIGZpZWxkcykge1xuICBjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XG4gIGNoZWNrKGlkcywgQXJyYXkpO1xuICBjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICB0aGlzLnVuYmxvY2soKTtcbiAgcmV0dXJuIHtcbiAgICBmaW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgcmV0dXJuIGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGlkc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczogZmllbGRzXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgICBfaWQ6IHBvc2l0aW9uLnJvbGVcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgICAgICBfaWQ6IHBvc2l0aW9uLm9yZ1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICAgICAgc3BhY2U6IHBvc2l0aW9uLnNwYWNlLFxuICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAkaW46IHBvc2l0aW9uLnVzZXJzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgICAgICB1c2VyOiAxLFxuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG4gIH07XG59KTtcbiIsIlxuXG5cdE1ldGVvci5wdWJsaXNoICdmbG93X3JvbGVzJywgKHNwYWNlSWQpLT5cblx0XHRcblx0XHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRcdHJldHVybiB0aGlzLnJlYWR5KClcblx0XHRcblx0XHR1bmxlc3Mgc3BhY2VJZFxuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cblx0XHRyZXR1cm4gZGIuZmxvd19yb2xlcy5maW5kKHtzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtuYW1lOjF9fSk7XG4iLCJNZXRlb3IucHVibGlzaCgnZmxvd19yb2xlcycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dzJywgKHNwYWNlSWQpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBzcGFjZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdCMg56ys5LiA5qyh6K6i6ZiF5pe25Yid5aeL5YyW5bel5L2c5Yy6XG5cdGlmIGRiLmZsb3dzLmZpbmQoe3NwYWNlOiBzcGFjZUlkfSkuY291bnQoKSA9PSAwXG5cdFx0ZGIuc3BhY2VzLmNyZWF0ZVRlbXBsYXRlRm9ybUFuZEZsb3coc3BhY2VJZClcblxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7c3BhY2U6IHNwYWNlSWR9LCB7XG5cdFx0ZmllbGRzOiB7XG5cdFx0XHRuYW1lOiAxLFxuXHRcdFx0Zm9ybTogMSxcblx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0cGVybXM6IDEsXG5cdFx0XHRzcGFjZTogMSxcblx0XHRcdGNvbXBhbnlfaWQ6IDEsXG5cdFx0XHRzb3J0X25vOiAxLFxuXHRcdFx0ZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VyczogMSxcblx0XHRcdGRpc3RyaWJ1dGVfdG9fc2VsZjogMVxuXHRcdH1cblx0fSlcblxuXG5NZXRlb3IucHVibGlzaCAnZmxvd192ZXJzaW9uJywgKHNwYWNlSWQsIGZsb3dJZCwgdmVyc2lvbklkKSAtPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIHNwYWNlSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIGZsb3dJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgdmVyc2lvbklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cblx0c2VsZiA9IHRoaXM7XG5cblx0Z2V0Rmxvd1ZlcnNpb24gPSAoaWQgLCB2ZXJzaW9uSWQpLT5cblx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkIDogaWR9KTtcblx0XHRpZiBmbG93XG5cdFx0XHRmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnRcblx0XHRcdGZsb3dfdmVyc2lvbi5sYXRlc3QgPSB0cnVlXG5cblx0XHRcdGlmIGZsb3dfdmVyc2lvbi5faWQgIT0gdmVyc2lvbklkXG5cdFx0XHRcdGZsb3dfdmVyc2lvbiA9IGZsb3cuaGlzdG9yeXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB2ZXJzaW9uSWQpXG5cdFx0XHRcdGZsb3dfdmVyc2lvbi5sYXRlc3QgPSBmYWxzZVxuXG5cdFx0XHRyZXR1cm4gZmxvd192ZXJzaW9uXG5cdGhhbmRsZSA9IGRiLmZsb3dzLmZpbmQoe19pZDogZmxvd0lkfSwge2ZpZWxkczoge19pZDogMSwgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDF9fSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGNoYW5nZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiZmxvd192ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZsb3dWZXJzaW9uKGlkLCB2ZXJzaW9uSWQpKTtcblx0fVxuXG5cblx0c2VsZi5hZGRlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihmbG93SWQsIHZlcnNpb25JZCkpO1xuXHRzZWxmLnJlYWR5KCk7XG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpXG5cbk1ldGVvci5wdWJsaXNoICdkaXN0cmlidXRlX29wdGlvbmFsX2Zsb3dzJywgKGZsb3dfaWRzKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgZmxvd19pZHNcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0cmV0dXJuIGRiLmZsb3dzLmZpbmQoe19pZDogeyRpbjogZmxvd19pZHN9fSwge1xuXHRcdGZpZWxkczoge1xuXHRcdFx0bmFtZTogMSxcblx0XHRcdGZvcm06IDEsXG5cdFx0XHRzdGF0ZTogMSxcblx0XHRcdHBlcm1zOiAxLFxuXHRcdFx0c3BhY2U6IDEsXG5cdFx0XHRkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxuXHRcdFx0ZGlzdHJpYnV0ZV90b19zZWxmOiAxLFxuXHRcdFx0ZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uOiAxLFxuXHRcdFx0Y29tcGFueV9pZDogMVxuXHRcdH1cblx0fSlcblxuTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3cnLCAoc3BhY2VJZCwgZmxvd0lkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgZmxvd0lkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cblx0cmV0dXJuIGRiLmZsb3dzLmZpbmQoe19pZDogZmxvd0lkLCBzcGFjZTogc3BhY2VJZH0sIHtcblx0XHRmaWVsZHM6IHtcblx0XHRcdHByaW50X3RlbXBsYXRlOiAxLFxuXHRcdFx0aW5zdGFuY2VfdGVtcGxhdGU6IDEsXG5cdFx0XHRldmVudHM6IDEsXG5cdFx0XHRkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxuXHRcdFx0ZGlzdHJpYnV0ZV90b19zZWxmOiAxLFxuXHRcdFx0dXBsb2FkX2FmdGVyX2JlaW5nX2Rpc3RyaWJ1dGVkOiAxLFxuXHRcdFx0ZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uOiAxLFxuXHRcdFx0Y29tcGFueV9pZDogMSxcblx0XHRcdGFsbG93X3NlbGVjdF9zdGVwOiAxXG5cdFx0fVxuXHR9KVxuTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dfZmlsZXMnLCAoc3BhY2VJZCwgZmxvd0lkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgZmxvd0lkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHJldHVybiBjZnMuZmlsZXMuZmluZCh7ICdtZXRhZGF0YS5zcGFjZSc6IHNwYWNlSWQsICdtZXRhZGF0YS5vYmplY3RfbmFtZSc6ICdmbG93cycsICdtZXRhZGF0YS5yZWNvcmRfaWQnOiBmbG93SWQgfSlcblxuTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUgJ2Zsb3dzX3RhYnVsYXInLCAodGFibGVOYW1lLCBpZHMsIGZpZWxkcyktPlxuXHRjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XG5cdGNoZWNrKGlkcywgQXJyYXkpO1xuXHRjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpO1xuXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR0aGlzLnVuYmxvY2soKVxuXG5cdGZpbmQ6IC0+XG5cdFx0dGhpcy51bmJsb2NrKClcblx0XHRkYi5mbG93cy5maW5kIHtfaWQ6IHskaW46IGlkc319LCBmaWVsZHM6IGZpZWxkc1xuXG5cdGNoaWxkcmVuOiBbXG5cdFx0e1xuXHRcdFx0ZmluZDogKGZsb3cpIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIHVzZXJcblx0XHRcdFx0ZGIuc3BhY2VfdXNlcnMuZmluZCB7XG5cdFx0XHRcdFx0c3BhY2U6IGZsb3cuc3BhY2UsXG5cdFx0XHRcdFx0dXNlcjogZmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5XG5cdFx0XHRcdH0sIGZpZWxkczpcblx0XHRcdFx0XHRzcGFjZTogMVxuXHRcdFx0XHRcdHVzZXI6IDFcblx0XHRcdFx0XHRuYW1lOiAxXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRmaW5kOiAoZmxvdykgLT5cblx0XHRcdFx0QHVuYmxvY2soKVxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgdXNlclxuXHRcdFx0XHRkYi5mb3Jtcy5maW5kIHtcblx0XHRcdFx0XHRzcGFjZTogZmxvdy5zcGFjZSxcblx0XHRcdFx0XHRfaWQ6IGZsb3cuZm9ybVxuXHRcdFx0XHR9LCBmaWVsZHM6XG5cdFx0XHRcdFx0c3BhY2U6IDFcblx0XHRcdFx0XHRfaWQ6IDFcblx0XHRcdFx0XHRuYW1lOiAxLFxuXHRcdFx0XHRcdGNhdGVnb3J5OiAxXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRmaW5kOiAoZmxvdykgLT5cblx0XHRcdFx0QHVuYmxvY2soKVxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgdXNlclxuXHRcdFx0XHRkYi5jYXRlZ29yaWVzLmZpbmQge1xuXHRcdFx0XHRcdHNwYWNlOiBmbG93LnNwYWNlXG5cdFx0XHRcdH0sIGZpZWxkczpcblx0XHRcdFx0XHRzcGFjZTogMVxuXHRcdFx0XHRcdF9pZDogMVxuXHRcdFx0XHRcdG5hbWU6IDFcblx0XHR9XG5cdF0iLCJNZXRlb3IucHVibGlzaCgnZmxvd3MnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKGRiLmZsb3dzLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICBkYi5zcGFjZXMuY3JlYXRlVGVtcGxhdGVGb3JtQW5kRmxvdyhzcGFjZUlkKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMSxcbiAgICAgIGZvcm06IDEsXG4gICAgICBzdGF0ZTogMSxcbiAgICAgIHBlcm1zOiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBjb21wYW55X2lkOiAxLFxuICAgICAgc29ydF9ubzogMSxcbiAgICAgIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG4gICAgICBkaXN0cmlidXRlX3RvX3NlbGY6IDFcbiAgICB9XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdmbG93X3ZlcnNpb24nLCBmdW5jdGlvbihzcGFjZUlkLCBmbG93SWQsIHZlcnNpb25JZCkge1xuICB2YXIgZ2V0Rmxvd1ZlcnNpb24sIGhhbmRsZSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWZsb3dJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCF2ZXJzaW9uSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBnZXRGbG93VmVyc2lvbiA9IGZ1bmN0aW9uKGlkLCB2ZXJzaW9uSWQpIHtcbiAgICB2YXIgZmxvdywgZmxvd192ZXJzaW9uO1xuICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgIF9pZDogaWRcbiAgICB9KTtcbiAgICBpZiAoZmxvdykge1xuICAgICAgZmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50O1xuICAgICAgZmxvd192ZXJzaW9uLmxhdGVzdCA9IHRydWU7XG4gICAgICBpZiAoZmxvd192ZXJzaW9uLl9pZCAhPT0gdmVyc2lvbklkKSB7XG4gICAgICAgIGZsb3dfdmVyc2lvbiA9IGZsb3cuaGlzdG9yeXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB2ZXJzaW9uSWQpO1xuICAgICAgICBmbG93X3ZlcnNpb24ubGF0ZXN0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmxvd192ZXJzaW9uO1xuICAgIH1cbiAgfTtcbiAgaGFuZGxlID0gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiBmbG93SWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxLFxuICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDFcbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihpZCwgdmVyc2lvbklkKSk7XG4gICAgfVxuICB9KTtcbiAgc2VsZi5hZGRlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihmbG93SWQsIHZlcnNpb25JZCkpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2goJ2Rpc3RyaWJ1dGVfb3B0aW9uYWxfZmxvd3MnLCBmdW5jdGlvbihmbG93X2lkcykge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWZsb3dfaWRzKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiB7XG4gICAgICAkaW46IGZsb3dfaWRzXG4gICAgfVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgZm9ybTogMSxcbiAgICAgIHN0YXRlOiAxLFxuICAgICAgcGVybXM6IDEsXG4gICAgICBzcGFjZTogMSxcbiAgICAgIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG4gICAgICBkaXN0cmlidXRlX3RvX3NlbGY6IDEsXG4gICAgICBkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXG4gICAgICBjb21wYW55X2lkOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnZmxvdycsIGZ1bmN0aW9uKHNwYWNlSWQsIGZsb3dJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghZmxvd0lkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiBmbG93SWQsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgcHJpbnRfdGVtcGxhdGU6IDEsXG4gICAgICBpbnN0YW5jZV90ZW1wbGF0ZTogMSxcbiAgICAgIGV2ZW50czogMSxcbiAgICAgIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG4gICAgICBkaXN0cmlidXRlX3RvX3NlbGY6IDEsXG4gICAgICB1cGxvYWRfYWZ0ZXJfYmVpbmdfZGlzdHJpYnV0ZWQ6IDEsXG4gICAgICBkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXG4gICAgICBjb21wYW55X2lkOiAxLFxuICAgICAgYWxsb3dfc2VsZWN0X3N0ZXA6IDFcbiAgICB9XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdmbG93X2ZpbGVzJywgZnVuY3Rpb24oc3BhY2VJZCwgZmxvd0lkKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFmbG93SWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBjZnMuZmlsZXMuZmluZCh7XG4gICAgJ21ldGFkYXRhLnNwYWNlJzogc3BhY2VJZCxcbiAgICAnbWV0YWRhdGEub2JqZWN0X25hbWUnOiAnZmxvd3MnLFxuICAgICdtZXRhZGF0YS5yZWNvcmRfaWQnOiBmbG93SWRcbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUoJ2Zsb3dzX3RhYnVsYXInLCBmdW5jdGlvbih0YWJsZU5hbWUsIGlkcywgZmllbGRzKSB7XG4gIGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcbiAgY2hlY2soaWRzLCBBcnJheSk7XG4gIGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHRoaXMudW5ibG9jaygpO1xuICByZXR1cm4ge1xuICAgIGZpbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogaWRzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY2hpbGRyZW46IFtcbiAgICAgIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24oZmxvdykge1xuICAgICAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgICAgIHJldHVybiBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgICAgIHNwYWNlOiBmbG93LnNwYWNlLFxuICAgICAgICAgICAgdXNlcjogZmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgICAgICB1c2VyOiAxLFxuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24oZmxvdykge1xuICAgICAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgICAgIHJldHVybiBkYi5mb3Jtcy5maW5kKHtcbiAgICAgICAgICAgIHNwYWNlOiBmbG93LnNwYWNlLFxuICAgICAgICAgICAgX2lkOiBmbG93LmZvcm1cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgICAgIF9pZDogMSxcbiAgICAgICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICAgICAgY2F0ZWdvcnk6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaW5kOiBmdW5jdGlvbihmbG93KSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLmNhdGVnb3JpZXMuZmluZCh7XG4gICAgICAgICAgICBzcGFjZTogZmxvdy5zcGFjZVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICAgICAgX2lkOiAxLFxuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG4gIH07XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdmb3JtcycsIChzcGFjZUlkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXG5cdHJldHVybiBkYi5mb3Jtcy5maW5kKHtzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtuYW1lOiAxLCBjYXRlZ29yeTogMSwgc3RhdGU6IDEsIGRlc2NyaXB0aW9uOiAxLCBpbnN0YW5jZV9zdHlsZTogMX19KVxuXG5cbk1ldGVvci5wdWJsaXNoICdmb3JtX3ZlcnNpb24nLCAoc3BhY2VJZCwgZm9ybUlkLCB2ZXJzaW9uSWQpIC0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgZm9ybUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyB2ZXJzaW9uSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblxuXHRzZWxmID0gdGhpcztcblxuXHRnZXRGb3JtVmVyc2lvbiA9IChpZCAsIHZlcnNpb25JZCktPlxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtfaWQgOiBpZH0pO1xuXHRcdGlmICFmb3JtXG5cdFx0XHRyZXR1cm4ge31cblx0XHRmb3JtX3ZlcnNpb24gPSBmb3JtLmN1cnJlbnRcblx0XHRmb3JtX3ZlcnNpb24ubGF0ZXN0ID0gdHJ1ZVxuXHRcdGlmIGZvcm1fdmVyc2lvbi5faWQgIT0gdmVyc2lvbklkXG5cdFx0XHRmb3JtX3ZlcnNpb24gPSBmb3JtLmhpc3RvcnlzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdmVyc2lvbklkKVxuXHRcdFx0Zm9ybV92ZXJzaW9uLmxhdGVzdCA9IGZhbHNlXG5cdFx0cmV0dXJuIGZvcm1fdmVyc2lvblxuXG5cdGhhbmRsZSA9IGRiLmZvcm1zLmZpbmQoe19pZDogZm9ybUlkfSwge2ZpZWxkczoge19pZDogMSwgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDF9fSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGNoYW5nZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiZm9ybV92ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZvcm1WZXJzaW9uKGlkLCB2ZXJzaW9uSWQpKTtcblx0fVxuXG5cdHNlbGYuYWRkZWQoXCJmb3JtX3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rm9ybVZlcnNpb24oZm9ybUlkLCB2ZXJzaW9uSWQpKTtcblx0c2VsZi5yZWFkeSgpO1xuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKSIsIk1ldGVvci5wdWJsaXNoKCdmb3JtcycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZm9ybXMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMSxcbiAgICAgIGNhdGVnb3J5OiAxLFxuICAgICAgc3RhdGU6IDEsXG4gICAgICBkZXNjcmlwdGlvbjogMSxcbiAgICAgIGluc3RhbmNlX3N0eWxlOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnZm9ybV92ZXJzaW9uJywgZnVuY3Rpb24oc3BhY2VJZCwgZm9ybUlkLCB2ZXJzaW9uSWQpIHtcbiAgdmFyIGdldEZvcm1WZXJzaW9uLCBoYW5kbGUsIHNlbGY7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFmb3JtSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghdmVyc2lvbklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgZ2V0Rm9ybVZlcnNpb24gPSBmdW5jdGlvbihpZCwgdmVyc2lvbklkKSB7XG4gICAgdmFyIGZvcm0sIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGlkXG4gICAgfSk7XG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudDtcbiAgICBmb3JtX3ZlcnNpb24ubGF0ZXN0ID0gdHJ1ZTtcbiAgICBpZiAoZm9ybV92ZXJzaW9uLl9pZCAhPT0gdmVyc2lvbklkKSB7XG4gICAgICBmb3JtX3ZlcnNpb24gPSBmb3JtLmhpc3RvcnlzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdmVyc2lvbklkKTtcbiAgICAgIGZvcm1fdmVyc2lvbi5sYXRlc3QgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1fdmVyc2lvbjtcbiAgfTtcbiAgaGFuZGxlID0gZGIuZm9ybXMuZmluZCh7XG4gICAgX2lkOiBmb3JtSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxLFxuICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDFcbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImZvcm1fdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGb3JtVmVyc2lvbihpZCwgdmVyc2lvbklkKSk7XG4gICAgfVxuICB9KTtcbiAgc2VsZi5hZGRlZChcImZvcm1fdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGb3JtVmVyc2lvbihmb3JtSWQsIHZlcnNpb25JZCkpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdpbnN0YW5jZV9kYXRhJywgKGluc3RhbmNlSWQsIGJveCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIGluc3RhbmNlSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0c2VsZiA9IHRoaXM7XG5cblx0bWluaUFwcHJvdmVGaWVsZHMgPSBbJ19pZCcsICdpc19maW5pc2hlZCcsICd1c2VyJywgJ2hhbmRsZXInLCAnaGFuZGxlcl9uYW1lJywgJ3R5cGUnLCAnc3RhcnRfZGF0ZScsICdkZXNjcmlwdGlvbicsXG5cdFx0J2lzX3JlYWQnLCAnanVkZ2UnLCAnZmluaXNoX2RhdGUnLCAnZnJvbV91c2VyX25hbWUnLCAnZnJvbV91c2VyJywgJ2NjX2Rlc2NyaXB0aW9uJywgJ2F1dG9fc3VibWl0dGVkJ11cblxuXHR0cmlnZ2VyQ2hhbmdlRmllbGRzID0gWydmb3JtX3ZlcnNpb24nLCAnZmxvd192ZXJzaW9uJywgJ3JlbGF0ZWRfaW5zdGFuY2VzJywgJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnLCAndmFsdWVzJ11cblxuXHR0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzID0ge31cblxuXHRpbnN0YW5jZV9maWVsZHNfMCA9IHtcblx0XHRcInJlY29yZF9zeW5jZWRcIjogMCxcblxuI1x0XHRcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZVwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWVcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvblwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmNvc3RfdGltZVwiOiAwLFxuI1x0XHRcInRyYWNlcy5hcHByb3Zlcy5yZWFkX2RhdGVcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5pc19lcnJvclwiOiAwLFxuXHRcdCMgXCJ0cmFjZXMuYXBwcm92ZXMudXNlcl9uYW1lXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZGVhZGxpbmVcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5yZW1pbmRfZGF0ZVwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLnJlbWluZGVkX2NvdW50XCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMubW9kaWZpZWRfYnlcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5tb2RpZmllZFwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmdlb2xvY2F0aW9uXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuY2NfdXNlcnNcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5mcm9tX2FwcHJvdmVfaWRcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy52YWx1ZXNfaGlzdG9yeVwiOiAwXG5cdH1cblxuXHRnZXRNeWFwcHJvdmVNb2RpZmllZCA9ICh0cmFjZXMpLT5cblx0XHRteUFwcHJvdmVNb2RpZmllZHMgPSBuZXcgQXJyYXkoKVxuXG5cdFx0dHJhY2VzPy5mb3JFYWNoICh0cmFjZSktPlxuXHRcdFx0dHJhY2U/LmFwcHJvdmVzPy5mb3JFYWNoIChhcHByb3ZlKS0+XG5cdFx0XHRcdGlmIChhcHByb3ZlLnVzZXIgPT0gc2VsZi51c2VySWQgfHwgYXBwcm92ZS5oYW5kbGVyID09IHNlbGYudXNlcklkKVxuXHRcdFx0XHQjICYmICFhcHByb3ZlLmlzX2ZpbmlzaGVkXG4jXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiYXBwcm92ZVwiLCBhcHByb3ZlLl9pZCwgYXBwcm92ZS5yZWFkX2RhdGUpXG5cblx0XHRcdFx0XHRteUFwcHJvdmVNb2RpZmllZHMucHVzaChhcHByb3ZlLnJlYWRfZGF0ZSlcblxuXHRcdHJldHVybiBteUFwcHJvdmVNb2RpZmllZHNcblxuXG5cdGdldE1pbmlJbnN0YW5jZSA9IChfaW5zdGFuY2VJZCktPlxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogX2luc3RhbmNlSWR9LCB7ZmllbGRzOiBpbnN0YW5jZV9maWVsZHNfMH0pXG5cblx0XHRpZiBpbnN0YW5jZVxuXG5cdFx0XHR0cmlnZ2VyQ2hhbmdlRmllbGRzLmZvckVhY2ggKGtleSktPlxuXHRcdFx0XHRpZiBrZXkgPT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnXG5cdFx0XHRcdFx0dHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldID0gZ2V0TXlhcHByb3ZlTW9kaWZpZWQoaW5zdGFuY2UudHJhY2VzKVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0dHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldID0gaW5zdGFuY2Vba2V5XVxuXG4jXHRcdFx0aGFzT3BpbmlvbkZpZWxkID0gSW5zdGFuY2VTaWduVGV4dC5pbmNsdWRlc09waW5pb25GaWVsZChpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pXG5cblx0XHRcdHNob3dfbW9kYWxfdHJhY2VzX2xpc3QgPSBkYi5zcGFjZV9zZXR0aW5ncy5maW5kT25lKHsgc3BhY2U6IGluc3RhbmNlLnNwYWNlLCBrZXk6IFwic2hvd19tb2RhbF90cmFjZXNfbGlzdFwiIH0sIHsgZmllbGRzOiB7IHZhbHVlczogMSB9IH0pPy52YWx1ZXMgfHwgZmFsc2VcblxuXHRcdFx0aWYgc2hvd19tb2RhbF90cmFjZXNfbGlzdFxuXG5cdFx0XHRcdHRyYWNlcyA9IG5ldyBBcnJheSgpO1xuXG5cdFx0XHRcdGluc3RhbmNlPy50cmFjZXM/LmZvckVhY2ggKHRyYWNlKS0+XG5cdFx0XHRcdFx0X3RyYWNlID0gXy5jbG9uZSh0cmFjZSlcblxuXHRcdFx0XHRcdGFwcHJvdmVzID0gbmV3IEFycmF5KClcblxuXHRcdFx0XHRcdHRyYWNlPy5hcHByb3Zlcz8uZm9yRWFjaCAoYXBwcm92ZSktPlxuXHRcdFx0XHRcdFx0aWYgYXBwcm92ZS50eXBlICE9ICdjYycgfHwgYXBwcm92ZS51c2VyID09IHNlbGYudXNlcklkIHx8IGFwcHJvdmUuaGFuZGxlciA9PSBzZWxmLnVzZXJJZCB8fCAoIV8uaXNFbXB0eShhcHByb3ZlLnNpZ25fZmllbGRfY29kZSkpXG5cdFx0XHRcdFx0XHRcdGFwcHJvdmVzLnB1c2goYXBwcm92ZSlcblxuXHRcdFx0XHRcdF90cmFjZS5hcHByb3ZlcyA9IGFwcHJvdmVzXG5cblx0XHRcdFx0XHR0cmFjZXMucHVzaChfdHJhY2UpXG5cblx0XHRcdFx0aW5zdGFuY2UudHJhY2VzID0gdHJhY2VzO1xuXG5cdFx0cmV0dXJuIGluc3RhbmNlXG5cblxuXHRuZWVkQ2hhbmdlID0gKGNoYW5nZUZpZWxkcyktPlxuXHRcdGlmIGNoYW5nZUZpZWxkc1xuXG5cdFx0XHRfY2hhbmdlID0gZmFsc2VcblxuXHRcdFx0X3JldiA9IF8uZmluZCB0cmlnZ2VyQ2hhbmdlRmllbGRzLCAoa2V5KS0+XG5cdFx0XHRcdF9rZXkgPSBrZXlcblxuXHRcdFx0XHRpZiBrZXkgPT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnXG5cdFx0XHRcdFx0X2tleSA9ICd0cmFjZXMnXG5cblx0XHRcdFx0aWYgXy5oYXMoY2hhbmdlRmllbGRzLCBfa2V5KVxuXG5cdFx0XHRcdFx0aWYga2V5ID09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJ1xuXG5cdFx0XHRcdFx0XHRfbXlfYXBwcm92ZV9tb2RpZmllZHMgPSBnZXRNeWFwcHJvdmVNb2RpZmllZChjaGFuZ2VGaWVsZHMudHJhY2VzKVxuXG4jXHRcdFx0XHRcdFx0Y29uc29sZS5sb2codHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldLCBfbXlfYXBwcm92ZV9tb2RpZmllZHMpXG5cblx0XHRcdFx0XHRcdHJldHVybiAhXy5pc0VxdWFsKHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSwgX215X2FwcHJvdmVfbW9kaWZpZWRzKVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdHJldHVybiAhXy5pc0VxdWFsKHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSwgY2hhbmdlRmllbGRzW2tleV0pXG5cblx0XHRcdGlmIF9yZXZcblx0XHRcdFx0X2NoYW5nZSA9IHRydWVcblxuI1x0XHRcdGNvbnNvbGUubG9nKF9yZXYsIF9jaGFuZ2UpXG5cblx0XHRcdHJldHVybiBfY2hhbmdlXG5cblx0XHRyZXR1cm4gdHJ1ZVxuXHQj5q2k5aSE5LiN6IO95re75YqgZmllbGRz6ZmQ5Yi277yM5ZCm5YiZ5Lya5a+86Ie05pWw5o2u5LiN5a6e5pe2XG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IGluc3RhbmNlSWR9KS5vYnNlcnZlQ2hhbmdlcyB7XG5cdFx0Y2hhbmdlZDogKGlkLCBmaWVsZHMpLT5cblx0XHRcdGlmKGJveCAhPSAnaW5ib3gnIHx8IG5lZWRDaGFuZ2UoZmllbGRzKSlcblx0XHRcdFx0c2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBnZXRNaW5pSW5zdGFuY2UoaWQpKTtcblx0XHRyZW1vdmVkOiAoaWQpLT5cblx0XHRcdHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XG5cdH1cblxuXHRpbnN0YW5jZSA9IGdldE1pbmlJbnN0YW5jZShpbnN0YW5jZUlkKVxuXG5cdHNlbGYuYWRkZWQoXCJpbnN0YW5jZXNcIiwgaW5zdGFuY2U/Ll9pZCwgaW5zdGFuY2UpO1xuXG5cdHNlbGYucmVhZHkoKTtcblxuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKVxuXG5cbk1ldGVvci5wdWJsaXNoICdpbnN0YW5jZV90cmFjZXMnLCAoaW5zdGFuY2VJZCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIGluc3RhbmNlSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0c2VsZiA9IHRoaXNcblxuXHRnZXRJbnN0YW5jZVRyYWNlcyA9IChfaW5zSWQpLT5cblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogX2luc0lkfSwge2ZpZWxkczoge19pZDogMSwgdHJhY2VzOiAxfX0pXG5cblxuXHRoYW5kbGUgPSAgZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogaW5zdGFuY2VJZH0pLm9ic2VydmVDaGFuZ2VzIHtcblx0XHRjaGFuZ2VkOiAoaWQpLT5cblx0XHRcdHNlbGYuY2hhbmdlZChcImluc3RhbmNlX3RyYWNlc1wiLCBpbnN0YW5jZUlkLCBnZXRJbnN0YW5jZVRyYWNlcyhpbnN0YW5jZUlkKSk7XG5cdH1cblxuXHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VfdHJhY2VzXCIsIGluc3RhbmNlSWQsIGdldEluc3RhbmNlVHJhY2VzKGluc3RhbmNlSWQpKTtcblxuXHRzZWxmLnJlYWR5KCk7XG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpIiwiTWV0ZW9yLnB1Ymxpc2goJ2luc3RhbmNlX2RhdGEnLCBmdW5jdGlvbihpbnN0YW5jZUlkLCBib3gpIHtcbiAgdmFyIGdldE1pbmlJbnN0YW5jZSwgZ2V0TXlhcHByb3ZlTW9kaWZpZWQsIGhhbmRsZSwgaW5zdGFuY2UsIGluc3RhbmNlX2ZpZWxkc18wLCBtaW5pQXBwcm92ZUZpZWxkcywgbmVlZENoYW5nZSwgc2VsZiwgdHJpZ2dlckNoYW5nZUZpZWxkcywgdHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlcztcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFpbnN0YW5jZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgbWluaUFwcHJvdmVGaWVsZHMgPSBbJ19pZCcsICdpc19maW5pc2hlZCcsICd1c2VyJywgJ2hhbmRsZXInLCAnaGFuZGxlcl9uYW1lJywgJ3R5cGUnLCAnc3RhcnRfZGF0ZScsICdkZXNjcmlwdGlvbicsICdpc19yZWFkJywgJ2p1ZGdlJywgJ2ZpbmlzaF9kYXRlJywgJ2Zyb21fdXNlcl9uYW1lJywgJ2Zyb21fdXNlcicsICdjY19kZXNjcmlwdGlvbicsICdhdXRvX3N1Ym1pdHRlZCddO1xuICB0cmlnZ2VyQ2hhbmdlRmllbGRzID0gWydmb3JtX3ZlcnNpb24nLCAnZmxvd192ZXJzaW9uJywgJ3JlbGF0ZWRfaW5zdGFuY2VzJywgJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnLCAndmFsdWVzJ107XG4gIHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXMgPSB7fTtcbiAgaW5zdGFuY2VfZmllbGRzXzAgPSB7XG4gICAgXCJyZWNvcmRfc3luY2VkXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZVwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuY29zdF90aW1lXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuaXNfZXJyb3JcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5kZWFkbGluZVwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLnJlbWluZF9kYXRlXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMucmVtaW5kZWRfY291bnRcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5tb2RpZmllZF9ieVwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLm1vZGlmaWVkXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuZ2VvbG9jYXRpb25cIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5jY191c2Vyc1wiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmZyb21fYXBwcm92ZV9pZFwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLnZhbHVlc19oaXN0b3J5XCI6IDBcbiAgfTtcbiAgZ2V0TXlhcHByb3ZlTW9kaWZpZWQgPSBmdW5jdGlvbih0cmFjZXMpIHtcbiAgICB2YXIgbXlBcHByb3ZlTW9kaWZpZWRzO1xuICAgIG15QXBwcm92ZU1vZGlmaWVkcyA9IG5ldyBBcnJheSgpO1xuICAgIGlmICh0cmFjZXMgIT0gbnVsbCkge1xuICAgICAgdHJhY2VzLmZvckVhY2goZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgdmFyIHJlZjtcbiAgICAgICAgcmV0dXJuIHRyYWNlICE9IG51bGwgPyAocmVmID0gdHJhY2UuYXBwcm92ZXMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgaWYgKGFwcHJvdmUudXNlciA9PT0gc2VsZi51c2VySWQgfHwgYXBwcm92ZS5oYW5kbGVyID09PSBzZWxmLnVzZXJJZCkge1xuICAgICAgICAgICAgcmV0dXJuIG15QXBwcm92ZU1vZGlmaWVkcy5wdXNoKGFwcHJvdmUucmVhZF9kYXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBteUFwcHJvdmVNb2RpZmllZHM7XG4gIH07XG4gIGdldE1pbmlJbnN0YW5jZSA9IGZ1bmN0aW9uKF9pbnN0YW5jZUlkKSB7XG4gICAgdmFyIGluc3RhbmNlLCByZWYsIHJlZjEsIHNob3dfbW9kYWxfdHJhY2VzX2xpc3QsIHRyYWNlcztcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogX2luc3RhbmNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IGluc3RhbmNlX2ZpZWxkc18wXG4gICAgfSk7XG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICB0cmlnZ2VyQ2hhbmdlRmllbGRzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmIChrZXkgPT09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJykge1xuICAgICAgICAgIHJldHVybiB0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0gPSBnZXRNeWFwcHJvdmVNb2RpZmllZChpbnN0YW5jZS50cmFjZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0gPSBpbnN0YW5jZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHNob3dfbW9kYWxfdHJhY2VzX2xpc3QgPSAoKHJlZiA9IGRiLnNwYWNlX3NldHRpbmdzLmZpbmRPbmUoe1xuICAgICAgICBzcGFjZTogaW5zdGFuY2Uuc3BhY2UsXG4gICAgICAgIGtleTogXCJzaG93X21vZGFsX3RyYWNlc19saXN0XCJcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdmFsdWVzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pKSAhPSBudWxsID8gcmVmLnZhbHVlcyA6IHZvaWQgMCkgfHwgZmFsc2U7XG4gICAgICBpZiAoc2hvd19tb2RhbF90cmFjZXNfbGlzdCkge1xuICAgICAgICB0cmFjZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgaWYgKGluc3RhbmNlICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAoKHJlZjEgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJlZjEuZm9yRWFjaChmdW5jdGlvbih0cmFjZSkge1xuICAgICAgICAgICAgICB2YXIgX3RyYWNlLCBhcHByb3ZlcywgcmVmMjtcbiAgICAgICAgICAgICAgX3RyYWNlID0gXy5jbG9uZSh0cmFjZSk7XG4gICAgICAgICAgICAgIGFwcHJvdmVzID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICAgIGlmICh0cmFjZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKChyZWYyID0gdHJhY2UuYXBwcm92ZXMpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIHJlZjIuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcHByb3ZlLnR5cGUgIT09ICdjYycgfHwgYXBwcm92ZS51c2VyID09PSBzZWxmLnVzZXJJZCB8fCBhcHByb3ZlLmhhbmRsZXIgPT09IHNlbGYudXNlcklkIHx8ICghXy5pc0VtcHR5KGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBwcm92ZXMucHVzaChhcHByb3ZlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF90cmFjZS5hcHByb3ZlcyA9IGFwcHJvdmVzO1xuICAgICAgICAgICAgICByZXR1cm4gdHJhY2VzLnB1c2goX3RyYWNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZS50cmFjZXMgPSB0cmFjZXM7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfTtcbiAgbmVlZENoYW5nZSA9IGZ1bmN0aW9uKGNoYW5nZUZpZWxkcykge1xuICAgIHZhciBfY2hhbmdlLCBfcmV2O1xuICAgIGlmIChjaGFuZ2VGaWVsZHMpIHtcbiAgICAgIF9jaGFuZ2UgPSBmYWxzZTtcbiAgICAgIF9yZXYgPSBfLmZpbmQodHJpZ2dlckNoYW5nZUZpZWxkcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHZhciBfa2V5LCBfbXlfYXBwcm92ZV9tb2RpZmllZHM7XG4gICAgICAgIF9rZXkgPSBrZXk7XG4gICAgICAgIGlmIChrZXkgPT09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJykge1xuICAgICAgICAgIF9rZXkgPSAndHJhY2VzJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoXy5oYXMoY2hhbmdlRmllbGRzLCBfa2V5KSkge1xuICAgICAgICAgIGlmIChrZXkgPT09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJykge1xuICAgICAgICAgICAgX215X2FwcHJvdmVfbW9kaWZpZWRzID0gZ2V0TXlhcHByb3ZlTW9kaWZpZWQoY2hhbmdlRmllbGRzLnRyYWNlcyk7XG4gICAgICAgICAgICByZXR1cm4gIV8uaXNFcXVhbCh0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0sIF9teV9hcHByb3ZlX21vZGlmaWVkcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAhXy5pc0VxdWFsKHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSwgY2hhbmdlRmllbGRzW2tleV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoX3Jldikge1xuICAgICAgICBfY2hhbmdlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfY2hhbmdlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgaGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgIF9pZDogaW5zdGFuY2VJZFxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQsIGZpZWxkcykge1xuICAgICAgaWYgKGJveCAhPT0gJ2luYm94JyB8fCBuZWVkQ2hhbmdlKGZpZWxkcykpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgZ2V0TWluaUluc3RhbmNlKGlkKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XG4gICAgfVxuICB9KTtcbiAgaW5zdGFuY2UgPSBnZXRNaW5pSW5zdGFuY2UoaW5zdGFuY2VJZCk7XG4gIHNlbGYuYWRkZWQoXCJpbnN0YW5jZXNcIiwgaW5zdGFuY2UgIT0gbnVsbCA/IGluc3RhbmNlLl9pZCA6IHZvaWQgMCwgaW5zdGFuY2UpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2goJ2luc3RhbmNlX3RyYWNlcycsIGZ1bmN0aW9uKGluc3RhbmNlSWQpIHtcbiAgdmFyIGdldEluc3RhbmNlVHJhY2VzLCBoYW5kbGUsIHNlbGY7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghaW5zdGFuY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgc2VsZiA9IHRoaXM7XG4gIGdldEluc3RhbmNlVHJhY2VzID0gZnVuY3Rpb24oX2luc0lkKSB7XG4gICAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogX2luc0lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIF9pZDogMSxcbiAgICAgICAgdHJhY2VzOiAxXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBfaWQ6IGluc3RhbmNlSWRcbiAgfSkub2JzZXJ2ZUNoYW5nZXMoe1xuICAgIGNoYW5nZWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VfdHJhY2VzXCIsIGluc3RhbmNlSWQsIGdldEluc3RhbmNlVHJhY2VzKGluc3RhbmNlSWQpKTtcbiAgICB9XG4gIH0pO1xuICBzZWxmLmFkZGVkKFwiaW5zdGFuY2VfdHJhY2VzXCIsIGluc3RhbmNlSWQsIGdldEluc3RhbmNlVHJhY2VzKGluc3RhbmNlSWQpKTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG4iLCJcblx0TWV0ZW9yLnB1Ymxpc2ggJ2luc3RhbmNlc19saXN0JywgKHNwYWNlSWQsIGJveCwgZmxvd0lkKS0+XG5cblx0XHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRcdHJldHVybiB0aGlzLnJlYWR5KClcblx0XHRcblx0XHR1bmxlc3Mgc3BhY2VJZFxuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdFx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlSWR9XG5cdFx0aWYgYm94ID09IFwiaW5ib3hcIlxuXHRcdFx0cXVlcnkuaW5ib3hfdXNlcnMgPSB0aGlzLnVzZXJJZDtcblx0XHRlbHNlIGlmIGJveCA9PSBcIm91dGJveFwiXG5cdFx0XHRxdWVyeS5vdXRib3hfdXNlcnMgPSB0aGlzLnVzZXJJZDtcblx0XHRlbHNlIGlmIGJveCA9PSBcImRyYWZ0XCJcblx0XHRcdHF1ZXJ5LnN1Ym1pdHRlciA9IHRoaXMudXNlcklkO1xuXHRcdFx0cXVlcnkuc3RhdGUgPSBcImRyYWZ0XCJcblx0XHRlbHNlIGlmIGJveCA9PSBcInBlbmRpbmdcIlxuXHRcdFx0cXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XG5cdFx0XHRxdWVyeS5zdGF0ZSA9IFwicGVuZGluZ1wiXG5cdFx0ZWxzZSBpZiBib3ggPT0gXCJjb21wbGV0ZWRcIlxuXHRcdFx0cXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XG5cdFx0XHRxdWVyeS5zdGF0ZSA9IFwiY29tcGxldGVkXCJcblx0XHRlbHNlIGlmIGJveCA9PSBcIm1vbml0b3JcIlxuXHRcdFx0cXVlcnkuZmxvdyA9IGZsb3dJZDtcblx0XHRcdHF1ZXJ5LnN0YXRlID0geyRpbjogW1wicGVuZGluZ1wiLFwiY29tcGxldGVkXCJdfTtcblx0XHRlbHNlXG5cdFx0XHRxdWVyeS5zdGF0ZSA9IFwibm9uZVwiXG5cblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtmaWVsZHM6IHtuYW1lOjEsIGNyZWF0ZWQ6MSwgZm9ybToxLCBmbG93OiAxLCBzcGFjZToxLCBtb2RpZmllZDoxLCBhcHBsaWNhbnQ6IDEsIGlzX2FyY2hpdmVkOjEsIGZvcm1fdmVyc2lvbjogMSwgZmxvd192ZXJzaW9uOiAxfX0pXG5cbiIsIk1ldGVvci5wdWJsaXNoKCdpbnN0YW5jZXNfbGlzdCcsIGZ1bmN0aW9uKHNwYWNlSWQsIGJveCwgZmxvd0lkKSB7XG4gIHZhciBxdWVyeTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBxdWVyeSA9IHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9O1xuICBpZiAoYm94ID09PSBcImluYm94XCIpIHtcbiAgICBxdWVyeS5pbmJveF91c2VycyA9IHRoaXMudXNlcklkO1xuICB9IGVsc2UgaWYgKGJveCA9PT0gXCJvdXRib3hcIikge1xuICAgIHF1ZXJ5Lm91dGJveF91c2VycyA9IHRoaXMudXNlcklkO1xuICB9IGVsc2UgaWYgKGJveCA9PT0gXCJkcmFmdFwiKSB7XG4gICAgcXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XG4gICAgcXVlcnkuc3RhdGUgPSBcImRyYWZ0XCI7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcInBlbmRpbmdcIikge1xuICAgIHF1ZXJ5LnN1Ym1pdHRlciA9IHRoaXMudXNlcklkO1xuICAgIHF1ZXJ5LnN0YXRlID0gXCJwZW5kaW5nXCI7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcImNvbXBsZXRlZFwiKSB7XG4gICAgcXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XG4gICAgcXVlcnkuc3RhdGUgPSBcImNvbXBsZXRlZFwiO1xuICB9IGVsc2UgaWYgKGJveCA9PT0gXCJtb25pdG9yXCIpIHtcbiAgICBxdWVyeS5mbG93ID0gZmxvd0lkO1xuICAgIHF1ZXJ5LnN0YXRlID0ge1xuICAgICAgJGluOiBbXCJwZW5kaW5nXCIsIFwiY29tcGxldGVkXCJdXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBxdWVyeS5zdGF0ZSA9IFwibm9uZVwiO1xuICB9XG4gIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMSxcbiAgICAgIGNyZWF0ZWQ6IDEsXG4gICAgICBmb3JtOiAxLFxuICAgICAgZmxvdzogMSxcbiAgICAgIHNwYWNlOiAxLFxuICAgICAgbW9kaWZpZWQ6IDEsXG4gICAgICBhcHBsaWNhbnQ6IDEsXG4gICAgICBpc19hcmNoaXZlZDogMSxcbiAgICAgIGZvcm1fdmVyc2lvbjogMSxcbiAgICAgIGZsb3dfdmVyc2lvbjogMVxuICAgIH1cbiAgfSk7XG59KTtcbiIsImxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUgPSAoaW5zdGFuY2VpZCwgdXNlcklkLCBkYXRhTWFwLCBjYWxsYmFjayktPlxuXHRvcGVyYXRpb24gPSBbe1xuXHRcdFwiJG1hdGNoXCI6IHtcblx0XHRcdFwiX2lkXCI6IGluc3RhbmNlaWRcblx0XHR9XG5cdH0sIHtcIiRwcm9qZWN0XCI6IHtcIm5hbWVcIjogMSwgXCJfYXBwcm92ZVwiOiBcIiR0cmFjZXMuYXBwcm92ZXNcIn19LCB7XCIkdW53aW5kXCI6IFwiJF9hcHByb3ZlXCJ9LCB7XCIkdW53aW5kXCI6IFwiJF9hcHByb3ZlXCJ9LFxuXHRcdHtcIiRtYXRjaFwiOiB7XCJfYXBwcm92ZS5pc19maW5pc2hlZFwiOiB0cnVlLCAkb3I6W3tcIl9hcHByb3ZlLmhhbmRsZXJcIjogdXNlcklkfSx7XCJfYXBwcm92ZS51c2VyXCI6IHVzZXJJZH1dfX0sXG5cdFx0e1wiJGdyb3VwXCI6IHtcIl9pZFwiOiBcIiRfaWRcIiwgXCJmaW5pc2hfZGF0ZVwiOiB7XCIkbGFzdFwiOiBcIiRfYXBwcm92ZS5maW5pc2hfZGF0ZVwifX19XG5cdF1cblxuXHRkYi5pbnN0YW5jZXMucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShvcGVyYXRpb24pLnRvQXJyYXkgKGVyciwgZGF0YSktPlxuXHRcdGlmIGVyclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycilcblxuXHRcdGRhdGEuZm9yRWFjaCAoZG9jKSAtPlxuXHRcdFx0ZGF0YU1hcC5wdXNoIGRvY1xuXG5cdFx0aWYgY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKVxuXHRcdFx0Y2FsbGJhY2soKVxuXHRcdHJldHVyblxuXG5hc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUgPSBNZXRlb3Iud3JhcEFzeW5jKGxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUpXG5cbk1ldGVvci5wdWJsaXNoIFwiaW5zdGFuY2VfdGFidWxhclwiLCAodGFibGVOYW1lLCBpZHMsIGZpZWxkcyktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0Y2hlY2sodGFibGVOYW1lLCBTdHJpbmcpO1xuXG5cdGNoZWNrKGlkcywgQXJyYXkpO1xuXG5cdGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSlcblxuXHRmaWVsZHMuY2NfdXNlcnMgPSAxXG5cblx0c2VsZiA9IHRoaXM7XG5cblx0Z2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlID0gKHVzZXJJZCwgaW5zdGFuY2VJZCktPlxuXHRcdGRhdGEgPSBbXVxuXHRcdGFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZShpbnN0YW5jZUlkLCB1c2VySWQsIGRhdGEpXG5cdFx0aWYgZGF0YS5sZW5ndGggPiAwXG5cdFx0XHRyZXR1cm4gZGF0YVswXVxuXG5cblx0Z2V0TXlBcHByb3ZlID0gKHVzZXJJZCwgaW5zdGFuY2VJZCktPlxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0sIHtmaWVsZHM6IHt0cmFjZXM6IDF9fSlcblx0XHRteUFwcHJvdmUgPSBudWxsXG5cblx0XHRpZiAhaW5zdGFuY2Vcblx0XHRcdHJldHVyblxuXG5cdFx0aWYgIWluc3RhbmNlLnRyYWNlcyB8fCBpbnN0YW5jZS50cmFjZXMubGVuZ3RoIDwgMVxuXHRcdFx0cmV0dXJuXG5cblx0XHRub3RGaW5pc2hlZFRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcy5maWx0ZXJQcm9wZXJ0eShcImlzX2ZpbmlzaGVkXCIsIGZhbHNlKVxuXG5cdFx0aWYgbm90RmluaXNoZWRUcmFjZXMubGVuZ3RoID4gMFxuXHRcdFx0YXBwcm92ZXMgPSBub3RGaW5pc2hlZFRyYWNlc1swXS5hcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eShcImlzX2ZpbmlzaGVkXCIsIGZhbHNlKS5maWx0ZXJQcm9wZXJ0eShcImhhbmRsZXJcIiwgdXNlcklkKTtcblxuXHRcdFx0aWYgYXBwcm92ZXMubGVuZ3RoID4gMFxuXHRcdFx0XHRhcHByb3ZlID0gYXBwcm92ZXNbMF1cblx0XHRcdFx0bXlBcHByb3ZlID0ge1xuXHRcdFx0XHRcdGlkOiBhcHByb3ZlLl9pZCxcblx0XHRcdFx0XHRpbnN0YW5jZTogYXBwcm92ZS5pbnN0YW5jZSxcblx0XHRcdFx0XHR0cmFjZTogYXBwcm92ZS50cmFjZSxcblx0XHRcdFx0XHRpc19yZWFkOiBhcHByb3ZlLmlzX3JlYWQsXG5cdFx0XHRcdFx0c3RhcnRfZGF0ZTogYXBwcm92ZS5zdGFydF9kYXRlXG5cdFx0XHRcdFx0YWdlbnQ6IGFwcHJvdmUuYWdlbnRcblx0XHRcdFx0XHR1c2VyX25hbWU6IGFwcHJvdmUudXNlcl9uYW1lXG5cdFx0XHRcdH1cblxuXHRcdGlmICFteUFwcHJvdmVcblx0XHRcdGlzX3JlYWQgPSBmYWxzZVxuXHRcdFx0aW5zdGFuY2UudHJhY2VzLmZvckVhY2ggKHRyYWNlKSAtPlxuXHRcdFx0XHR0cmFjZT8uYXBwcm92ZXM/LmZvckVhY2ggKGFwcHJvdmUpIC0+XG5cdFx0XHRcdFx0aWYgYXBwcm92ZS50eXBlID09ICdjYycgYW5kIGFwcHJvdmUudXNlciA9PSB1c2VySWQgYW5kIGFwcHJvdmUuaXNfZmluaXNoZWQgPT0gZmFsc2Vcblx0XHRcdFx0XHRcdGlmIGFwcHJvdmUuaXNfcmVhZFxuXHRcdFx0XHRcdFx0XHRpc19yZWFkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0bXlBcHByb3ZlID0ge2lkOiBhcHByb3ZlLl9pZCwgaXNfcmVhZDogaXNfcmVhZCwgc3RhcnRfZGF0ZTogYXBwcm92ZS5zdGFydF9kYXRlLCBhZ2VudDogYXBwcm92ZS5hZ2VudCwgdXNlcl9uYW1lOiBhcHByb3ZlLnVzZXJfbmFtZX1cblxuXHRcdHJldHVybiBteUFwcHJvdmVcblxuXHRnZXRTdGVwQ3VycmVudE5hbWUgPSAoaW5zdGFuY2VJZCkgLT5cblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlSWR9LCB7ZmllbGRzOiB7XCJ0cmFjZXMubmFtZVwiOiAxLCBcInRyYWNlc1wiOiB7JHNsaWNlOiAtMX19fSlcblx0XHRpZiBpbnN0YW5jZVxuXHRcdFx0c3RlcEN1cnJlbnROYW1lID0gaW5zdGFuY2UudHJhY2VzP1swXT8ubmFtZVxuXG5cdFx0cmV0dXJuIHN0ZXBDdXJyZW50TmFtZVxuXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46IGlkc319LCB7ZmllbGRzOiB7dHJhY2VzOiAwfX0pLm9ic2VydmVDaGFuZ2VzIHtcblx0XHRjaGFuZ2VkOiAoaWQpLT5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaWR9LCB7ZmllbGRzOiBmaWVsZHN9KVxuXHRcdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxuXHRcdFx0bXlBcHByb3ZlID0gZ2V0TXlBcHByb3ZlKHNlbGYudXNlcklkLCBpZClcblx0XHRcdG15TGFzdEZpbmlzaGVkQXBwcm92ZSA9IGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpXG5cdFx0XHRpZiBteUFwcHJvdmVcblx0XHRcdFx0aW5zdGFuY2UuaXNfcmVhZCA9IG15QXBwcm92ZS5pc19yZWFkXG5cdFx0XHRcdGluc3RhbmNlLnN0YXJ0X2RhdGUgPSBteUFwcHJvdmUuc3RhcnRfZGF0ZVxuXHRcdFx0XHRpZiBteUFwcHJvdmUuYWdlbnRcblx0XHRcdFx0XHRpbnN0YW5jZS5hZ2VudF91c2VyX25hbWUgPSBteUFwcHJvdmUudXNlcl9uYW1lXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGluc3RhbmNlLmlzX3JlYWQgPSB0cnVlXG5cblx0XHRcdGlmIG15TGFzdEZpbmlzaGVkQXBwcm92ZVxuXHRcdFx0XHRpbnN0YW5jZS5teV9maW5pc2hfZGF0ZSA9IG15TGFzdEZpbmlzaGVkQXBwcm92ZS5maW5pc2hfZGF0ZVxuXG5cdFx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2Vcblx0XHRcdGluc3RhbmNlLmNjX2NvdW50ID0gaW5zdGFuY2UuY2NfdXNlcnM/Lmxlbmd0aCB8fCAwXG5cdFx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRcdHRyeVxuXHRcdFx0XHRzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcblx0XHRcdGNhdGNoIGVycm9yXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdpbnN0YW5jZSBvYnNlcnZlQ2hhbmdlcyBlcnJvcjogJywgZXJyb3IubWVzc2FnZSk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdzZWxmLnVzZXJJZDogJywgc2VsZi51c2VySWQpO1xuXHRcdFx0XHRjb25zb2xlLmxvZygndGFibGVOYW1lOiAnLCB0YWJsZU5hbWUpO1xuXHRcdFx0XHRjb25zb2xlLmxvZygnaWRzOiAnLCBKU09OLnN0cmluZ2lmeShpZHMpKTtcblx0XHRcdFx0Y29uc29sZS5sb2coJ215QXBwcm92ZTogJywgSlNPTi5zdHJpbmdpZnkobXlBcHByb3ZlKSk7XG5cdFx0cmVtb3ZlZDogKGlkKS0+XG5cdFx0XHRzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xuXHR9XG5cblx0aWRzLmZvckVhY2ggKGlkKS0+XG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXG5cdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxuXHRcdG15QXBwcm92ZSA9IGdldE15QXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpXG5cdFx0bXlMYXN0RmluaXNoZWRBcHByb3ZlID0gZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlKHNlbGYudXNlcklkLCBpZClcblx0XHRpZiBteUFwcHJvdmVcblx0XHRcdGluc3RhbmNlLmlzX3JlYWQgPSBteUFwcHJvdmUuaXNfcmVhZFxuXHRcdFx0aW5zdGFuY2Uuc3RhcnRfZGF0ZSA9IG15QXBwcm92ZS5zdGFydF9kYXRlXG5cdFx0XHRpZiBteUFwcHJvdmUuYWdlbnRcblx0XHRcdFx0XHRpbnN0YW5jZS5hZ2VudF91c2VyX25hbWUgPSBteUFwcHJvdmUudXNlcl9uYW1lXG5cdFx0ZWxzZVxuXHRcdFx0aW5zdGFuY2UuaXNfcmVhZCA9IHRydWVcblxuXHRcdGlmIG15TGFzdEZpbmlzaGVkQXBwcm92ZVxuXHRcdFx0aW5zdGFuY2UubXlfZmluaXNoX2RhdGUgPSBteUxhc3RGaW5pc2hlZEFwcHJvdmUuZmluaXNoX2RhdGVcblxuXHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxuXHRcdGluc3RhbmNlLmNjX2NvdW50ID0gaW5zdGFuY2UuY2NfdXNlcnM/Lmxlbmd0aCB8fCAwXG5cdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXG5cdFx0c2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xuXG5cdHNlbGYucmVhZHkoKTtcblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKCkiLCJ2YXIgYXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlLCBsYXN0RmluaXNoZWRBcHByb3ZlQWdncmVnYXRlO1xuXG5sYXN0RmluaXNoZWRBcHByb3ZlQWdncmVnYXRlID0gZnVuY3Rpb24oaW5zdGFuY2VpZCwgdXNlcklkLCBkYXRhTWFwLCBjYWxsYmFjaykge1xuICB2YXIgb3BlcmF0aW9uO1xuICBvcGVyYXRpb24gPSBbXG4gICAge1xuICAgICAgXCIkbWF0Y2hcIjoge1xuICAgICAgICBcIl9pZFwiOiBpbnN0YW5jZWlkXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgXCIkcHJvamVjdFwiOiB7XG4gICAgICAgIFwibmFtZVwiOiAxLFxuICAgICAgICBcIl9hcHByb3ZlXCI6IFwiJHRyYWNlcy5hcHByb3Zlc1wiXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgXCIkdW53aW5kXCI6IFwiJF9hcHByb3ZlXCJcbiAgICB9LCB7XG4gICAgICBcIiR1bndpbmRcIjogXCIkX2FwcHJvdmVcIlxuICAgIH0sIHtcbiAgICAgIFwiJG1hdGNoXCI6IHtcbiAgICAgICAgXCJfYXBwcm92ZS5pc19maW5pc2hlZFwiOiB0cnVlLFxuICAgICAgICAkb3I6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBcIl9hcHByb3ZlLmhhbmRsZXJcIjogdXNlcklkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgXCJfYXBwcm92ZS51c2VyXCI6IHVzZXJJZFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIFwiJGdyb3VwXCI6IHtcbiAgICAgICAgXCJfaWRcIjogXCIkX2lkXCIsXG4gICAgICAgIFwiZmluaXNoX2RhdGVcIjoge1xuICAgICAgICAgIFwiJGxhc3RcIjogXCIkX2FwcHJvdmUuZmluaXNoX2RhdGVcIlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBdO1xuICByZXR1cm4gZGIuaW5zdGFuY2VzLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUob3BlcmF0aW9uKS50b0FycmF5KGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgIH1cbiAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oZG9jKSB7XG4gICAgICByZXR1cm4gZGF0YU1hcC5wdXNoKGRvYyk7XG4gICAgfSk7XG4gICAgaWYgKGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZSA9IE1ldGVvci53cmFwQXN5bmMobGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZSk7XG5cbk1ldGVvci5wdWJsaXNoKFwiaW5zdGFuY2VfdGFidWxhclwiLCBmdW5jdGlvbih0YWJsZU5hbWUsIGlkcywgZmllbGRzKSB7XG4gIHZhciBnZXRNeUFwcHJvdmUsIGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZSwgZ2V0U3RlcEN1cnJlbnROYW1lLCBoYW5kbGUsIHNlbGY7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcbiAgY2hlY2soaWRzLCBBcnJheSk7XG4gIGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XG4gIGZpZWxkcy5jY191c2VycyA9IDE7XG4gIHNlbGYgPSB0aGlzO1xuICBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBmdW5jdGlvbih1c2VySWQsIGluc3RhbmNlSWQpIHtcbiAgICB2YXIgZGF0YTtcbiAgICBkYXRhID0gW107XG4gICAgYXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlKGluc3RhbmNlSWQsIHVzZXJJZCwgZGF0YSk7XG4gICAgaWYgKGRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGRhdGFbMF07XG4gICAgfVxuICB9O1xuICBnZXRNeUFwcHJvdmUgPSBmdW5jdGlvbih1c2VySWQsIGluc3RhbmNlSWQpIHtcbiAgICB2YXIgYXBwcm92ZSwgYXBwcm92ZXMsIGluc3RhbmNlLCBpc19yZWFkLCBteUFwcHJvdmUsIG5vdEZpbmlzaGVkVHJhY2VzO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHRyYWNlczogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIG15QXBwcm92ZSA9IG51bGw7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWluc3RhbmNlLnRyYWNlcyB8fCBpbnN0YW5jZS50cmFjZXMubGVuZ3RoIDwgMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBub3RGaW5pc2hlZFRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcy5maWx0ZXJQcm9wZXJ0eShcImlzX2ZpbmlzaGVkXCIsIGZhbHNlKTtcbiAgICBpZiAobm90RmluaXNoZWRUcmFjZXMubGVuZ3RoID4gMCkge1xuICAgICAgYXBwcm92ZXMgPSBub3RGaW5pc2hlZFRyYWNlc1swXS5hcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eShcImlzX2ZpbmlzaGVkXCIsIGZhbHNlKS5maWx0ZXJQcm9wZXJ0eShcImhhbmRsZXJcIiwgdXNlcklkKTtcbiAgICAgIGlmIChhcHByb3Zlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGFwcHJvdmUgPSBhcHByb3Zlc1swXTtcbiAgICAgICAgbXlBcHByb3ZlID0ge1xuICAgICAgICAgIGlkOiBhcHByb3ZlLl9pZCxcbiAgICAgICAgICBpbnN0YW5jZTogYXBwcm92ZS5pbnN0YW5jZSxcbiAgICAgICAgICB0cmFjZTogYXBwcm92ZS50cmFjZSxcbiAgICAgICAgICBpc19yZWFkOiBhcHByb3ZlLmlzX3JlYWQsXG4gICAgICAgICAgc3RhcnRfZGF0ZTogYXBwcm92ZS5zdGFydF9kYXRlLFxuICAgICAgICAgIGFnZW50OiBhcHByb3ZlLmFnZW50LFxuICAgICAgICAgIHVzZXJfbmFtZTogYXBwcm92ZS51c2VyX25hbWVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFteUFwcHJvdmUpIHtcbiAgICAgIGlzX3JlYWQgPSBmYWxzZTtcbiAgICAgIGluc3RhbmNlLnRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICAgIHZhciByZWY7XG4gICAgICAgIHJldHVybiB0cmFjZSAhPSBudWxsID8gKHJlZiA9IHRyYWNlLmFwcHJvdmVzKSAhPSBudWxsID8gcmVmLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgICAgIGlmIChhcHByb3ZlLnR5cGUgPT09ICdjYycgJiYgYXBwcm92ZS51c2VyID09PSB1c2VySWQgJiYgYXBwcm92ZS5pc19maW5pc2hlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmIChhcHByb3ZlLmlzX3JlYWQpIHtcbiAgICAgICAgICAgICAgaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbXlBcHByb3ZlID0ge1xuICAgICAgICAgICAgICBpZDogYXBwcm92ZS5faWQsXG4gICAgICAgICAgICAgIGlzX3JlYWQ6IGlzX3JlYWQsXG4gICAgICAgICAgICAgIHN0YXJ0X2RhdGU6IGFwcHJvdmUuc3RhcnRfZGF0ZSxcbiAgICAgICAgICAgICAgYWdlbnQ6IGFwcHJvdmUuYWdlbnQsXG4gICAgICAgICAgICAgIHVzZXJfbmFtZTogYXBwcm92ZS51c2VyX25hbWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbXlBcHByb3ZlO1xuICB9O1xuICBnZXRTdGVwQ3VycmVudE5hbWUgPSBmdW5jdGlvbihpbnN0YW5jZUlkKSB7XG4gICAgdmFyIGluc3RhbmNlLCByZWYsIHJlZjEsIHN0ZXBDdXJyZW50TmFtZTtcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy5uYW1lXCI6IDEsXG4gICAgICAgIFwidHJhY2VzXCI6IHtcbiAgICAgICAgICAkc2xpY2U6IC0xXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgIHN0ZXBDdXJyZW50TmFtZSA9IChyZWYgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwgPyAocmVmMSA9IHJlZlswXSkgIT0gbnVsbCA/IHJlZjEubmFtZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICB9XG4gICAgcmV0dXJuIHN0ZXBDdXJyZW50TmFtZTtcbiAgfTtcbiAgaGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgIF9pZDoge1xuICAgICAgJGluOiBpZHNcbiAgICB9XG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHRyYWNlczogMFxuICAgIH1cbiAgfSkub2JzZXJ2ZUNoYW5nZXMoe1xuICAgIGNoYW5nZWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICB2YXIgZXJyb3IsIGluc3RhbmNlLCBteUFwcHJvdmUsIG15TGFzdEZpbmlzaGVkQXBwcm92ZSwgcmVmLCByZWYxO1xuICAgICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICAgIH0pO1xuICAgICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBteUFwcHJvdmUgPSBnZXRNeUFwcHJvdmUoc2VsZi51c2VySWQsIGlkKTtcbiAgICAgIG15TGFzdEZpbmlzaGVkQXBwcm92ZSA9IGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpO1xuICAgICAgaWYgKG15QXBwcm92ZSkge1xuICAgICAgICBpbnN0YW5jZS5pc19yZWFkID0gbXlBcHByb3ZlLmlzX3JlYWQ7XG4gICAgICAgIGluc3RhbmNlLnN0YXJ0X2RhdGUgPSBteUFwcHJvdmUuc3RhcnRfZGF0ZTtcbiAgICAgICAgaWYgKG15QXBwcm92ZS5hZ2VudCkge1xuICAgICAgICAgIGluc3RhbmNlLmFnZW50X3VzZXJfbmFtZSA9IG15QXBwcm92ZS51c2VyX25hbWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluc3RhbmNlLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKG15TGFzdEZpbmlzaGVkQXBwcm92ZSkge1xuICAgICAgICBpbnN0YW5jZS5teV9maW5pc2hfZGF0ZSA9IG15TGFzdEZpbmlzaGVkQXBwcm92ZS5maW5pc2hfZGF0ZTtcbiAgICAgIH1cbiAgICAgIGluc3RhbmNlLmlzX2NjID0gKChyZWYgPSBpbnN0YW5jZS5jY191c2VycykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgOiB2b2lkIDApIHx8IGZhbHNlO1xuICAgICAgaW5zdGFuY2UuY2NfY291bnQgPSAoKHJlZjEgPSBpbnN0YW5jZS5jY191c2VycykgIT0gbnVsbCA/IHJlZjEubGVuZ3RoIDogdm9pZCAwKSB8fCAwO1xuICAgICAgZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IxKSB7XG4gICAgICAgIGVycm9yID0gZXJyb3IxO1xuICAgICAgICBjb25zb2xlLmxvZygnaW5zdGFuY2Ugb2JzZXJ2ZUNoYW5nZXMgZXJyb3I6ICcsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICBjb25zb2xlLmxvZygnc2VsZi51c2VySWQ6ICcsIHNlbGYudXNlcklkKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3RhYmxlTmFtZTogJywgdGFibGVOYW1lKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2lkczogJywgSlNPTi5zdHJpbmdpZnkoaWRzKSk7XG4gICAgICAgIHJldHVybiBjb25zb2xlLmxvZygnbXlBcHByb3ZlOiAnLCBKU09OLnN0cmluZ2lmeShteUFwcHJvdmUpKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gc2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcbiAgICB9XG4gIH0pO1xuICBpZHMuZm9yRWFjaChmdW5jdGlvbihpZCkge1xuICAgIHZhciBpbnN0YW5jZSwgbXlBcHByb3ZlLCBteUxhc3RGaW5pc2hlZEFwcHJvdmUsIHJlZiwgcmVmMTtcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IGZpZWxkc1xuICAgIH0pO1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbXlBcHByb3ZlID0gZ2V0TXlBcHByb3ZlKHNlbGYudXNlcklkLCBpZCk7XG4gICAgbXlMYXN0RmluaXNoZWRBcHByb3ZlID0gZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlKHNlbGYudXNlcklkLCBpZCk7XG4gICAgaWYgKG15QXBwcm92ZSkge1xuICAgICAgaW5zdGFuY2UuaXNfcmVhZCA9IG15QXBwcm92ZS5pc19yZWFkO1xuICAgICAgaW5zdGFuY2Uuc3RhcnRfZGF0ZSA9IG15QXBwcm92ZS5zdGFydF9kYXRlO1xuICAgICAgaWYgKG15QXBwcm92ZS5hZ2VudCkge1xuICAgICAgICBpbnN0YW5jZS5hZ2VudF91c2VyX25hbWUgPSBteUFwcHJvdmUudXNlcl9uYW1lO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZS5pc19yZWFkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG15TGFzdEZpbmlzaGVkQXBwcm92ZSkge1xuICAgICAgaW5zdGFuY2UubXlfZmluaXNoX2RhdGUgPSBteUxhc3RGaW5pc2hlZEFwcHJvdmUuZmluaXNoX2RhdGU7XG4gICAgfVxuICAgIGluc3RhbmNlLmlzX2NjID0gKChyZWYgPSBpbnN0YW5jZS5jY191c2VycykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgOiB2b2lkIDApIHx8IGZhbHNlO1xuICAgIGluc3RhbmNlLmNjX2NvdW50ID0gKChyZWYxID0gaW5zdGFuY2UuY2NfdXNlcnMpICE9IG51bGwgPyByZWYxLmxlbmd0aCA6IHZvaWQgMCkgfHwgMDtcbiAgICBkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnM7XG4gICAgcmV0dXJuIHNlbGYuYWRkZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcbiAgfSk7XG4gIHNlbGYucmVhZHkoKTtcbiAgcmV0dXJuIHNlbGYub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2luc3RhbmNlc19kcmFmdCcsIChzcGFjZUlkKSAtPlxuXHRjaGVjayBzcGFjZUlkLCBTdHJpbmdcblxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dXNlcklkID0gdGhpcy51c2VySWRcblx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtzdGF0ZTpcImRyYWZ0XCIsc3BhY2U6c3BhY2VJZCxzdWJtaXR0ZXI6dXNlcklkLCRvcjpbe2luYm94X3VzZXJzOiB7JGV4aXN0czpmYWxzZX19LCB7aW5ib3hfdXNlcnM6IFtdfV19LCB7ZmllbGRzOiB7X2lkOiAxLCBzdGF0ZTogMSwgc3BhY2U6IDEsIHN1Ym1pdHRlcjogMSwgaW5ib3hfdXNlcnM6IDEsIG1vZGlmaWVkOiAxLCBuYW1lOiAxfSwgc29ydDp7bW9kaWZpZWQ6IC0xfX0pIiwiTWV0ZW9yLnB1Ymxpc2goJ2luc3RhbmNlc19kcmFmdCcsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgdmFyIHVzZXJJZDtcbiAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgdXNlcklkID0gdGhpcy51c2VySWQ7XG4gIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgc3RhdGU6IFwiZHJhZnRcIixcbiAgICBzcGFjZTogc3BhY2VJZCxcbiAgICBzdWJtaXR0ZXI6IHVzZXJJZCxcbiAgICAkb3I6IFtcbiAgICAgIHtcbiAgICAgICAgaW5ib3hfdXNlcnM6IHtcbiAgICAgICAgICAkZXhpc3RzOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGluYm94X3VzZXJzOiBbXVxuICAgICAgfVxuICAgIF1cbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxLFxuICAgICAgc3RhdGU6IDEsXG4gICAgICBzcGFjZTogMSxcbiAgICAgIHN1Ym1pdHRlcjogMSxcbiAgICAgIGluYm94X3VzZXJzOiAxLFxuICAgICAgbW9kaWZpZWQ6IDEsXG4gICAgICBuYW1lOiAxXG4gICAgfSxcbiAgICBzb3J0OiB7XG4gICAgICBtb2RpZmllZDogLTFcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAnZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcycsIChpbnN0YW5jZV9pZHMpLT5cblx0Y2hlY2soaW5zdGFuY2VfaWRzLCBBcnJheSlcblxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cdFxuXHR1bmxlc3MgaW5zdGFuY2VfaWRzXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdGlmIF8uaXNFbXB0eShpbnN0YW5jZV9pZHMpXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHNlbGYgPSB0aGlzXG5cblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbjogaW5zdGFuY2VfaWRzfX0sIHtmaWVsZHM6IHtzdGF0ZTogMSwgdHJhY2VzOnskc2xpY2U6IDF9IH0gfSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGFkZGVkOiAoaWQsIGZpZWxkcyktPlxuXHRcdFx0c2VsZi5hZGRlZCgnaW5zdGFuY2VzJywgaWQsIHtzdGF0ZTogZmllbGRzLnN0YXRlLCBpc19yZWFkOiBmaWVsZHMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLmlzX3JlYWR9KVxuXG5cdFx0Y2hhbmdlZDogKGlkLCBmaWVsZHMpLT5cblx0XHRcdGlmIGZpZWxkcy5zdGF0ZVxuXHRcdFx0XHRzZWxmLmNoYW5nZWQoJ2luc3RhbmNlcycsIGlkLCB7c3RhdGU6IGZpZWxkcy5zdGF0ZX0pXG5cdFx0XHRpZiBmaWVsZHMudHJhY2VzXG5cdFx0XHRcdHNlbGYuY2hhbmdlZCgnaW5zdGFuY2VzJywgaWQsIHtpc19yZWFkOiBmaWVsZHMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLmlzX3JlYWR9KVxuXHR9XG5cblx0dGhpcy5yZWFkeSgpXG5cdHRoaXMub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpXG4iLCJNZXRlb3IucHVibGlzaCgnZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcycsIGZ1bmN0aW9uKGluc3RhbmNlX2lkcykge1xuICB2YXIgaGFuZGxlLCBzZWxmO1xuICBjaGVjayhpbnN0YW5jZV9pZHMsIEFycmF5KTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFpbnN0YW5jZV9pZHMpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmIChfLmlzRW1wdHkoaW5zdGFuY2VfaWRzKSkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgc2VsZiA9IHRoaXM7XG4gIGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBfaWQ6IHtcbiAgICAgICRpbjogaW5zdGFuY2VfaWRzXG4gICAgfVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBzdGF0ZTogMSxcbiAgICAgIHRyYWNlczoge1xuICAgICAgICAkc2xpY2U6IDFcbiAgICAgIH1cbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBhZGRlZDogZnVuY3Rpb24oaWQsIGZpZWxkcykge1xuICAgICAgcmV0dXJuIHNlbGYuYWRkZWQoJ2luc3RhbmNlcycsIGlkLCB7XG4gICAgICAgIHN0YXRlOiBmaWVsZHMuc3RhdGUsXG4gICAgICAgIGlzX3JlYWQ6IGZpZWxkcy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uaXNfcmVhZFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCwgZmllbGRzKSB7XG4gICAgICBpZiAoZmllbGRzLnN0YXRlKSB7XG4gICAgICAgIHNlbGYuY2hhbmdlZCgnaW5zdGFuY2VzJywgaWQsIHtcbiAgICAgICAgICBzdGF0ZTogZmllbGRzLnN0YXRlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGZpZWxkcy50cmFjZXMpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZCgnaW5zdGFuY2VzJywgaWQsIHtcbiAgICAgICAgICBpc19yZWFkOiBmaWVsZHMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLmlzX3JlYWRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgdGhpcy5yZWFkeSgpO1xuICByZXR1cm4gdGhpcy5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAncmVsYXRlZF9pbnN0YWNlcycsIChpbnN0YW5jZUlkLCByZWxhdGVkX2luc3RhbmNlcyktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIGluc3RhbmNlSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0cmVsYXRlZF9pbnN0YW5jZV9pZHMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZUlkLHtmaWVsZHM6IHtyZWxhdGVkX2luc3RhbmNlczogMX19KT8ucmVsYXRlZF9pbnN0YW5jZXNcblxuXHRpZiByZWxhdGVkX2luc3RhbmNlX2lkcyAmJiBfLmlzQXJyYXkocmVsYXRlZF9pbnN0YW5jZV9pZHMpXG5cdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW4gOiByZWxhdGVkX2luc3RhbmNlX2lkc319LCB7ZmllbGRzOiB7X2lkOiAxLCBuYW1lOiAxLCBzcGFjZTogMX19KVxuXHRlbHNlXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKSIsIk1ldGVvci5wdWJsaXNoKCdyZWxhdGVkX2luc3RhY2VzJywgZnVuY3Rpb24oaW5zdGFuY2VJZCwgcmVsYXRlZF9pbnN0YW5jZXMpIHtcbiAgdmFyIHJlZiwgcmVsYXRlZF9pbnN0YW5jZV9pZHM7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghaW5zdGFuY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmVsYXRlZF9pbnN0YW5jZV9pZHMgPSAocmVmID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VJZCwge1xuICAgIGZpZWxkczoge1xuICAgICAgcmVsYXRlZF9pbnN0YW5jZXM6IDFcbiAgICB9XG4gIH0pKSAhPSBudWxsID8gcmVmLnJlbGF0ZWRfaW5zdGFuY2VzIDogdm9pZCAwO1xuICBpZiAocmVsYXRlZF9pbnN0YW5jZV9pZHMgJiYgXy5pc0FycmF5KHJlbGF0ZWRfaW5zdGFuY2VfaWRzKSkge1xuICAgIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICBfaWQ6IHtcbiAgICAgICAgJGluOiByZWxhdGVkX2luc3RhbmNlX2lkc1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBfaWQ6IDEsXG4gICAgICAgIG5hbWU6IDEsXG4gICAgICAgIHNwYWNlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxufSk7XG4iLCJpZiBNZXRlb3IuaXNTZXJ2ZXJcbiAgICBNZXRlb3IucHVibGlzaCAnc3BhY2VfdXNlcl9zaWducycsIChzcGFjZUlkKSAtPlxuICAgICAgICBjaGVjayBzcGFjZUlkLCBTdHJpbmdcblxuICAgICAgICB1bmxlc3MgdGhpcy51c2VySWRcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWR5KClcblxuICAgICAgICByZXR1cm4gZGIuc3BhY2VfdXNlcl9zaWducy5maW5kKHsgc3BhY2U6IHNwYWNlSWQgfSwge2ZpZWxkczoge2NyZWF0ZWRfYnk6IDAsIGNyZWF0ZWQ6IDAsIG1vZGlmaWVkX2J5OiAwfX0pXG4iLCJpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIE1ldGVvci5wdWJsaXNoKCdzcGFjZV91c2VyX3NpZ25zJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICAgIGNoZWNrKHNwYWNlSWQsIFN0cmluZyk7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgICB9XG4gICAgcmV0dXJuIGRiLnNwYWNlX3VzZXJfc2lnbnMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBjcmVhdGVkX2J5OiAwLFxuICAgICAgICBjcmVhdGVkOiAwLFxuICAgICAgICBtb2RpZmllZF9ieTogMFxuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cbiIsIiMjI1xuTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUgXCJ1c2VyX2luYm94X2luc3RhbmNlXCIsICgpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVzZXJTcGFjZUlkcyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuXHRcdHVzZXI6IHRoaXMudXNlcklkLFxuXHRcdHVzZXJfYWNjZXB0ZWQ6IHRydWVcblx0fSwge2ZpZWxkczoge3NwYWNlOiAxfX0pLmZldGNoKCkuZ2V0RWFjaChcInNwYWNlXCIpO1xuXHRxdWVyeSA9IHtzcGFjZTogeyRpbjogdXNlclNwYWNlSWRzfX1cblxuXHRxdWVyeS4kb3IgPSBbe2luYm94X3VzZXJzOiB0aGlzLnVzZXJJZH0sIHtjY191c2VyczogdGhpcy51c2VySWR9XVxuXG5cdGZpbmQ6IC0+XG5cdFx0ZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRzcGFjZTogMSxcblx0XHRcdFx0YXBwbGljYW50X25hbWU6IDEsXG5cdFx0XHRcdGZsb3c6IDEsXG5cdFx0XHRcdGluYm94X3VzZXJzOiAxLFxuXHRcdFx0XHRjY191c2VyczogMSxcblx0XHRcdFx0c3RhdGU6IDEsXG5cdFx0XHRcdG5hbWU6IDEsXG5cdFx0XHRcdG1vZGlmaWVkOiAxLFxuXHRcdFx0XHRmb3JtOiAxXG5cdFx0XHR9LCBzb3J0OiB7bW9kaWZpZWQ6IC0xfSwgc2tpcDogMCwgbGltaXQ6IDIwMFxuXHRcdH0pO1xuXHRjaGlsZHJlbjogW1xuXHRcdHtcblx0XHRcdGZpbmQ6IChpbnN0YW5jZSwgcG9zdCktPlxuXHRcdFx0XHRkYi5mbG93cy5maW5kKHtfaWQ6IGluc3RhbmNlLmZsb3d9LCB7ZmllbGRzOiB7bmFtZTogMSwgc3BhY2U6IDF9fSk7XG5cdFx0fVxuXHRdXG4jIyNcblxuIyMjXG5NZXRlb3IucHVibGlzaCAnbXlfaW5ib3hfaW5zdGFuY2VzJywgKHNwYWNlSWQpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHNlbGYgPSB0aGlzO1xuXG5cdCNcdHVzZXJTcGFjZUlkcyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuXHQjXHRcdHVzZXI6IHRoaXMudXNlcklkLFxuXHQjXHRcdHVzZXJfYWNjZXB0ZWQ6IHRydWVcblx0I1x0fSwge2ZpZWxkczoge3NwYWNlOiAxfX0pLmZldGNoKCkuZ2V0RWFjaChcInNwYWNlXCIpO1xuXG5cdHF1ZXJ5ID0ge3NwYWNlOiBzcGFjZUlkfVxuXG5cdHF1ZXJ5LiRvciA9IFt7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dXG5cblx0ZmllbGRzID0ge1xuXHRcdHNwYWNlOiAxLFxuI1x0XHRhcHBsaWNhbnRfbmFtZTogMSxcblx0XHRmbG93OiAxLFxuXHRcdGluYm94X3VzZXJzOiAxLFxuXHRcdGNjX3VzZXJzOiAxLFxuXHRcdHN0YXRlOiAxLFxuI1x0XHRuYW1lOiAxLFxuI1x0XHRtb2RpZmllZDogMSxcblx0XHRmb3JtOiAxXG5cdH1cblxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge3NvcnQ6IHttb2RpZmllZDogLTF9LCBza2lwOiAwLCBsaW1pdDogNTAwfSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGFkZGVkOiAoaWQpLT5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaWR9LCB7ZmllbGRzOiBmaWVsZHN9KVxuXHRcdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxuXHRcdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXG5cdFx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRcdHNlbGYuYWRkZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKVxuXHRcdGNoYW5nZWQ6IChpZCktPlxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXG5cdFx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXG5cdFx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2Vcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XG5cdFx0cmVtb3ZlZDogKGlkKS0+XG5cdFx0XHRzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xuXHR9XG5cblx0c2VsZi5yZWFkeSgpO1xuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKVxuIyMjXG5cbl9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlID0gKHNwYWNlSWQsIHVzZXJJZCwgX2l0ZW1zLCBjYWxsYmFjayktPlxuXHRkYi5pbnN0YW5jZXMucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShbXG5cdFx0e1xuXHRcdFx0JG1hdGNoOiB7XG5cdFx0XHRcdHNwYWNlOiBzcGFjZUlkLFxuXHRcdFx0XHQkb3I6IFt7aW5ib3hfdXNlcnM6IHVzZXJJZH0sIHtjY191c2VyczogdXNlcklkfV1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHtcblx0XHRcdCRncm91cDoge1xuXHRcdFx0XHRfaWQ6IHtmbG93OiBcIiRmbG93XCIsIGNhdGVnb3J5OiBcIiRjYXRlZ29yeVwifSwgY291bnQ6IHskc3VtOiAxfVxuXHRcdFx0fVxuXHRcdH1cblx0XSkudG9BcnJheSAoZXJyLCBkYXRhKS0+XG5cdFx0aWYgZXJyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyKVxuXG5cdFx0ZGF0YS5mb3JFYWNoIChkb2MpIC0+XG5cdFx0XHRfaXRlbXMucHVzaCBkb2NcblxuXHRcdGlmIGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaylcblx0XHRcdGNhbGxiYWNrKClcblx0XHRyZXR1cm5cblxuX2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKF9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlKVxuXG5NZXRlb3IucHVibGlzaCAnbXlfaW5ib3hfZmxvd19pbnN0YW5jZXNfY291bnQnLCAoc3BhY2VJZCktPlxuXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRzZWxmID0gdGhpcztcblxuXHRxdWVyeSA9IHtzcGFjZTogc3BhY2VJZH1cblxuXHRxdWVyeS4kb3IgPSBbe2luYm94X3VzZXJzOiB0aGlzLnVzZXJJZH0sIHtjY191c2VyczogdGhpcy51c2VySWR9XVxuXG5cdGRhdGEgPSBbXSAgI+aVsOaNruagvOW8j++8mlt7X2lkOmZsb3dJZCwgY291bnQ6IOW+heWKnuaVsOmHj30sIHtfaWQ6Zmxvd0lkMiwgY291bnQ6IOW+heWKnuaVsOmHjzJ9XVxuXHRfYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZShzcGFjZUlkLCBzZWxmLnVzZXJJZCwgZGF0YSlcblxuXHRfZmxvd3NEYXRhID0gW11cblxuXHRfLmVhY2ggZGF0YSwgKGRhdGFJdGVtKS0+XG5cdFx0X2Zsb3dzRGF0YS5wdXNoKHtfaWQ6IGRhdGFJdGVtLl9pZC5mbG93LCBjYXRlZ29yeTogZGF0YUl0ZW0uX2lkLmNhdGVnb3J5LCBjb3VudDogZGF0YUl0ZW0uY291bnR9KVxuXG5cdHNlbGYuYWRkZWQoXCJmbG93X2luc3RhbmNlc1wiLCBzcGFjZUlkLCB7Zmxvd3M6IF9mbG93c0RhdGF9KTtcblxuXHRfY2hhbmdlRGF0YSA9IChkb2MsIGFjdGlvbiktPlxuXHRcdGZsb3dfaW5zdGFuY2UgPSBfLmZpbmQgX2Zsb3dzRGF0YSwgKGYpLT5cblx0XHRcdHJldHVybiBmLl9pZCA9PSBkb2MuZmxvd1xuXHRcdGlmIGZsb3dfaW5zdGFuY2Vcblx0XHRcdGlmIGFjdGlvbiA9PSBcImFkZGVkXCJcblx0XHRcdFx0Zmxvd19pbnN0YW5jZS5jb3VudCsrXG5cdFx0XHRlbHNlIGlmIGFjdGlvbiA9PSBcInJlbW92ZWRcIlxuXHRcdFx0XHRmbG93X2luc3RhbmNlLmNvdW50LS1cblx0XHRlbHNlIGlmIGFjdGlvbiA9PSBcImFkZGVkXCJcblx0XHRcdF9mbG93c0RhdGEucHVzaCB7X2lkOiBkb2MuZmxvdywgY2F0ZWdvcnk6IGRvYy5jYXRlZ29yeSwgY291bnQ6IDF9XG5cblx0XHRzZWxmLmNoYW5nZWQoXCJmbG93X2luc3RhbmNlc1wiLCBzcGFjZUlkLCB7Zmxvd3M6IF9mbG93c0RhdGF9KTtcblxuXHRfaW5pdCA9IHRydWVcblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtmaWVsZHM6IHtfaWQ6IDEsIGluYm94X3VzZXJzOiAxLCBjY191c2VyczogMSwgZmxvdzogMSwgY2F0ZWdvcnk6IDF9fSkub2JzZXJ2ZSB7XG5cdFx0YWRkZWQ6IChkb2MpLT5cblx0XHRcdGlmICFfaW5pdFxuXHRcdFx0XHRfY2hhbmdlRGF0YShkb2MsIFwiYWRkZWRcIilcblx0XHRyZW1vdmVkOiAoZG9jKS0+XG5cdFx0XHRpZiAhX2luaXRcblx0XHRcdFx0X2NoYW5nZURhdGEoZG9jLCBcInJlbW92ZWRcIilcblx0fVxuXHRfaW5pdCA9IGZhbHNlXG5cblx0c2VsZi5yZWFkeSgpO1xuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKSIsIlxuLypcbk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlIFwidXNlcl9pbmJveF9pbnN0YW5jZVwiLCAoKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1c2VyU3BhY2VJZHMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcblx0XHR1c2VyOiB0aGlzLnVzZXJJZCxcblx0XHR1c2VyX2FjY2VwdGVkOiB0cnVlXG5cdH0sIHtmaWVsZHM6IHtzcGFjZTogMX19KS5mZXRjaCgpLmdldEVhY2goXCJzcGFjZVwiKTtcblx0cXVlcnkgPSB7c3BhY2U6IHskaW46IHVzZXJTcGFjZUlkc319XG5cblx0cXVlcnkuJG9yID0gW3tpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV1cblxuXHRmaW5kOiAtPlxuXHRcdGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0c3BhY2U6IDEsXG5cdFx0XHRcdGFwcGxpY2FudF9uYW1lOiAxLFxuXHRcdFx0XHRmbG93OiAxLFxuXHRcdFx0XHRpbmJveF91c2VyczogMSxcblx0XHRcdFx0Y2NfdXNlcnM6IDEsXG5cdFx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0XHRuYW1lOiAxLFxuXHRcdFx0XHRtb2RpZmllZDogMSxcblx0XHRcdFx0Zm9ybTogMVxuXHRcdFx0fSwgc29ydDoge21vZGlmaWVkOiAtMX0sIHNraXA6IDAsIGxpbWl0OiAyMDBcblx0XHR9KTtcblx0Y2hpbGRyZW46IFtcblx0XHR7XG5cdFx0XHRmaW5kOiAoaW5zdGFuY2UsIHBvc3QpLT5cblx0XHRcdFx0ZGIuZmxvd3MuZmluZCh7X2lkOiBpbnN0YW5jZS5mbG93fSwge2ZpZWxkczoge25hbWU6IDEsIHNwYWNlOiAxfX0pO1xuXHRcdH1cblx0XVxuICovXG5cbi8qXG5NZXRlb3IucHVibGlzaCAnbXlfaW5ib3hfaW5zdGFuY2VzJywgKHNwYWNlSWQpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHNlbGYgPSB0aGlzO1xuXG5cdCAqXHR1c2VyU3BhY2VJZHMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcblx0ICpcdFx0dXNlcjogdGhpcy51c2VySWQsXG5cdCAqXHRcdHVzZXJfYWNjZXB0ZWQ6IHRydWVcblx0ICpcdH0sIHtmaWVsZHM6IHtzcGFjZTogMX19KS5mZXRjaCgpLmdldEVhY2goXCJzcGFjZVwiKTtcblxuXHRxdWVyeSA9IHtzcGFjZTogc3BhY2VJZH1cblxuXHRxdWVyeS4kb3IgPSBbe2luYm94X3VzZXJzOiB0aGlzLnVzZXJJZH0sIHtjY191c2VyczogdGhpcy51c2VySWR9XVxuXG5cdGZpZWxkcyA9IHtcblx0XHRzcGFjZTogMSxcbiAqXHRcdGFwcGxpY2FudF9uYW1lOiAxLFxuXHRcdGZsb3c6IDEsXG5cdFx0aW5ib3hfdXNlcnM6IDEsXG5cdFx0Y2NfdXNlcnM6IDEsXG5cdFx0c3RhdGU6IDEsXG4gKlx0XHRuYW1lOiAxLFxuICpcdFx0bW9kaWZpZWQ6IDEsXG5cdFx0Zm9ybTogMVxuXHR9XG5cblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtzb3J0OiB7bW9kaWZpZWQ6IC0xfSwgc2tpcDogMCwgbGltaXQ6IDUwMH0pLm9ic2VydmVDaGFuZ2VzIHtcblx0XHRhZGRlZDogKGlkKS0+XG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcblx0XHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2Vcblx0XHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxuXHRcdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXG5cdFx0XHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSlcblx0XHRjaGFuZ2VkOiAoaWQpLT5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaWR9LCB7ZmllbGRzOiBmaWVsZHN9KVxuXHRcdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxuXHRcdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXG5cdFx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRcdHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xuXHRcdHJlbW92ZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcblx0fVxuXG5cdHNlbGYucmVhZHkoKTtcblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKClcbiAqL1xudmFyIF9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlLCBfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZTtcblxuX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUgPSBmdW5jdGlvbihzcGFjZUlkLCB1c2VySWQsIF9pdGVtcywgY2FsbGJhY2spIHtcbiAgcmV0dXJuIGRiLmluc3RhbmNlcy5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKFtcbiAgICB7XG4gICAgICAkbWF0Y2g6IHtcbiAgICAgICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgICAgICRvcjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGluYm94X3VzZXJzOiB1c2VySWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBjY191c2VyczogdXNlcklkXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgJGdyb3VwOiB7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgIGZsb3c6IFwiJGZsb3dcIixcbiAgICAgICAgICBjYXRlZ29yeTogXCIkY2F0ZWdvcnlcIlxuICAgICAgICB9LFxuICAgICAgICBjb3VudDoge1xuICAgICAgICAgICRzdW06IDFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgXSkudG9BcnJheShmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICB9XG4gICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGRvYykge1xuICAgICAgcmV0dXJuIF9pdGVtcy5wdXNoKGRvYyk7XG4gICAgfSk7XG4gICAgaWYgKGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbl9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlID0gTWV0ZW9yLndyYXBBc3luYyhfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSk7XG5cbk1ldGVvci5wdWJsaXNoKCdteV9pbmJveF9mbG93X2luc3RhbmNlc19jb3VudCcsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgdmFyIF9jaGFuZ2VEYXRhLCBfZmxvd3NEYXRhLCBfaW5pdCwgZGF0YSwgaGFuZGxlLCBxdWVyeSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgc2VsZiA9IHRoaXM7XG4gIHF1ZXJ5ID0ge1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH07XG4gIHF1ZXJ5LiRvciA9IFtcbiAgICB7XG4gICAgICBpbmJveF91c2VyczogdGhpcy51c2VySWRcbiAgICB9LCB7XG4gICAgICBjY191c2VyczogdGhpcy51c2VySWRcbiAgICB9XG4gIF07XG4gIGRhdGEgPSBbXTtcbiAgX2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUoc3BhY2VJZCwgc2VsZi51c2VySWQsIGRhdGEpO1xuICBfZmxvd3NEYXRhID0gW107XG4gIF8uZWFjaChkYXRhLCBmdW5jdGlvbihkYXRhSXRlbSkge1xuICAgIHJldHVybiBfZmxvd3NEYXRhLnB1c2goe1xuICAgICAgX2lkOiBkYXRhSXRlbS5faWQuZmxvdyxcbiAgICAgIGNhdGVnb3J5OiBkYXRhSXRlbS5faWQuY2F0ZWdvcnksXG4gICAgICBjb3VudDogZGF0YUl0ZW0uY291bnRcbiAgICB9KTtcbiAgfSk7XG4gIHNlbGYuYWRkZWQoXCJmbG93X2luc3RhbmNlc1wiLCBzcGFjZUlkLCB7XG4gICAgZmxvd3M6IF9mbG93c0RhdGFcbiAgfSk7XG4gIF9jaGFuZ2VEYXRhID0gZnVuY3Rpb24oZG9jLCBhY3Rpb24pIHtcbiAgICB2YXIgZmxvd19pbnN0YW5jZTtcbiAgICBmbG93X2luc3RhbmNlID0gXy5maW5kKF9mbG93c0RhdGEsIGZ1bmN0aW9uKGYpIHtcbiAgICAgIHJldHVybiBmLl9pZCA9PT0gZG9jLmZsb3c7XG4gICAgfSk7XG4gICAgaWYgKGZsb3dfaW5zdGFuY2UpIHtcbiAgICAgIGlmIChhY3Rpb24gPT09IFwiYWRkZWRcIikge1xuICAgICAgICBmbG93X2luc3RhbmNlLmNvdW50Kys7XG4gICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gXCJyZW1vdmVkXCIpIHtcbiAgICAgICAgZmxvd19pbnN0YW5jZS5jb3VudC0tO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBcImFkZGVkXCIpIHtcbiAgICAgIF9mbG93c0RhdGEucHVzaCh7XG4gICAgICAgIF9pZDogZG9jLmZsb3csXG4gICAgICAgIGNhdGVnb3J5OiBkb2MuY2F0ZWdvcnksXG4gICAgICAgIGNvdW50OiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImZsb3dfaW5zdGFuY2VzXCIsIHNwYWNlSWQsIHtcbiAgICAgIGZsb3dzOiBfZmxvd3NEYXRhXG4gICAgfSk7XG4gIH07XG4gIF9pbml0ID0gdHJ1ZTtcbiAgaGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMSxcbiAgICAgIGluYm94X3VzZXJzOiAxLFxuICAgICAgY2NfdXNlcnM6IDEsXG4gICAgICBmbG93OiAxLFxuICAgICAgY2F0ZWdvcnk6IDFcbiAgICB9XG4gIH0pLm9ic2VydmUoe1xuICAgIGFkZGVkOiBmdW5jdGlvbihkb2MpIHtcbiAgICAgIGlmICghX2luaXQpIHtcbiAgICAgICAgcmV0dXJuIF9jaGFuZ2VEYXRhKGRvYywgXCJhZGRlZFwiKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZWQ6IGZ1bmN0aW9uKGRvYykge1xuICAgICAgaWYgKCFfaW5pdCkge1xuICAgICAgICByZXR1cm4gX2NoYW5nZURhdGEoZG9jLCBcInJlbW92ZWRcIik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgX2luaXQgPSBmYWxzZTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG4iLCJcbk1ldGVvci5wdWJsaXNoICdmbG93X21haW5fYXR0YWNoX3RlbXBsYXRlJywgKHNwYWNlSWQsIGZsb3dJZCktPlxuXHRjaGVjayhzcGFjZUlkLCBTdHJpbmcpXG5cdGNoZWNrKGZsb3dJZCwgU3RyaW5nKVxuXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZCAmJiBmbG93SWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0cmV0dXJuIENyZWF0b3IuZ2V0Q29sbGVjdGlvbignY21zX2ZpbGVzJykuZmluZCh7IHNwYWNlOiBzcGFjZUlkLCAncGFyZW50Lm8nOiAnZmxvd3MnLCAncGFyZW50Lmlkcyc6IGZsb3dJZCwgIG5hbWU6ICfmraPmlocuZG9jeCcgfSlcbiIsIk1ldGVvci5wdWJsaXNoKCdmbG93X21haW5fYXR0YWNoX3RlbXBsYXRlJywgZnVuY3Rpb24oc3BhY2VJZCwgZmxvd0lkKSB7XG4gIGNoZWNrKHNwYWNlSWQsIFN0cmluZyk7XG4gIGNoZWNrKGZsb3dJZCwgU3RyaW5nKTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCEoc3BhY2VJZCAmJiBmbG93SWQpKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gQ3JlYXRvci5nZXRDb2xsZWN0aW9uKCdjbXNfZmlsZXMnKS5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZCxcbiAgICAncGFyZW50Lm8nOiAnZmxvd3MnLFxuICAgICdwYXJlbnQuaWRzJzogZmxvd0lkLFxuICAgIG5hbWU6ICfmraPmlocuZG9jeCdcbiAgfSk7XG59KTtcbiIsIndvcmtmbG93VGVtcGxhdGUgPSB7fVxuXG4j5Y+v55So5q2k6ISa5pys5LuO5qih5p2/5bel5L2c5Yy65YGa5om56YeP5a+85Ye677yaXG4j5L2/55So566h55CG5ZGY6LSm5oi355m75b2V5ZCO77yM6L+b5YWlRmxvd01vZHVsZXPvvIzlnKjmjqfliLblj7DmiafooYzku6XkuIvohJrmnKzljbPlj69cbiNkYi5mb3Jtcy5maW5kKHtzdGF0ZTpcImVuYWJsZWRcIn0pLmZvckVhY2goZnVuY3Rpb24oZm9ybSl7d2luZG93Lm9wZW4oTWV0ZW9yLmFic29sdXRlVXJsKFwiYXBpL3dvcmtmbG93L2V4cG9ydC9mb3JtP2Zvcm09XCIrZm9ybS5faWQpKX0pXG53b3JrZmxvd1RlbXBsYXRlW1wiZW5cIl0gPVtdXG5cbiPlj6/nlKjmraTohJrmnKzku47mqKHmnb/lt6XkvZzljLrlgZrmibnph4/lr7zlh7rvvJpcbiPkvb/nlKjnrqHnkIblkZjotKbmiLfnmbvlvZXlkI7vvIzov5vlhaXmqKHmnb/kuJPljLrvvIzlnKjmjqfliLblj7DmiafooYzku6XkuIvohJrmnKzljbPlj69cbiNkYi5mb3Jtcy5maW5kKHtzdGF0ZTpcImVuYWJsZWRcIn0pLmZvckVhY2goZnVuY3Rpb24oZm9ybSl7d2luZG93Lm9wZW4oTWV0ZW9yLmFic29sdXRlVXJsKFwiYXBpL3dvcmtmbG93L2V4cG9ydC9mb3JtP2Zvcm09XCIrZm9ybS5faWQpKX0pXG53b3JrZmxvd1RlbXBsYXRlW1wiemgtQ05cIl0gPVtdXG5cbk1ldGVvci5zdGFydHVwICgpLT5cblx0ZnMgPSByZXF1aXJlKCdmcycpXG5cdHBhdGggPSByZXF1aXJlKCdwYXRoJylcblx0bWltZSA9IHJlcXVpcmUoJ21pbWUnKVxuXHRyZWFkRmlsZUxpc3QgPSAocGF0aERpciwgZmlsZXNMaXN0KS0+XG5cdFx0ZmlsZXMgPSBmcy5yZWFkZGlyU3luYyhwYXRoRGlyKVxuXHRcdGZpbGVzLmZvckVhY2ggKG5hbWUsIGluZGV4KS0+XG5cdFx0XHRzdGF0ID0gZnMuc3RhdFN5bmMocGF0aC5qb2luKHBhdGhEaXIsIG5hbWUpKVxuXHRcdFx0aWYgc3RhdC5pc0RpcmVjdG9yeSgpXG5cdFx0XHRcdCMg6YCS5b2S6K+75Y+W5paH5Lu2XG5cdFx0XHRcdHJlYWRGaWxlTGlzdChwYXRoLmpvaW4ocGF0aERpciwgbmFtZSksIGZpbGVzTGlzdClcblx0XHRcdGVsc2Vcblx0XHRcdFx0b2JqID0ge31cblx0XHRcdFx0b2JqLnBhdGggPSBwYXRoRGlyXG5cdFx0XHRcdG9iai5uYW1lID0gbmFtZVxuXHRcdFx0XHRmaWxlc0xpc3QucHVzaChvYmopXG5cblx0I+iOt+WPlnpoLWNu5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XG5cdGZpbGVzTGlzdF9jbiA9IFtdXG5cdHBhdGhfY24gPSBNZXRlb3Iuc2V0dGluZ3Mud29ya2Zsb3dUZW1wbGF0ZXM/LnBhdGhfY25cblx0aWYgcGF0aF9jblxuXHRcdGFic29sdXRlX3BhdGhfY24gPSBwYXRoLnJlc29sdmUocGF0aF9jbilcblx0XHRjb25zb2xlLmxvZyBcImFic29sdXRlX3BhdGhfY25cIiwgYWJzb2x1dGVfcGF0aF9jblxuXHRcdGlmIGZzLmV4aXN0c1N5bmMoYWJzb2x1dGVfcGF0aF9jbilcblx0XHRcdHJlYWRGaWxlTGlzdChhYnNvbHV0ZV9wYXRoX2NuLCBmaWxlc0xpc3RfY24pXG5cdFx0XHRmaWxlc0xpc3RfY24uZm9yRWFjaCAoZmlsZSktPlxuXHRcdFx0XHR0cnlcblx0XHRcdFx0XHRpZiBtaW1lLmdldFR5cGUoZmlsZS5uYW1lKSBpcyBcImFwcGxpY2F0aW9uL2pzb25cIlxuXHRcdFx0XHRcdFx0ZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpLCAndXRmOCcpXG5cdFx0XHRcdFx0XHR3b3JrZmxvd1RlbXBsYXRlW1wiemgtQ05cIl0ucHVzaChKU09OLnBhcnNlKGRhdGEpKVxuXHRcdFx0XHRjYXRjaCBlXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvciBcIuiOt+WPlnpoLWNu5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XCIsIHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSlcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblxuXHQj6I635Y+WZW4tdXPmlofku7blpLnkuIvnmoTmiYDmnInmlofku7Zcblx0ZmlsZXNMaXN0X3VzID0gW11cblx0cGF0aF91cyA9IE1ldGVvci5zZXR0aW5ncy53b3JrZmxvd1RlbXBsYXRlcz8ucGF0aF91c1xuXHRpZiBwYXRoX3VzXG5cdFx0YWJzb2x1dGVfcGF0aF91cyA9IHBhdGgucmVzb2x2ZShwYXRoX3VzKVxuXHRcdGNvbnNvbGUubG9nIFwiYWJzb2x1dGVfcGF0aF91c1wiLCBhYnNvbHV0ZV9wYXRoX3VzXG5cdFx0aWYgZnMuZXhpc3RzU3luYyhhYnNvbHV0ZV9wYXRoX3VzKVxuXHRcdFx0cmVhZEZpbGVMaXN0KGFic29sdXRlX3BhdGhfdXMsIGZpbGVzTGlzdF91cylcblx0XHRcdGZpbGVzTGlzdF91cy5mb3JFYWNoIChmaWxlKS0+XG5cdFx0XHRcdHRyeVxuXHRcdFx0XHRcdGlmIG1pbWUuZ2V0VHlwZShmaWxlLm5hbWUpIGlzIFwiYXBwbGljYXRpb24vanNvblwiXG5cdFx0XHRcdFx0XHRkYXRhID0gZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSksICd1dGY4Jylcblx0XHRcdFx0XHRcdHdvcmtmbG93VGVtcGxhdGVbXCJlblwiXS5wdXNoKEpTT04ucGFyc2UoZGF0YSkpXG5cdFx0XHRcdGNhdGNoIGVcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yIFwi6I635Y+WZW4tdXPmlofku7blpLnkuIvnmoTmiYDmnInmlofku7ZcIiwgcGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKVxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdFx0XHRcblx0XHRcdFx0XHRcblxuXG4iLCIgICAgICAgICAgICAgICAgICAgICBcblxud29ya2Zsb3dUZW1wbGF0ZSA9IHt9O1xuXG53b3JrZmxvd1RlbXBsYXRlW1wiZW5cIl0gPSBbXTtcblxud29ya2Zsb3dUZW1wbGF0ZVtcInpoLUNOXCJdID0gW107XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICB2YXIgYWJzb2x1dGVfcGF0aF9jbiwgYWJzb2x1dGVfcGF0aF91cywgZmlsZXNMaXN0X2NuLCBmaWxlc0xpc3RfdXMsIGZzLCBtaW1lLCBwYXRoLCBwYXRoX2NuLCBwYXRoX3VzLCByZWFkRmlsZUxpc3QsIHJlZiwgcmVmMTtcbiAgZnMgPSByZXF1aXJlKCdmcycpO1xuICBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuICBtaW1lID0gcmVxdWlyZSgnbWltZScpO1xuICByZWFkRmlsZUxpc3QgPSBmdW5jdGlvbihwYXRoRGlyLCBmaWxlc0xpc3QpIHtcbiAgICB2YXIgZmlsZXM7XG4gICAgZmlsZXMgPSBmcy5yZWFkZGlyU3luYyhwYXRoRGlyKTtcbiAgICByZXR1cm4gZmlsZXMuZm9yRWFjaChmdW5jdGlvbihuYW1lLCBpbmRleCkge1xuICAgICAgdmFyIG9iaiwgc3RhdDtcbiAgICAgIHN0YXQgPSBmcy5zdGF0U3luYyhwYXRoLmpvaW4ocGF0aERpciwgbmFtZSkpO1xuICAgICAgaWYgKHN0YXQuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICByZXR1cm4gcmVhZEZpbGVMaXN0KHBhdGguam9pbihwYXRoRGlyLCBuYW1lKSwgZmlsZXNMaXN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9iaiA9IHt9O1xuICAgICAgICBvYmoucGF0aCA9IHBhdGhEaXI7XG4gICAgICAgIG9iai5uYW1lID0gbmFtZTtcbiAgICAgICAgcmV0dXJuIGZpbGVzTGlzdC5wdXNoKG9iaik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIGZpbGVzTGlzdF9jbiA9IFtdO1xuICBwYXRoX2NuID0gKHJlZiA9IE1ldGVvci5zZXR0aW5ncy53b3JrZmxvd1RlbXBsYXRlcykgIT0gbnVsbCA/IHJlZi5wYXRoX2NuIDogdm9pZCAwO1xuICBpZiAocGF0aF9jbikge1xuICAgIGFic29sdXRlX3BhdGhfY24gPSBwYXRoLnJlc29sdmUocGF0aF9jbik7XG4gICAgY29uc29sZS5sb2coXCJhYnNvbHV0ZV9wYXRoX2NuXCIsIGFic29sdXRlX3BhdGhfY24pO1xuICAgIGlmIChmcy5leGlzdHNTeW5jKGFic29sdXRlX3BhdGhfY24pKSB7XG4gICAgICByZWFkRmlsZUxpc3QoYWJzb2x1dGVfcGF0aF9jbiwgZmlsZXNMaXN0X2NuKTtcbiAgICAgIGZpbGVzTGlzdF9jbi5mb3JFYWNoKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgdmFyIGRhdGEsIGU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKG1pbWUuZ2V0VHlwZShmaWxlLm5hbWUpID09PSBcImFwcGxpY2F0aW9uL2pzb25cIikge1xuICAgICAgICAgICAgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpLCAndXRmOCcpO1xuICAgICAgICAgICAgcmV0dXJuIHdvcmtmbG93VGVtcGxhdGVbXCJ6aC1DTlwiXS5wdXNoKEpTT04ucGFyc2UoZGF0YSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIuiOt+WPlnpoLWNu5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XCIsIHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSkpO1xuICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZmlsZXNMaXN0X3VzID0gW107XG4gIHBhdGhfdXMgPSAocmVmMSA9IE1ldGVvci5zZXR0aW5ncy53b3JrZmxvd1RlbXBsYXRlcykgIT0gbnVsbCA/IHJlZjEucGF0aF91cyA6IHZvaWQgMDtcbiAgaWYgKHBhdGhfdXMpIHtcbiAgICBhYnNvbHV0ZV9wYXRoX3VzID0gcGF0aC5yZXNvbHZlKHBhdGhfdXMpO1xuICAgIGNvbnNvbGUubG9nKFwiYWJzb2x1dGVfcGF0aF91c1wiLCBhYnNvbHV0ZV9wYXRoX3VzKTtcbiAgICBpZiAoZnMuZXhpc3RzU3luYyhhYnNvbHV0ZV9wYXRoX3VzKSkge1xuICAgICAgcmVhZEZpbGVMaXN0KGFic29sdXRlX3BhdGhfdXMsIGZpbGVzTGlzdF91cyk7XG4gICAgICByZXR1cm4gZmlsZXNMaXN0X3VzLmZvckVhY2goZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICB2YXIgZGF0YSwgZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAobWltZS5nZXRUeXBlKGZpbGUubmFtZSkgPT09IFwiYXBwbGljYXRpb24vanNvblwiKSB7XG4gICAgICAgICAgICBkYXRhID0gZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSksICd1dGY4Jyk7XG4gICAgICAgICAgICByZXR1cm4gd29ya2Zsb3dUZW1wbGF0ZVtcImVuXCJdLnB1c2goSlNPTi5wYXJzZShkYXRhKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwi6I635Y+WZW4tdXPmlofku7blpLnkuIvnmoTmiYDmnInmlofku7ZcIiwgcGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSk7XG4gICAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSk7XG4iLCIjIyNcbiogICAgKiAgICAqICAgICogICAgKiAgICAqXG7ilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICB8XG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlCBkYXkgb2Ygd2VlayAoMCAtIDcpICgwIG9yIDcgaXMgU3VuKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgCBtb250aCAoMSAtIDEyKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGRheSBvZiBtb250aCAoMSAtIDMxKVxu4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgaG91ciAoMCAtIDIzKVxu4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBtaW51dGUgKDAgLSA1OSlcbuKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBzZWNvbmQgKDAgLSA1OSwgT1BUSU9OQUwpXG4jIyNcbk1ldGVvci5zdGFydHVwIC0+XG5cdGlmIE1ldGVvci5zZXR0aW5ncy5jcm9uPy5hdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb25cblx0XHRzY2hlZHVsZSA9IHJlcXVpcmUoJ25vZGUtc2NoZWR1bGUnKVxuXHRcdCMg5a6a5pe25omn6KGM5ZCM5q2lXG5cdFx0cnVsZSA9IE1ldGVvci5zZXR0aW5ncy5jcm9uLmF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvblxuXHRcdGdvX25leHQgPSB0cnVlXG5cdFx0c2NoZWR1bGUuc2NoZWR1bGVKb2IgcnVsZSwgTWV0ZW9yLmJpbmRFbnZpcm9ubWVudCAoKS0+XG5cdFx0XHR0cnlcblx0XHRcdFx0aWYgIWdvX25leHRcblx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0Z29fbmV4dCA9IGZhbHNlXG5cdFx0XHRcdGNvbnNvbGUudGltZSAnYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uJ1xuXG5cdFx0XHRcdG5vdyA9IG5ldyBEYXRlXG5cblx0XHRcdFx0IyDlsIblp5TmiZjop4TliJnorr7nva7kuLrkuI3lj6/nlKhcblx0XHRcdFx0ZGIucHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzLnVwZGF0ZSh7IGVuYWJsZWQ6IHRydWUsIGVuZF90aW1lOiB7ICRsdGU6IG5vdyB9IH0sIHsgJHNldDogeyBlbmFibGVkOiBmYWxzZSB9IH0sIHsgbXVsdGkgOnRydWUgfSlcblxuXHRcdFx0XHRjb25zb2xlLnRpbWVFbmQgJ2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbidcblx0XHRcdFx0Z29fbmV4dCA9IHRydWVcblxuXHRcdFx0Y2F0Y2ggZVxuXHRcdFx0XHRjb25zb2xlLmVycm9yIFwiQVVUTyBBVVRPX0ZJTklTSF9QUk9DRVNTX0RFTEVHQVRJT04gRVJST1I6IFwiXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdFx0XHRnb19uZXh0ID0gdHJ1ZVxuXG5cdFx0LCAoZSktPlxuXHRcdFx0Y29uc29sZS5sb2cgJ0ZhaWxlZCB0byBiaW5kIGVudmlyb25tZW50OiBhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24uY29mZmVlJ1xuXHRcdFx0Y29uc29sZS5sb2cgZS5zdGFja1xuIiwiXG4vKlxuKiAgICAqICAgICogICAgKiAgICAqICAgICpcbuKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIHxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSUIGRheSBvZiB3ZWVrICgwIC0gNykgKDAgb3IgNyBpcyBTdW4pXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSAIG1vbnRoICgxIC0gMTIpXG7ilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgZGF5IG9mIG1vbnRoICgxIC0gMzEpXG7ilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBob3VyICgwIC0gMjMpXG7ilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIG1pbnV0ZSAoMCAtIDU5KVxu4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIHNlY29uZCAoMCAtIDU5LCBPUFRJT05BTClcbiAqL1xuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHZhciBnb19uZXh0LCByZWYsIHJ1bGUsIHNjaGVkdWxlO1xuICBpZiAoKHJlZiA9IE1ldGVvci5zZXR0aW5ncy5jcm9uKSAhPSBudWxsID8gcmVmLmF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbiA6IHZvaWQgMCkge1xuICAgIHNjaGVkdWxlID0gcmVxdWlyZSgnbm9kZS1zY2hlZHVsZScpO1xuICAgIHJ1bGUgPSBNZXRlb3Iuc2V0dGluZ3MuY3Jvbi5hdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb247XG4gICAgZ29fbmV4dCA9IHRydWU7XG4gICAgcmV0dXJuIHNjaGVkdWxlLnNjaGVkdWxlSm9iKHJ1bGUsIE1ldGVvci5iaW5kRW52aXJvbm1lbnQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZSwgbm93O1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFnb19uZXh0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdvX25leHQgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS50aW1lKCdhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24nKTtcbiAgICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICAgIGRiLnByb2Nlc3NfZGVsZWdhdGlvbl9ydWxlcy51cGRhdGUoe1xuICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgZW5kX3RpbWU6IHtcbiAgICAgICAgICAgICRsdGU6IG5vd1xuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgbXVsdGk6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUudGltZUVuZCgnYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uJyk7XG4gICAgICAgIHJldHVybiBnb19uZXh0ID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFVVE8gQVVUT19GSU5JU0hfUFJPQ0VTU19ERUxFR0FUSU9OIEVSUk9SOiBcIik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICAgIHJldHVybiBnb19uZXh0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbihlKSB7XG4gICAgICBjb25zb2xlLmxvZygnRmFpbGVkIHRvIGJpbmQgZW52aXJvbm1lbnQ6IGF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbi5jb2ZmZWUnKTtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlLnN0YWNrKTtcbiAgICB9KSk7XG4gIH1cbn0pO1xuIiwiIyMjXG4qICAgICogICAgKiAgICAqICAgICogICAgKlxu4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAgfFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJQgZGF5IG9mIHdlZWsgKDAgLSA3KSAoMCBvciA3IGlzIFN1bilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIAgbW9udGggKDEgLSAxMilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBkYXkgb2YgbW9udGggKDEgLSAzMSlcbuKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGhvdXIgKDAgLSAyMylcbuKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgbWludXRlICgwIC0gNTkpXG7ilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgc2Vjb25kICgwIC0gNTksIE9QVElPTkFMKVxuIyMjXG5NZXRlb3Iuc3RhcnR1cCAtPlxuXHRpZiBNZXRlb3Iuc2V0dGluZ3MuY3Jvbj8udGltZW91dF9hdXRvX3N1Ym1pdFxuXHRcdHNjaGVkdWxlID0gcmVxdWlyZSgnbm9kZS1zY2hlZHVsZScpXG5cdFx0IyDlrprml7bmiafooYzlkIzmraVcblx0XHRydWxlID0gTWV0ZW9yLnNldHRpbmdzLmNyb24udGltZW91dF9hdXRvX3N1Ym1pdFxuXHRcdGdvX25leHQgPSB0cnVlXG5cdFx0c2NoZWR1bGUuc2NoZWR1bGVKb2IgcnVsZSwgTWV0ZW9yLmJpbmRFbnZpcm9ubWVudCAoKS0+XG5cdFx0XHR0cnlcblx0XHRcdFx0aWYgIWdvX25leHRcblx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0Z29fbmV4dCA9IGZhbHNlXG5cdFx0XHRcdGNvbnNvbGUudGltZSAndGltZW91dF9hdXRvX3N1Ym1pdCdcblxuXHRcdFx0XHR1dWZsb3dNYW5hZ2VyLnRpbWVvdXRBdXRvU3VibWl0KClcblxuXHRcdFx0XHRjb25zb2xlLnRpbWVFbmQgJ3RpbWVvdXRfYXV0b19zdWJtaXQnXG5cdFx0XHRcdGdvX25leHQgPSB0cnVlXG5cblx0XHRcdGNhdGNoIGVcblx0XHRcdFx0Y29uc29sZS5lcnJvciBcIkFVVE8gVElNRU9VVF9BVVRPX1NVQk1JVCBFUlJPUjogXCJcblx0XHRcdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0XHRcdGdvX25leHQgPSB0cnVlXG5cblx0XHQsIChlKS0+XG5cdFx0XHRjb25zb2xlLmxvZyAnRmFpbGVkIHRvIGJpbmQgZW52aXJvbm1lbnQ6IHRpbWVvdXRfYXV0b19zdWJtaXQuY29mZmVlJ1xuXHRcdFx0Y29uc29sZS5sb2cgZS5zdGFja1xuXG5NZXRlb3IubWV0aG9kc1xuXHR0aW1lb3V0X2F1dG9fc3VibWl0OiAoaW5zX2lkKS0+XG5cdFx0dXVmbG93TWFuYWdlci50aW1lb3V0QXV0b1N1Ym1pdChpbnNfaWQpXG5cdFx0cmV0dXJuIHRydWVcblxuXG4iLCJcbi8qXG4qICAgICogICAgKiAgICAqICAgICogICAgKlxu4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAgfFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJQgZGF5IG9mIHdlZWsgKDAgLSA3KSAoMCBvciA3IGlzIFN1bilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIAgbW9udGggKDEgLSAxMilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBkYXkgb2YgbW9udGggKDEgLSAzMSlcbuKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGhvdXIgKDAgLSAyMylcbuKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgbWludXRlICgwIC0gNTkpXG7ilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgc2Vjb25kICgwIC0gNTksIE9QVElPTkFMKVxuICovXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgdmFyIGdvX25leHQsIHJlZiwgcnVsZSwgc2NoZWR1bGU7XG4gIGlmICgocmVmID0gTWV0ZW9yLnNldHRpbmdzLmNyb24pICE9IG51bGwgPyByZWYudGltZW91dF9hdXRvX3N1Ym1pdCA6IHZvaWQgMCkge1xuICAgIHNjaGVkdWxlID0gcmVxdWlyZSgnbm9kZS1zY2hlZHVsZScpO1xuICAgIHJ1bGUgPSBNZXRlb3Iuc2V0dGluZ3MuY3Jvbi50aW1lb3V0X2F1dG9fc3VibWl0O1xuICAgIGdvX25leHQgPSB0cnVlO1xuICAgIHJldHVybiBzY2hlZHVsZS5zY2hlZHVsZUpvYihydWxlLCBNZXRlb3IuYmluZEVudmlyb25tZW50KGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGU7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIWdvX25leHQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ29fbmV4dCA9IGZhbHNlO1xuICAgICAgICBjb25zb2xlLnRpbWUoJ3RpbWVvdXRfYXV0b19zdWJtaXQnKTtcbiAgICAgICAgdXVmbG93TWFuYWdlci50aW1lb3V0QXV0b1N1Ym1pdCgpO1xuICAgICAgICBjb25zb2xlLnRpbWVFbmQoJ3RpbWVvdXRfYXV0b19zdWJtaXQnKTtcbiAgICAgICAgcmV0dXJuIGdvX25leHQgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQVVUTyBUSU1FT1VUX0FVVE9fU1VCTUlUIEVSUk9SOiBcIik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICAgIHJldHVybiBnb19uZXh0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbihlKSB7XG4gICAgICBjb25zb2xlLmxvZygnRmFpbGVkIHRvIGJpbmQgZW52aXJvbm1lbnQ6IHRpbWVvdXRfYXV0b19zdWJtaXQuY29mZmVlJyk7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coZS5zdGFjayk7XG4gICAgfSkpO1xuICB9XG59KTtcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICB0aW1lb3V0X2F1dG9fc3VibWl0OiBmdW5jdGlvbihpbnNfaWQpIHtcbiAgICB1dWZsb3dNYW5hZ2VyLnRpbWVvdXRBdXRvU3VibWl0KGluc19pZCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLnN0YXJ0dXAgKCktPlxuXHRUYWJ1bGFyVGFibGVzLnJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIgPSBuZXcgVGFidWxhci5UYWJsZVxuXHRcdG5hbWU6IFwicmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhclwiXG5cdFx0Y29sbGVjdGlvbjogZGIuaW5zdGFuY2VzXG5cdFx0Y29sdW1uczogW1xuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcIl9pZFwiLFxuXHRcdFx0XHR0aXRsZTogJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwicmV2ZXJzZVwiIGlkPVwicmV2ZXJzZVwiPicsXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdpZHRoOiAnMXB4Jyxcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aW5wdXQgPSAnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwicmVsYXRlZC1pbnN0YW5jZXMtbGlzdC1jaGVja2JveFwiIG5hbWU9XCJyZWxhdGVkX2luc3RhbmNlc19pZHNcIiBpZD1cInJlbGF0ZWRfaW5zdGFuY2VzX2lkc1wiIHZhbHVlPVwiJyArIGRvYy5faWQgKyAnXCInXG5cblx0XHRcdFx0XHRpZiBUYWJ1bGFyVGFibGVzLnJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIucmVsYXRlZF9pbnN0YW5jZXM/LmluY2x1ZGVzKGRvYy5faWQpXG5cdFx0XHRcdFx0XHRpbnB1dCArPSBcIiBjaGVja2VkIFwiXG5cblx0XHRcdFx0XHRpbnB1dCArPSBcIj5cIlxuXHRcdFx0XHRcdHJldHVybiBpbnB1dFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJuYW1lXCIsXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2UsXG5cdFx0XHRcdHdpZHRoOiAnNDUlJyxcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aHJlZiA9ICcnO1xuXHRcdFx0XHRcdGlmIE1ldGVvci5pc0NsaWVudCAmJiAoU3RlZWRvcy5pc01vYmlsZSgpIHx8IFN0ZWVkb3MuaXNDb3Jkb3ZhKCkpXG5cdFx0XHRcdFx0XHRocmVmID0gJydcblxuXHRcdFx0XHRcdGFic29sdXRlID0gZmFsc2VcblxuXHRcdFx0XHRcdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdFx0XHRcdFx0YWJzb2x1dGUgPSB0aGlzLmFic29sdXRlXG5cdFx0XHRcdFx0aWYgYWJzb2x1dGVcblx0XHRcdFx0XHRcdGhyZWYgPSBNZXRlb3IuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIitkb2Muc3BhY2UrXCIvdmlldy9yZWFkb25seS9cIiArIGRvYy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGhyZWYgPSBTdGVlZG9zLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIrZG9jLnNwYWNlK1wiL3ZpZXcvcmVhZG9ubHkvXCIgKyBkb2MuX2lkICsgJz9oaWRlX3RyYWNlcz0wJylcblx0XHRcdFx0XHRyZXR1cm4gXCI8YSBkYXRhLWlkPScje2RvYy5faWR9JyB0YXJnZXQ9J19ibGFuaycgaHJlZj0nXCIraHJlZitcIic+XCIgKyBkb2MubmFtZSArIFwiPC9hPlwiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcImFwcGxpY2FudF9uYW1lXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9uYW1lXCIpLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcImZsb3dfbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcImN1cnJlbnRfc3RlcF9uYW1lXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGlmIGRvYy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiXG5cdFx0XHRcdFx0XHRqdWRnZSA9IGRvYy5maW5hbF9kZWNpc2lvbiB8fCBcImFwcHJvdmVkXCJcblxuXHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lID0gZG9jLmN1cnJlbnRfc3RlcF9uYW1lIHx8ICcnXG5cblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJzdGVwLWN1cnJlbnQtc3RhdGUgI3tqdWRnZX1cIj4je3N0ZXBfY3VycmVudF9uYW1lfTwvZGl2PlxuXHRcdFx0XHRcdFx0XCJcIlwiXG5cdFx0XHR9XG5cdFx0XVxuXG5cdFx0ZG9tOiBcInRwXCIsXG5cdFx0bGVuZ3RoQ2hhbmdlOiBmYWxzZSxcblx0XHRleHRyYUZpZWxkczogW1wic3RhdGVcIiwgXCJmaW5hbF9kZWNpc2lvblwiLCBcInNwYWNlXCIsIFwia2V5d29yZHNcIl0sXG5cdFx0cGFnZUxlbmd0aDogMTAsXG5cdFx0aW5mbzogZmFsc2UsXG5cdFx0c2VhcmNoaW5nOiB0cnVlLFxuXHRcdHJlc3BvbnNpdmU6XG5cdFx0XHRkZXRhaWxzOiBmYWxzZVxuXHRcdGF1dG9XaWR0aDogZmFsc2UsXG5cdFx0Y2hhbmdlU2VsZWN0b3I6IChzZWxlY3RvciwgdXNlcklkKSAtPlxuXHRcdFx0dW5sZXNzIHVzZXJJZFxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XG5cblx0XHRcdHNwYWNlSWQgPSBzZWxlY3Rvci5zcGFjZVxuXHRcdFx0dW5sZXNzIHNwYWNlSWRcblx0XHRcdFx0aWYgc2VsZWN0b3I/LiRhbmQ/Lmxlbmd0aCA+IDBcblx0XHRcdFx0XHRzcGFjZUlkID0gc2VsZWN0b3IuJGFuZC5nZXRQcm9wZXJ0eSgnc3BhY2UnKVswXVxuXHRcdFx0dW5sZXNzIHNwYWNlSWRcblx0XHRcdFx0cmV0dXJuIHtfaWQ6IC0xfVxuXHRcdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShzcGFjZUlkKVxuXHRcdFx0aWYgIXNwYWNlXG5cdFx0XHRcdHNlbGVjdG9yLnN0YXRlID0gXCJub25lXCJcblx0XHRcdGlmICFzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcklkKVxuXG5cdFx0XHRcdGZsb3dfaWRzID0gW11cblx0XHRcdFx0Y3VyU3BhY2VVc2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG5cdFx0XHRcdFx0c3BhY2U6IHNwYWNlSWQsXG5cdFx0XHRcdFx0J3VzZXInOiB1c2VySWRcblx0XHRcdFx0fSlcblx0XHRcdFx0aWYgY3VyU3BhY2VVc2VyXG5cdFx0XHRcdFx0b3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG5cdFx0XHRcdFx0XHRfaWQ6IHtcblx0XHRcdFx0XHRcdFx0JGluOiBjdXJTcGFjZVVzZXIub3JnYW5pemF0aW9uc1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pLmZldGNoKClcblx0XHRcdFx0XHRmbG93cyA9IGRiLmZsb3dzLmZpbmQoeyBzcGFjZTogc3BhY2VJZCB9KVxuXHRcdFx0XHRcdGZsb3dzLmZvckVhY2ggKGZsKS0+XG5cdFx0XHRcdFx0XHRpZiBXb3JrZmxvd01hbmFnZXIuY2FuTW9uaXRvcihmbCwgY3VyU3BhY2VVc2VyLCBvcmdhbml6YXRpb25zKSB8fCBXb3JrZmxvd01hbmFnZXIuY2FuQWRtaW4oZmwsIGN1clNwYWNlVXNlciwgb3JnYW5pemF0aW9ucylcblx0XHRcdFx0XHRcdFx0Zmxvd19pZHMucHVzaChmbC5faWQpXG5cblx0XHRcdFx0aWYgc2VsZWN0b3I/LiRhbmQ/Lmxlbmd0aCA+IDBcblx0XHRcdFx0XHRzZWxlY3Rvci4kYW5kWzBdLiRvciA9IFt7c3VibWl0dGVyOiB1c2VySWR9LCB7YXBwbGljYW50OiB1c2VySWR9LCB7aW5ib3hfdXNlcnM6IHVzZXJJZH0sIHtvdXRib3hfdXNlcnM6IHVzZXJJZH0sXG5cdFx0XHRcdFx0XHRcdHtjY191c2VyczogdXNlcklkfSwgeyBmbG93OiB7ICRpbjogZmxvd19pZHMgfSB9XVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0Xy5leHRlbmQgc2VsZWN0b3IsIHtcblx0XHRcdFx0XHRcdCRvcjogW3tzdWJtaXR0ZXI6IHVzZXJJZH0sIHthcHBsaWNhbnQ6IHVzZXJJZH0sIHtpbmJveF91c2VyczogdXNlcklkfSwge291dGJveF91c2VyczogdXNlcklkfSxcblx0XHRcdFx0XHRcdFx0e2NjX3VzZXJzOiB1c2VySWR9LCB7IGZsb3c6IHsgJGluOiBmbG93X2lkcyB9IH1dXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gc2VsZWN0b3IiLCJNZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFRhYnVsYXJUYWJsZXMucmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhciA9IG5ldyBUYWJ1bGFyLlRhYmxlKHtcbiAgICBuYW1lOiBcInJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXJcIixcbiAgICBjb2xsZWN0aW9uOiBkYi5pbnN0YW5jZXMsXG4gICAgY29sdW1uczogW1xuICAgICAge1xuICAgICAgICBkYXRhOiBcIl9pZFwiLFxuICAgICAgICB0aXRsZTogJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwicmV2ZXJzZVwiIGlkPVwicmV2ZXJzZVwiPicsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdpZHRoOiAnMXB4JyxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBpbnB1dCwgcmVmO1xuICAgICAgICAgIGlucHV0ID0gJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cInJlbGF0ZWQtaW5zdGFuY2VzLWxpc3QtY2hlY2tib3hcIiBuYW1lPVwicmVsYXRlZF9pbnN0YW5jZXNfaWRzXCIgaWQ9XCJyZWxhdGVkX2luc3RhbmNlc19pZHNcIiB2YWx1ZT1cIicgKyBkb2MuX2lkICsgJ1wiJztcbiAgICAgICAgICBpZiAoKHJlZiA9IFRhYnVsYXJUYWJsZXMucmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhci5yZWxhdGVkX2luc3RhbmNlcykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhkb2MuX2lkKSA6IHZvaWQgMCkge1xuICAgICAgICAgICAgaW5wdXQgKz0gXCIgY2hlY2tlZCBcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5wdXQgKz0gXCI+XCI7XG4gICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibmFtZVwiLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxuICAgICAgICB3aWR0aDogJzQ1JScsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgYWJzb2x1dGUsIGhyZWY7XG4gICAgICAgICAgaHJlZiA9ICcnO1xuICAgICAgICAgIGlmIChNZXRlb3IuaXNDbGllbnQgJiYgKFN0ZWVkb3MuaXNNb2JpbGUoKSB8fCBTdGVlZG9zLmlzQ29yZG92YSgpKSkge1xuICAgICAgICAgICAgaHJlZiA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhYnNvbHV0ZSA9IGZhbHNlO1xuICAgICAgICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgICAgICAgIGFic29sdXRlID0gdGhpcy5hYnNvbHV0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGFic29sdXRlKSB7XG4gICAgICAgICAgICBocmVmID0gTWV0ZW9yLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIgKyBkb2Muc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgZG9jLl9pZCArICc/aGlkZV90cmFjZXM9MCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBocmVmID0gU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgZG9jLnNwYWNlICsgXCIvdmlldy9yZWFkb25seS9cIiArIGRvYy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIChcIjxhIGRhdGEtaWQ9J1wiICsgZG9jLl9pZCArIFwiJyB0YXJnZXQ9J19ibGFuaycgaHJlZj0nXCIpICsgaHJlZiArIFwiJz5cIiArIGRvYy5uYW1lICsgXCI8L2E+XCI7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJhcHBsaWNhbnRfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfbmFtZVwiKSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImZsb3dfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiY3VycmVudF9zdGVwX25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBqdWRnZSwgc3RlcF9jdXJyZW50X25hbWU7XG4gICAgICAgICAgaWYgKGRvYy5zdGF0ZSA9PT0gXCJjb21wbGV0ZWRcIikge1xuICAgICAgICAgICAganVkZ2UgPSBkb2MuZmluYWxfZGVjaXNpb24gfHwgXCJhcHByb3ZlZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZSA9IGRvYy5jdXJyZW50X3N0ZXBfbmFtZSB8fCAnJztcbiAgICAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJzdGVwLWN1cnJlbnQtc3RhdGUgXCIgKyBqdWRnZSArIFwiXFxcIj5cIiArIHN0ZXBfY3VycmVudF9uYW1lICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF0sXG4gICAgZG9tOiBcInRwXCIsXG4gICAgbGVuZ3RoQ2hhbmdlOiBmYWxzZSxcbiAgICBleHRyYUZpZWxkczogW1wic3RhdGVcIiwgXCJmaW5hbF9kZWNpc2lvblwiLCBcInNwYWNlXCIsIFwia2V5d29yZHNcIl0sXG4gICAgcGFnZUxlbmd0aDogMTAsXG4gICAgaW5mbzogZmFsc2UsXG4gICAgc2VhcmNoaW5nOiB0cnVlLFxuICAgIHJlc3BvbnNpdmU6IHtcbiAgICAgIGRldGFpbHM6IGZhbHNlXG4gICAgfSxcbiAgICBhdXRvV2lkdGg6IGZhbHNlLFxuICAgIGNoYW5nZVNlbGVjdG9yOiBmdW5jdGlvbihzZWxlY3RvciwgdXNlcklkKSB7XG4gICAgICB2YXIgY3VyU3BhY2VVc2VyLCBmbG93X2lkcywgZmxvd3MsIG9yZ2FuaXphdGlvbnMsIHJlZiwgcmVmMSwgc3BhY2UsIHNwYWNlSWQ7XG4gICAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9pZDogLTFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHNwYWNlSWQgPSBzZWxlY3Rvci5zcGFjZTtcbiAgICAgIGlmICghc3BhY2VJZCkge1xuICAgICAgICBpZiAoKHNlbGVjdG9yICE9IG51bGwgPyAocmVmID0gc2VsZWN0b3IuJGFuZCkgIT0gbnVsbCA/IHJlZi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICAgIHNwYWNlSWQgPSBzZWxlY3Rvci4kYW5kLmdldFByb3BlcnR5KCdzcGFjZScpWzBdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXNwYWNlSWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHNwYWNlSWQpO1xuICAgICAgaWYgKCFzcGFjZSkge1xuICAgICAgICBzZWxlY3Rvci5zdGF0ZSA9IFwibm9uZVwiO1xuICAgICAgfVxuICAgICAgaWYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcklkKSkge1xuICAgICAgICBmbG93X2lkcyA9IFtdO1xuICAgICAgICBjdXJTcGFjZVVzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICAgICAgICBzcGFjZTogc3BhY2VJZCxcbiAgICAgICAgICAndXNlcic6IHVzZXJJZFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGN1clNwYWNlVXNlcikge1xuICAgICAgICAgIG9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICAgICAgX2lkOiB7XG4gICAgICAgICAgICAgICRpbjogY3VyU3BhY2VVc2VyLm9yZ2FuaXphdGlvbnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgICAgIGZsb3dzID0gZGIuZmxvd3MuZmluZCh7XG4gICAgICAgICAgICBzcGFjZTogc3BhY2VJZFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGZsb3dzLmZvckVhY2goZnVuY3Rpb24oZmwpIHtcbiAgICAgICAgICAgIGlmIChXb3JrZmxvd01hbmFnZXIuY2FuTW9uaXRvcihmbCwgY3VyU3BhY2VVc2VyLCBvcmdhbml6YXRpb25zKSB8fCBXb3JrZmxvd01hbmFnZXIuY2FuQWRtaW4oZmwsIGN1clNwYWNlVXNlciwgb3JnYW5pemF0aW9ucykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZsb3dfaWRzLnB1c2goZmwuX2lkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHNlbGVjdG9yICE9IG51bGwgPyAocmVmMSA9IHNlbGVjdG9yLiRhbmQpICE9IG51bGwgPyByZWYxLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgICAgc2VsZWN0b3IuJGFuZFswXS4kb3IgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN1Ym1pdHRlcjogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGFwcGxpY2FudDogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGluYm94X3VzZXJzOiB1c2VySWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgb3V0Ym94X3VzZXJzOiB1c2VySWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgY2NfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBmbG93OiB7XG4gICAgICAgICAgICAgICAgJGluOiBmbG93X2lkc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfLmV4dGVuZChzZWxlY3Rvciwge1xuICAgICAgICAgICAgJG9yOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdWJtaXR0ZXI6IHVzZXJJZFxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgYXBwbGljYW50OiB1c2VySWRcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGluYm94X3VzZXJzOiB1c2VySWRcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG91dGJveF91c2VyczogdXNlcklkXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBjY191c2VyczogdXNlcklkXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBmbG93OiB7XG4gICAgICAgICAgICAgICAgICAkaW46IGZsb3dfaWRzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzZWxlY3RvcjtcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJTdGVlZG9zLnN1YnNbXCJJbnN0YW5jZVRhYnVsYXJcIl0gPSBuZXcgU3Vic01hbmFnZXIoKVxuXG5cbl9oYW5kbGVMaXN0RmllbGRzID0gKGZpZWxkcykgLT5cblx0aW5zX2ZpZWxkcyA9IG5ldyBBcnJheSgpO1xuXG5cdGZpZWxkcz8uZm9yRWFjaCAoZiktPlxuXHRcdGlmIGYudHlwZSA9PSAndGFibGUnXG5cdFx0XHRjb25zb2xlLmxvZyAnaWdub3JlIG9waW5pb24gZmllbGQgaW4gdGFibGUnXG5cdFx0ZWxzZSBpZiBmLnR5cGUgPT0gJ3NlY3Rpb24nXG5cdFx0XHRmPy5maWVsZHM/LmZvckVhY2ggKGYxKS0+XG5cdFx0XHRcdGluc19maWVsZHMucHVzaCBmMVxuXHRcdGVsc2Vcblx0XHRcdGluc19maWVsZHMucHVzaCBmXG5cblx0cmV0dXJuIGluc19maWVsZHNcblxuXG51cGRhdGVUYWJ1bGFyVGl0bGUgPSAoKS0+XG5cbiMg5aaC5p6cY29sdW1uc+acieWKoOWHj++8jOivt+S/ruaUuVRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX3RhYmxlQ29sdW1ucyDlh73mlbBcbmluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIgPSAoZmxvd0lkLCBmaWVsZHMpLT5cblx0b3B0aW9ucyA9IHtcblx0XHRuYW1lOiBcImluc3RhbmNlc1wiLFxuXHRcdGNvbGxlY3Rpb246IGRiLmluc3RhbmNlcyxcblx0XHRwdWI6IFwiaW5zdGFuY2VfdGFidWxhclwiLFxuXHRcdG9uVW5sb2FkOiAoKS0+XG5cdFx0XHRNZXRlb3Iuc2V0VGltZW91dChUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMsIDE1MClcblxuXHRcdGRyYXdDYWxsYmFjazogKHNldHRpbmdzKS0+XG5cdFx0XHRlbXB0eVRkID0gJChcIi5kYXRhVGFibGVzX2VtcHR5XCIpXG5cdFx0XHRpZiBlbXB0eVRkLmxlbmd0aFxuXHRcdFx0XHRlbXB0eVRkWzBdLmNvbFNwYW4gPSBcIjZcIlxuXHRcdFx0aWYgIVN0ZWVkb3MuaXNNb2JpbGUoKSAmJiAhU3RlZWRvcy5pc1BhZCgpXG5cdFx0XHRcdE1ldGVvci5zZXRUaW1lb3V0KFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX3RhYmxlQ29sdW1ucywgMTUwKVxuXHRcdFx0XHQkKFwiLmluc3RhbmNlLWxpc3RcIikuc2Nyb2xsVG9wKDApLnJlYWR5IC0+XG5cdFx0XHRcdFx0JChcIi5pbnN0YW5jZS1saXN0XCIpLnBlcmZlY3RTY3JvbGxiYXIoXCJ1cGRhdGVcIilcblx0XHRcdGVsc2Vcblx0XHRcdFx0JChcIi5pbnN0YW5jZS1saXN0XCIpLnNjcm9sbFRvcCgwKVxuXG5cdFx0XHR0aXRsZSA9IHQgXCJwYWdlcl9pbnB1dF9oaW50XCJcblx0XHRcdGVsbGlwc2lzTGluayA9IHNldHRpbmdzLm9JbnN0YW5jZS5wYXJlbnQoKS5maW5kKCcucGFnaW5nX251bWJlcnMgLnBhZ2luYXRpb24gLmRpc2FibGVkIGEnKVxuXHRcdFx0ZWxsaXBzaXNMaW5rLmF0dHIoXCJ0aXRsZVwiLCB0aXRsZSkuY3NzKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKS5jbGljayAtPlxuXHRcdFx0XHRpZiAhJCh0aGlzKS5maW5kKCdpbnB1dCcpLmxlbmd0aFxuXHRcdFx0XHRcdGlucHV0ID0gJCgnPGlucHV0IGNsYXNzPVwicGFnaW5hdGVfaW5wdXQgZm9ybS1jb250cm9sIGlucHV0LXNtXCIgdHlwZT1cInRleHRcIiBzdHlsZT1cImJvcmRlcjogbm9uZTsgcGFkZGluZzowIDJweDtcIi8+Jylcblx0XHRcdFx0XHRpZiBTdGVlZG9zLmlzTW9iaWxlKClcblx0XHRcdFx0XHRcdGlucHV0LmNzcyh7XG5cdFx0XHRcdFx0XHRcdHdpZHRoOlwiNTJweFwiXG5cdFx0XHRcdFx0XHRcdGhlaWdodDogXCIyMHB4XCJcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0aW5wdXQuY3NzKHtcblx0XHRcdFx0XHRcdFx0d2lkdGg6XCI1MnB4XCJcblx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBcIjE2cHhcIlxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRpbnB1dC5hdHRyKFwidGl0bGVcIiwgdGl0bGUpLmF0dHIoXCJwbGFjZWhvbGRlclwiLCB0aXRsZSlcblx0XHRcdFx0XHQkKHRoaXMpLmVtcHR5KCkuYXBwZW5kIGlucHV0XG5cdFx0XHRcdFx0Z29QYWdlID0gKGluZGV4KS0+XG5cdFx0XHRcdFx0XHRpZiBpbmRleCA+IDBcblx0XHRcdFx0XHRcdFx0cGFnZXMgPSBNYXRoLmNlaWwoc2V0dGluZ3MuZm5SZWNvcmRzRGlzcGxheSgpIC8gc2V0dGluZ3MuX2lEaXNwbGF5TGVuZ3RoKVxuXHRcdFx0XHRcdFx0XHRpZiBpbmRleCA+IHBhZ2VzXG5cdFx0XHRcdFx0XHRcdFx0IyDpobXnoIHotoXlh7rntKLlvJXml7bot7PovazliLDmnIDlkI7kuIDpobVcblx0XHRcdFx0XHRcdFx0XHRpbmRleCA9IHBhZ2VzXG5cdFx0XHRcdFx0XHRcdGluZGV4LS1cblx0XHRcdFx0XHRcdFx0c2V0dGluZ3Mub0luc3RhbmNlLkRhdGFUYWJsZSgpLnBhZ2UoaW5kZXgpLmRyYXcoJ3BhZ2UnKVxuXHRcdFx0XHRcdGlucHV0LmJsdXIgKGUpLT5cblx0XHRcdFx0XHRcdGN1cnJlbnRQYWdlID0gJCh0aGlzKS52YWwoKVxuXHRcdFx0XHRcdFx0Z29QYWdlIGN1cnJlbnRQYWdlXG5cdFx0XHRcdFx0XHQkKHRoaXMpLnBhcmVudCgpLmh0bWwgJy4uLidcblx0XHRcdFx0XHRpbnB1dC5rZXlkb3duIChlKS0+XG5cdFx0XHRcdFx0XHRpZihlLmtleUNvZGUudG9TdHJpbmcoKSA9PSBcIjEzXCIpXG5cdFx0XHRcdFx0XHRcdGN1cnJlbnRQYWdlID0gJCh0aGlzKS52YWwoKVxuXHRcdFx0XHRcdFx0XHRnb1BhZ2UgY3VycmVudFBhZ2VcblxuXHRcdGNyZWF0ZWRSb3c6IChyb3csIGRhdGEsIGRhdGFJbmRleCkgLT5cblx0XHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0XHRpZiBkYXRhLl9pZCA9PSBGbG93Um91dGVyLmN1cnJlbnQoKS5wYXJhbXMuaW5zdGFuY2VJZFxuXHRcdFx0XHRcdHJvdy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInNlbGVjdGVkXCIpXG5cdFx0Y29sdW1uczogW1xuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcIl9pZFwiLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdG1vZGlmaWVkU3RyaW5nID0gbW9tZW50KGRvYy5tb2RpZmllZCkuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG5cblx0XHRcdFx0XHRtb2RpZmllZCA9IGRvYy5tb2RpZmllZFxuXHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgJiYgZG9jLnN0YXRlICE9ICdkcmFmdCdcblx0XHRcdFx0XHRcdG1vZGlmaWVkID0gZG9jLnN0YXJ0X2RhdGUgfHwgZG9jLm1vZGlmaWVkXG5cblx0XHRcdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnb3V0Ym94JyB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnbW9uaXRvcidcblx0XHRcdFx0XHRcdG1vZGlmaWVkID0gZG9jLnN1Ym1pdF9kYXRlIHx8IGRvYy5zdWJtaXRfZGF0ZVxuXG5cdFx0XHRcdFx0bW9kaWZpZWRGcm9tTm93ID0gU3RlZWRvcy5tb21lbnRSZWFjdGl2ZUZyb21Ob3cobW9kaWZpZWQpO1xuXHRcdFx0XHRcdGZsb3dfbmFtZSA9IGRvYy5mbG93X25hbWVcblx0XHRcdFx0XHRjY192aWV3ID0gXCJcIjtcblx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCJcIjtcblx0XHRcdFx0XHQjIOW9k+WJjeeUqOaIt+WcqGNjIHVzZXLkuK3vvIzkvYbmmK/kuI3lnKhpbmJveCB1c2Vyc+aXtuaJjeaYvuekuifkvKDpmIUn5paH5a2XXG5cdFx0XHRcdFx0aWYgZG9jLmlzX2NjICYmICFkb2MuaW5ib3hfdXNlcnM/LmluY2x1ZGVzKE1ldGVvci51c2VySWQoKSkgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xuXHRcdFx0XHRcdFx0Y2NfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXyhcImluc3RhbmNlX2NjX3RpdGxlXCIpICsgXCIpPC9sYWJlbD4gXCJcblx0XHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+I3tmbG93X25hbWV9PHNwYW4+KCN7ZG9jLmN1cnJlbnRfc3RlcF9uYW1lfSk8L3NwYW4+PC9kaXY+XCJcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSAhPSAnZHJhZnQnICYmIGRvYy5jdXJyZW50X3N0ZXBfbmFtZVxuXHRcdFx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPiN7Zmxvd19uYW1lfTxzcGFuPigje2RvYy5jdXJyZW50X3N0ZXBfbmFtZX0pPC9zcGFuPjwvZGl2PlwiXG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+I3tmbG93X25hbWV9PC9kaXY+XCJcblxuXHRcdFx0XHRcdGFnZW50X3ZpZXcgPSBcIlwiO1xuXHRcdFx0XHRcdGlmIGRvYy5hZ2VudF91c2VyX25hbWUgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xuXHRcdFx0XHRcdFx0YWdlbnRfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge3VzZXJOYW1lOiBkb2MuYWdlbnRfdXNlcl9uYW1lfSkgKyBcIik8L2xhYmVsPlwiXG5cblx0XHRcdFx0XHR1bnJlYWQgPSAnJ1xuXG5cdFx0XHRcdFx0aXNGYXZvcml0ZVNlbGVjdGVkID0gRmF2b3JpdGVzLmlzUmVjb3JkU2VsZWN0ZWQoXCJpbnN0YW5jZXNcIiwgZG9jLl9pZClcblx0XHRcdFx0XHRpZiBGYXZvcml0ZXMuaXNSZWNvcmRTZWxlY3RlZChcImluc3RhbmNlc1wiLCBkb2MuX2lkKVxuXHRcdFx0XHRcdFx0dW5yZWFkID0gJzxpIGNsYXNzPVwiaW9uIGlvbi1pb3Mtc3Rhci1vdXRsaW5lIGluc3RhbmNlLWZhdm9yaXRlLXNlbGVjdGVkXCI+PC9pPidcblx0XHRcdFx0XHRlbHNlIGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgJiYgZG9jLmlzX3JlYWQgPT0gZmFsc2Vcblx0XHRcdFx0XHRcdHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24tcmVjb3JkIHVucmVhZFwiPjwvaT4nXG5cdFx0XHRcdFx0ZWxzZSBpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnbW9uaXRvcicgJiYgZG9jLmlzX2hpZGRlbiA9PSB0cnVlXG5cdFx0XHRcdFx0XHR1bnJlYWQgPSAnPGkgY2xhc3M9XCJmYSBmYS1sb2NrXCI+PC9pPidcblxuXHRcdFx0XHRcdHByaW9yaXR5SWNvbiA9IFwiXCJcblx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwiXCJcblx0XHRcdFx0XHRwcmlvcml0eVZhbHVlID0gZG9jLnZhbHVlcz8ucHJpb3JpdHlcblx0XHRcdFx0XHRzd2l0Y2ggcHJpb3JpdHlWYWx1ZVxuXHRcdFx0XHRcdFx0d2hlbiBcIueJueaApVwiXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJkYW5nZXJcIlxuXHRcdFx0XHRcdFx0d2hlbiBcIue0p+aApVwiXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJ3YXJuaW5nXCJcblx0XHRcdFx0XHRcdHdoZW4gXCLlip7mlodcIlxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwibXV0ZWRcIlxuXHRcdFx0XHRcdGlmIHByaW9yaXR5SWNvbkNsYXNzXG5cdFx0XHRcdFx0XHRpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzID0gXCJjb2xvci1wcmlvcml0eSBjb2xvci1wcmlvcml0eS0je3ByaW9yaXR5SWNvbkNsYXNzfVwiXG5cblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtcmVhZC1iYXInPiN7dW5yZWFkfTwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLW5hbWUgI3tpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzfSc+I3tkb2MubmFtZX0je2NjX3ZpZXd9I3thZ2VudF92aWV3fVxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4+I3tkb2MuYXBwbGljYW50X25hbWV9PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLWRldGFpbCc+I3tzdGVwX2N1cnJlbnRfbmFtZV92aWV3fVxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9J2luc3RhbmNlLW1vZGlmaWVkJyB0aXRsZT0nI3ttb2RpZmllZFN0cmluZ30nPiN7bW9kaWZpZWRGcm9tTm93fTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XCJcIlwiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIiksXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJuYW1lXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX25hbWVcIiksXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGNjX3ZpZXcgPSBcIlwiO1xuXHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIlwiO1xuXHRcdFx0XHRcdCMg5b2T5YmN55So5oi35ZyoY2MgdXNlcuS4re+8jOS9huaYr+S4jeWcqGluYm94IHVzZXJz5pe25omN5pi+56S6J+S8oOmYhSfmloflrZdcblx0XHRcdFx0XHRpZiBkb2MuaXNfY2MgJiYgIWRvYy5pbmJveF91c2Vycz8uaW5jbHVkZXMoTWV0ZW9yLnVzZXJJZCgpKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXG5cdFx0XHRcdFx0XHRjY192aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKFwiaW5zdGFuY2VfY2NfdGl0bGVcIikgKyBcIik8L2xhYmVsPiBcIlxuXG5cdFx0XHRcdFx0YWdlbnRfdmlldyA9IFwiXCI7XG5cdFx0XHRcdFx0aWYgZG9jLmFnZW50X3VzZXJfbmFtZVxuXHRcdFx0XHRcdFx0YWdlbnRfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge3VzZXJOYW1lOiBkb2MuYWdlbnRfdXNlcl9uYW1lfSkgKyBcIik8L2xhYmVsPlwiXG5cblx0XHRcdFx0XHR1bnJlYWQgPSAnJ1xuXG5cdFx0XHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94JyAmJiBkb2MuaXNfcmVhZCA9PSBmYWxzZVxuXHRcdFx0XHRcdFx0dW5yZWFkID0gJzxpIGNsYXNzPVwiaW9uIGlvbi1yZWNvcmQgdW5yZWFkXCI+PC9pPidcblx0XHRcdFx0XHRlbHNlIGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdtb25pdG9yJyAmJiBkb2MuaXNfaGlkZGVuID09IHRydWVcblx0XHRcdFx0XHRcdHVucmVhZCA9ICc8aSBjbGFzcz1cImZhIGZhLWxvY2tcIj48L2k+J1xuXG5cdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIlwiXG5cdFx0XHRcdFx0cHJpb3JpdHlWYWx1ZSA9IGRvYy52YWx1ZXM/LnByaW9yaXR5XG5cdFx0XHRcdFx0c3dpdGNoIHByaW9yaXR5VmFsdWVcblx0XHRcdFx0XHRcdHdoZW4gXCLnibnmgKVcIlxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwiZGFuZ2VyXCJcblx0XHRcdFx0XHRcdHdoZW4gXCLntKfmgKVcIlxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwid2FybmluZ1wiXG5cdFx0XHRcdFx0XHR3aGVuIFwi5Yqe5paHXCJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIm11dGVkXCJcblx0XHRcdFx0XHRpZiBwcmlvcml0eUljb25DbGFzc1xuXHRcdFx0XHRcdFx0aW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyA9IFwiY29sb3ItcHJpb3JpdHkgY29sb3ItcHJpb3JpdHktI3twcmlvcml0eUljb25DbGFzc31cIlxuXHRcdFx0XHRcdHJldHVybiBcIlwiXCJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtcmVhZC1iYXInPiN7dW5yZWFkfTwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1uYW1lICN7aW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzc30nPiN7ZG9jLm5hbWV9I3tjY192aWV3fSN7YWdlbnRfdmlld308L2Rpdj5cblx0XHRcdFx0XHRcdFwiXCJcIlxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJhcHBsaWNhbnRfbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfbmFtZVwiKSxcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwic3VibWl0X2RhdGVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfc3VibWl0X2RhdGVcIiksXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGlmIGRvYy5zdWJtaXRfZGF0ZVxuXHRcdFx0XHRcdFx0cmV0dXJuIG1vbWVudChkb2Muc3VibWl0X2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuXHRcdFx0XHQsXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiZmxvd19uYW1lXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcImN1cnJlbnRfc3RlcF9uYW1lXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N0ZXBfY3VycmVudF9uYW1lXCIpLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRpZiBkb2Muc3RhdGUgPT0gXCJjb21wbGV0ZWRcIlxuXHRcdFx0XHRcdFx0anVkZ2UgPSBkb2MuZmluYWxfZGVjaXNpb24gfHwgXCJhcHByb3ZlZFwiXG5cblx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZSA9IGRvYy5jdXJyZW50X3N0ZXBfbmFtZSB8fCAnJ1xuXG5cdFx0XHRcdFx0Y2NfdGFnID0gJydcblxuXHRcdFx0XHRcdGlmIGRvYy5jY19jb3VudCA+IDBcblx0XHRcdFx0XHRcdGNjX3RhZyA9IFRBUGkxOG4uX18oJ2NjX3RhZycpXG5cblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwic3RlcC1jdXJyZW50LXN0YXRlICN7anVkZ2V9XCI+I3tzdGVwX2N1cnJlbnRfbmFtZX0je2NjX3RhZ308L2Rpdj5cblx0XHRcdFx0XHRcIlwiXCJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwibW9kaWZpZWRcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfbW9kaWZpZWRcIiksXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdHJldHVybiBtb21lbnQoZG9jLm1vZGlmaWVkKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcblx0XHRcdFx0LFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcInN0YXJ0X2RhdGVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfc3RhcnRfZGF0ZVwiKSxcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aWYgZG9jLnN0YXJ0X2RhdGVcblx0XHRcdFx0XHRcdHJldHVybiBtb21lbnQoZG9jLnN0YXJ0X2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuXHRcdFx0XHQsXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwibXlfZmluaXNoX2RhdGVcIixcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aWYgZG9jLm15X2ZpbmlzaF9kYXRlXG5cdFx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KGRvYy5teV9maW5pc2hfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG5cdFx0XHRcdCxcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJtb2RpZmllZFwiLFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJrZXl3b3Jkc1wiLFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJpc19hcmNoaXZlZFwiLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRpZiBkb2M/LnZhbHVlcz8ucmVjb3JkX25lZWQgJiYgZG9jLnZhbHVlcy5yZWNvcmRfbmVlZCA9PSBcInRydWVcIlxuXHRcdFx0XHRcdFx0aWYgZG9jPy5pc19hcmNoaXZlZFxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdChcIllFU1wiKVxuXHRcdFx0XHRcdFx0cmV0dXJuIHQoXCJOT1wiKVxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHR9XG5cdFx0XSxcblx0XHRkb206IGRvIC0+XG5cdFx0XHQjIOaJi+acuuS4iuS4jeaYvuekuuS4gOmhteaYvuekuuWkmuWwkeadoeiusOW9lemAiemhuVxuXHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXG5cdFx0XHRcdCd0cCdcblx0XHRcdGVsc2Vcblx0XHRcdFx0J3RwbCdcblx0XHRvcmRlcjogW1s0LCBcImRlc2NcIl1dLFxuXHRcdGV4dHJhRmllbGRzOiBbXCJmb3JtXCIsIFwiZmxvd1wiLCBcImluYm94X3VzZXJzXCIsIFwic3RhdGVcIiwgXCJzcGFjZVwiLCBcImFwcGxpY2FudFwiLCBcImZvcm1fdmVyc2lvblwiLFxuXHRcdFx0XCJmbG93X3ZlcnNpb25cIiwgXCJpc19jY1wiLCBcImNjX2NvdW50XCIsIFwiaXNfcmVhZFwiLCBcImN1cnJlbnRfc3RlcF9uYW1lXCIsIFwidmFsdWVzXCIsIFwia2V5d29yZHNcIiwgXCJmaW5hbF9kZWNpc2lvblwiLCBcImZsb3dfbmFtZVwiLCBcImlzX2hpZGRlblwiLCBcImFnZW50X3VzZXJfbmFtZVwiXSxcblx0XHRsZW5ndGhDaGFuZ2U6IHRydWUsXG5cdFx0bGVuZ3RoTWVudTogWzEwLDE1LDIwLDI1LDUwLDEwMF0sXG5cdFx0cGFnZUxlbmd0aDogMTAsXG5cdFx0aW5mbzogZmFsc2UsXG5cdFx0c2VhcmNoaW5nOiB0cnVlLFxuXHRcdHJlc3BvbnNpdmU6XG5cdFx0XHRkZXRhaWxzOiBmYWxzZVxuXHRcdGF1dG9XaWR0aDogZmFsc2UsXG5cdFx0Y2hhbmdlU2VsZWN0b3I6IChzZWxlY3RvciwgdXNlcklkKSAtPlxuXHRcdFx0dW5sZXNzIHVzZXJJZFxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XG5cdFx0XHRzcGFjZSA9IHNlbGVjdG9yLnNwYWNlXG5cdFx0XHR1bmxlc3Mgc3BhY2Vcblx0XHRcdFx0aWYgc2VsZWN0b3I/LiRhbmQ/Lmxlbmd0aCA+IDBcblx0XHRcdFx0XHRzcGFjZSA9IHNlbGVjdG9yLiRhbmQuZ2V0UHJvcGVydHkoJ3NwYWNlJylbMF1cblx0XHRcdHVubGVzcyBzcGFjZVxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XG5cdFx0XHRzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7dXNlcjogdXNlcklkLCBzcGFjZTogc3BhY2V9LCB7ZmllbGRzOiB7X2lkOiAxfX0pXG5cdFx0XHR1bmxlc3Mgc3BhY2VfdXNlclxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XG5cdFx0XHRyZXR1cm4gc2VsZWN0b3Jcblx0XHRwYWdpbmdUeXBlOiBcIm51bWJlcnNcIlxuXG5cdH1cblxuXHRpZiBmbG93SWRcblx0XHRrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgZmxvd0lkXG5cblx0XHRvcHRpb25zLm5hbWUgPSBrZXlcblxuXHRcdFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzLmZpZWxkcyA9IGZpZWxkc1xuXG5cdFx0aW5zX2ZpZWxkcyA9IF9oYW5kbGVMaXN0RmllbGRzIFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzLmZpZWxkc1xuXG5cdFx0aW5zX2ZpZWxkcy5mb3JFYWNoIChmKS0+XG5cdFx0XHRpZiBmLnR5cGUgIT0gJ3RhYmxlJyAmJiBmLmlzX2xpc3RfZGlzcGxheVxuXHRcdFx0XHRvcHRpb25zLmNvbHVtbnMucHVzaFxuXHRcdFx0XHRcdGRhdGE6IChmLm5hbWUgfHwgZi5jb2RlKSxcblx0XHRcdFx0XHR0aXRsZTogdChmLm5hbWUgfHwgZi5jb2RlKSxcblx0XHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cblx0XHRcdFx0XHRcdHZhbHVlcyA9IGRvYy52YWx1ZXMgfHwge31cblxuXHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZXNbZi5jb2RlXVxuXG5cdFx0XHRcdFx0XHRzd2l0Y2ggZi50eXBlXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ3VzZXInXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8ubmFtZVxuXHRcdFx0XHRcdFx0XHR3aGVuICdncm91cCdcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5mdWxsbmFtZVxuXHRcdFx0XHRcdFx0XHR3aGVuICdkYXRlJ1xuXHRcdFx0XHRcdFx0XHRcdGlmIHZhbHVlXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IG1vbWVudCh2YWx1ZSkuZm9ybWF0KCdZWVlZLU1NLUREJylcblx0XHRcdFx0XHRcdFx0d2hlbiAnZGF0ZVRpbWUnXG5cdFx0XHRcdFx0XHRcdFx0aWYgdmFsdWVcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gbW9tZW50KHZhbHVlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKVxuXHRcdFx0XHRcdFx0XHR3aGVuICdjaGVja2JveCdcblx0XHRcdFx0XHRcdFx0XHRpZiB2YWx1ZSA9PSB0cnVlIHx8IHZhbHVlID09ICd0cnVlJ1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF95ZXNcIik7XG5cdFx0XHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF9ub1wiKTtcblx0XHRcdFx0XHRcdFx0d2hlbiAnb2RhdGEnXG5cdFx0XHRcdFx0XHRcdFx0aWYgdmFsdWVcblx0XHRcdFx0XHRcdFx0XHRcdGlmIF8uaXNBcnJheSh2YWx1ZSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBfLnBsdWNrKHZhbHVlLCAnQGxhYmVsJykudG9TdHJpbmcoKVxuXHRcdFx0XHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlWydAbGFiZWwnXVxuXG5cdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWVcblxuXG5cdHJldHVybiBvcHRpb25zO1xuXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XG5cdFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUgaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcigpXG5cblxuR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMgPSAoYm94LCBmbG93SWQsIGZpZWxkcyktPlxuXHRrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgYm94ICsgZmxvd0lkXG5cdGlmIGJveCA9PSBcImluYm94XCJcblx0XHRvcHRpb25zID0gX2dldF9pbmJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zKGZsb3dJZCwgZmllbGRzKVxuXHRlbHNlIGlmIGJveCA9PSBcIm91dGJveFwiXG5cdFx0b3B0aW9ucyA9IF9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMoZmxvd0lkLCBmaWVsZHMpXG5cdGVsc2Vcblx0XHRvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcylcblx0XHRpZiAhZmxvd0lkXG5cdFx0XHRvcHRpb25zLm5hbWUgPSBcImluYm94X2luc3RhbmNlc1wiXG5cdGlmIGZsb3dJZFxuXHRcdG9wdGlvbnMubmFtZSA9IGtleVxuXHRyZXR1cm4gb3B0aW9uc1xuXG5cblxuX2dldF9pbmJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zID0gKGZsb3dJZCwgZmllbGRzKS0+XG5cdG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKVxuXG5cdGlmICFmbG93SWRcblx0XHRvcHRpb25zLm5hbWUgPSBcImluYm94X2luc3RhbmNlc1wiXG5cblx0b3B0aW9ucy5vcmRlciA9IFtbOCwgXCJkZXNjXCJdXVxuXHRvcHRpb25zLmZpbHRlcmVkUmVjb3JkSWRzID0gKHRhYmxlLCBzZWxlY3Rvciwgc29ydCwgc2tpcCwgbGltaXQsIG9sZF9maWx0ZXJlZFJlY29yZElkcywgdXNlcklkLCBmaW5kT3B0aW9ucyktPlxuXHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24gPSBbXG5cdFx0XHR7XG5cdFx0XHRcdCRtYXRjaDogc2VsZWN0b3Jcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdCRwcm9qZWN0OiB7XG5cdFx0XHRcdFx0bmFtZTogMSxcblx0XHRcdFx0XHRcIl9hcHByb3ZlXCI6ICckdHJhY2VzLmFwcHJvdmVzJ1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHQkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHQkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHQkbWF0Y2g6IHtcblx0XHRcdFx0XHQnX2FwcHJvdmUuaXNfZmluaXNoZWQnOiBmYWxzZVxuXHRcdFx0XHRcdCdfYXBwcm92ZS5oYW5kbGVyJzogdXNlcklkLFxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XVxuXHRcdGlmIHNvcnQgYW5kIHNvcnQubGVuZ3RoID4gMFxuXHRcdFx0czEgPSBzb3J0WzBdXG5cdFx0XHRzMV8wID0gczFbMF1cblx0XHRcdHMxXzEgPSBzMVsxXVxuXHRcdFx0aWYgczFfMCA9PSAnc3RhcnRfZGF0ZSdcblxuXHRcdFx0XHRmaW5kT3B0aW9ucy5zb3J0ID0gW1snbW9kaWZpZWQnLCBzMV8xXV1cblxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJGdyb3VwOiB7X2lkOiBcIiRfaWRcIiwgXCJhcHByb3ZlX3N0YXJ0X2RhdGVcIjogeyRmaXJzdDogXCIkX2FwcHJvdmUuc3RhcnRfZGF0ZVwifX1cblxuXHRcdFx0XHRhZ19zb3J0ID0gJ2FwcHJvdmVfc3RhcnRfZGF0ZSc6IGlmIHMxXzEgPT0gJ2FzYycgdGhlbiAxIGVsc2UgLTFcblxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJHNvcnQ6IGFnX3NvcnRcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRza2lwOiBza2lwXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkbGltaXQ6IGxpbWl0XG5cdFx0XHRcdGZpbHRlcmVkUmVjb3JkSWRzID0gbmV3IEFycmF5KClcblxuXHRcdFx0XHRhZ2dyZWdhdGUgPSAodGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzLCBjYikgLT5cblx0XHRcdFx0XHR0YWJsZS5jb2xsZWN0aW9uLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoYWdncmVnYXRlX29wZXJhdGlvbikudG9BcnJheSAoZXJyLCBkYXRhKSAtPlxuXHRcdFx0XHRcdFx0aWYgZXJyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihlcnIpXG5cdFx0XHRcdFx0XHRkYXRhLmZvckVhY2ggKGRvYykgLT5cblx0XHRcdFx0XHRcdFx0ZmlsdGVyZWRSZWNvcmRJZHMucHVzaCBkb2MuX2lkXG5cdFx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdFx0aWYgY2Jcblx0XHRcdFx0XHRcdFx0Y2IoKVxuXHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0cmV0dXJuXG5cblx0XHRcdFx0YXN5bmNfYWdncmVnYXRlID0gTWV0ZW9yLndyYXBBc3luYyhhZ2dyZWdhdGUpXG5cblx0XHRcdFx0YXN5bmNfYWdncmVnYXRlIHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkc1xuXG5cdFx0XHRcdHJldHVybiBmaWx0ZXJlZFJlY29yZElkcy51bmlxKClcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmV0dXJuIG9sZF9maWx0ZXJlZFJlY29yZElkc1xuXG5cdHJldHVybiBvcHRpb25zXG5cbk1ldGVvci5zdGFydHVwICgpLT5cblx0VGFidWxhclRhYmxlcy5pbmJveF9pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZSBHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhcImluYm94XCIpXG5cblxuX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyA9IChmbG93SWQsIGZpZWxkcyktPlxuXHRvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcylcblxuXHRpZiAhZmxvd0lkXG5cdFx0b3B0aW9ucy5uYW1lID0gXCJvdXRib3hfaW5zdGFuY2VzXCJcblxuXHRvcHRpb25zLm9yZGVyID0gW1s5LCBcImRlc2NcIl1dXG5cdG9wdGlvbnMuZmlsdGVyZWRSZWNvcmRJZHMgPSAodGFibGUsIHNlbGVjdG9yLCBzb3J0LCBza2lwLCBsaW1pdCwgb2xkX2ZpbHRlcmVkUmVjb3JkSWRzLCB1c2VySWQsIGZpbmRPcHRpb25zKS0+XG5cdFx0YWdncmVnYXRlX29wZXJhdGlvbiA9IFtcblx0XHRcdHtcblx0XHRcdFx0JG1hdGNoOiBzZWxlY3RvclxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JHByb2plY3Q6IHtcblx0XHRcdFx0XHRuYW1lOiAxLFxuXHRcdFx0XHRcdFwiX2FwcHJvdmVcIjogJyR0cmFjZXMuYXBwcm92ZXMnXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdCR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdCR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdCRtYXRjaDoge1xuXHRcdFx0XHRcdCdfYXBwcm92ZS5pc19maW5pc2hlZCc6IHRydWVcblx0XHRcdFx0XHQkb3I6IFt7J19hcHByb3ZlLmhhbmRsZXInOiB1c2VySWR9LHsnX2FwcHJvdmUudXNlcic6IHVzZXJJZH1dXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRdXG5cdFx0aWYgc29ydCBhbmQgc29ydC5sZW5ndGggPiAwXG5cdFx0XHRzMSA9IHNvcnRbMF1cblx0XHRcdHMxXzAgPSBzMVswXVxuXHRcdFx0czFfMSA9IHMxWzFdXG5cdFx0XHRpZiBzMV8wID09ICdteV9maW5pc2hfZGF0ZSdcblxuXHRcdFx0XHRmaW5kT3B0aW9ucy5zb3J0ID0gW1snbW9kaWZpZWQnLCBzMV8xXV1cblxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJGdyb3VwOiB7X2lkOiBcIiRfaWRcIiwgXCJhcHByb3ZlX2ZpbmlzaF9kYXRlXCI6IHskbGFzdDogXCIkX2FwcHJvdmUuZmluaXNoX2RhdGVcIn19XG5cblx0XHRcdFx0YWdfc29ydCA9ICdhcHByb3ZlX2ZpbmlzaF9kYXRlJzogaWYgczFfMSA9PSAnYXNjJyB0aGVuIDEgZWxzZSAtMVxuXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkc29ydDogYWdfc29ydFxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJHNraXA6IHNraXBcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRsaW1pdDogbGltaXRcblx0XHRcdFx0ZmlsdGVyZWRSZWNvcmRJZHMgPSBuZXcgQXJyYXkoKVxuXG5cdFx0XHRcdGFnZ3JlZ2F0ZSA9ICh0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMsIGNiKSAtPlxuXHRcdFx0XHRcdHRhYmxlLmNvbGxlY3Rpb24ucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShhZ2dyZWdhdGVfb3BlcmF0aW9uKS50b0FycmF5IChlcnIsIGRhdGEpIC0+XG5cdFx0XHRcdFx0XHRpZiBlcnJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycilcblx0XHRcdFx0XHRcdGRhdGEuZm9yRWFjaCAoZG9jKSAtPlxuXHRcdFx0XHRcdFx0XHRmaWx0ZXJlZFJlY29yZElkcy5wdXNoIGRvYy5faWRcblx0XHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0XHRpZiBjYlxuXHRcdFx0XHRcdFx0XHRjYigpXG5cdFx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0XHRyZXR1cm5cblxuXHRcdFx0XHRhc3luY19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKGFnZ3JlZ2F0ZSlcblxuXHRcdFx0XHRhc3luY19hZ2dyZWdhdGUgdGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzXG5cblx0XHRcdFx0cmV0dXJuIGZpbHRlcmVkUmVjb3JkSWRzLnVuaXEoKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXR1cm4gb2xkX2ZpbHRlcmVkUmVjb3JkSWRzXG5cblx0cmV0dXJuIG9wdGlvbnNcblxuTWV0ZW9yLnN0YXJ0dXAgKCktPlxuXHRUYWJ1bGFyVGFibGVzLm91dGJveF9pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZSBHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhcIm91dGJveFwiKVxuXG5pZiBNZXRlb3IuaXNDbGllbnRcblx0VGFidWxhclRhYmxlcy5mbG93SW5zdGFuY2VzID0gbmV3IFJlYWN0aXZlVmFyKClcblxuTWV0ZW9yLnN0YXJ0dXAgKCktPlxuXHRUcmFja2VyLmF1dG9ydW4gKGMpIC0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50ICYmICFTdGVlZG9zLmlzTW9iaWxlKClcblx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpICE9ICdkcmFmdCdcblx0XHRcdFx0TWV0ZW9yLmNhbGwgXCJuZXdJbnN0YW5jZXNMaXN0VGFidWxhclwiLCBTZXNzaW9uLmdldChcImJveFwiKSwgU2Vzc2lvbi5nZXQoXCJmbG93SWRcIiksIChlcnJvciwgcmVzdWx0KSAtPlxuXHRcdFx0XHRcdG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyIFNlc3Npb24uZ2V0KFwiYm94XCIpLCBTZXNzaW9uLmdldChcImZsb3dJZFwiKSwgcmVzdWx0XG5cdFx0XHRcdFx0VGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fY2hhbmdlT3JkZXIoKVxuXG5cbm5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyID0gKGJveCwgZmxvd0lkLCBmaWVsZHMpLT5cblx0aWYgIWZpZWxkc1xuXHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGZsb3dJZH0sIHtmaWVsZHM6IHtmb3JtOiAxfX0pXG5cdFx0ZmllbGRzID0gZGIuZm9ybXMuZmluZE9uZSh7IF9pZDogZmxvdz8uZm9ybSB9LCB7IGZpZWxkczogeyAnY3VycmVudC5maWVsZHMnOiAxIH0gfSk/LmN1cnJlbnQ/LmZpZWxkc1xuXG5cdGZpZWxkcyA9IF9oYW5kbGVMaXN0RmllbGRzIGZpZWxkc1xuXG5cdGlmIGZpZWxkcz8uZmlsdGVyUHJvcGVydHkoXCJpc19saXN0X2Rpc3BsYXlcIiwgdHJ1ZSk/Lmxlbmd0aCA+IDBcblx0XHRrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgYm94ICsgZmxvd0lkXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRUYWJ1bGFyVGFibGVzLmZsb3dJbnN0YW5jZXMuc2V0KG5ldyBUYWJ1bGFyLlRhYmxlIEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKGJveCwgZmxvd0lkLCBmaWVsZHMpKVxuXHRcdGVsc2Vcblx0XHRcdG5ldyBUYWJ1bGFyLlRhYmxlIEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKGJveCwgZmxvd0lkLCBmaWVsZHMpXG5cdFx0Y29uc29sZS5sb2cgXCJuZXcgVGFidWxhclRhYmxlcyBcIiwga2V5XG5cbmlmIE1ldGVvci5pc1NlcnZlclxuXHRNZXRlb3IubWV0aG9kc1xuXHRcdG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyOiAoYm94LCBmbG93SWQpLT5cblx0XHRcdG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyKGJveCwgZmxvd0lkKVxuXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBmbG93SWR9LCB7ZmllbGRzOiB7Zm9ybTogMX19KVxuXHRcdFx0ZmllbGRzID0gZGIuZm9ybXMuZmluZE9uZSh7IF9pZDogZmxvdz8uZm9ybSB9LCB7IGZpZWxkczogeyAnY3VycmVudC5maWVsZHMnOiAxIH0gfSk/LmN1cnJlbnQ/LmZpZWxkc1xuXHRcdFx0cmV0dXJuIGZpZWxkc1xuXG5cbiIsInZhciBHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucywgX2dldF9pbmJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zLCBfZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zLCBfaGFuZGxlTGlzdEZpZWxkcywgaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhciwgbmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIsIHVwZGF0ZVRhYnVsYXJUaXRsZTtcblxuU3RlZWRvcy5zdWJzW1wiSW5zdGFuY2VUYWJ1bGFyXCJdID0gbmV3IFN1YnNNYW5hZ2VyKCk7XG5cbl9oYW5kbGVMaXN0RmllbGRzID0gZnVuY3Rpb24oZmllbGRzKSB7XG4gIHZhciBpbnNfZmllbGRzO1xuICBpbnNfZmllbGRzID0gbmV3IEFycmF5KCk7XG4gIGlmIChmaWVsZHMgIT0gbnVsbCkge1xuICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgIHZhciByZWY7XG4gICAgICBpZiAoZi50eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgIHJldHVybiBjb25zb2xlLmxvZygnaWdub3JlIG9waW5pb24gZmllbGQgaW4gdGFibGUnKTtcbiAgICAgIH0gZWxzZSBpZiAoZi50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGYgIT0gbnVsbCA/IChyZWYgPSBmLmZpZWxkcykgIT0gbnVsbCA/IHJlZi5mb3JFYWNoKGZ1bmN0aW9uKGYxKSB7XG4gICAgICAgICAgcmV0dXJuIGluc19maWVsZHMucHVzaChmMSk7XG4gICAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGluc19maWVsZHMucHVzaChmKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gaW5zX2ZpZWxkcztcbn07XG5cbnVwZGF0ZVRhYnVsYXJUaXRsZSA9IGZ1bmN0aW9uKCkge307XG5cbmluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIgPSBmdW5jdGlvbihmbG93SWQsIGZpZWxkcykge1xuICB2YXIgaW5zX2ZpZWxkcywga2V5LCBvcHRpb25zO1xuICBvcHRpb25zID0ge1xuICAgIG5hbWU6IFwiaW5zdGFuY2VzXCIsXG4gICAgY29sbGVjdGlvbjogZGIuaW5zdGFuY2VzLFxuICAgIHB1YjogXCJpbnN0YW5jZV90YWJ1bGFyXCIsXG4gICAgb25VbmxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE1ldGVvci5zZXRUaW1lb3V0KFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX3RhYmxlQ29sdW1ucywgMTUwKTtcbiAgICB9LFxuICAgIGRyYXdDYWxsYmFjazogZnVuY3Rpb24oc2V0dGluZ3MpIHtcbiAgICAgIHZhciBlbGxpcHNpc0xpbmssIGVtcHR5VGQsIHRpdGxlO1xuICAgICAgZW1wdHlUZCA9ICQoXCIuZGF0YVRhYmxlc19lbXB0eVwiKTtcbiAgICAgIGlmIChlbXB0eVRkLmxlbmd0aCkge1xuICAgICAgICBlbXB0eVRkWzBdLmNvbFNwYW4gPSBcIjZcIjtcbiAgICAgIH1cbiAgICAgIGlmICghU3RlZWRvcy5pc01vYmlsZSgpICYmICFTdGVlZG9zLmlzUGFkKCkpIHtcbiAgICAgICAgTWV0ZW9yLnNldFRpbWVvdXQoVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zLCAxNTApO1xuICAgICAgICAkKFwiLmluc3RhbmNlLWxpc3RcIikuc2Nyb2xsVG9wKDApLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkKFwiLmluc3RhbmNlLWxpc3RcIikucGVyZmVjdFNjcm9sbGJhcihcInVwZGF0ZVwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiLmluc3RhbmNlLWxpc3RcIikuc2Nyb2xsVG9wKDApO1xuICAgICAgfVxuICAgICAgdGl0bGUgPSB0KFwicGFnZXJfaW5wdXRfaGludFwiKTtcbiAgICAgIGVsbGlwc2lzTGluayA9IHNldHRpbmdzLm9JbnN0YW5jZS5wYXJlbnQoKS5maW5kKCcucGFnaW5nX251bWJlcnMgLnBhZ2luYXRpb24gLmRpc2FibGVkIGEnKTtcbiAgICAgIHJldHVybiBlbGxpcHNpc0xpbmsuYXR0cihcInRpdGxlXCIsIHRpdGxlKS5jc3MoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZ29QYWdlLCBpbnB1dDtcbiAgICAgICAgaWYgKCEkKHRoaXMpLmZpbmQoJ2lucHV0JykubGVuZ3RoKSB7XG4gICAgICAgICAgaW5wdXQgPSAkKCc8aW5wdXQgY2xhc3M9XCJwYWdpbmF0ZV9pbnB1dCBmb3JtLWNvbnRyb2wgaW5wdXQtc21cIiB0eXBlPVwidGV4dFwiIHN0eWxlPVwiYm9yZGVyOiBub25lOyBwYWRkaW5nOjAgMnB4O1wiLz4nKTtcbiAgICAgICAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICBpbnB1dC5jc3Moe1xuICAgICAgICAgICAgICB3aWR0aDogXCI1MnB4XCIsXG4gICAgICAgICAgICAgIGhlaWdodDogXCIyMHB4XCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnB1dC5jc3Moe1xuICAgICAgICAgICAgICB3aWR0aDogXCI1MnB4XCIsXG4gICAgICAgICAgICAgIGhlaWdodDogXCIxNnB4XCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbnB1dC5hdHRyKFwidGl0bGVcIiwgdGl0bGUpLmF0dHIoXCJwbGFjZWhvbGRlclwiLCB0aXRsZSk7XG4gICAgICAgICAgJCh0aGlzKS5lbXB0eSgpLmFwcGVuZChpbnB1dCk7XG4gICAgICAgICAgZ29QYWdlID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBwYWdlcztcbiAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgcGFnZXMgPSBNYXRoLmNlaWwoc2V0dGluZ3MuZm5SZWNvcmRzRGlzcGxheSgpIC8gc2V0dGluZ3MuX2lEaXNwbGF5TGVuZ3RoKTtcbiAgICAgICAgICAgICAgaWYgKGluZGV4ID4gcGFnZXMpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IHBhZ2VzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGluZGV4LS07XG4gICAgICAgICAgICAgIHJldHVybiBzZXR0aW5ncy5vSW5zdGFuY2UuRGF0YVRhYmxlKCkucGFnZShpbmRleCkuZHJhdygncGFnZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgaW5wdXQuYmx1cihmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFBhZ2U7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICBnb1BhZ2UoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuICQodGhpcykucGFyZW50KCkuaHRtbCgnLi4uJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGlucHV0LmtleWRvd24oZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRQYWdlO1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZS50b1N0cmluZygpID09PSBcIjEzXCIpIHtcbiAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgICByZXR1cm4gZ29QYWdlKGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBjcmVhdGVkUm93OiBmdW5jdGlvbihyb3csIGRhdGEsIGRhdGFJbmRleCkge1xuICAgICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgICBpZiAoZGF0YS5faWQgPT09IEZsb3dSb3V0ZXIuY3VycmVudCgpLnBhcmFtcy5pbnN0YW5jZUlkKSB7XG4gICAgICAgICAgcmV0dXJuIHJvdy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInNlbGVjdGVkXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjb2x1bW5zOiBbXG4gICAgICB7XG4gICAgICAgIGRhdGE6IFwiX2lkXCIsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2UsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgYWdlbnRfdmlldywgY2NfdmlldywgZmxvd19uYW1lLCBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzLCBpc0Zhdm9yaXRlU2VsZWN0ZWQsIG1vZGlmaWVkLCBtb2RpZmllZEZyb21Ob3csIG1vZGlmaWVkU3RyaW5nLCBwcmlvcml0eUljb24sIHByaW9yaXR5SWNvbkNsYXNzLCBwcmlvcml0eVZhbHVlLCByZWYsIHJlZjEsIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcsIHVucmVhZDtcbiAgICAgICAgICBtb2RpZmllZFN0cmluZyA9IG1vbWVudChkb2MubW9kaWZpZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuICAgICAgICAgIG1vZGlmaWVkID0gZG9jLm1vZGlmaWVkO1xuICAgICAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94JyAmJiBkb2Muc3RhdGUgIT09ICdkcmFmdCcpIHtcbiAgICAgICAgICAgIG1vZGlmaWVkID0gZG9jLnN0YXJ0X2RhdGUgfHwgZG9jLm1vZGlmaWVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdvdXRib3gnIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnbW9uaXRvcicpIHtcbiAgICAgICAgICAgIG1vZGlmaWVkID0gZG9jLnN1Ym1pdF9kYXRlIHx8IGRvYy5zdWJtaXRfZGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbW9kaWZpZWRGcm9tTm93ID0gU3RlZWRvcy5tb21lbnRSZWFjdGl2ZUZyb21Ob3cobW9kaWZpZWQpO1xuICAgICAgICAgIGZsb3dfbmFtZSA9IGRvYy5mbG93X25hbWU7XG4gICAgICAgICAgY2NfdmlldyA9IFwiXCI7XG4gICAgICAgICAgc3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiXCI7XG4gICAgICAgICAgaWYgKGRvYy5pc19jYyAmJiAhKChyZWYgPSBkb2MuaW5ib3hfdXNlcnMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoTWV0ZW9yLnVzZXJJZCgpKSA6IHZvaWQgMCkgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgICAgIGNjX3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oXCJpbnN0YW5jZV9jY190aXRsZVwiKSArIFwiKTwvbGFiZWw+IFwiO1xuICAgICAgICAgICAgc3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz5cIiArIGZsb3dfbmFtZSArIFwiPHNwYW4+KFwiICsgZG9jLmN1cnJlbnRfc3RlcF9uYW1lICsgXCIpPC9zcGFuPjwvZGl2PlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgIT09ICdkcmFmdCcgJiYgZG9jLmN1cnJlbnRfc3RlcF9uYW1lKSB7XG4gICAgICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+XCIgKyBmbG93X25hbWUgKyBcIjxzcGFuPihcIiArIGRvYy5jdXJyZW50X3N0ZXBfbmFtZSArIFwiKTwvc3Bhbj48L2Rpdj5cIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+XCIgKyBmbG93X25hbWUgKyBcIjwvZGl2PlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBhZ2VudF92aWV3ID0gXCJcIjtcbiAgICAgICAgICBpZiAoZG9jLmFnZW50X3VzZXJfbmFtZSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICAgICAgYWdlbnRfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge1xuICAgICAgICAgICAgICB1c2VyTmFtZTogZG9jLmFnZW50X3VzZXJfbmFtZVxuICAgICAgICAgICAgfSkgKyBcIik8L2xhYmVsPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1bnJlYWQgPSAnJztcbiAgICAgICAgICBpc0Zhdm9yaXRlU2VsZWN0ZWQgPSBGYXZvcml0ZXMuaXNSZWNvcmRTZWxlY3RlZChcImluc3RhbmNlc1wiLCBkb2MuX2lkKTtcbiAgICAgICAgICBpZiAoRmF2b3JpdGVzLmlzUmVjb3JkU2VsZWN0ZWQoXCJpbnN0YW5jZXNcIiwgZG9jLl9pZCkpIHtcbiAgICAgICAgICAgIHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24taW9zLXN0YXItb3V0bGluZSBpbnN0YW5jZS1mYXZvcml0ZS1zZWxlY3RlZFwiPjwvaT4nO1xuICAgICAgICAgIH0gZWxzZSBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcgJiYgZG9jLmlzX3JlYWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB1bnJlYWQgPSAnPGkgY2xhc3M9XCJpb24gaW9uLXJlY29yZCB1bnJlYWRcIj48L2k+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnbW9uaXRvcicgJiYgZG9jLmlzX2hpZGRlbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdW5yZWFkID0gJzxpIGNsYXNzPVwiZmEgZmEtbG9ja1wiPjwvaT4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmlvcml0eUljb24gPSBcIlwiO1xuICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJcIjtcbiAgICAgICAgICBwcmlvcml0eVZhbHVlID0gKHJlZjEgPSBkb2MudmFsdWVzKSAhPSBudWxsID8gcmVmMS5wcmlvcml0eSA6IHZvaWQgMDtcbiAgICAgICAgICBzd2l0Y2ggKHByaW9yaXR5VmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCLnibnmgKVcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcImRhbmdlclwiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCLntKfmgKVcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIndhcm5pbmdcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwi5Yqe5paHXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJtdXRlZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJpb3JpdHlJY29uQ2xhc3MpIHtcbiAgICAgICAgICAgIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgPSBcImNvbG9yLXByaW9yaXR5IGNvbG9yLXByaW9yaXR5LVwiICsgcHJpb3JpdHlJY29uQ2xhc3M7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXJlYWQtYmFyJz5cIiArIHVucmVhZCArIFwiPC9kaXY+XFxuPGRpdiBjbGFzcz0naW5zdGFuY2UtbmFtZSBcIiArIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgKyBcIic+XCIgKyBkb2MubmFtZSArIGNjX3ZpZXcgKyBhZ2VudF92aWV3ICsgXCJcXG5cdDxzcGFuPlwiICsgZG9jLmFwcGxpY2FudF9uYW1lICsgXCI8L3NwYW4+XFxuPC9kaXY+XFxuPGRpdiBjbGFzcz0naW5zdGFuY2UtZGV0YWlsJz5cIiArIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgKyBcIlxcblx0PHNwYW4gY2xhc3M9J2luc3RhbmNlLW1vZGlmaWVkJyB0aXRsZT0nXCIgKyBtb2RpZmllZFN0cmluZyArIFwiJz5cIiArIG1vZGlmaWVkRnJvbU5vdyArIFwiPC9zcGFuPlxcbjwvZGl2PlwiO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiKSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJuYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX25hbWVcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgYWdlbnRfdmlldywgY2NfdmlldywgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcywgcHJpb3JpdHlJY29uQ2xhc3MsIHByaW9yaXR5VmFsdWUsIHJlZiwgcmVmMSwgc3RlcF9jdXJyZW50X25hbWVfdmlldywgdW5yZWFkO1xuICAgICAgICAgIGNjX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIGlmIChkb2MuaXNfY2MgJiYgISgocmVmID0gZG9jLmluYm94X3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKE1ldGVvci51c2VySWQoKSkgOiB2b2lkIDApICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgICAgICBjY192aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKFwiaW5zdGFuY2VfY2NfdGl0bGVcIikgKyBcIik8L2xhYmVsPiBcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWdlbnRfdmlldyA9IFwiXCI7XG4gICAgICAgICAgaWYgKGRvYy5hZ2VudF91c2VyX25hbWUpIHtcbiAgICAgICAgICAgIGFnZW50X3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHtcbiAgICAgICAgICAgICAgdXNlck5hbWU6IGRvYy5hZ2VudF91c2VyX25hbWVcbiAgICAgICAgICAgIH0pICsgXCIpPC9sYWJlbD5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdW5yZWFkID0gJyc7XG4gICAgICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnICYmIGRvYy5pc19yZWFkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdW5yZWFkID0gJzxpIGNsYXNzPVwiaW9uIGlvbi1yZWNvcmQgdW5yZWFkXCI+PC9pPic7XG4gICAgICAgICAgfSBlbHNlIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ21vbml0b3InICYmIGRvYy5pc19oaWRkZW4gPT09IHRydWUpIHtcbiAgICAgICAgICAgIHVucmVhZCA9ICc8aSBjbGFzcz1cImZhIGZhLWxvY2tcIj48L2k+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIlwiO1xuICAgICAgICAgIHByaW9yaXR5VmFsdWUgPSAocmVmMSA9IGRvYy52YWx1ZXMpICE9IG51bGwgPyByZWYxLnByaW9yaXR5IDogdm9pZCAwO1xuICAgICAgICAgIHN3aXRjaCAocHJpb3JpdHlWYWx1ZSkge1xuICAgICAgICAgICAgY2FzZSBcIueJueaApVwiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwiZGFuZ2VyXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIue0p+aApVwiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwid2FybmluZ1wiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCLlip7mlodcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIm11dGVkXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcmlvcml0eUljb25DbGFzcykge1xuICAgICAgICAgICAgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyA9IFwiY29sb3ItcHJpb3JpdHkgY29sb3ItcHJpb3JpdHktXCIgKyBwcmlvcml0eUljb25DbGFzcztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtcmVhZC1iYXInPlwiICsgdW5yZWFkICsgXCI8L2Rpdj5cXG48ZGl2IGNsYXNzPSdpbnN0YW5jZS1uYW1lIFwiICsgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyArIFwiJz5cIiArIGRvYy5uYW1lICsgY2NfdmlldyArIGFnZW50X3ZpZXcgKyBcIjwvZGl2PlwiO1xuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImFwcGxpY2FudF9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9uYW1lXCIpLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcInN1Ym1pdF9kYXRlXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N1Ym1pdF9kYXRlXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5zdWJtaXRfZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkb2Muc3VibWl0X2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogdHJ1ZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImZsb3dfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImN1cnJlbnRfc3RlcF9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N0ZXBfY3VycmVudF9uYW1lXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGNjX3RhZywganVkZ2UsIHN0ZXBfY3VycmVudF9uYW1lO1xuICAgICAgICAgIGlmIChkb2Muc3RhdGUgPT09IFwiY29tcGxldGVkXCIpIHtcbiAgICAgICAgICAgIGp1ZGdlID0gZG9jLmZpbmFsX2RlY2lzaW9uIHx8IFwiYXBwcm92ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RlcF9jdXJyZW50X25hbWUgPSBkb2MuY3VycmVudF9zdGVwX25hbWUgfHwgJyc7XG4gICAgICAgICAgY2NfdGFnID0gJyc7XG4gICAgICAgICAgaWYgKGRvYy5jY19jb3VudCA+IDApIHtcbiAgICAgICAgICAgIGNjX3RhZyA9IFRBUGkxOG4uX18oJ2NjX3RhZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJzdGVwLWN1cnJlbnQtc3RhdGUgXCIgKyBqdWRnZSArIFwiXFxcIj5cIiArIHN0ZXBfY3VycmVudF9uYW1lICsgY2NfdGFnICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJtb2RpZmllZFwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19tb2RpZmllZFwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHJldHVybiBtb21lbnQoZG9jLm1vZGlmaWVkKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogdHJ1ZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcInN0YXJ0X2RhdGVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfc3RhcnRfZGF0ZVwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIGlmIChkb2Muc3RhcnRfZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkb2Muc3RhcnRfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiB0cnVlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibXlfZmluaXNoX2RhdGVcIixcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIGlmIChkb2MubXlfZmluaXNoX2RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBtb21lbnQoZG9jLm15X2ZpbmlzaF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IHRydWVcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJtb2RpZmllZFwiLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImtleXdvcmRzXCIsXG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiaXNfYXJjaGl2ZWRcIixcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciByZWY7XG4gICAgICAgICAgaWYgKChkb2MgIT0gbnVsbCA/IChyZWYgPSBkb2MudmFsdWVzKSAhPSBudWxsID8gcmVmLnJlY29yZF9uZWVkIDogdm9pZCAwIDogdm9pZCAwKSAmJiBkb2MudmFsdWVzLnJlY29yZF9uZWVkID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgaWYgKGRvYyAhPSBudWxsID8gZG9jLmlzX2FyY2hpdmVkIDogdm9pZCAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0KFwiWUVTXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHQoXCJOT1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9XG4gICAgXSxcbiAgICBkb206IChmdW5jdGlvbigpIHtcbiAgICAgIGlmIChTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgcmV0dXJuICd0cCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ3RwbCc7XG4gICAgICB9XG4gICAgfSkoKSxcbiAgICBvcmRlcjogW1s0LCBcImRlc2NcIl1dLFxuICAgIGV4dHJhRmllbGRzOiBbXCJmb3JtXCIsIFwiZmxvd1wiLCBcImluYm94X3VzZXJzXCIsIFwic3RhdGVcIiwgXCJzcGFjZVwiLCBcImFwcGxpY2FudFwiLCBcImZvcm1fdmVyc2lvblwiLCBcImZsb3dfdmVyc2lvblwiLCBcImlzX2NjXCIsIFwiY2NfY291bnRcIiwgXCJpc19yZWFkXCIsIFwiY3VycmVudF9zdGVwX25hbWVcIiwgXCJ2YWx1ZXNcIiwgXCJrZXl3b3Jkc1wiLCBcImZpbmFsX2RlY2lzaW9uXCIsIFwiZmxvd19uYW1lXCIsIFwiaXNfaGlkZGVuXCIsIFwiYWdlbnRfdXNlcl9uYW1lXCJdLFxuICAgIGxlbmd0aENoYW5nZTogdHJ1ZSxcbiAgICBsZW5ndGhNZW51OiBbMTAsIDE1LCAyMCwgMjUsIDUwLCAxMDBdLFxuICAgIHBhZ2VMZW5ndGg6IDEwLFxuICAgIGluZm86IGZhbHNlLFxuICAgIHNlYXJjaGluZzogdHJ1ZSxcbiAgICByZXNwb25zaXZlOiB7XG4gICAgICBkZXRhaWxzOiBmYWxzZVxuICAgIH0sXG4gICAgYXV0b1dpZHRoOiBmYWxzZSxcbiAgICBjaGFuZ2VTZWxlY3RvcjogZnVuY3Rpb24oc2VsZWN0b3IsIHVzZXJJZCkge1xuICAgICAgdmFyIHJlZiwgc3BhY2UsIHNwYWNlX3VzZXI7XG4gICAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9pZDogLTFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHNwYWNlID0gc2VsZWN0b3Iuc3BhY2U7XG4gICAgICBpZiAoIXNwYWNlKSB7XG4gICAgICAgIGlmICgoc2VsZWN0b3IgIT0gbnVsbCA/IChyZWYgPSBzZWxlY3Rvci4kYW5kKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgICAgc3BhY2UgPSBzZWxlY3Rvci4kYW5kLmdldFByb3BlcnR5KCdzcGFjZScpWzBdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXNwYWNlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2lkOiAtMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgICB1c2VyOiB1c2VySWQsXG4gICAgICAgIHNwYWNlOiBzcGFjZVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBfaWQ6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIXNwYWNlX3VzZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgfSxcbiAgICBwYWdpbmdUeXBlOiBcIm51bWJlcnNcIlxuICB9O1xuICBpZiAoZmxvd0lkKSB7XG4gICAga2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGZsb3dJZDtcbiAgICBvcHRpb25zLm5hbWUgPSBrZXk7XG4gICAgVGFidWxhclRhYmxlcy5pbnN0YW5jZXMuZmllbGRzID0gZmllbGRzO1xuICAgIGluc19maWVsZHMgPSBfaGFuZGxlTGlzdEZpZWxkcyhUYWJ1bGFyVGFibGVzLmluc3RhbmNlcy5maWVsZHMpO1xuICAgIGluc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICBpZiAoZi50eXBlICE9PSAndGFibGUnICYmIGYuaXNfbGlzdF9kaXNwbGF5KSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmNvbHVtbnMucHVzaCh7XG4gICAgICAgICAgZGF0YTogZi5uYW1lIHx8IGYuY29kZSxcbiAgICAgICAgICB0aXRsZTogdChmLm5hbWUgfHwgZi5jb2RlKSxcbiAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSwgdmFsdWVzO1xuICAgICAgICAgICAgdmFsdWVzID0gZG9jLnZhbHVlcyB8fCB7fTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2YuY29kZV07XG4gICAgICAgICAgICBzd2l0Y2ggKGYudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlICd1c2VyJzpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5uYW1lIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdncm91cCc6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUuZnVsbG5hbWUgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnZGF0ZVRpbWUnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF9ub1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ29kYXRhJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChfLmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gXy5wbHVjayh2YWx1ZSwgJ0BsYWJlbCcpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlWydAbGFiZWwnXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gVGFidWxhclRhYmxlcy5pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZShpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKCkpO1xufSk7XG5cbkdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zID0gZnVuY3Rpb24oYm94LCBmbG93SWQsIGZpZWxkcykge1xuICB2YXIga2V5LCBvcHRpb25zO1xuICBrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgYm94ICsgZmxvd0lkO1xuICBpZiAoYm94ID09PSBcImluYm94XCIpIHtcbiAgICBvcHRpb25zID0gX2dldF9pbmJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zKGZsb3dJZCwgZmllbGRzKTtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwib3V0Ym94XCIpIHtcbiAgICBvcHRpb25zID0gX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyhmbG93SWQsIGZpZWxkcyk7XG4gIH0gZWxzZSB7XG4gICAgb3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpO1xuICAgIGlmICghZmxvd0lkKSB7XG4gICAgICBvcHRpb25zLm5hbWUgPSBcImluYm94X2luc3RhbmNlc1wiO1xuICAgIH1cbiAgfVxuICBpZiAoZmxvd0lkKSB7XG4gICAgb3B0aW9ucy5uYW1lID0ga2V5O1xuICB9XG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuX2dldF9pbmJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zID0gZnVuY3Rpb24oZmxvd0lkLCBmaWVsZHMpIHtcbiAgdmFyIG9wdGlvbnM7XG4gIG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKTtcbiAgaWYgKCFmbG93SWQpIHtcbiAgICBvcHRpb25zLm5hbWUgPSBcImluYm94X2luc3RhbmNlc1wiO1xuICB9XG4gIG9wdGlvbnMub3JkZXIgPSBbWzgsIFwiZGVzY1wiXV07XG4gIG9wdGlvbnMuZmlsdGVyZWRSZWNvcmRJZHMgPSBmdW5jdGlvbih0YWJsZSwgc2VsZWN0b3IsIHNvcnQsIHNraXAsIGxpbWl0LCBvbGRfZmlsdGVyZWRSZWNvcmRJZHMsIHVzZXJJZCwgZmluZE9wdGlvbnMpIHtcbiAgICB2YXIgYWdfc29ydCwgYWdncmVnYXRlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBhc3luY19hZ2dyZWdhdGUsIGZpbHRlcmVkUmVjb3JkSWRzLCBzMSwgczFfMCwgczFfMTtcbiAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uID0gW1xuICAgICAge1xuICAgICAgICAkbWF0Y2g6IHNlbGVjdG9yXG4gICAgICB9LCB7XG4gICAgICAgICRwcm9qZWN0OiB7XG4gICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICBcIl9hcHByb3ZlXCI6ICckdHJhY2VzLmFwcHJvdmVzJ1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgICR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcbiAgICAgIH0sIHtcbiAgICAgICAgJHVud2luZDogXCIkX2FwcHJvdmVcIlxuICAgICAgfSwge1xuICAgICAgICAkbWF0Y2g6IHtcbiAgICAgICAgICAnX2FwcHJvdmUuaXNfZmluaXNoZWQnOiBmYWxzZSxcbiAgICAgICAgICAnX2FwcHJvdmUuaGFuZGxlcic6IHVzZXJJZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgXTtcbiAgICBpZiAoc29ydCAmJiBzb3J0Lmxlbmd0aCA+IDApIHtcbiAgICAgIHMxID0gc29ydFswXTtcbiAgICAgIHMxXzAgPSBzMVswXTtcbiAgICAgIHMxXzEgPSBzMVsxXTtcbiAgICAgIGlmIChzMV8wID09PSAnc3RhcnRfZGF0ZScpIHtcbiAgICAgICAgZmluZE9wdGlvbnMuc29ydCA9IFtbJ21vZGlmaWVkJywgczFfMV1dO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRncm91cDoge1xuICAgICAgICAgICAgX2lkOiBcIiRfaWRcIixcbiAgICAgICAgICAgIFwiYXBwcm92ZV9zdGFydF9kYXRlXCI6IHtcbiAgICAgICAgICAgICAgJGZpcnN0OiBcIiRfYXBwcm92ZS5zdGFydF9kYXRlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhZ19zb3J0ID0ge1xuICAgICAgICAgICdhcHByb3ZlX3N0YXJ0X2RhdGUnOiBzMV8xID09PSAnYXNjJyA/IDEgOiAtMVxuICAgICAgICB9O1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRzb3J0OiBhZ19zb3J0XG4gICAgICAgIH0pO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRza2lwOiBza2lwXG4gICAgICAgIH0pO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRsaW1pdDogbGltaXRcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbHRlcmVkUmVjb3JkSWRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGFnZ3JlZ2F0ZSA9IGZ1bmN0aW9uKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcywgY2IpIHtcbiAgICAgICAgICB0YWJsZS5jb2xsZWN0aW9uLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoYWdncmVnYXRlX29wZXJhdGlvbikudG9BcnJheShmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oZG9jKSB7XG4gICAgICAgICAgICAgIGZpbHRlcmVkUmVjb3JkSWRzLnB1c2goZG9jLl9pZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgICBjYigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBhc3luY19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKGFnZ3JlZ2F0ZSk7XG4gICAgICAgIGFzeW5jX2FnZ3JlZ2F0ZSh0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMpO1xuICAgICAgICByZXR1cm4gZmlsdGVyZWRSZWNvcmRJZHMudW5pcSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG9sZF9maWx0ZXJlZFJlY29yZElkcztcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBUYWJ1bGFyVGFibGVzLmluYm94X2luc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlKEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKFwiaW5ib3hcIikpO1xufSk7XG5cbl9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMgPSBmdW5jdGlvbihmbG93SWQsIGZpZWxkcykge1xuICB2YXIgb3B0aW9ucztcbiAgb3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpO1xuICBpZiAoIWZsb3dJZCkge1xuICAgIG9wdGlvbnMubmFtZSA9IFwib3V0Ym94X2luc3RhbmNlc1wiO1xuICB9XG4gIG9wdGlvbnMub3JkZXIgPSBbWzksIFwiZGVzY1wiXV07XG4gIG9wdGlvbnMuZmlsdGVyZWRSZWNvcmRJZHMgPSBmdW5jdGlvbih0YWJsZSwgc2VsZWN0b3IsIHNvcnQsIHNraXAsIGxpbWl0LCBvbGRfZmlsdGVyZWRSZWNvcmRJZHMsIHVzZXJJZCwgZmluZE9wdGlvbnMpIHtcbiAgICB2YXIgYWdfc29ydCwgYWdncmVnYXRlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBhc3luY19hZ2dyZWdhdGUsIGZpbHRlcmVkUmVjb3JkSWRzLCBzMSwgczFfMCwgczFfMTtcbiAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uID0gW1xuICAgICAge1xuICAgICAgICAkbWF0Y2g6IHNlbGVjdG9yXG4gICAgICB9LCB7XG4gICAgICAgICRwcm9qZWN0OiB7XG4gICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICBcIl9hcHByb3ZlXCI6ICckdHJhY2VzLmFwcHJvdmVzJ1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgICR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcbiAgICAgIH0sIHtcbiAgICAgICAgJHVud2luZDogXCIkX2FwcHJvdmVcIlxuICAgICAgfSwge1xuICAgICAgICAkbWF0Y2g6IHtcbiAgICAgICAgICAnX2FwcHJvdmUuaXNfZmluaXNoZWQnOiB0cnVlLFxuICAgICAgICAgICRvcjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAnX2FwcHJvdmUuaGFuZGxlcic6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAnX2FwcHJvdmUudXNlcic6IHVzZXJJZFxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIF07XG4gICAgaWYgKHNvcnQgJiYgc29ydC5sZW5ndGggPiAwKSB7XG4gICAgICBzMSA9IHNvcnRbMF07XG4gICAgICBzMV8wID0gczFbMF07XG4gICAgICBzMV8xID0gczFbMV07XG4gICAgICBpZiAoczFfMCA9PT0gJ215X2ZpbmlzaF9kYXRlJykge1xuICAgICAgICBmaW5kT3B0aW9ucy5zb3J0ID0gW1snbW9kaWZpZWQnLCBzMV8xXV07XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJGdyb3VwOiB7XG4gICAgICAgICAgICBfaWQ6IFwiJF9pZFwiLFxuICAgICAgICAgICAgXCJhcHByb3ZlX2ZpbmlzaF9kYXRlXCI6IHtcbiAgICAgICAgICAgICAgJGxhc3Q6IFwiJF9hcHByb3ZlLmZpbmlzaF9kYXRlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhZ19zb3J0ID0ge1xuICAgICAgICAgICdhcHByb3ZlX2ZpbmlzaF9kYXRlJzogczFfMSA9PT0gJ2FzYycgPyAxIDogLTFcbiAgICAgICAgfTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkc29ydDogYWdfc29ydFxuICAgICAgICB9KTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkc2tpcDogc2tpcFxuICAgICAgICB9KTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkbGltaXQ6IGxpbWl0XG4gICAgICAgIH0pO1xuICAgICAgICBmaWx0ZXJlZFJlY29yZElkcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICBhZ2dyZWdhdGUgPSBmdW5jdGlvbih0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMsIGNiKSB7XG4gICAgICAgICAgdGFibGUuY29sbGVjdGlvbi5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKGFnZ3JlZ2F0ZV9vcGVyYXRpb24pLnRvQXJyYXkoZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGRvYykge1xuICAgICAgICAgICAgICBmaWx0ZXJlZFJlY29yZElkcy5wdXNoKGRvYy5faWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgYXN5bmNfYWdncmVnYXRlID0gTWV0ZW9yLndyYXBBc3luYyhhZ2dyZWdhdGUpO1xuICAgICAgICBhc3luY19hZ2dyZWdhdGUodGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzKTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkUmVjb3JkSWRzLnVuaXEoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBvbGRfZmlsdGVyZWRSZWNvcmRJZHM7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gVGFidWxhclRhYmxlcy5vdXRib3hfaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUoR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoXCJvdXRib3hcIikpO1xufSk7XG5cbmlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgVGFidWxhclRhYmxlcy5mbG93SW5zdGFuY2VzID0gbmV3IFJlYWN0aXZlVmFyKCk7XG59XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gVHJhY2tlci5hdXRvcnVuKGZ1bmN0aW9uKGMpIHtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50ICYmICFTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICAgIGlmIChTZXNzaW9uLmdldChcImZsb3dJZFwiKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSAhPT0gJ2RyYWZ0Jykge1xuICAgICAgICByZXR1cm4gTWV0ZW9yLmNhbGwoXCJuZXdJbnN0YW5jZXNMaXN0VGFidWxhclwiLCBTZXNzaW9uLmdldChcImJveFwiKSwgU2Vzc2lvbi5nZXQoXCJmbG93SWRcIiksIGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpIHtcbiAgICAgICAgICBuZXdJbnN0YW5jZXNMaXN0VGFidWxhcihTZXNzaW9uLmdldChcImJveFwiKSwgU2Vzc2lvbi5nZXQoXCJmbG93SWRcIiksIHJlc3VsdCk7XG4gICAgICAgICAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX2NoYW5nZU9yZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59KTtcblxubmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIgPSBmdW5jdGlvbihib3gsIGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBmbG93LCBrZXksIHJlZiwgcmVmMSwgcmVmMjtcbiAgaWYgKCFmaWVsZHMpIHtcbiAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZsb3dJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBmb3JtOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgZmllbGRzID0gKHJlZiA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmbG93ICE9IG51bGwgPyBmbG93LmZvcm0gOiB2b2lkIDBcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgJ2N1cnJlbnQuZmllbGRzJzogMVxuICAgICAgfVxuICAgIH0pKSAhPSBudWxsID8gKHJlZjEgPSByZWYuY3VycmVudCkgIT0gbnVsbCA/IHJlZjEuZmllbGRzIDogdm9pZCAwIDogdm9pZCAwO1xuICB9XG4gIGZpZWxkcyA9IF9oYW5kbGVMaXN0RmllbGRzKGZpZWxkcyk7XG4gIGlmICgoZmllbGRzICE9IG51bGwgPyAocmVmMiA9IGZpZWxkcy5maWx0ZXJQcm9wZXJ0eShcImlzX2xpc3RfZGlzcGxheVwiLCB0cnVlKSkgIT0gbnVsbCA/IHJlZjIubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICBrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgYm94ICsgZmxvd0lkO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIFRhYnVsYXJUYWJsZXMuZmxvd0luc3RhbmNlcy5zZXQobmV3IFRhYnVsYXIuVGFibGUoR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoYm94LCBmbG93SWQsIGZpZWxkcykpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3IFRhYnVsYXIuVGFibGUoR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoYm94LCBmbG93SWQsIGZpZWxkcykpO1xuICAgIH1cbiAgICByZXR1cm4gY29uc29sZS5sb2coXCJuZXcgVGFidWxhclRhYmxlcyBcIiwga2V5KTtcbiAgfVxufTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBNZXRlb3IubWV0aG9kcyh7XG4gICAgbmV3SW5zdGFuY2VzTGlzdFRhYnVsYXI6IGZ1bmN0aW9uKGJveCwgZmxvd0lkKSB7XG4gICAgICB2YXIgZmllbGRzLCBmbG93LCByZWYsIHJlZjE7XG4gICAgICBuZXdJbnN0YW5jZXNMaXN0VGFidWxhcihib3gsIGZsb3dJZCk7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZmxvd0lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZvcm06IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBmaWVsZHMgPSAocmVmID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZmxvdyAhPSBudWxsID8gZmxvdy5mb3JtIDogdm9pZCAwXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICdjdXJyZW50LmZpZWxkcyc6IDFcbiAgICAgICAgfVxuICAgICAgfSkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5jdXJyZW50KSAhPSBudWxsID8gcmVmMS5maWVsZHMgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gZmllbGRzO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=
